/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./main_leaflet.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./3rdLib/fetch.js":
/*!*************************!*\
  !*** ./3rdLib/fetch.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(/*! babel-runtime/core-js/promise */ "./node_modules/babel-runtime/core-js/promise.js");

var _promise2 = _interopRequireDefault(_promise);

var _getOwnPropertyNames = __webpack_require__(/*! babel-runtime/core-js/object/get-own-property-names */ "./node_modules/babel-runtime/core-js/object/get-own-property-names.js");

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function (self) {
  'use strict';

  // if __disableNativeFetch is set to true, the it will always polyfill fetch
  // with Ajax.

  if (!self.__disableNativeFetch && self.fetch) {
    return;
  }

  function normalizeName(name) {
    if (typeof name !== 'string') {
      name = String(name);
    }
    if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)) {
      throw new TypeError('Invalid character in header field name');
    }
    return name.toLowerCase();
  }

  function normalizeValue(value) {
    if (typeof value !== 'string') {
      value = String(value);
    }
    return value;
  }

  function Headers(headers) {
    this.map = {};

    if (headers instanceof Headers) {
      headers.forEach(function (value, name) {
        this.append(name, value);
      }, this);
    } else if (headers) {
      (0, _getOwnPropertyNames2.default)(headers).forEach(function (name) {
        this.append(name, headers[name]);
      }, this);
    }
  }

  Headers.prototype.append = function (name, value) {
    name = normalizeName(name);
    value = normalizeValue(value);
    var list = this.map[name];
    if (!list) {
      list = [];
      this.map[name] = list;
    }
    list.push(value);
  };

  Headers.prototype['delete'] = function (name) {
    delete this.map[normalizeName(name)];
  };

  Headers.prototype.get = function (name) {
    var values = this.map[normalizeName(name)];
    return values ? values[0] : null;
  };

  Headers.prototype.getAll = function (name) {
    return this.map[normalizeName(name)] || [];
  };

  Headers.prototype.has = function (name) {
    return this.map.hasOwnProperty(normalizeName(name));
  };

  Headers.prototype.set = function (name, value) {
    this.map[normalizeName(name)] = [normalizeValue(value)];
  };

  Headers.prototype.forEach = function (callback, thisArg) {
    (0, _getOwnPropertyNames2.default)(this.map).forEach(function (name) {
      this.map[name].forEach(function (value) {
        callback.call(thisArg, value, name, this);
      }, this);
    }, this);
  };

  function consumed(body) {
    if (body.bodyUsed) {
      return _promise2.default.reject(new TypeError('Already read'));
    }
    body.bodyUsed = true;
  }

  function fileReaderReady(reader) {
    return new _promise2.default(function (resolve, reject) {
      reader.onload = function () {
        resolve(reader.result);
      };
      reader.onerror = function () {
        reject(reader.error);
      };
    });
  }

  function readBlobAsArrayBuffer(blob) {
    var reader = new FileReader();
    reader.readAsArrayBuffer(blob);
    return fileReaderReady(reader);
  }

  function readBlobAsText(blob, options) {
    var reader = new FileReader();
    var contentType = options.headers.map['content-type'] ? options.headers.map['content-type'].toString() : '';
    var regex = /charset\=[0-9a-zA-Z\-\_]*;?/;
    var _charset = blob.type.match(regex) || contentType.match(regex);
    var args = [blob];

    if (_charset) {
      args.push(_charset[0].replace(/^charset\=/, '').replace(/;$/, ''));
    }

    reader.readAsText.apply(reader, args);
    return fileReaderReady(reader);
  }

  var support = {
    blob: 'FileReader' in self && 'Blob' in self && function () {
      try {
        new Blob();
        return true;
      } catch (e) {
        return false;
      }
    }(),
    formData: 'FormData' in self,
    arrayBuffer: 'ArrayBuffer' in self
  };

  function Body() {
    this.bodyUsed = false;

    this._initBody = function (body, options) {
      this._bodyInit = body;
      if (typeof body === 'string') {
        this._bodyText = body;
      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
        this._bodyBlob = body;
        this._options = options;
      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
        this._bodyFormData = body;
      } else if (!body) {
        this._bodyText = '';
      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {
        // Only support ArrayBuffers for POST method.
        // Receiving ArrayBuffers happens via Blobs, instead.
      } else {
        throw new Error('unsupported BodyInit type');
      }
    };

    if (support.blob) {
      this.blob = function () {
        var rejected = consumed(this);
        if (rejected) {
          return rejected;
        }

        if (this._bodyBlob) {
          return _promise2.default.resolve(this._bodyBlob);
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as blob');
        } else {
          return _promise2.default.resolve(new Blob([this._bodyText]));
        }
      };

      this.arrayBuffer = function () {
        return this.blob().then(readBlobAsArrayBuffer);
      };

      this.text = function () {
        var rejected = consumed(this);
        if (rejected) {
          return rejected;
        }

        if (this._bodyBlob) {
          return readBlobAsText(this._bodyBlob, this._options);
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as text');
        } else {
          return _promise2.default.resolve(this._bodyText);
        }
      };
    } else {
      this.text = function () {
        var rejected = consumed(this);
        return rejected ? rejected : _promise2.default.resolve(this._bodyText);
      };
    }

    if (support.formData) {
      this.formData = function () {
        return this.text().then(decode);
      };
    }

    this.json = function () {
      return this.text().then(JSON.parse);
    };

    return this;
  }

  // HTTP methods whose capitalization should be normalized
  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];

  function normalizeMethod(method) {
    var upcased = method.toUpperCase();
    return methods.indexOf(upcased) > -1 ? upcased : method;
  }

  function Request(input, options) {
    options = options || {};
    var body = options.body;
    if (Request.prototype.isPrototypeOf(input)) {
      if (input.bodyUsed) {
        throw new TypeError('Already read');
      }
      this.url = input.url;
      this.credentials = input.credentials;
      if (!options.headers) {
        this.headers = new Headers(input.headers);
      }
      this.method = input.method;
      this.mode = input.mode;
      if (!body) {
        body = input._bodyInit;
        input.bodyUsed = true;
      }
    } else {
      this.url = input;
    }

    this.credentials = options.credentials || this.credentials || 'omit';
    if (options.headers || !this.headers) {
      this.headers = new Headers(options.headers);
    }
    this.method = normalizeMethod(options.method || this.method || 'GET');
    this.mode = options.mode || this.mode || null;
    this.referrer = null;

    if ((this.method === 'GET' || this.method === 'HEAD') && body) {
      throw new TypeError('Body not allowed for GET or HEAD requests');
    }
    this._initBody(body, options);
  }

  Request.prototype.clone = function () {
    return new Request(this);
  };

  function decode(body) {
    var form = new FormData();
    body.trim().split('&').forEach(function (bytes) {
      if (bytes) {
        var split = bytes.split('=');
        var name = split.shift().replace(/\+/g, ' ');
        var value = split.join('=').replace(/\+/g, ' ');
        form.append(decodeURIComponent(name), decodeURIComponent(value));
      }
    });
    return form;
  }

  function headers(xhr) {
    var head = new Headers();
    var pairs = xhr.getAllResponseHeaders().trim().split('\n');
    pairs.forEach(function (header) {
      var split = header.trim().split(':');
      var key = split.shift().trim();
      var value = split.join(':').trim();
      head.append(key, value);
    });
    return head;
  }

  Body.call(Request.prototype);

  function Response(bodyInit, options) {
    if (!options) {
      options = {};
    }

    this._initBody(bodyInit, options);
    this.type = 'default';
    this.status = options.status;
    this.ok = this.status >= 200 && this.status < 300;
    this.statusText = options.statusText;
    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers);
    this.url = options.url || '';
  }

  Body.call(Response.prototype);

  Response.prototype.clone = function () {
    return new Response(this._bodyInit, {
      status: this.status,
      statusText: this.statusText,
      headers: new Headers(this.headers),
      url: this.url
    });
  };

  Response.error = function () {
    var response = new Response(null, { status: 0, statusText: '' });
    response.type = 'error';
    return response;
  };

  var redirectStatuses = [301, 302, 303, 307, 308];

  Response.redirect = function (url, status) {
    if (redirectStatuses.indexOf(status) === -1) {
      throw new RangeError('Invalid status code');
    }

    return new Response(null, { status: status, headers: { location: url } });
  };

  self.Headers = Headers;
  self.Request = Request;
  self.Response = Response;

  self.fetch = function (input, init) {
    return new _promise2.default(function (resolve, reject) {
      var request;
      if (Request.prototype.isPrototypeOf(input) && !init) {
        request = input;
      } else {
        request = new Request(input, init);
      }

      var xhr = new XMLHttpRequest();

      function responseURL() {
        if ('responseURL' in xhr) {
          return xhr.responseURL;
        }

        // Avoid security warnings on getResponseHeader when not allowed by CORS
        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {
          return xhr.getResponseHeader('X-Request-URL');
        }

        return;
      }

      var __onLoadHandled = false;

      function onload() {
        if (xhr.readyState !== 4) {
          return;
        }
        var status = xhr.status === 1223 ? 204 : xhr.status;
        if (status < 100 || status > 599) {
          if (__onLoadHandled) {
            return;
          } else {
            __onLoadHandled = true;
          }
          reject(new TypeError('Network request failed'));
          return;
        }
        var options = {
          status: status,
          statusText: xhr.statusText,
          headers: headers(xhr),
          url: responseURL()
        };
        var body = 'response' in xhr ? xhr.response : xhr.responseText;

        if (__onLoadHandled) {
          return;
        } else {
          __onLoadHandled = true;
        }
        resolve(new Response(body, options));
      }
      xhr.onreadystatechange = onload;
      xhr.onload = onload;
      xhr.onerror = function () {
        if (__onLoadHandled) {
          return;
        } else {
          __onLoadHandled = true;
        }
        reject(new TypeError('Network request failed'));
      };

      xhr.open(request.method, request.url, true);

      // `withCredentials` should be setted after calling `.open` in IE10
      // http://stackoverflow.com/a/19667959/1219343
      try {
        if (request.credentials === 'include') {
          if ('withCredentials' in xhr) {
            xhr.withCredentials = true;
          } else {
            console && console.warn && console.warn('withCredentials is not supported, you can ignore this warning');
          }
        }
      } catch (e) {
        console && console.warn && console.warn('set withCredentials error:' + e);
      }

      if ('responseType' in xhr && support.blob) {
        xhr.responseType = 'blob';
      }

      request.headers.forEach(function (value, name) {
        xhr.setRequestHeader(name, value);
      });

      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);
    });
  };
  self.fetch.polyfill = true;

  // Support CommonJS
  if (typeof module !== 'undefined' && module.exports) {
    module.exports = self.fetch;
  }
})(typeof self !== 'undefined' ? self : undefined);

/***/ }),

/***/ "./3rdLib/leaflet.js":
/*!***************************!*\
  !*** ./3rdLib/leaflet.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _create = __webpack_require__(/*! babel-runtime/core-js/object/create */ "./node_modules/babel-runtime/core-js/object/create.js");

var _create2 = _interopRequireDefault(_create);

var _freeze = __webpack_require__(/*! babel-runtime/core-js/object/freeze */ "./node_modules/babel-runtime/core-js/object/freeze.js");

var _freeze2 = _interopRequireDefault(_freeze);

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* @preserve
 * Leaflet 1.2.0+Detached: 1ac320ba232cb85b73ac81f3d82780c9d07f0d4e.1ac320b, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function (t, i) {
  "object" == ( false ? undefined : (0, _typeof3.default)(exports)) && "undefined" != typeof module ? i(exports) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (i),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
}(undefined, function (t) {
  "use strict";
  function i(t) {
    var i, e, n, o;for (e = 1, n = arguments.length; e < n; e++) {
      o = arguments[e];for (i in o) {
        t[i] = o[i];
      }
    }return t;
  }function e(t, i) {
    var e = Array.prototype.slice;if (t.bind) return t.bind.apply(t, e.call(arguments, 1));var n = e.call(arguments, 2);return function () {
      return t.apply(i, n.length ? n.concat(e.call(arguments)) : arguments);
    };
  }function n(t) {
    return t._leaflet_id = t._leaflet_id || ++ti, t._leaflet_id;
  }function o(t, i, e) {
    var n, o, s, r;return r = function r() {
      n = !1, o && (s.apply(e, o), o = !1);
    }, s = function s() {
      n ? o = arguments : (t.apply(e, arguments), setTimeout(r, i), n = !0);
    };
  }function s(t, i, e) {
    var n = i[1],
        o = i[0],
        s = n - o;return t === n && e ? t : ((t - o) % s + s) % s + o;
  }function r() {
    return !1;
  }function a(t, i) {
    var e = Math.pow(10, i || 5);return Math.round(t * e) / e;
  }function h(t) {
    return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "");
  }function u(t) {
    return h(t).split(/\s+/);
  }function l(t, i) {
    t.hasOwnProperty("options") || (t.options = t.options ? Qt(t.options) : {});for (var e in i) {
      t.options[e] = i[e];
    }return t.options;
  }function c(t, i, e) {
    var n = [];for (var o in t) {
      n.push(encodeURIComponent(e ? o.toUpperCase() : o) + "=" + encodeURIComponent(t[o]));
    }return (i && -1 !== i.indexOf("?") ? "&" : "?") + n.join("&");
  }function _(t, i) {
    return t.replace(ii, function (t, e) {
      var n = i[e];if (void 0 === n) throw new Error("No value provided for variable " + t);return "function" == typeof n && (n = n(i)), n;
    });
  }function d(t, i) {
    for (var e = 0; e < t.length; e++) {
      if (t[e] === i) return e;
    }return -1;
  }function p(t) {
    return window["webkit" + t] || window["moz" + t] || window["ms" + t];
  }function m(t) {
    var i = +new Date(),
        e = Math.max(0, 16 - (i - oi));return oi = i + e, window.setTimeout(t, e);
  }function f(t, i, n) {
    if (!n || si !== m) return si.call(window, e(t, i));t.call(i);
  }function g(t) {
    t && ri.call(window, t);
  }function v() {}function y(t) {
    if (L && L.Mixin) {
      t = ei(t) ? t : [t];for (var i = 0; i < t.length; i++) {
        t[i] === L.Mixin.Events && console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", new Error().stack);
      }
    }
  }function x(t, i, e) {
    this.x = e ? Math.round(t) : t, this.y = e ? Math.round(i) : i;
  }function w(t, i, e) {
    return t instanceof x ? t : ei(t) ? new x(t[0], t[1]) : void 0 === t || null === t ? t : "object" == (typeof t === "undefined" ? "undefined" : (0, _typeof3.default)(t)) && "x" in t && "y" in t ? new x(t.x, t.y) : new x(t, i, e);
  }function b(t, i) {
    if (t) for (var e = i ? [t, i] : t, n = 0, o = e.length; n < o; n++) {
      this.extend(e[n]);
    }
  }function P(t, i) {
    return !t || t instanceof b ? t : new b(t, i);
  }function T(t, i) {
    if (t) for (var e = i ? [t, i] : t, n = 0, o = e.length; n < o; n++) {
      this.extend(e[n]);
    }
  }function z(t, i) {
    return t instanceof T ? t : new T(t, i);
  }function M(t, i, e) {
    if (isNaN(t) || isNaN(i)) throw new Error("Invalid LatLng object: (" + t + ", " + i + ")");this.lat = +t, this.lng = +i, void 0 !== e && (this.alt = +e);
  }function C(t, i, e) {
    return t instanceof M ? t : ei(t) && "object" != (0, _typeof3.default)(t[0]) ? 3 === t.length ? new M(t[0], t[1], t[2]) : 2 === t.length ? new M(t[0], t[1]) : null : void 0 === t || null === t ? t : "object" == (typeof t === "undefined" ? "undefined" : (0, _typeof3.default)(t)) && "lat" in t ? new M(t.lat, "lng" in t ? t.lng : t.lon, t.alt) : void 0 === i ? null : new M(t, i, e);
  }function Z(t, i, e, n) {
    if (ei(t)) return this._a = t[0], this._b = t[1], this._c = t[2], void (this._d = t[3]);this._a = t, this._b = i, this._c = e, this._d = n;
  }function E(t, i, e, n) {
    return new Z(t, i, e, n);
  }function S(t) {
    return document.createElementNS("http://www.w3.org/2000/svg", t);
  }function k(t, i) {
    var e,
        n,
        o,
        s,
        r,
        a,
        h = "";for (e = 0, o = t.length; e < o; e++) {
      for (n = 0, s = (r = t[e]).length; n < s; n++) {
        a = r[n], h += (n ? "L" : "M") + a.x + " " + a.y;
      }h += i ? qi ? "z" : "x" : "";
    }return h || "M0 0";
  }function B(t) {
    return navigator.userAgent.toLowerCase().indexOf(t) >= 0;
  }function I(t, i, e, n) {
    return "touchstart" === i ? O(t, e, n) : "touchmove" === i ? W(t, e, n) : "touchend" === i && H(t, e, n), this;
  }function A(t, i, e) {
    var n = t["_leaflet_" + i + e];return "touchstart" === i ? t.removeEventListener(Xi, n, !1) : "touchmove" === i ? t.removeEventListener(Ji, n, !1) : "touchend" === i && (t.removeEventListener($i, n, !1), t.removeEventListener(Qi, n, !1)), this;
  }function O(t, i, n) {
    var o = e(function (t) {
      if ("mouse" !== t.pointerType && t.pointerType !== t.MSPOINTER_TYPE_MOUSE && t.pointerType !== t.MSPOINTER_TYPE_MOUSE) {
        if (!(te.indexOf(t.target.tagName) < 0)) return;$(t);
      }j(t, i);
    });t["_leaflet_touchstart" + n] = o, t.addEventListener(Xi, o, !1), ee || (document.documentElement.addEventListener(Xi, R, !0), document.documentElement.addEventListener(Ji, D, !0), document.documentElement.addEventListener($i, N, !0), document.documentElement.addEventListener(Qi, N, !0), ee = !0);
  }function R(t) {
    ie[t.pointerId] = t, ne++;
  }function D(t) {
    ie[t.pointerId] && (ie[t.pointerId] = t);
  }function N(t) {
    delete ie[t.pointerId], ne--;
  }function j(t, i) {
    t.touches = [];for (var e in ie) {
      t.touches.push(ie[e]);
    }t.changedTouches = [t], i(t);
  }function W(t, i, e) {
    var n = function n(t) {
      (t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType || 0 !== t.buttons) && j(t, i);
    };t["_leaflet_touchmove" + e] = n, t.addEventListener(Ji, n, !1);
  }function H(t, i, e) {
    var n = function n(t) {
      j(t, i);
    };t["_leaflet_touchend" + e] = n, t.addEventListener($i, n, !1), t.addEventListener(Qi, n, !1);
  }function F(t, i, e) {
    function n(t) {
      var i;if (Wi) {
        if (!Li || "mouse" === t.pointerType) return;i = ne;
      } else i = t.touches.length;if (!(i > 1)) {
        var e = Date.now(),
            n = e - (s || e);r = t.touches ? t.touches[0] : t, a = n > 0 && n <= h, s = e;
      }
    }function o(t) {
      if (a && !r.cancelBubble) {
        if (Wi) {
          if (!Li || "mouse" === t.pointerType) return;var e,
              n,
              o = {};for (n in r) {
            e = r[n], o[n] = e && e.bind ? e.bind(r) : e;
          }r = o;
        }r.type = "dblclick", i(r), s = null;
      }
    }var s,
        r,
        a = !1,
        h = 250;return t[re + oe + e] = n, t[re + se + e] = o, t[re + "dblclick" + e] = i, t.addEventListener(oe, n, !1), t.addEventListener(se, o, !1), t.addEventListener("dblclick", i, !1), this;
  }function U(t, i) {
    var e = t[re + oe + i],
        n = t[re + se + i],
        o = t[re + "dblclick" + i];return t.removeEventListener(oe, e, !1), t.removeEventListener(se, n, !1), Li || t.removeEventListener("dblclick", o, !1), this;
  }function V(t, i, e, n) {
    if ("object" == (typeof i === "undefined" ? "undefined" : (0, _typeof3.default)(i))) for (var o in i) {
      q(t, o, i[o], e);
    } else for (var s = 0, r = (i = u(i)).length; s < r; s++) {
      q(t, i[s], e, n);
    }return this;
  }function G(t, i, e, n) {
    if ("object" == (typeof i === "undefined" ? "undefined" : (0, _typeof3.default)(i))) for (var o in i) {
      K(t, o, i[o], e);
    } else if (i) for (var s = 0, r = (i = u(i)).length; s < r; s++) {
      K(t, i[s], e, n);
    } else {
      for (var a in t[ae]) {
        K(t, a, t[ae][a]);
      }delete t[ae];
    }return this;
  }function q(t, i, e, o) {
    var s = i + n(e) + (o ? "_" + n(o) : "");if (t[ae] && t[ae][s]) return this;var r = function r(i) {
      return e.call(o || t, i || window.event);
    },
        a = r;Wi && 0 === i.indexOf("touch") ? I(t, i, r, s) : !Hi || "dblclick" !== i || !F || Wi && Mi ? "addEventListener" in t ? "mousewheel" === i ? t.addEventListener("onwheel" in t ? "wheel" : "mousewheel", r, !1) : "mouseenter" === i || "mouseleave" === i ? (r = function r(i) {
      i = i || window.event, ot(t, i) && a(i);
    }, t.addEventListener("mouseenter" === i ? "mouseover" : "mouseout", r, !1)) : ("click" === i && Pi && (r = function r(t) {
      st(t, a);
    }), t.addEventListener(i, r, !1)) : "attachEvent" in t && t.attachEvent("on" + i, r) : F(t, r, s), t[ae] = t[ae] || {}, t[ae][s] = r;
  }function K(t, i, e, o) {
    var s = i + n(e) + (o ? "_" + n(o) : ""),
        r = t[ae] && t[ae][s];if (!r) return this;Wi && 0 === i.indexOf("touch") ? A(t, i, s) : Hi && "dblclick" === i && U ? U(t, s) : "removeEventListener" in t ? "mousewheel" === i ? t.removeEventListener("onwheel" in t ? "wheel" : "mousewheel", r, !1) : t.removeEventListener("mouseenter" === i ? "mouseover" : "mouseleave" === i ? "mouseout" : i, r, !1) : "detachEvent" in t && t.detachEvent("on" + i, r), t[ae][s] = null;
  }function Y(t) {
    return t.stopPropagation ? t.stopPropagation() : t.originalEvent ? t.originalEvent._stopped = !0 : t.cancelBubble = !0, nt(t), this;
  }function X(t) {
    return q(t, "mousewheel", Y), this;
  }function J(t) {
    return V(t, "mousedown touchstart dblclick", Y), q(t, "click", et), this;
  }function $(t) {
    return t.preventDefault ? t.preventDefault() : t.returnValue = !1, this;
  }function Q(t) {
    return $(t), Y(t), this;
  }function tt(t, i) {
    if (!i) return new x(t.clientX, t.clientY);var e = i.getBoundingClientRect();return new x(t.clientX - e.left - i.clientLeft, t.clientY - e.top - i.clientTop);
  }function it(t) {
    return Li ? t.wheelDeltaY / 2 : t.deltaY && 0 === t.deltaMode ? -t.deltaY / he : t.deltaY && 1 === t.deltaMode ? 20 * -t.deltaY : t.deltaY && 2 === t.deltaMode ? 60 * -t.deltaY : t.deltaX || t.deltaZ ? 0 : t.wheelDelta ? (t.wheelDeltaY || t.wheelDelta) / 2 : t.detail && Math.abs(t.detail) < 32765 ? 20 * -t.detail : t.detail ? t.detail / -32765 * 60 : 0;
  }function et(t) {
    ue[t.type] = !0;
  }function nt(t) {
    var i = ue[t.type];return ue[t.type] = !1, i;
  }function ot(t, i) {
    var e = i.relatedTarget;if (!e) return !0;try {
      for (; e && e !== t;) {
        e = e.parentNode;
      }
    } catch (t) {
      return !1;
    }return e !== t;
  }function st(t, i) {
    var e = t.timeStamp || t.originalEvent && t.originalEvent.timeStamp,
        n = di && e - di;n && n > 100 && n < 500 || t.target._simulatedClick && !t._simulated ? Q(t) : (di = e, i(t));
  }function rt(t) {
    return "string" == typeof t ? document.getElementById(t) : t;
  }function at(t, i) {
    var e = t.style[i] || t.currentStyle && t.currentStyle[i];if ((!e || "auto" === e) && document.defaultView) {
      var n = document.defaultView.getComputedStyle(t, null);e = n ? n[i] : null;
    }return "auto" === e ? null : e;
  }function ht(t, i, e) {
    var n = document.createElement(t);return n.className = i || "", e && e.appendChild(n), n;
  }function ut(t) {
    var i = t.parentNode;i && i.removeChild(t);
  }function lt(t) {
    for (; t.firstChild;) {
      t.removeChild(t.firstChild);
    }
  }function ct(t) {
    var i = t.parentNode;i.lastChild !== t && i.appendChild(t);
  }function _t(t) {
    var i = t.parentNode;i.firstChild !== t && i.insertBefore(t, i.firstChild);
  }function dt(t, i) {
    if (void 0 !== t.classList) return t.classList.contains(i);var e = gt(t);return e.length > 0 && new RegExp("(^|\\s)" + i + "(\\s|$)").test(e);
  }function pt(t, i) {
    if (void 0 !== t.classList) for (var e = u(i), n = 0, o = e.length; n < o; n++) {
      t.classList.add(e[n]);
    } else if (!dt(t, i)) {
      var s = gt(t);ft(t, (s ? s + " " : "") + i);
    }
  }function mt(t, i) {
    void 0 !== t.classList ? t.classList.remove(i) : ft(t, h((" " + gt(t) + " ").replace(" " + i + " ", " ")));
  }function ft(t, i) {
    void 0 === t.className.baseVal ? t.className = i : t.className.baseVal = i;
  }function gt(t) {
    return void 0 === t.className.baseVal ? t.className : t.className.baseVal;
  }function vt(t, i) {
    "opacity" in t.style ? t.style.opacity = i : "filter" in t.style && yt(t, i);
  }function yt(t, i) {
    var e = !1,
        n = "DXImageTransform.Microsoft.Alpha";try {
      e = t.filters.item(n);
    } catch (t) {
      if (1 === i) return;
    }i = Math.round(100 * i), e ? (e.Enabled = 100 !== i, e.Opacity = i) : t.style.filter += " progid:" + n + "(opacity=" + i + ")";
  }function xt(t) {
    for (var i = document.documentElement.style, e = 0; e < t.length; e++) {
      if (t[e] in i) return t[e];
    }return !1;
  }function wt(t, i, e) {
    var n = i || new x(0, 0);t.style[ce] = (Bi ? "translate(" + n.x + "px," + n.y + "px)" : "translate3d(" + n.x + "px," + n.y + "px,0)") + (e ? " scale(" + e + ")" : "");
  }function Lt(t, i) {
    t._leaflet_pos = i, Oi ? wt(t, i) : (t.style.left = i.x + "px", t.style.top = i.y + "px");
  }function bt(t) {
    return t._leaflet_pos || new x(0, 0);
  }function Pt() {
    V(window, "dragstart", $);
  }function Tt() {
    G(window, "dragstart", $);
  }function zt(t) {
    for (; -1 === t.tabIndex;) {
      t = t.parentNode;
    }t.style && (Mt(), me = t, fe = t.style.outline, t.style.outline = "none", V(window, "keydown", Mt));
  }function Mt() {
    me && (me.style.outline = fe, me = void 0, fe = void 0, G(window, "keydown", Mt));
  }function Ct(t, i) {
    if (!i || !t.length) return t.slice();var e = i * i;return t = kt(t, e), t = Et(t, e);
  }function Zt(t, i, e) {
    return Math.sqrt(Rt(t, i, e, !0));
  }function Et(t, i) {
    var e = t.length,
        n = new ((typeof Uint8Array === "undefined" ? "undefined" : (0, _typeof3.default)(Uint8Array)) != void 0 + "" ? Uint8Array : Array)(e);n[0] = n[e - 1] = 1, St(t, n, i, 0, e - 1);var o,
        s = [];for (o = 0; o < e; o++) {
      n[o] && s.push(t[o]);
    }return s;
  }function St(t, i, e, n, o) {
    var s,
        r,
        a,
        h = 0;for (r = n + 1; r <= o - 1; r++) {
      (a = Rt(t[r], t[n], t[o], !0)) > h && (s = r, h = a);
    }h > e && (i[s] = 1, St(t, i, e, n, s), St(t, i, e, s, o));
  }function kt(t, i) {
    for (var e = [t[0]], n = 1, o = 0, s = t.length; n < s; n++) {
      Ot(t[n], t[o]) > i && (e.push(t[n]), o = n);
    }return o < s - 1 && e.push(t[s - 1]), e;
  }function Bt(t, i, e, n, o) {
    var s,
        r,
        a,
        h = n ? ze : At(t, e),
        u = At(i, e);for (ze = u;;) {
      if (!(h | u)) return [t, i];if (h & u) return !1;a = At(r = It(t, i, s = h || u, e, o), e), s === h ? (t = r, h = a) : (i = r, u = a);
    }
  }function It(t, i, e, n, o) {
    var s,
        r,
        a = i.x - t.x,
        h = i.y - t.y,
        u = n.min,
        l = n.max;return 8 & e ? (s = t.x + a * (l.y - t.y) / h, r = l.y) : 4 & e ? (s = t.x + a * (u.y - t.y) / h, r = u.y) : 2 & e ? (s = l.x, r = t.y + h * (l.x - t.x) / a) : 1 & e && (s = u.x, r = t.y + h * (u.x - t.x) / a), new x(s, r, o);
  }function At(t, i) {
    var e = 0;return t.x < i.min.x ? e |= 1 : t.x > i.max.x && (e |= 2), t.y < i.min.y ? e |= 4 : t.y > i.max.y && (e |= 8), e;
  }function Ot(t, i) {
    var e = i.x - t.x,
        n = i.y - t.y;return e * e + n * n;
  }function Rt(t, i, e, n) {
    var o,
        s = i.x,
        r = i.y,
        a = e.x - s,
        h = e.y - r,
        u = a * a + h * h;return u > 0 && ((o = ((t.x - s) * a + (t.y - r) * h) / u) > 1 ? (s = e.x, r = e.y) : o > 0 && (s += a * o, r += h * o)), a = t.x - s, h = t.y - r, n ? a * a + h * h : new x(s, r);
  }function Dt(t) {
    return !ei(t[0]) || "object" != (0, _typeof3.default)(t[0][0]) && void 0 !== t[0][0];
  }function Nt(t) {
    return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."), Dt(t);
  }function jt(t, i, e) {
    var n,
        o,
        s,
        r,
        a,
        h,
        u,
        l,
        c,
        _ = [1, 4, 2, 8];for (o = 0, u = t.length; o < u; o++) {
      t[o]._code = At(t[o], i);
    }for (r = 0; r < 4; r++) {
      for (l = _[r], n = [], o = 0, s = (u = t.length) - 1; o < u; s = o++) {
        a = t[o], h = t[s], a._code & l ? h._code & l || ((c = It(h, a, l, i, e))._code = At(c, i), n.push(c)) : (h._code & l && ((c = It(h, a, l, i, e))._code = At(c, i), n.push(c)), n.push(a));
      }t = n;
    }return t;
  }function Wt(t, i) {
    var e,
        n,
        o,
        s,
        r = "Feature" === t.type ? t.geometry : t,
        a = r ? r.coordinates : null,
        h = [],
        u = i && i.pointToLayer,
        l = i && i.coordsToLatLng || Ht;if (!a && !r) return null;switch (r.type) {case "Point":
        return e = l(a), u ? u(t, e) : new qe(e);case "MultiPoint":
        for (o = 0, s = a.length; o < s; o++) {
          e = l(a[o]), h.push(u ? u(t, e) : new qe(e));
        }return new Fe(h);case "LineString":case "MultiLineString":
        return n = Ft(a, "LineString" === r.type ? 0 : 1, l), new Je(n, i);case "Polygon":case "MultiPolygon":
        return n = Ft(a, "Polygon" === r.type ? 1 : 2, l), new $e(n, i);case "GeometryCollection":
        for (o = 0, s = r.geometries.length; o < s; o++) {
          var c = Wt({ geometry: r.geometries[o], type: "Feature", properties: t.properties }, i);c && h.push(c);
        }return new Fe(h);default:
        throw new Error("Invalid GeoJSON object.");}
  }function Ht(t) {
    return new M(t[1], t[0], t[2]);
  }function Ft(t, i, e) {
    for (var n, o = [], s = 0, r = t.length; s < r; s++) {
      n = i ? Ft(t[s], i - 1, e) : (e || Ht)(t[s]), o.push(n);
    }return o;
  }function Ut(t, i) {
    return i = "number" == typeof i ? i : 6, void 0 !== t.alt ? [a(t.lng, i), a(t.lat, i), a(t.alt, i)] : [a(t.lng, i), a(t.lat, i)];
  }function Vt(t, i, e, n) {
    for (var o = [], s = 0, r = t.length; s < r; s++) {
      o.push(i ? Vt(t[s], i - 1, e, n) : Ut(t[s], n));
    }return !i && e && o.push(o[0]), o;
  }function Gt(t, e) {
    return t.feature ? i({}, t.feature, { geometry: e }) : qt(e);
  }function qt(t) {
    return "Feature" === t.type || "FeatureCollection" === t.type ? t : { type: "Feature", properties: {}, geometry: t };
  }function Kt(t, i) {
    return new Qe(t, i);
  }function Yt(t, i) {
    return new ln(t, i);
  }function Xt(t) {
    return Gi ? new dn(t) : null;
  }function Jt(t) {
    return qi || Ki ? new gn(t) : null;
  }var $t = _freeze2.default;Object.freeze = function (t) {
    return t;
  };var Qt = _create2.default || function () {
    function t() {}return function (i) {
      return t.prototype = i, new t();
    };
  }(),
      ti = 0,
      ii = /\{ *([\w_\-]+) *\}/g,
      ei = Array.isArray || function (t) {
    return "[object Array]" === Object.prototype.toString.call(t);
  },
      ni = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",
      oi = 0,
      si = window.requestAnimationFrame || p("RequestAnimationFrame") || m,
      ri = window.cancelAnimationFrame || p("CancelAnimationFrame") || p("CancelRequestAnimationFrame") || function (t) {
    window.clearTimeout(t);
  },
      ai = (_freeze2.default || Object)({ freeze: $t, extend: i, create: Qt, bind: e, lastId: ti, stamp: n, throttle: o, wrapNum: s, falseFn: r, formatNum: a, trim: h, splitWords: u, setOptions: l, getParamString: c, template: _, isArray: ei, indexOf: d, emptyImageUrl: ni, requestFn: si, cancelFn: ri, requestAnimFrame: f, cancelAnimFrame: g });v.extend = function (t) {
    var e = function e() {
      this.initialize && this.initialize.apply(this, arguments), this.callInitHooks();
    },
        n = e.__super__ = this.prototype,
        o = Qt(n);o.constructor = e, e.prototype = o;for (var s in this) {
      this.hasOwnProperty(s) && "prototype" !== s && "__super__" !== s && (e[s] = this[s]);
    }return t.statics && (i(e, t.statics), delete t.statics), t.includes && (y(t.includes), i.apply(null, [o].concat(t.includes)), delete t.includes), o.options && (t.options = i(Qt(o.options), t.options)), i(o, t), o._initHooks = [], o.callInitHooks = function () {
      if (!this._initHooksCalled) {
        n.callInitHooks && n.callInitHooks.call(this), this._initHooksCalled = !0;for (var t = 0, i = o._initHooks.length; t < i; t++) {
          o._initHooks[t].call(this);
        }
      }
    }, e;
  }, v.include = function (t) {
    return i(this.prototype, t), this;
  }, v.mergeOptions = function (t) {
    return i(this.prototype.options, t), this;
  }, v.addInitHook = function (t) {
    var i = Array.prototype.slice.call(arguments, 1),
        e = "function" == typeof t ? t : function () {
      this[t].apply(this, i);
    };return this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(e), this;
  };var hi = { on: function on(t, i, e) {
      if ("object" == (typeof t === "undefined" ? "undefined" : (0, _typeof3.default)(t))) for (var n in t) {
        this._on(n, t[n], i);
      } else for (var o = 0, s = (t = u(t)).length; o < s; o++) {
        this._on(t[o], i, e);
      }return this;
    }, off: function off(t, i, e) {
      if (t) {
        if ("object" == (typeof t === "undefined" ? "undefined" : (0, _typeof3.default)(t))) for (var n in t) {
          this._off(n, t[n], i);
        } else for (var o = 0, s = (t = u(t)).length; o < s; o++) {
          this._off(t[o], i, e);
        }
      } else delete this._events;return this;
    }, _on: function _on(t, i, e) {
      this._events = this._events || {};var n = this._events[t];n || (n = [], this._events[t] = n), e === this && (e = void 0);for (var o = { fn: i, ctx: e }, s = n, r = 0, a = s.length; r < a; r++) {
        if (s[r].fn === i && s[r].ctx === e) return;
      }s.push(o);
    }, _off: function _off(t, i, e) {
      var n, o, s;if (this._events && (n = this._events[t])) if (i) {
        if (e === this && (e = void 0), n) for (o = 0, s = n.length; o < s; o++) {
          var a = n[o];if (a.ctx === e && a.fn === i) return a.fn = r, this._firingCount && (this._events[t] = n = n.slice()), void n.splice(o, 1);
        }
      } else {
        for (o = 0, s = n.length; o < s; o++) {
          n[o].fn = r;
        }delete this._events[t];
      }
    }, fire: function fire(t, e, n) {
      if (!this.listens(t, n)) return this;var o = i({}, e, { type: t, target: this });if (this._events) {
        var s = this._events[t];if (s) {
          this._firingCount = this._firingCount + 1 || 1;for (var r = 0, a = s.length; r < a; r++) {
            var h = s[r];h.fn.call(h.ctx || this, o);
          }this._firingCount--;
        }
      }return n && this._propagateEvent(o), this;
    }, listens: function listens(t, i) {
      var e = this._events && this._events[t];if (e && e.length) return !0;if (i) for (var n in this._eventParents) {
        if (this._eventParents[n].listens(t, i)) return !0;
      }return !1;
    }, once: function once(t, i, n) {
      if ("object" == (typeof t === "undefined" ? "undefined" : (0, _typeof3.default)(t))) {
        for (var o in t) {
          this.once(o, t[o], i);
        }return this;
      }var s = e(function () {
        this.off(t, i, n).off(t, s, n);
      }, this);return this.on(t, i, n).on(t, s, n);
    }, addEventParent: function addEventParent(t) {
      return this._eventParents = this._eventParents || {}, this._eventParents[n(t)] = t, this;
    }, removeEventParent: function removeEventParent(t) {
      return this._eventParents && delete this._eventParents[n(t)], this;
    }, _propagateEvent: function _propagateEvent(t) {
      for (var e in this._eventParents) {
        this._eventParents[e].fire(t.type, i({ layer: t.target }, t), !0);
      }
    } };hi.addEventListener = hi.on, hi.removeEventListener = hi.clearAllEventListeners = hi.off, hi.addOneTimeEventListener = hi.once, hi.fireEvent = hi.fire, hi.hasEventListeners = hi.listens;var ui = v.extend(hi);x.prototype = { clone: function clone() {
      return new x(this.x, this.y);
    }, add: function add(t) {
      return this.clone()._add(w(t));
    }, _add: function _add(t) {
      return this.x += t.x, this.y += t.y, this;
    }, subtract: function subtract(t) {
      return this.clone()._subtract(w(t));
    }, _subtract: function _subtract(t) {
      return this.x -= t.x, this.y -= t.y, this;
    }, divideBy: function divideBy(t) {
      return this.clone()._divideBy(t);
    }, _divideBy: function _divideBy(t) {
      return this.x /= t, this.y /= t, this;
    }, multiplyBy: function multiplyBy(t) {
      return this.clone()._multiplyBy(t);
    }, _multiplyBy: function _multiplyBy(t) {
      return this.x *= t, this.y *= t, this;
    }, scaleBy: function scaleBy(t) {
      return new x(this.x * t.x, this.y * t.y);
    }, unscaleBy: function unscaleBy(t) {
      return new x(this.x / t.x, this.y / t.y);
    }, round: function round() {
      return this.clone()._round();
    }, _round: function _round() {
      return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
    }, floor: function floor() {
      return this.clone()._floor();
    }, _floor: function _floor() {
      return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this;
    }, ceil: function ceil() {
      return this.clone()._ceil();
    }, _ceil: function _ceil() {
      return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this;
    }, distanceTo: function distanceTo(t) {
      var i = (t = w(t)).x - this.x,
          e = t.y - this.y;return Math.sqrt(i * i + e * e);
    }, equals: function equals(t) {
      return (t = w(t)).x === this.x && t.y === this.y;
    }, contains: function contains(t) {
      return t = w(t), Math.abs(t.x) <= Math.abs(this.x) && Math.abs(t.y) <= Math.abs(this.y);
    }, toString: function toString() {
      return "Point(" + a(this.x) + ", " + a(this.y) + ")";
    } }, b.prototype = { extend: function extend(t) {
      return t = w(t), this.min || this.max ? (this.min.x = Math.min(t.x, this.min.x), this.max.x = Math.max(t.x, this.max.x), this.min.y = Math.min(t.y, this.min.y), this.max.y = Math.max(t.y, this.max.y)) : (this.min = t.clone(), this.max = t.clone()), this;
    }, getCenter: function getCenter(t) {
      return new x((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, t);
    }, getBottomLeft: function getBottomLeft() {
      return new x(this.min.x, this.max.y);
    }, getTopRight: function getTopRight() {
      return new x(this.max.x, this.min.y);
    }, getTopLeft: function getTopLeft() {
      return this.min;
    }, getBottomRight: function getBottomRight() {
      return this.max;
    }, getSize: function getSize() {
      return this.max.subtract(this.min);
    }, contains: function contains(t) {
      var i, e;return (t = "number" == typeof t[0] || t instanceof x ? w(t) : P(t)) instanceof b ? (i = t.min, e = t.max) : i = e = t, i.x >= this.min.x && e.x <= this.max.x && i.y >= this.min.y && e.y <= this.max.y;
    }, intersects: function intersects(t) {
      t = P(t);var i = this.min,
          e = this.max,
          n = t.min,
          o = t.max,
          s = o.x >= i.x && n.x <= e.x,
          r = o.y >= i.y && n.y <= e.y;return s && r;
    }, overlaps: function overlaps(t) {
      t = P(t);var i = this.min,
          e = this.max,
          n = t.min,
          o = t.max,
          s = o.x > i.x && n.x < e.x,
          r = o.y > i.y && n.y < e.y;return s && r;
    }, isValid: function isValid() {
      return !(!this.min || !this.max);
    } }, T.prototype = { extend: function extend(t) {
      var i,
          e,
          n = this._southWest,
          o = this._northEast;if (t instanceof M) i = t, e = t;else {
        if (!(t instanceof T)) return t ? this.extend(C(t) || z(t)) : this;if (i = t._southWest, e = t._northEast, !i || !e) return this;
      }return n || o ? (n.lat = Math.min(i.lat, n.lat), n.lng = Math.min(i.lng, n.lng), o.lat = Math.max(e.lat, o.lat), o.lng = Math.max(e.lng, o.lng)) : (this._southWest = new M(i.lat, i.lng), this._northEast = new M(e.lat, e.lng)), this;
    }, pad: function pad(t) {
      var i = this._southWest,
          e = this._northEast,
          n = Math.abs(i.lat - e.lat) * t,
          o = Math.abs(i.lng - e.lng) * t;return new T(new M(i.lat - n, i.lng - o), new M(e.lat + n, e.lng + o));
    }, getCenter: function getCenter() {
      return new M((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2);
    }, getSouthWest: function getSouthWest() {
      return this._southWest;
    }, getNorthEast: function getNorthEast() {
      return this._northEast;
    }, getNorthWest: function getNorthWest() {
      return new M(this.getNorth(), this.getWest());
    }, getSouthEast: function getSouthEast() {
      return new M(this.getSouth(), this.getEast());
    }, getWest: function getWest() {
      return this._southWest.lng;
    }, getSouth: function getSouth() {
      return this._southWest.lat;
    }, getEast: function getEast() {
      return this._northEast.lng;
    }, getNorth: function getNorth() {
      return this._northEast.lat;
    }, contains: function contains(t) {
      t = "number" == typeof t[0] || t instanceof M || "lat" in t ? C(t) : z(t);var i,
          e,
          n = this._southWest,
          o = this._northEast;return t instanceof T ? (i = t.getSouthWest(), e = t.getNorthEast()) : i = e = t, i.lat >= n.lat && e.lat <= o.lat && i.lng >= n.lng && e.lng <= o.lng;
    }, intersects: function intersects(t) {
      t = z(t);var i = this._southWest,
          e = this._northEast,
          n = t.getSouthWest(),
          o = t.getNorthEast(),
          s = o.lat >= i.lat && n.lat <= e.lat,
          r = o.lng >= i.lng && n.lng <= e.lng;return s && r;
    }, overlaps: function overlaps(t) {
      t = z(t);var i = this._southWest,
          e = this._northEast,
          n = t.getSouthWest(),
          o = t.getNorthEast(),
          s = o.lat > i.lat && n.lat < e.lat,
          r = o.lng > i.lng && n.lng < e.lng;return s && r;
    }, toBBoxString: function toBBoxString() {
      return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",");
    }, equals: function equals(t, i) {
      return !!t && (t = z(t), this._southWest.equals(t.getSouthWest(), i) && this._northEast.equals(t.getNorthEast(), i));
    }, isValid: function isValid() {
      return !(!this._southWest || !this._northEast);
    } }, M.prototype = { equals: function equals(t, i) {
      return !!t && (t = C(t), Math.max(Math.abs(this.lat - t.lat), Math.abs(this.lng - t.lng)) <= (void 0 === i ? 1e-9 : i));
    }, toString: function toString(t) {
      return "LatLng(" + a(this.lat, t) + ", " + a(this.lng, t) + ")";
    }, distanceTo: function distanceTo(t) {
      return ci.distance(this, C(t));
    }, wrap: function wrap() {
      return ci.wrapLatLng(this);
    }, toBounds: function toBounds(t) {
      var i = 180 * t / 40075017,
          e = i / Math.cos(Math.PI / 180 * this.lat);return z([this.lat - i, this.lng - e], [this.lat + i, this.lng + e]);
    }, clone: function clone() {
      return new M(this.lat, this.lng, this.alt);
    } };var li = { latLngToPoint: function latLngToPoint(t, i) {
      var e = this.projection.project(t),
          n = this.scale(i);return this.transformation._transform(e, n);
    }, pointToLatLng: function pointToLatLng(t, i) {
      var e = this.scale(i),
          n = this.transformation.untransform(t, e);return this.projection.unproject(n);
    }, project: function project(t) {
      return this.projection.project(t);
    }, unproject: function unproject(t) {
      return this.projection.unproject(t);
    }, scale: function scale(t) {
      return 256 * Math.pow(2, t);
    }, zoom: function zoom(t) {
      return Math.log(t / 256) / Math.LN2;
    }, getProjectedBounds: function getProjectedBounds(t) {
      if (this.infinite) return null;var i = this.projection.bounds,
          e = this.scale(t);return new b(this.transformation.transform(i.min, e), this.transformation.transform(i.max, e));
    }, infinite: !1, wrapLatLng: function wrapLatLng(t) {
      var i = this.wrapLng ? s(t.lng, this.wrapLng, !0) : t.lng;return new M(this.wrapLat ? s(t.lat, this.wrapLat, !0) : t.lat, i, t.alt);
    }, wrapLatLngBounds: function wrapLatLngBounds(t) {
      var i = t.getCenter(),
          e = this.wrapLatLng(i),
          n = i.lat - e.lat,
          o = i.lng - e.lng;if (0 === n && 0 === o) return t;var s = t.getSouthWest(),
          r = t.getNorthEast();return new T(new M(s.lat - n, s.lng - o), new M(r.lat - n, r.lng - o));
    } },
      ci = i({}, li, { wrapLng: [-180, 180], R: 6371e3, distance: function distance(t, i) {
      var e = Math.PI / 180,
          n = t.lat * e,
          o = i.lat * e,
          s = Math.sin(n) * Math.sin(o) + Math.cos(n) * Math.cos(o) * Math.cos((i.lng - t.lng) * e);return this.R * Math.acos(Math.min(s, 1));
    } }),
      _i = { R: 6378137, MAX_LATITUDE: 85.0511287798, project: function project(t) {
      var i = Math.PI / 180,
          e = this.MAX_LATITUDE,
          n = Math.max(Math.min(e, t.lat), -e),
          o = Math.sin(n * i);return new x(this.R * t.lng * i, this.R * Math.log((1 + o) / (1 - o)) / 2);
    }, unproject: function unproject(t) {
      var i = 180 / Math.PI;return new M((2 * Math.atan(Math.exp(t.y / this.R)) - Math.PI / 2) * i, t.x * i / this.R);
    }, bounds: function () {
      var t = 6378137 * Math.PI;return new b([-t, -t], [t, t]);
    }() };Z.prototype = { transform: function transform(t, i) {
      return this._transform(t.clone(), i);
    }, _transform: function _transform(t, i) {
      return i = i || 1, t.x = i * (this._a * t.x + this._b), t.y = i * (this._c * t.y + this._d), t;
    }, untransform: function untransform(t, i) {
      return i = i || 1, new x((t.x / i - this._b) / this._a, (t.y / i - this._d) / this._c);
    } };var di,
      pi,
      mi,
      fi,
      gi = i({}, ci, { code: "EPSG:3857", projection: _i, transformation: function () {
      var t = .5 / (Math.PI * _i.R);return E(t, .5, -t, .5);
    }() }),
      vi = i({}, gi, { code: "EPSG:900913" }),
      yi = document.documentElement.style,
      xi = "ActiveXObject" in window,
      wi = xi && !document.addEventListener,
      Li = "msLaunchUri" in navigator && !("documentMode" in document),
      bi = B("webkit"),
      Pi = B("android"),
      Ti = B("android 2") || B("android 3"),
      zi = !!window.opera,
      Mi = B("chrome"),
      Ci = B("gecko") && !bi && !zi && !xi,
      Zi = !Mi && B("safari"),
      Ei = B("phantom"),
      Si = "OTransition" in yi,
      ki = 0 === navigator.platform.indexOf("Win"),
      Bi = xi && "transition" in yi,
      Ii = "WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix() && !Ti,
      Ai = "MozPerspective" in yi,
      Oi = !window.L_DISABLE_3D && (Bi || Ii || Ai) && !Si && !Ei,
      Ri = "undefined" != typeof orientation || B("mobile"),
      Di = Ri && bi,
      Ni = Ri && Ii,
      ji = !window.PointerEvent && window.MSPointerEvent,
      Wi = !(!window.PointerEvent && !ji),
      Hi = !window.L_NO_TOUCH && (Wi || "ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch),
      Fi = Ri && zi,
      Ui = Ri && Ci,
      Vi = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1,
      Gi = !!document.createElement("canvas").getContext,
      qi = !(!document.createElementNS || !S("svg").createSVGRect),
      Ki = !qi && function () {
    try {
      var t = document.createElement("div");t.innerHTML = '<v:shape adj="1"/>';var i = t.firstChild;return i.style.behavior = "url(#default#VML)", i && "object" == (0, _typeof3.default)(i.adj);
    } catch (t) {
      return !1;
    }
  }(),
      Yi = (_freeze2.default || Object)({ ie: xi, ielt9: wi, edge: Li, webkit: bi, android: Pi, android23: Ti, opera: zi, chrome: Mi, gecko: Ci, safari: Zi, phantom: Ei, opera12: Si, win: ki, ie3d: Bi, webkit3d: Ii, gecko3d: Ai, any3d: Oi, mobile: Ri, mobileWebkit: Di, mobileWebkit3d: Ni, msPointer: ji, pointer: Wi, touch: Hi, mobileOpera: Fi, mobileGecko: Ui, retina: Vi, canvas: Gi, svg: qi, vml: Ki }),
      Xi = ji ? "MSPointerDown" : "pointerdown",
      Ji = ji ? "MSPointerMove" : "pointermove",
      $i = ji ? "MSPointerUp" : "pointerup",
      Qi = ji ? "MSPointerCancel" : "pointercancel",
      te = ["INPUT", "SELECT", "OPTION"],
      ie = {},
      ee = !1,
      ne = 0,
      oe = ji ? "MSPointerDown" : Wi ? "pointerdown" : "touchstart",
      se = ji ? "MSPointerUp" : Wi ? "pointerup" : "touchend",
      re = "_leaflet_",
      ae = "_leaflet_events",
      he = ki && Mi ? 2 * window.devicePixelRatio : Ci ? window.devicePixelRatio : 1,
      ue = {},
      le = (_freeze2.default || Object)({ on: V, off: G, stopPropagation: Y, disableScrollPropagation: X, disableClickPropagation: J, preventDefault: $, stop: Q, getMousePosition: tt, getWheelDelta: it, fakeStop: et, skipped: nt, isExternalTarget: ot, addListener: V, removeListener: G }),
      ce = xt(["transform", "WebkitTransform", "OTransform", "MozTransform", "msTransform"]),
      _e = xt(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]),
      de = "webkitTransition" === _e || "OTransition" === _e ? _e + "End" : "transitionend";if ("onselectstart" in document) pi = function pi() {
    V(window, "selectstart", $);
  }, mi = function mi() {
    G(window, "selectstart", $);
  };else {
    var pe = xt(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]);pi = function pi() {
      if (pe) {
        var t = document.documentElement.style;fi = t[pe], t[pe] = "none";
      }
    }, mi = function mi() {
      pe && (document.documentElement.style[pe] = fi, fi = void 0);
    };
  }var me,
      fe,
      ge = (_freeze2.default || Object)({ TRANSFORM: ce, TRANSITION: _e, TRANSITION_END: de, get: rt, getStyle: at, create: ht, remove: ut, empty: lt, toFront: ct, toBack: _t, hasClass: dt, addClass: pt, removeClass: mt, setClass: ft, getClass: gt, setOpacity: vt, testProp: xt, setTransform: wt, setPosition: Lt, getPosition: bt, disableTextSelection: pi, enableTextSelection: mi, disableImageDrag: Pt, enableImageDrag: Tt, preventOutline: zt, restoreOutline: Mt }),
      ve = ui.extend({ run: function run(t, i, e, n) {
      this.stop(), this._el = t, this._inProgress = !0, this._duration = e || .25, this._easeOutPower = 1 / Math.max(n || .5, .2), this._startPos = bt(t), this._offset = i.subtract(this._startPos), this._startTime = +new Date(), this.fire("start"), this._animate();
    }, stop: function stop() {
      this._inProgress && (this._step(!0), this._complete());
    }, _animate: function _animate() {
      this._animId = f(this._animate, this), this._step();
    }, _step: function _step(t) {
      var i = +new Date() - this._startTime,
          e = 1e3 * this._duration;i < e ? this._runFrame(this._easeOut(i / e), t) : (this._runFrame(1), this._complete());
    }, _runFrame: function _runFrame(t, i) {
      var e = this._startPos.add(this._offset.multiplyBy(t));i && e._round(), Lt(this._el, e), this.fire("step");
    }, _complete: function _complete() {
      g(this._animId), this._inProgress = !1, this.fire("end");
    }, _easeOut: function _easeOut(t) {
      return 1 - Math.pow(1 - t, this._easeOutPower);
    } }),
      ye = ui.extend({ options: { crs: gi, center: void 0, zoom: void 0, minZoom: void 0, maxZoom: void 0, layers: [], maxBounds: void 0, renderer: void 0, zoomAnimation: !0, zoomAnimationThreshold: 4, fadeAnimation: !0, markerZoomAnimation: !0, transform3DLimit: 8388608, zoomSnap: 1, zoomDelta: 1, trackResize: !0 }, initialize: function initialize(t, i) {
      i = l(this, i), this._initContainer(t), this._initLayout(), this._onResize = e(this._onResize, this), this._initEvents(), i.maxBounds && this.setMaxBounds(i.maxBounds), void 0 !== i.zoom && (this._zoom = this._limitZoom(i.zoom)), i.center && void 0 !== i.zoom && this.setView(C(i.center), i.zoom, { reset: !0 }), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._sizeChanged = !0, this.callInitHooks(), this._zoomAnimated = _e && Oi && !Fi && this.options.zoomAnimation, this._zoomAnimated && (this._createAnimProxy(), V(this._proxy, de, this._catchTransitionEnd, this)), this._addLayers(this.options.layers);
    }, setView: function setView(t, e, n) {
      return e = void 0 === e ? this._zoom : this._limitZoom(e), t = this._limitCenter(C(t), e, this.options.maxBounds), n = n || {}, this._stop(), this._loaded && !n.reset && !0 !== n && (void 0 !== n.animate && (n.zoom = i({ animate: n.animate }, n.zoom), n.pan = i({ animate: n.animate, duration: n.duration }, n.pan)), this._zoom !== e ? this._tryAnimatedZoom && this._tryAnimatedZoom(t, e, n.zoom) : this._tryAnimatedPan(t, n.pan)) ? (clearTimeout(this._sizeTimer), this) : (this._resetView(t, e), this);
    }, setZoom: function setZoom(t, i) {
      return this._loaded ? this.setView(this.getCenter(), t, { zoom: i }) : (this._zoom = t, this);
    }, zoomIn: function zoomIn(t, i) {
      return t = t || (Oi ? this.options.zoomDelta : 1), this.setZoom(this._zoom + t, i);
    }, zoomOut: function zoomOut(t, i) {
      return t = t || (Oi ? this.options.zoomDelta : 1), this.setZoom(this._zoom - t, i);
    }, setZoomAround: function setZoomAround(t, i, e) {
      var n = this.getZoomScale(i),
          o = this.getSize().divideBy(2),
          s = (t instanceof x ? t : this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1 - 1 / n),
          r = this.containerPointToLatLng(o.add(s));return this.setView(r, i, { zoom: e });
    }, _getBoundsCenterZoom: function _getBoundsCenterZoom(t, i) {
      i = i || {}, t = t.getBounds ? t.getBounds() : z(t);var e = w(i.paddingTopLeft || i.padding || [0, 0]),
          n = w(i.paddingBottomRight || i.padding || [0, 0]),
          o = this.getBoundsZoom(t, !1, e.add(n));if ((o = "number" == typeof i.maxZoom ? Math.min(i.maxZoom, o) : o) === 1 / 0) return { center: t.getCenter(), zoom: o };var s = n.subtract(e).divideBy(2),
          r = this.project(t.getSouthWest(), o),
          a = this.project(t.getNorthEast(), o);return { center: this.unproject(r.add(a).divideBy(2).add(s), o), zoom: o };
    }, fitBounds: function fitBounds(t, i) {
      if (!(t = z(t)).isValid()) throw new Error("Bounds are not valid.");var e = this._getBoundsCenterZoom(t, i);return this.setView(e.center, e.zoom, i);
    }, fitWorld: function fitWorld(t) {
      return this.fitBounds([[-90, -180], [90, 180]], t);
    }, panTo: function panTo(t, i) {
      return this.setView(t, this._zoom, { pan: i });
    }, panBy: function panBy(t, i) {
      if (t = w(t).round(), i = i || {}, !t.x && !t.y) return this.fire("moveend");if (!0 !== i.animate && !this.getSize().contains(t)) return this._resetView(this.unproject(this.project(this.getCenter()).add(t)), this.getZoom()), this;if (this._panAnim || (this._panAnim = new ve(), this._panAnim.on({ step: this._onPanTransitionStep, end: this._onPanTransitionEnd }, this)), i.noMoveStart || this.fire("movestart"), !1 !== i.animate) {
        pt(this._mapPane, "leaflet-pan-anim");var e = this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane, e, i.duration || .25, i.easeLinearity);
      } else this._rawPanBy(t), this.fire("move").fire("moveend");return this;
    }, flyTo: function flyTo(t, i, e) {
      function n(t) {
        var i = (g * g - m * m + (t ? -1 : 1) * x * x * v * v) / (2 * (t ? g : m) * x * v),
            e = Math.sqrt(i * i + 1) - i;return e < 1e-9 ? -18 : Math.log(e);
      }function o(t) {
        return (Math.exp(t) - Math.exp(-t)) / 2;
      }function s(t) {
        return (Math.exp(t) + Math.exp(-t)) / 2;
      }function r(t) {
        return o(t) / s(t);
      }function a(t) {
        return m * (s(w) / s(w + y * t));
      }function h(t) {
        return m * (s(w) * r(w + y * t) - o(w)) / x;
      }function u(t) {
        return 1 - Math.pow(1 - t, 1.5);
      }function l() {
        var e = (Date.now() - L) / P,
            n = u(e) * b;e <= 1 ? (this._flyToFrame = f(l, this), this._move(this.unproject(c.add(_.subtract(c).multiplyBy(h(n) / v)), p), this.getScaleZoom(m / a(n), p), { flyTo: !0 })) : this._move(t, i)._moveEnd(!0);
      }if (!1 === (e = e || {}).animate || !Oi) return this.setView(t, i, e);this._stop();var c = this.project(this.getCenter()),
          _ = this.project(t),
          d = this.getSize(),
          p = this._zoom;t = C(t), i = void 0 === i ? p : i;var m = Math.max(d.x, d.y),
          g = m * this.getZoomScale(p, i),
          v = _.distanceTo(c) || 1,
          y = 1.42,
          x = y * y,
          w = n(0),
          L = Date.now(),
          b = (n(1) - w) / y,
          P = e.duration ? 1e3 * e.duration : 1e3 * b * .8;return this._moveStart(!0), l.call(this), this;
    }, flyToBounds: function flyToBounds(t, i) {
      var e = this._getBoundsCenterZoom(t, i);return this.flyTo(e.center, e.zoom, i);
    }, setMaxBounds: function setMaxBounds(t) {
      return (t = z(t)).isValid() ? (this.options.maxBounds && this.off("moveend", this._panInsideMaxBounds), this.options.maxBounds = t, this._loaded && this._panInsideMaxBounds(), this.on("moveend", this._panInsideMaxBounds)) : (this.options.maxBounds = null, this.off("moveend", this._panInsideMaxBounds));
    }, setMinZoom: function setMinZoom(t) {
      return this.options.minZoom = t, this._loaded && this.getZoom() < this.options.minZoom ? this.setZoom(t) : this;
    }, setMaxZoom: function setMaxZoom(t) {
      return this.options.maxZoom = t, this._loaded && this.getZoom() > this.options.maxZoom ? this.setZoom(t) : this;
    }, panInsideBounds: function panInsideBounds(t, i) {
      this._enforcingBounds = !0;var e = this.getCenter(),
          n = this._limitCenter(e, this._zoom, z(t));return e.equals(n) || this.panTo(n, i), this._enforcingBounds = !1, this;
    }, invalidateSize: function invalidateSize(t) {
      if (!this._loaded) return this;t = i({ animate: !1, pan: !0 }, !0 === t ? { animate: !0 } : t);var n = this.getSize();this._sizeChanged = !0, this._lastCenter = null;var o = this.getSize(),
          s = n.divideBy(2).round(),
          r = o.divideBy(2).round(),
          a = s.subtract(r);return a.x || a.y ? (t.animate && t.pan ? this.panBy(a) : (t.pan && this._rawPanBy(a), this.fire("move"), t.debounceMoveend ? (clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(e(this.fire, this, "moveend"), 200)) : this.fire("moveend")), this.fire("resize", { oldSize: n, newSize: o })) : this;
    }, stop: function stop() {
      return this.setZoom(this._limitZoom(this._zoom)), this.options.zoomSnap || this.fire("viewreset"), this._stop();
    }, locate: function locate(t) {
      if (t = this._locateOptions = i({ timeout: 1e4, watch: !1 }, t), !("geolocation" in navigator)) return this._handleGeolocationError({ code: 0, message: "Geolocation not supported." }), this;var n = e(this._handleGeolocationResponse, this),
          o = e(this._handleGeolocationError, this);return t.watch ? this._locationWatchId = navigator.geolocation.watchPosition(n, o, t) : navigator.geolocation.getCurrentPosition(n, o, t), this;
    }, stopLocate: function stopLocate() {
      return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId), this._locateOptions && (this._locateOptions.setView = !1), this;
    }, _handleGeolocationError: function _handleGeolocationError(t) {
      var i = t.code,
          e = t.message || (1 === i ? "permission denied" : 2 === i ? "position unavailable" : "timeout");this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", { code: i, message: "Geolocation error: " + e + "." });
    }, _handleGeolocationResponse: function _handleGeolocationResponse(t) {
      var i = new M(t.coords.latitude, t.coords.longitude),
          e = i.toBounds(t.coords.accuracy),
          n = this._locateOptions;if (n.setView) {
        var o = this.getBoundsZoom(e);this.setView(i, n.maxZoom ? Math.min(o, n.maxZoom) : o);
      }var s = { latlng: i, bounds: e, timestamp: t.timestamp };for (var r in t.coords) {
        "number" == typeof t.coords[r] && (s[r] = t.coords[r]);
      }this.fire("locationfound", s);
    }, addHandler: function addHandler(t, i) {
      if (!i) return this;var e = this[t] = new i(this);return this._handlers.push(e), this.options[t] && e.enable(), this;
    }, remove: function remove() {
      if (this._initEvents(!0), this._containerId !== this._container._leaflet_id) throw new Error("Map container is being reused by another instance");try {
        delete this._container._leaflet_id, delete this._containerId;
      } catch (t) {
        this._container._leaflet_id = void 0, this._containerId = void 0;
      }ut(this._mapPane), this._clearControlPos && this._clearControlPos(), this._clearHandlers(), this._loaded && this.fire("unload");var t;for (t in this._layers) {
        this._layers[t].remove();
      }for (t in this._panes) {
        ut(this._panes[t]);
      }return this._layers = [], this._panes = [], delete this._mapPane, delete this._renderer, this;
    }, createPane: function createPane(t, i) {
      var e = ht("div", "leaflet-pane" + (t ? " leaflet-" + t.replace("Pane", "") + "-pane" : ""), i || this._mapPane);return t && (this._panes[t] = e), e;
    }, getCenter: function getCenter() {
      return this._checkIfLoaded(), this._lastCenter && !this._moved() ? this._lastCenter : this.layerPointToLatLng(this._getCenterLayerPoint());
    }, getZoom: function getZoom() {
      return this._zoom;
    }, getBounds: function getBounds() {
      var t = this.getPixelBounds();return new T(this.unproject(t.getBottomLeft()), this.unproject(t.getTopRight()));
    }, getMinZoom: function getMinZoom() {
      return void 0 === this.options.minZoom ? this._layersMinZoom || 0 : this.options.minZoom;
    }, getMaxZoom: function getMaxZoom() {
      return void 0 === this.options.maxZoom ? void 0 === this._layersMaxZoom ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom;
    }, getBoundsZoom: function getBoundsZoom(t, i, e) {
      t = z(t), e = w(e || [0, 0]);var n = this.getZoom() || 0,
          o = this.getMinZoom(),
          s = this.getMaxZoom(),
          r = t.getNorthWest(),
          a = t.getSouthEast(),
          h = this.getSize().subtract(e),
          u = P(this.project(a, n), this.project(r, n)).getSize(),
          l = Oi ? this.options.zoomSnap : 1,
          c = h.x / u.x,
          _ = h.y / u.y,
          d = i ? Math.max(c, _) : Math.min(c, _);return n = this.getScaleZoom(d, n), l && (n = Math.round(n / (l / 100)) * (l / 100), n = i ? Math.ceil(n / l) * l : Math.floor(n / l) * l), Math.max(o, Math.min(s, n));
    }, getSize: function getSize() {
      return this._size && !this._sizeChanged || (this._size = new x(this._container.clientWidth || 0, this._container.clientHeight || 0), this._sizeChanged = !1), this._size.clone();
    }, getPixelBounds: function getPixelBounds(t, i) {
      var e = this._getTopLeftPoint(t, i);return new b(e, e.add(this.getSize()));
    }, getPixelOrigin: function getPixelOrigin() {
      return this._checkIfLoaded(), this._pixelOrigin;
    }, getPixelWorldBounds: function getPixelWorldBounds(t) {
      return this.options.crs.getProjectedBounds(void 0 === t ? this.getZoom() : t);
    }, getPane: function getPane(t) {
      return "string" == typeof t ? this._panes[t] : t;
    }, getPanes: function getPanes() {
      return this._panes;
    }, getContainer: function getContainer() {
      return this._container;
    }, getZoomScale: function getZoomScale(t, i) {
      var e = this.options.crs;return i = void 0 === i ? this._zoom : i, e.scale(t) / e.scale(i);
    }, getScaleZoom: function getScaleZoom(t, i) {
      var e = this.options.crs;i = void 0 === i ? this._zoom : i;var n = e.zoom(t * e.scale(i));return isNaN(n) ? 1 / 0 : n;
    }, project: function project(t, i) {
      return i = void 0 === i ? this._zoom : i, this.options.crs.latLngToPoint(C(t), i);
    }, unproject: function unproject(t, i) {
      return i = void 0 === i ? this._zoom : i, this.options.crs.pointToLatLng(w(t), i);
    }, layerPointToLatLng: function layerPointToLatLng(t) {
      var i = w(t).add(this.getPixelOrigin());return this.unproject(i);
    }, latLngToLayerPoint: function latLngToLayerPoint(t) {
      return this.project(C(t))._round()._subtract(this.getPixelOrigin());
    }, wrapLatLng: function wrapLatLng(t) {
      return this.options.crs.wrapLatLng(C(t));
    }, wrapLatLngBounds: function wrapLatLngBounds(t) {
      return this.options.crs.wrapLatLngBounds(z(t));
    }, distance: function distance(t, i) {
      return this.options.crs.distance(C(t), C(i));
    }, containerPointToLayerPoint: function containerPointToLayerPoint(t) {
      return w(t).subtract(this._getMapPanePos());
    }, layerPointToContainerPoint: function layerPointToContainerPoint(t) {
      return w(t).add(this._getMapPanePos());
    }, containerPointToLatLng: function containerPointToLatLng(t) {
      var i = this.containerPointToLayerPoint(w(t));return this.layerPointToLatLng(i);
    }, latLngToContainerPoint: function latLngToContainerPoint(t) {
      return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)));
    }, mouseEventToContainerPoint: function mouseEventToContainerPoint(t) {
      return tt(t, this._container);
    }, mouseEventToLayerPoint: function mouseEventToLayerPoint(t) {
      return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t));
    }, mouseEventToLatLng: function mouseEventToLatLng(t) {
      return this.layerPointToLatLng(this.mouseEventToLayerPoint(t));
    }, _initContainer: function _initContainer(t) {
      var i = this._container = rt(t);if (!i) throw new Error("Map container not found.");if (i._leaflet_id) throw new Error("Map container is already initialized.");V(i, "scroll", this._onScroll, this), this._containerId = n(i);
    }, _initLayout: function _initLayout() {
      var t = this._container;this._fadeAnimated = this.options.fadeAnimation && Oi, pt(t, "leaflet-container" + (Hi ? " leaflet-touch" : "") + (Vi ? " leaflet-retina" : "") + (wi ? " leaflet-oldie" : "") + (Zi ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));var i = at(t, "position");"absolute" !== i && "relative" !== i && "fixed" !== i && (t.style.position = "relative"), this._initPanes(), this._initControlPos && this._initControlPos();
    }, _initPanes: function _initPanes() {
      var t = this._panes = {};this._paneRenderers = {}, this._mapPane = this.createPane("mapPane", this._container), Lt(this._mapPane, new x(0, 0)), this.createPane("tilePane"), this.createPane("shadowPane"), this.createPane("overlayPane"), this.createPane("markerPane"), this.createPane("tooltipPane"), this.createPane("popupPane"), this.options.markerZoomAnimation || (pt(t.markerPane, "leaflet-zoom-hide"), pt(t.shadowPane, "leaflet-zoom-hide"));
    }, _resetView: function _resetView(t, i) {
      Lt(this._mapPane, new x(0, 0));var e = !this._loaded;this._loaded = !0, i = this._limitZoom(i), this.fire("viewprereset");var n = this._zoom !== i;this._moveStart(n)._move(t, i)._moveEnd(n), this.fire("viewreset"), e && this.fire("load");
    }, _moveStart: function _moveStart(t) {
      return t && this.fire("zoomstart"), this.fire("movestart");
    }, _move: function _move(t, i, e) {
      void 0 === i && (i = this._zoom);var n = this._zoom !== i;return this._zoom = i, this._lastCenter = t, this._pixelOrigin = this._getNewPixelOrigin(t), (n || e && e.pinch) && this.fire("zoom", e), this.fire("move", e);
    }, _moveEnd: function _moveEnd(t) {
      return t && this.fire("zoomend"), this.fire("moveend");
    }, _stop: function _stop() {
      return g(this._flyToFrame), this._panAnim && this._panAnim.stop(), this;
    }, _rawPanBy: function _rawPanBy(t) {
      Lt(this._mapPane, this._getMapPanePos().subtract(t));
    }, _getZoomSpan: function _getZoomSpan() {
      return this.getMaxZoom() - this.getMinZoom();
    }, _panInsideMaxBounds: function _panInsideMaxBounds() {
      this._enforcingBounds || this.panInsideBounds(this.options.maxBounds);
    }, _checkIfLoaded: function _checkIfLoaded() {
      if (!this._loaded) throw new Error("Set map center and zoom first.");
    }, _initEvents: function _initEvents(t) {
      this._targets = {}, this._targets[n(this._container)] = this;var i = t ? G : V;i(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress", this._handleDOMEvent, this), this.options.trackResize && i(window, "resize", this._onResize, this), Oi && this.options.transform3DLimit && (t ? this.off : this.on).call(this, "moveend", this._onMoveEnd);
    }, _onResize: function _onResize() {
      g(this._resizeRequest), this._resizeRequest = f(function () {
        this.invalidateSize({ debounceMoveend: !0 });
      }, this);
    }, _onScroll: function _onScroll() {
      this._container.scrollTop = 0, this._container.scrollLeft = 0;
    }, _onMoveEnd: function _onMoveEnd() {
      var t = this._getMapPanePos();Math.max(Math.abs(t.x), Math.abs(t.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom());
    }, _findEventTargets: function _findEventTargets(t, i) {
      for (var e, o = [], s = "mouseout" === i || "mouseover" === i, r = t.target || t.srcElement, a = !1; r;) {
        if ((e = this._targets[n(r)]) && ("click" === i || "preclick" === i) && !t._simulated && this._draggableMoved(e)) {
          a = !0;break;
        }if (e && e.listens(i, !0)) {
          if (s && !ot(r, t)) break;if (o.push(e), s) break;
        }if (r === this._container) break;r = r.parentNode;
      }return o.length || a || s || !ot(r, t) || (o = [this]), o;
    }, _handleDOMEvent: function _handleDOMEvent(t) {
      if (this._loaded && !nt(t)) {
        var i = t.type;"mousedown" !== i && "keypress" !== i || zt(t.target || t.srcElement), this._fireDOMEvent(t, i);
      }
    }, _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"], _fireDOMEvent: function _fireDOMEvent(t, e, n) {
      if ("click" === t.type) {
        var o = i({}, t);o.type = "preclick", this._fireDOMEvent(o, o.type, n);
      }if (!t._stopped && (n = (n || []).concat(this._findEventTargets(t, e))).length) {
        var s = n[0];"contextmenu" === e && s.listens(e, !0) && $(t);var r = { originalEvent: t };if ("keypress" !== t.type) {
          var a = s.options && "icon" in s.options;r.containerPoint = a ? this.latLngToContainerPoint(s.getLatLng()) : this.mouseEventToContainerPoint(t), r.layerPoint = this.containerPointToLayerPoint(r.containerPoint), r.latlng = a ? s.getLatLng() : this.layerPointToLatLng(r.layerPoint);
        }for (var h = 0; h < n.length; h++) {
          if (n[h].fire(e, r, !0), r.originalEvent._stopped || !1 === n[h].options.bubblingMouseEvents && -1 !== d(this._mouseEvents, e)) return;
        }
      }
    }, _draggableMoved: function _draggableMoved(t) {
      return (t = t.dragging && t.dragging.enabled() ? t : this).dragging && t.dragging.moved() || this.boxZoom && this.boxZoom.moved();
    }, _clearHandlers: function _clearHandlers() {
      for (var t = 0, i = this._handlers.length; t < i; t++) {
        this._handlers[t].disable();
      }
    }, whenReady: function whenReady(t, i) {
      return this._loaded ? t.call(i || this, { target: this }) : this.on("load", t, i), this;
    }, _getMapPanePos: function _getMapPanePos() {
      return bt(this._mapPane) || new x(0, 0);
    }, _moved: function _moved() {
      var t = this._getMapPanePos();return t && !t.equals([0, 0]);
    }, _getTopLeftPoint: function _getTopLeftPoint(t, i) {
      return (t && void 0 !== i ? this._getNewPixelOrigin(t, i) : this.getPixelOrigin()).subtract(this._getMapPanePos());
    }, _getNewPixelOrigin: function _getNewPixelOrigin(t, i) {
      var e = this.getSize()._divideBy(2);return this.project(t, i)._subtract(e)._add(this._getMapPanePos())._round();
    }, _latLngToNewLayerPoint: function _latLngToNewLayerPoint(t, i, e) {
      var n = this._getNewPixelOrigin(e, i);return this.project(t, i)._subtract(n);
    }, _latLngBoundsToNewLayerBounds: function _latLngBoundsToNewLayerBounds(t, i, e) {
      var n = this._getNewPixelOrigin(e, i);return P([this.project(t.getSouthWest(), i)._subtract(n), this.project(t.getNorthWest(), i)._subtract(n), this.project(t.getSouthEast(), i)._subtract(n), this.project(t.getNorthEast(), i)._subtract(n)]);
    }, _getCenterLayerPoint: function _getCenterLayerPoint() {
      return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
    }, _getCenterOffset: function _getCenterOffset(t) {
      return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint());
    }, _limitCenter: function _limitCenter(t, i, e) {
      if (!e) return t;var n = this.project(t, i),
          o = this.getSize().divideBy(2),
          s = new b(n.subtract(o), n.add(o)),
          r = this._getBoundsOffset(s, e, i);return r.round().equals([0, 0]) ? t : this.unproject(n.add(r), i);
    }, _limitOffset: function _limitOffset(t, i) {
      if (!i) return t;var e = this.getPixelBounds(),
          n = new b(e.min.add(t), e.max.add(t));return t.add(this._getBoundsOffset(n, i));
    }, _getBoundsOffset: function _getBoundsOffset(t, i, e) {
      var n = P(this.project(i.getNorthEast(), e), this.project(i.getSouthWest(), e)),
          o = n.min.subtract(t.min),
          s = n.max.subtract(t.max);return new x(this._rebound(o.x, -s.x), this._rebound(o.y, -s.y));
    }, _rebound: function _rebound(t, i) {
      return t + i > 0 ? Math.round(t - i) / 2 : Math.max(0, Math.ceil(t)) - Math.max(0, Math.floor(i));
    }, _limitZoom: function _limitZoom(t) {
      var i = this.getMinZoom(),
          e = this.getMaxZoom(),
          n = Oi ? this.options.zoomSnap : 1;return n && (t = Math.round(t / n) * n), Math.max(i, Math.min(e, t));
    }, _onPanTransitionStep: function _onPanTransitionStep() {
      this.fire("move");
    }, _onPanTransitionEnd: function _onPanTransitionEnd() {
      mt(this._mapPane, "leaflet-pan-anim"), this.fire("moveend");
    }, _tryAnimatedPan: function _tryAnimatedPan(t, i) {
      var e = this._getCenterOffset(t)._floor();return !(!0 !== (i && i.animate) && !this.getSize().contains(e)) && (this.panBy(e, i), !0);
    }, _createAnimProxy: function _createAnimProxy() {
      var t = this._proxy = ht("div", "leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t), this.on("zoomanim", function (t) {
        var i = ce,
            e = this._proxy.style[i];wt(this._proxy, this.project(t.center, t.zoom), this.getZoomScale(t.zoom, 1)), e === this._proxy.style[i] && this._animatingZoom && this._onZoomTransitionEnd();
      }, this), this.on("load moveend", function () {
        var t = this.getCenter(),
            i = this.getZoom();wt(this._proxy, this.project(t, i), this.getZoomScale(i, 1));
      }, this), this._on("unload", this._destroyAnimProxy, this);
    }, _destroyAnimProxy: function _destroyAnimProxy() {
      ut(this._proxy), delete this._proxy;
    }, _catchTransitionEnd: function _catchTransitionEnd(t) {
      this._animatingZoom && t.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd();
    }, _nothingToAnimate: function _nothingToAnimate() {
      return !this._container.getElementsByClassName("leaflet-zoom-animated").length;
    }, _tryAnimatedZoom: function _tryAnimatedZoom(t, i, e) {
      if (this._animatingZoom) return !0;if (e = e || {}, !this._zoomAnimated || !1 === e.animate || this._nothingToAnimate() || Math.abs(i - this._zoom) > this.options.zoomAnimationThreshold) return !1;var n = this.getZoomScale(i),
          o = this._getCenterOffset(t)._divideBy(1 - 1 / n);return !(!0 !== e.animate && !this.getSize().contains(o)) && (f(function () {
        this._moveStart(!0)._animateZoom(t, i, !0);
      }, this), !0);
    }, _animateZoom: function _animateZoom(t, i, n, o) {
      n && (this._animatingZoom = !0, this._animateToCenter = t, this._animateToZoom = i, pt(this._mapPane, "leaflet-zoom-anim")), this.fire("zoomanim", { center: t, zoom: i, noUpdate: o }), setTimeout(e(this._onZoomTransitionEnd, this), 250);
    }, _onZoomTransitionEnd: function _onZoomTransitionEnd() {
      this._animatingZoom && (mt(this._mapPane, "leaflet-zoom-anim"), this._animatingZoom = !1, this._move(this._animateToCenter, this._animateToZoom), f(function () {
        this._moveEnd(!0);
      }, this));
    } }),
      xe = v.extend({ options: { position: "topright" }, initialize: function initialize(t) {
      l(this, t);
    }, getPosition: function getPosition() {
      return this.options.position;
    }, setPosition: function setPosition(t) {
      var i = this._map;return i && i.removeControl(this), this.options.position = t, i && i.addControl(this), this;
    }, getContainer: function getContainer() {
      return this._container;
    }, addTo: function addTo(t) {
      this.remove(), this._map = t;var i = this._container = this.onAdd(t),
          e = this.getPosition(),
          n = t._controlCorners[e];return pt(i, "leaflet-control"), -1 !== e.indexOf("bottom") ? n.insertBefore(i, n.firstChild) : n.appendChild(i), this;
    }, remove: function remove() {
      return this._map ? (ut(this._container), this.onRemove && this.onRemove(this._map), this._map = null, this) : this;
    }, _refocusOnMap: function _refocusOnMap(t) {
      this._map && t && t.screenX > 0 && t.screenY > 0 && this._map.getContainer().focus();
    } }),
      we = function we(t) {
    return new xe(t);
  };ye.include({ addControl: function addControl(t) {
      return t.addTo(this), this;
    }, removeControl: function removeControl(t) {
      return t.remove(), this;
    }, _initControlPos: function _initControlPos() {
      function t(t, o) {
        var s = e + t + " " + e + o;i[t + o] = ht("div", s, n);
      }var i = this._controlCorners = {},
          e = "leaflet-",
          n = this._controlContainer = ht("div", e + "control-container", this._container);t("top", "left"), t("top", "right"), t("bottom", "left"), t("bottom", "right");
    }, _clearControlPos: function _clearControlPos() {
      for (var t in this._controlCorners) {
        ut(this._controlCorners[t]);
      }ut(this._controlContainer), delete this._controlCorners, delete this._controlContainer;
    } });var Le = xe.extend({ options: { collapsed: !0, position: "topright", autoZIndex: !0, hideSingleBase: !1, sortLayers: !1, sortFunction: function sortFunction(t, i, e, n) {
        return e < n ? -1 : n < e ? 1 : 0;
      } }, initialize: function initialize(t, i, e) {
      l(this, e), this._layerControlInputs = [], this._layers = [], this._lastZIndex = 0, this._handlingClick = !1;for (var n in t) {
        this._addLayer(t[n], n);
      }for (n in i) {
        this._addLayer(i[n], n, !0);
      }
    }, onAdd: function onAdd(t) {
      this._initLayout(), this._update(), this._map = t, t.on("zoomend", this._checkDisabledLayers, this);for (var i = 0; i < this._layers.length; i++) {
        this._layers[i].layer.on("add remove", this._onLayerChange, this);
      }return this._container;
    }, addTo: function addTo(t) {
      return xe.prototype.addTo.call(this, t), this._expandIfNotCollapsed();
    }, onRemove: function onRemove() {
      this._map.off("zoomend", this._checkDisabledLayers, this);for (var t = 0; t < this._layers.length; t++) {
        this._layers[t].layer.off("add remove", this._onLayerChange, this);
      }
    }, addBaseLayer: function addBaseLayer(t, i) {
      return this._addLayer(t, i), this._map ? this._update() : this;
    }, addOverlay: function addOverlay(t, i) {
      return this._addLayer(t, i, !0), this._map ? this._update() : this;
    }, removeLayer: function removeLayer(t) {
      t.off("add remove", this._onLayerChange, this);var i = this._getLayer(n(t));return i && this._layers.splice(this._layers.indexOf(i), 1), this._map ? this._update() : this;
    }, expand: function expand() {
      pt(this._container, "leaflet-control-layers-expanded"), this._form.style.height = null;var t = this._map.getSize().y - (this._container.offsetTop + 50);return t < this._form.clientHeight ? (pt(this._form, "leaflet-control-layers-scrollbar"), this._form.style.height = t + "px") : mt(this._form, "leaflet-control-layers-scrollbar"), this._checkDisabledLayers(), this;
    }, collapse: function collapse() {
      return mt(this._container, "leaflet-control-layers-expanded"), this;
    }, _initLayout: function _initLayout() {
      var t = "leaflet-control-layers",
          i = this._container = ht("div", t),
          e = this.options.collapsed;i.setAttribute("aria-haspopup", !0), J(i), X(i);var n = this._form = ht("form", t + "-list");e && (this._map.on("click", this.collapse, this), Pi || V(i, { mouseenter: this.expand, mouseleave: this.collapse }, this));var o = this._layersLink = ht("a", t + "-toggle", i);o.href = "#", o.title = "Layers", Hi ? (V(o, "click", Q), V(o, "click", this.expand, this)) : V(o, "focus", this.expand, this), e || this.expand(), this._baseLayersList = ht("div", t + "-base", n), this._separator = ht("div", t + "-separator", n), this._overlaysList = ht("div", t + "-overlays", n), i.appendChild(n);
    }, _getLayer: function _getLayer(t) {
      for (var i = 0; i < this._layers.length; i++) {
        if (this._layers[i] && n(this._layers[i].layer) === t) return this._layers[i];
      }
    }, _addLayer: function _addLayer(t, i, n) {
      this._map && t.on("add remove", this._onLayerChange, this), this._layers.push({ layer: t, name: i, overlay: n }), this.options.sortLayers && this._layers.sort(e(function (t, i) {
        return this.options.sortFunction(t.layer, i.layer, t.name, i.name);
      }, this)), this.options.autoZIndex && t.setZIndex && (this._lastZIndex++, t.setZIndex(this._lastZIndex)), this._expandIfNotCollapsed();
    }, _update: function _update() {
      if (!this._container) return this;lt(this._baseLayersList), lt(this._overlaysList), this._layerControlInputs = [];var t,
          i,
          e,
          n,
          o = 0;for (e = 0; e < this._layers.length; e++) {
        n = this._layers[e], this._addItem(n), i = i || n.overlay, t = t || !n.overlay, o += n.overlay ? 0 : 1;
      }return this.options.hideSingleBase && (t = t && o > 1, this._baseLayersList.style.display = t ? "" : "none"), this._separator.style.display = i && t ? "" : "none", this;
    }, _onLayerChange: function _onLayerChange(t) {
      this._handlingClick || this._update();var i = this._getLayer(n(t.target)),
          e = i.overlay ? "add" === t.type ? "overlayadd" : "overlayremove" : "add" === t.type ? "baselayerchange" : null;e && this._map.fire(e, i);
    }, _createRadioElement: function _createRadioElement(t, i) {
      var e = '<input type="radio" class="leaflet-control-layers-selector" name="' + t + '"' + (i ? ' checked="checked"' : "") + "/>",
          n = document.createElement("div");return n.innerHTML = e, n.firstChild;
    }, _addItem: function _addItem(t) {
      var i,
          e = document.createElement("label"),
          o = this._map.hasLayer(t.layer);t.overlay ? ((i = document.createElement("input")).type = "checkbox", i.className = "leaflet-control-layers-selector", i.defaultChecked = o) : i = this._createRadioElement("leaflet-base-layers", o), this._layerControlInputs.push(i), i.layerId = n(t.layer), V(i, "click", this._onInputClick, this);var s = document.createElement("span");s.innerHTML = " " + t.name;var r = document.createElement("div");return e.appendChild(r), r.appendChild(i), r.appendChild(s), (t.overlay ? this._overlaysList : this._baseLayersList).appendChild(e), this._checkDisabledLayers(), e;
    }, _onInputClick: function _onInputClick() {
      var t,
          i,
          e = this._layerControlInputs,
          n = [],
          o = [];this._handlingClick = !0;for (var s = e.length - 1; s >= 0; s--) {
        t = e[s], i = this._getLayer(t.layerId).layer, t.checked ? n.push(i) : t.checked || o.push(i);
      }for (s = 0; s < o.length; s++) {
        this._map.hasLayer(o[s]) && this._map.removeLayer(o[s]);
      }for (s = 0; s < n.length; s++) {
        this._map.hasLayer(n[s]) || this._map.addLayer(n[s]);
      }this._handlingClick = !1, this._refocusOnMap();
    }, _checkDisabledLayers: function _checkDisabledLayers() {
      for (var t, i, e = this._layerControlInputs, n = this._map.getZoom(), o = e.length - 1; o >= 0; o--) {
        t = e[o], i = this._getLayer(t.layerId).layer, t.disabled = void 0 !== i.options.minZoom && n < i.options.minZoom || void 0 !== i.options.maxZoom && n > i.options.maxZoom;
      }
    }, _expandIfNotCollapsed: function _expandIfNotCollapsed() {
      return this._map && !this.options.collapsed && this.expand(), this;
    }, _expand: function _expand() {
      return this.expand();
    }, _collapse: function _collapse() {
      return this.collapse();
    } }),
      be = xe.extend({ options: { position: "topleft", zoomInText: "+", zoomInTitle: "Zoom in", zoomOutText: "&#x2212;", zoomOutTitle: "Zoom out" }, onAdd: function onAdd(t) {
      var i = "leaflet-control-zoom",
          e = ht("div", i + " leaflet-bar"),
          n = this.options;return this._zoomInButton = this._createButton(n.zoomInText, n.zoomInTitle, i + "-in", e, this._zoomIn), this._zoomOutButton = this._createButton(n.zoomOutText, n.zoomOutTitle, i + "-out", e, this._zoomOut), this._updateDisabled(), t.on("zoomend zoomlevelschange", this._updateDisabled, this), e;
    }, onRemove: function onRemove(t) {
      t.off("zoomend zoomlevelschange", this._updateDisabled, this);
    }, disable: function disable() {
      return this._disabled = !0, this._updateDisabled(), this;
    }, enable: function enable() {
      return this._disabled = !1, this._updateDisabled(), this;
    }, _zoomIn: function _zoomIn(t) {
      !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1));
    }, _zoomOut: function _zoomOut(t) {
      !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1));
    }, _createButton: function _createButton(t, i, e, n, o) {
      var s = ht("a", e, n);return s.innerHTML = t, s.href = "#", s.title = i, s.setAttribute("role", "button"), s.setAttribute("aria-label", i), J(s), V(s, "click", Q), V(s, "click", o, this), V(s, "click", this._refocusOnMap, this), s;
    }, _updateDisabled: function _updateDisabled() {
      var t = this._map,
          i = "leaflet-disabled";mt(this._zoomInButton, i), mt(this._zoomOutButton, i), (this._disabled || t._zoom === t.getMinZoom()) && pt(this._zoomOutButton, i), (this._disabled || t._zoom === t.getMaxZoom()) && pt(this._zoomInButton, i);
    } });ye.mergeOptions({ zoomControl: !0 }), ye.addInitHook(function () {
    this.options.zoomControl && (this.zoomControl = new be(), this.addControl(this.zoomControl));
  });var Pe = xe.extend({ options: { position: "bottomleft", maxWidth: 100, metric: !0, imperial: !0 }, onAdd: function onAdd(t) {
      var i = ht("div", "leaflet-control-scale"),
          e = this.options;return this._addScales(e, "leaflet-control-scale-line", i), t.on(e.updateWhenIdle ? "moveend" : "move", this._update, this), t.whenReady(this._update, this), i;
    }, onRemove: function onRemove(t) {
      t.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this);
    }, _addScales: function _addScales(t, i, e) {
      t.metric && (this._mScale = ht("div", i, e)), t.imperial && (this._iScale = ht("div", i, e));
    }, _update: function _update() {
      var t = this._map,
          i = t.getSize().y / 2,
          e = t.distance(t.containerPointToLatLng([0, i]), t.containerPointToLatLng([this.options.maxWidth, i]));this._updateScales(e);
    }, _updateScales: function _updateScales(t) {
      this.options.metric && t && this._updateMetric(t), this.options.imperial && t && this._updateImperial(t);
    }, _updateMetric: function _updateMetric(t) {
      var i = this._getRoundNum(t),
          e = i < 1e3 ? i + " m" : i / 1e3 + " km";this._updateScale(this._mScale, e, i / t);
    }, _updateImperial: function _updateImperial(t) {
      var i,
          e,
          n,
          o = 3.2808399 * t;o > 5280 ? (i = o / 5280, e = this._getRoundNum(i), this._updateScale(this._iScale, e + " mi", e / i)) : (n = this._getRoundNum(o), this._updateScale(this._iScale, n + " ft", n / o));
    }, _updateScale: function _updateScale(t, i, e) {
      t.style.width = Math.round(this.options.maxWidth * e) + "px", t.innerHTML = i;
    }, _getRoundNum: function _getRoundNum(t) {
      var i = Math.pow(10, (Math.floor(t) + "").length - 1),
          e = t / i;return e = e >= 10 ? 10 : e >= 5 ? 5 : e >= 3 ? 3 : e >= 2 ? 2 : 1, i * e;
    } }),
      Te = xe.extend({ options: { position: "bottomright", prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>' }, initialize: function initialize(t) {
      l(this, t), this._attributions = {};
    }, onAdd: function onAdd(t) {
      t.attributionControl = this, this._container = ht("div", "leaflet-control-attribution"), J(this._container);for (var i in t._layers) {
        t._layers[i].getAttribution && this.addAttribution(t._layers[i].getAttribution());
      }return this._update(), this._container;
    }, setPrefix: function setPrefix(t) {
      return this.options.prefix = t, this._update(), this;
    }, addAttribution: function addAttribution(t) {
      return t ? (this._attributions[t] || (this._attributions[t] = 0), this._attributions[t]++, this._update(), this) : this;
    }, removeAttribution: function removeAttribution(t) {
      return t ? (this._attributions[t] && (this._attributions[t]--, this._update()), this) : this;
    }, _update: function _update() {
      if (this._map) {
        var t = [];for (var i in this._attributions) {
          this._attributions[i] && t.push(i);
        }var e = [];this.options.prefix && e.push(this.options.prefix), t.length && e.push(t.join(", ")), this._container.innerHTML = e.join(" | ");
      }
    } });ye.mergeOptions({ attributionControl: !0 }), ye.addInitHook(function () {
    this.options.attributionControl && new Te().addTo(this);
  });xe.Layers = Le, xe.Zoom = be, xe.Scale = Pe, xe.Attribution = Te, we.layers = function (t, i, e) {
    return new Le(t, i, e);
  }, we.zoom = function (t) {
    return new be(t);
  }, we.scale = function (t) {
    return new Pe(t);
  }, we.attribution = function (t) {
    return new Te(t);
  };var ze,
      Me = v.extend({ initialize: function initialize(t) {
      this._map = t;
    }, enable: function enable() {
      return this._enabled ? this : (this._enabled = !0, this.addHooks(), this);
    }, disable: function disable() {
      return this._enabled ? (this._enabled = !1, this.removeHooks(), this) : this;
    }, enabled: function enabled() {
      return !!this._enabled;
    } }),
      Ce = { Events: hi },
      Ze = Hi ? "touchstart mousedown" : "mousedown",
      Ee = { mousedown: "mouseup", touchstart: "touchend", pointerdown: "touchend", MSPointerDown: "touchend" },
      Se = { mousedown: "mousemove", touchstart: "touchmove", pointerdown: "touchmove", MSPointerDown: "touchmove" },
      ke = ui.extend({ options: { clickTolerance: 3 }, initialize: function initialize(t, i, e, n) {
      l(this, n), this._element = t, this._dragStartTarget = i || t, this._preventOutline = e;
    }, enable: function enable() {
      this._enabled || (V(this._dragStartTarget, Ze, this._onDown, this), this._enabled = !0);
    }, disable: function disable() {
      this._enabled && (ke._dragging === this && this.finishDrag(), G(this._dragStartTarget, Ze, this._onDown, this), this._enabled = !1, this._moved = !1);
    }, _onDown: function _onDown(t) {
      if (!t._simulated && this._enabled && (this._moved = !1, !dt(this._element, "leaflet-zoom-anim") && !(ke._dragging || t.shiftKey || 1 !== t.which && 1 !== t.button && !t.touches || (ke._dragging = this, this._preventOutline && zt(this._element), Pt(), pi(), this._moving)))) {
        this.fire("down");var i = t.touches ? t.touches[0] : t;this._startPoint = new x(i.clientX, i.clientY), V(document, Se[t.type], this._onMove, this), V(document, Ee[t.type], this._onUp, this);
      }
    }, _onMove: function _onMove(t) {
      if (!t._simulated && this._enabled) if (t.touches && t.touches.length > 1) this._moved = !0;else {
        var i = t.touches && 1 === t.touches.length ? t.touches[0] : t,
            e = new x(i.clientX, i.clientY).subtract(this._startPoint);(e.x || e.y) && (Math.abs(e.x) + Math.abs(e.y) < this.options.clickTolerance || ($(t), this._moved || (this.fire("dragstart"), this._moved = !0, this._startPos = bt(this._element).subtract(e), pt(document.body, "leaflet-dragging"), this._lastTarget = t.target || t.srcElement, window.SVGElementInstance && this._lastTarget instanceof SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement), pt(this._lastTarget, "leaflet-drag-target")), this._newPos = this._startPos.add(e), this._moving = !0, g(this._animRequest), this._lastEvent = t, this._animRequest = f(this._updatePosition, this, !0)));
      }
    }, _updatePosition: function _updatePosition() {
      var t = { originalEvent: this._lastEvent };this.fire("predrag", t), Lt(this._element, this._newPos), this.fire("drag", t);
    }, _onUp: function _onUp(t) {
      !t._simulated && this._enabled && this.finishDrag();
    }, finishDrag: function finishDrag() {
      mt(document.body, "leaflet-dragging"), this._lastTarget && (mt(this._lastTarget, "leaflet-drag-target"), this._lastTarget = null);for (var t in Se) {
        G(document, Se[t], this._onMove, this), G(document, Ee[t], this._onUp, this);
      }Tt(), mi(), this._moved && this._moving && (g(this._animRequest), this.fire("dragend", { distance: this._newPos.distanceTo(this._startPos) })), this._moving = !1, ke._dragging = !1;
    } }),
      Be = (_freeze2.default || Object)({ simplify: Ct, pointToSegmentDistance: Zt, closestPointOnSegment: function closestPointOnSegment(t, i, e) {
      return Rt(t, i, e);
    }, clipSegment: Bt, _getEdgeIntersection: It, _getBitCode: At, _sqClosestPointOnSegment: Rt, isFlat: Dt, _flat: Nt }),
      Ie = (_freeze2.default || Object)({ clipPolygon: jt }),
      Ae = { project: function project(t) {
      return new x(t.lng, t.lat);
    }, unproject: function unproject(t) {
      return new M(t.y, t.x);
    }, bounds: new b([-180, -90], [180, 90]) },
      Oe = { R: 6378137, R_MINOR: 6356752.314245179, bounds: new b([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]), project: function project(t) {
      var i = Math.PI / 180,
          e = this.R,
          n = t.lat * i,
          o = this.R_MINOR / e,
          s = Math.sqrt(1 - o * o),
          r = s * Math.sin(n),
          a = Math.tan(Math.PI / 4 - n / 2) / Math.pow((1 - r) / (1 + r), s / 2);return n = -e * Math.log(Math.max(a, 1e-10)), new x(t.lng * i * e, n);
    }, unproject: function unproject(t) {
      for (var i, e = 180 / Math.PI, n = this.R, o = this.R_MINOR / n, s = Math.sqrt(1 - o * o), r = Math.exp(-t.y / n), a = Math.PI / 2 - 2 * Math.atan(r), h = 0, u = .1; h < 15 && Math.abs(u) > 1e-7; h++) {
        i = s * Math.sin(a), i = Math.pow((1 - i) / (1 + i), s / 2), a += u = Math.PI / 2 - 2 * Math.atan(r * i) - a;
      }return new M(a * e, t.x * e / n);
    } },
      Re = (_freeze2.default || Object)({ LonLat: Ae, Mercator: Oe, SphericalMercator: _i }),
      De = i({}, ci, { code: "EPSG:3395", projection: Oe, transformation: function () {
      var t = .5 / (Math.PI * Oe.R);return E(t, .5, -t, .5);
    }() }),
      Ne = i({}, ci, { code: "EPSG:4326", projection: Ae, transformation: E(1 / 180, 1, -1 / 180, .5) }),
      je = i({}, li, { projection: Ae, transformation: E(1, 0, -1, 0), scale: function scale(t) {
      return Math.pow(2, t);
    }, zoom: function zoom(t) {
      return Math.log(t) / Math.LN2;
    }, distance: function distance(t, i) {
      var e = i.lng - t.lng,
          n = i.lat - t.lat;return Math.sqrt(e * e + n * n);
    }, infinite: !0 });li.Earth = ci, li.EPSG3395 = De, li.EPSG3857 = gi, li.EPSG900913 = vi, li.EPSG4326 = Ne, li.Simple = je;var We = ui.extend({ options: { pane: "overlayPane", attribution: null, bubblingMouseEvents: !0 }, addTo: function addTo(t) {
      return t.addLayer(this), this;
    }, remove: function remove() {
      return this.removeFrom(this._map || this._mapToAdd);
    }, removeFrom: function removeFrom(t) {
      return t && t.removeLayer(this), this;
    }, getPane: function getPane(t) {
      return this._map.getPane(t ? this.options[t] || t : this.options.pane);
    }, addInteractiveTarget: function addInteractiveTarget(t) {
      return this._map._targets[n(t)] = this, this;
    }, removeInteractiveTarget: function removeInteractiveTarget(t) {
      return delete this._map._targets[n(t)], this;
    }, getAttribution: function getAttribution() {
      return this.options.attribution;
    }, _layerAdd: function _layerAdd(t) {
      var i = t.target;if (i.hasLayer(this)) {
        if (this._map = i, this._zoomAnimated = i._zoomAnimated, this.getEvents) {
          var e = this.getEvents();i.on(e, this), this.once("remove", function () {
            i.off(e, this);
          }, this);
        }this.onAdd(i), this.getAttribution && i.attributionControl && i.attributionControl.addAttribution(this.getAttribution()), this.fire("add"), i.fire("layeradd", { layer: this });
      }
    } });ye.include({ addLayer: function addLayer(t) {
      if (!t._layerAdd) throw new Error("The provided object is not a Layer.");var i = n(t);return this._layers[i] ? this : (this._layers[i] = t, t._mapToAdd = this, t.beforeAdd && t.beforeAdd(this), this.whenReady(t._layerAdd, t), this);
    }, removeLayer: function removeLayer(t) {
      var i = n(t);return this._layers[i] ? (this._loaded && t.onRemove(this), t.getAttribution && this.attributionControl && this.attributionControl.removeAttribution(t.getAttribution()), delete this._layers[i], this._loaded && (this.fire("layerremove", { layer: t }), t.fire("remove")), t._map = t._mapToAdd = null, this) : this;
    }, hasLayer: function hasLayer(t) {
      return !!t && n(t) in this._layers;
    }, eachLayer: function eachLayer(t, i) {
      for (var e in this._layers) {
        t.call(i, this._layers[e]);
      }return this;
    }, _addLayers: function _addLayers(t) {
      for (var i = 0, e = (t = t ? ei(t) ? t : [t] : []).length; i < e; i++) {
        this.addLayer(t[i]);
      }
    }, _addZoomLimit: function _addZoomLimit(t) {
      !isNaN(t.options.maxZoom) && isNaN(t.options.minZoom) || (this._zoomBoundLayers[n(t)] = t, this._updateZoomLevels());
    }, _removeZoomLimit: function _removeZoomLimit(t) {
      var i = n(t);this._zoomBoundLayers[i] && (delete this._zoomBoundLayers[i], this._updateZoomLevels());
    }, _updateZoomLevels: function _updateZoomLevels() {
      var t = 1 / 0,
          i = -1 / 0,
          e = this._getZoomSpan();for (var n in this._zoomBoundLayers) {
        var o = this._zoomBoundLayers[n].options;t = void 0 === o.minZoom ? t : Math.min(t, o.minZoom), i = void 0 === o.maxZoom ? i : Math.max(i, o.maxZoom);
      }this._layersMaxZoom = i === -1 / 0 ? void 0 : i, this._layersMinZoom = t === 1 / 0 ? void 0 : t, e !== this._getZoomSpan() && this.fire("zoomlevelschange"), void 0 === this.options.maxZoom && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom), void 0 === this.options.minZoom && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom);
    } });var He = We.extend({ initialize: function initialize(t) {
      this._layers = {};var i, e;if (t) for (i = 0, e = t.length; i < e; i++) {
        this.addLayer(t[i]);
      }
    }, addLayer: function addLayer(t) {
      var i = this.getLayerId(t);return this._layers[i] = t, this._map && this._map.addLayer(t), this;
    }, removeLayer: function removeLayer(t) {
      var i = t in this._layers ? t : this.getLayerId(t);return this._map && this._layers[i] && this._map.removeLayer(this._layers[i]), delete this._layers[i], this;
    }, hasLayer: function hasLayer(t) {
      return !!t && (t in this._layers || this.getLayerId(t) in this._layers);
    }, clearLayers: function clearLayers() {
      for (var t in this._layers) {
        this.removeLayer(this._layers[t]);
      }return this;
    }, invoke: function invoke(t) {
      var i,
          e,
          n = Array.prototype.slice.call(arguments, 1);for (i in this._layers) {
        (e = this._layers[i])[t] && e[t].apply(e, n);
      }return this;
    }, onAdd: function onAdd(t) {
      for (var i in this._layers) {
        t.addLayer(this._layers[i]);
      }
    }, onRemove: function onRemove(t) {
      for (var i in this._layers) {
        t.removeLayer(this._layers[i]);
      }
    }, eachLayer: function eachLayer(t, i) {
      for (var e in this._layers) {
        t.call(i, this._layers[e]);
      }return this;
    }, getLayer: function getLayer(t) {
      return this._layers[t];
    }, getLayers: function getLayers() {
      var t = [];for (var i in this._layers) {
        t.push(this._layers[i]);
      }return t;
    }, setZIndex: function setZIndex(t) {
      return this.invoke("setZIndex", t);
    }, getLayerId: function getLayerId(t) {
      return n(t);
    } }),
      Fe = He.extend({ addLayer: function addLayer(t) {
      return this.hasLayer(t) ? this : (t.addEventParent(this), He.prototype.addLayer.call(this, t), this.fire("layeradd", { layer: t }));
    }, removeLayer: function removeLayer(t) {
      return this.hasLayer(t) ? (t in this._layers && (t = this._layers[t]), t.removeEventParent(this), He.prototype.removeLayer.call(this, t), this.fire("layerremove", { layer: t })) : this;
    }, setStyle: function setStyle(t) {
      return this.invoke("setStyle", t);
    }, bringToFront: function bringToFront() {
      return this.invoke("bringToFront");
    }, bringToBack: function bringToBack() {
      return this.invoke("bringToBack");
    }, getBounds: function getBounds() {
      var t = new T();for (var i in this._layers) {
        var e = this._layers[i];t.extend(e.getBounds ? e.getBounds() : e.getLatLng());
      }return t;
    } }),
      Ue = v.extend({ initialize: function initialize(t) {
      l(this, t);
    }, createIcon: function createIcon(t) {
      return this._createIcon("icon", t);
    }, createShadow: function createShadow(t) {
      return this._createIcon("shadow", t);
    }, _createIcon: function _createIcon(t, i) {
      var e = this._getIconUrl(t);if (!e) {
        if ("icon" === t) throw new Error("iconUrl not set in Icon options (see the docs).");return null;
      }var n = this._createImg(e, i && "IMG" === i.tagName ? i : null);return this._setIconStyles(n, t), n;
    }, _setIconStyles: function _setIconStyles(t, i) {
      var e = this.options,
          n = e[i + "Size"];"number" == typeof n && (n = [n, n]);var o = w(n),
          s = w("shadow" === i && e.shadowAnchor || e.iconAnchor || o && o.divideBy(2, !0));t.className = "leaflet-marker-" + i + " " + (e.className || ""), s && (t.style.marginLeft = -s.x + "px", t.style.marginTop = -s.y + "px"), o && (t.style.width = o.x + "px", t.style.height = o.y + "px");
    }, _createImg: function _createImg(t, i) {
      return i = i || document.createElement("img"), i.src = t, i;
    }, _getIconUrl: function _getIconUrl(t) {
      return Vi && this.options[t + "RetinaUrl"] || this.options[t + "Url"];
    } }),
      Ve = Ue.extend({ options: { iconUrl: "marker-icon.png", iconRetinaUrl: "marker-icon-2x.png", shadowUrl: "marker-shadow.png", iconSize: [25, 41], iconAnchor: [12, 41], popupAnchor: [1, -34], tooltipAnchor: [16, -28], shadowSize: [41, 41] }, _getIconUrl: function _getIconUrl(t) {
      return Ve.imagePath || (Ve.imagePath = this._detectIconPath()), (this.options.imagePath || Ve.imagePath) + Ue.prototype._getIconUrl.call(this, t);
    }, _detectIconPath: function _detectIconPath() {
      var t = ht("div", "leaflet-default-icon-path", document.body),
          i = at(t, "background-image") || at(t, "backgroundImage");return document.body.removeChild(t), i = null === i || 0 !== i.indexOf("url") ? "" : i.replace(/^url\([\"\']?/, "").replace(/marker-icon\.png[\"\']?\)$/, "");
    } }),
      Ge = Me.extend({ initialize: function initialize(t) {
      this._marker = t;
    }, addHooks: function addHooks() {
      var t = this._marker._icon;this._draggable || (this._draggable = new ke(t, t, !0)), this._draggable.on({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this).enable(), pt(t, "leaflet-marker-draggable");
    }, removeHooks: function removeHooks() {
      this._draggable.off({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this).disable(), this._marker._icon && mt(this._marker._icon, "leaflet-marker-draggable");
    }, moved: function moved() {
      return this._draggable && this._draggable._moved;
    }, _onDragStart: function _onDragStart() {
      this._oldLatLng = this._marker.getLatLng(), this._marker.closePopup().fire("movestart").fire("dragstart");
    }, _onDrag: function _onDrag(t) {
      var i = this._marker,
          e = i._shadow,
          n = bt(i._icon),
          o = i._map.layerPointToLatLng(n);e && Lt(e, n), i._latlng = o, t.latlng = o, t.oldLatLng = this._oldLatLng, i.fire("move", t).fire("drag", t);
    }, _onDragEnd: function _onDragEnd(t) {
      delete this._oldLatLng, this._marker.fire("moveend").fire("dragend", t);
    } }),
      qe = We.extend({ options: { icon: new Ve(), interactive: !0, draggable: !1, keyboard: !0, title: "", alt: "", zIndexOffset: 0, opacity: 1, riseOnHover: !1, riseOffset: 250, pane: "markerPane", bubblingMouseEvents: !1 }, initialize: function initialize(t, i) {
      l(this, i), this._latlng = C(t);
    }, onAdd: function onAdd(t) {
      this._zoomAnimated = this._zoomAnimated && t.options.markerZoomAnimation, this._zoomAnimated && t.on("zoomanim", this._animateZoom, this), this._initIcon(), this.update();
    }, onRemove: function onRemove(t) {
      this.dragging && this.dragging.enabled() && (this.options.draggable = !0, this.dragging.removeHooks()), delete this.dragging, this._zoomAnimated && t.off("zoomanim", this._animateZoom, this), this._removeIcon(), this._removeShadow();
    }, getEvents: function getEvents() {
      return { zoom: this.update, viewreset: this.update };
    }, getLatLng: function getLatLng() {
      return this._latlng;
    }, setLatLng: function setLatLng(t) {
      var i = this._latlng;return this._latlng = C(t), this.update(), this.fire("move", { oldLatLng: i, latlng: this._latlng });
    }, setZIndexOffset: function setZIndexOffset(t) {
      return this.options.zIndexOffset = t, this.update();
    }, setIcon: function setIcon(t) {
      return this.options.icon = t, this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup, this._popup.options), this;
    }, getElement: function getElement() {
      return this._icon;
    }, update: function update() {
      if (this._icon) {
        var t = this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t);
      }return this;
    }, _initIcon: function _initIcon() {
      var t = this.options,
          i = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide"),
          e = t.icon.createIcon(this._icon),
          n = !1;e !== this._icon && (this._icon && this._removeIcon(), n = !0, t.title && (e.title = t.title), t.alt && (e.alt = t.alt)), pt(e, i), t.keyboard && (e.tabIndex = "0"), this._icon = e, t.riseOnHover && this.on({ mouseover: this._bringToFront, mouseout: this._resetZIndex });var o = t.icon.createShadow(this._shadow),
          s = !1;o !== this._shadow && (this._removeShadow(), s = !0), o && (pt(o, i), o.alt = ""), this._shadow = o, t.opacity < 1 && this._updateOpacity(), n && this.getPane().appendChild(this._icon), this._initInteraction(), o && s && this.getPane("shadowPane").appendChild(this._shadow);
    }, _removeIcon: function _removeIcon() {
      this.options.riseOnHover && this.off({ mouseover: this._bringToFront, mouseout: this._resetZIndex }), ut(this._icon), this.removeInteractiveTarget(this._icon), this._icon = null;
    }, _removeShadow: function _removeShadow() {
      this._shadow && ut(this._shadow), this._shadow = null;
    }, _setPos: function _setPos(t) {
      Lt(this._icon, t), this._shadow && Lt(this._shadow, t), this._zIndex = t.y + this.options.zIndexOffset, this._resetZIndex();
    }, _updateZIndex: function _updateZIndex(t) {
      this._icon.style.zIndex = this._zIndex + t;
    }, _animateZoom: function _animateZoom(t) {
      var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center).round();this._setPos(i);
    }, _initInteraction: function _initInteraction() {
      if (this.options.interactive && (pt(this._icon, "leaflet-interactive"), this.addInteractiveTarget(this._icon), Ge)) {
        var t = this.options.draggable;this.dragging && (t = this.dragging.enabled(), this.dragging.disable()), this.dragging = new Ge(this), t && this.dragging.enable();
      }
    }, setOpacity: function setOpacity(t) {
      return this.options.opacity = t, this._map && this._updateOpacity(), this;
    }, _updateOpacity: function _updateOpacity() {
      var t = this.options.opacity;vt(this._icon, t), this._shadow && vt(this._shadow, t);
    }, _bringToFront: function _bringToFront() {
      this._updateZIndex(this.options.riseOffset);
    }, _resetZIndex: function _resetZIndex() {
      this._updateZIndex(0);
    }, _getPopupAnchor: function _getPopupAnchor() {
      return this.options.icon.options.popupAnchor || [0, 0];
    }, _getTooltipAnchor: function _getTooltipAnchor() {
      return this.options.icon.options.tooltipAnchor || [0, 0];
    } }),
      Ke = We.extend({ options: { stroke: !0, color: "#3388ff", weight: 3, opacity: 1, lineCap: "round", lineJoin: "round", dashArray: null, dashOffset: null, fill: !1, fillColor: null, fillOpacity: .2, fillRule: "evenodd", interactive: !0, bubblingMouseEvents: !0 }, beforeAdd: function beforeAdd(t) {
      this._renderer = t.getRenderer(this);
    }, onAdd: function onAdd() {
      this._renderer._initPath(this), this._reset(), this._renderer._addPath(this);
    }, onRemove: function onRemove() {
      this._renderer._removePath(this);
    }, redraw: function redraw() {
      return this._map && this._renderer._updatePath(this), this;
    }, setStyle: function setStyle(t) {
      return l(this, t), this._renderer && this._renderer._updateStyle(this), this;
    }, bringToFront: function bringToFront() {
      return this._renderer && this._renderer._bringToFront(this), this;
    }, bringToBack: function bringToBack() {
      return this._renderer && this._renderer._bringToBack(this), this;
    }, getElement: function getElement() {
      return this._path;
    }, _reset: function _reset() {
      this._project(), this._update();
    }, _clickTolerance: function _clickTolerance() {
      return (this.options.stroke ? this.options.weight / 2 : 0) + (Hi ? 10 : 0);
    } }),
      Ye = Ke.extend({ options: { fill: !0, radius: 10 }, initialize: function initialize(t, i) {
      l(this, i), this._latlng = C(t), this._radius = this.options.radius;
    }, setLatLng: function setLatLng(t) {
      return this._latlng = C(t), this.redraw(), this.fire("move", { latlng: this._latlng });
    }, getLatLng: function getLatLng() {
      return this._latlng;
    }, setRadius: function setRadius(t) {
      return this.options.radius = this._radius = t, this.redraw();
    }, getRadius: function getRadius() {
      return this._radius;
    }, setStyle: function setStyle(t) {
      var i = t && t.radius || this._radius;return Ke.prototype.setStyle.call(this, t), this.setRadius(i), this;
    }, _project: function _project() {
      this._point = this._map.latLngToLayerPoint(this._latlng), this._updateBounds();
    }, _updateBounds: function _updateBounds() {
      var t = this._radius,
          i = this._radiusY || t,
          e = this._clickTolerance(),
          n = [t + e, i + e];this._pxBounds = new b(this._point.subtract(n), this._point.add(n));
    }, _update: function _update() {
      this._map && this._updatePath();
    }, _updatePath: function _updatePath() {
      this._renderer._updateCircle(this);
    }, _empty: function _empty() {
      return this._radius && !this._renderer._bounds.intersects(this._pxBounds);
    }, _containsPoint: function _containsPoint(t) {
      return t.distanceTo(this._point) <= this._radius + this._clickTolerance();
    } }),
      Xe = Ye.extend({ initialize: function initialize(t, e, n) {
      if ("number" == typeof e && (e = i({}, n, { radius: e })), l(this, e), this._latlng = C(t), isNaN(this.options.radius)) throw new Error("Circle radius cannot be NaN");this._mRadius = this.options.radius;
    }, setRadius: function setRadius(t) {
      return this._mRadius = t, this.redraw();
    }, getRadius: function getRadius() {
      return this._mRadius;
    }, getBounds: function getBounds() {
      var t = [this._radius, this._radiusY || this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)), this._map.layerPointToLatLng(this._point.add(t)));
    }, setStyle: Ke.prototype.setStyle, _project: function _project() {
      var t = this._latlng.lng,
          i = this._latlng.lat,
          e = this._map,
          n = e.options.crs;if (n.distance === ci.distance) {
        var o = Math.PI / 180,
            s = this._mRadius / ci.R / o,
            r = e.project([i + s, t]),
            a = e.project([i - s, t]),
            h = r.add(a).divideBy(2),
            u = e.unproject(h).lat,
            l = Math.acos((Math.cos(s * o) - Math.sin(i * o) * Math.sin(u * o)) / (Math.cos(i * o) * Math.cos(u * o))) / o;(isNaN(l) || 0 === l) && (l = s / Math.cos(Math.PI / 180 * i)), this._point = h.subtract(e.getPixelOrigin()), this._radius = isNaN(l) ? 0 : Math.max(Math.round(h.x - e.project([u, t - l]).x), 1), this._radiusY = Math.max(Math.round(h.y - r.y), 1);
      } else {
        var c = n.unproject(n.project(this._latlng).subtract([this._mRadius, 0]));this._point = e.latLngToLayerPoint(this._latlng), this._radius = this._point.x - e.latLngToLayerPoint(c).x;
      }this._updateBounds();
    } }),
      Je = Ke.extend({ options: { smoothFactor: 1, noClip: !1 }, initialize: function initialize(t, i) {
      l(this, i), this._setLatLngs(t);
    }, getLatLngs: function getLatLngs() {
      return this._latlngs;
    }, setLatLngs: function setLatLngs(t) {
      return this._setLatLngs(t), this.redraw();
    }, isEmpty: function isEmpty() {
      return !this._latlngs.length;
    }, closestLayerPoint: function closestLayerPoint(t) {
      for (var i, e, n = 1 / 0, o = null, s = Rt, r = 0, a = this._parts.length; r < a; r++) {
        for (var h = this._parts[r], u = 1, l = h.length; u < l; u++) {
          var c = s(t, i = h[u - 1], e = h[u], !0);c < n && (n = c, o = s(t, i, e));
        }
      }return o && (o.distance = Math.sqrt(n)), o;
    }, getCenter: function getCenter() {
      if (!this._map) throw new Error("Must add layer to map before using getCenter()");var t,
          i,
          e,
          n,
          o,
          s,
          r,
          a = this._rings[0],
          h = a.length;if (!h) return null;for (t = 0, i = 0; t < h - 1; t++) {
        i += a[t].distanceTo(a[t + 1]) / 2;
      }if (0 === i) return this._map.layerPointToLatLng(a[0]);for (t = 0, n = 0; t < h - 1; t++) {
        if (o = a[t], s = a[t + 1], e = o.distanceTo(s), (n += e) > i) return r = (n - i) / e, this._map.layerPointToLatLng([s.x - r * (s.x - o.x), s.y - r * (s.y - o.y)]);
      }
    }, getBounds: function getBounds() {
      return this._bounds;
    }, addLatLng: function addLatLng(t, i) {
      return i = i || this._defaultShape(), t = C(t), i.push(t), this._bounds.extend(t), this.redraw();
    }, _setLatLngs: function _setLatLngs(t) {
      this._bounds = new T(), this._latlngs = this._convertLatLngs(t);
    }, _defaultShape: function _defaultShape() {
      return Dt(this._latlngs) ? this._latlngs : this._latlngs[0];
    }, _convertLatLngs: function _convertLatLngs(t) {
      for (var i = [], e = Dt(t), n = 0, o = t.length; n < o; n++) {
        e ? (i[n] = C(t[n]), this._bounds.extend(i[n])) : i[n] = this._convertLatLngs(t[n]);
      }return i;
    }, _project: function _project() {
      var t = new b();this._rings = [], this._projectLatlngs(this._latlngs, this._rings, t);var i = this._clickTolerance(),
          e = new x(i, i);this._bounds.isValid() && t.isValid() && (t.min._subtract(e), t.max._add(e), this._pxBounds = t);
    }, _projectLatlngs: function _projectLatlngs(t, i, e) {
      var n,
          o,
          s = t[0] instanceof M,
          r = t.length;if (s) {
        for (o = [], n = 0; n < r; n++) {
          o[n] = this._map.latLngToLayerPoint(t[n]), e.extend(o[n]);
        }i.push(o);
      } else for (n = 0; n < r; n++) {
        this._projectLatlngs(t[n], i, e);
      }
    }, _clipPoints: function _clipPoints() {
      var t = this._renderer._bounds;if (this._parts = [], this._pxBounds && this._pxBounds.intersects(t)) if (this.options.noClip) this._parts = this._rings;else {
        var i,
            e,
            n,
            o,
            s,
            r,
            a,
            h = this._parts;for (i = 0, n = 0, o = this._rings.length; i < o; i++) {
          for (e = 0, s = (a = this._rings[i]).length; e < s - 1; e++) {
            (r = Bt(a[e], a[e + 1], t, e, !0)) && (h[n] = h[n] || [], h[n].push(r[0]), r[1] === a[e + 1] && e !== s - 2 || (h[n].push(r[1]), n++));
          }
        }
      }
    }, _simplifyPoints: function _simplifyPoints() {
      for (var t = this._parts, i = this.options.smoothFactor, e = 0, n = t.length; e < n; e++) {
        t[e] = Ct(t[e], i);
      }
    }, _update: function _update() {
      this._map && (this._clipPoints(), this._simplifyPoints(), this._updatePath());
    }, _updatePath: function _updatePath() {
      this._renderer._updatePoly(this);
    }, _containsPoint: function _containsPoint(t, i) {
      var e,
          n,
          o,
          s,
          r,
          a,
          h = this._clickTolerance();if (!this._pxBounds || !this._pxBounds.contains(t)) return !1;for (e = 0, s = this._parts.length; e < s; e++) {
        for (n = 0, o = (r = (a = this._parts[e]).length) - 1; n < r; o = n++) {
          if ((i || 0 !== n) && Zt(t, a[o], a[n]) <= h) return !0;
        }
      }return !1;
    } });Je._flat = Nt;var $e = Je.extend({ options: { fill: !0 }, isEmpty: function isEmpty() {
      return !this._latlngs.length || !this._latlngs[0].length;
    }, getCenter: function getCenter() {
      if (!this._map) throw new Error("Must add layer to map before using getCenter()");var t,
          i,
          e,
          n,
          o,
          s,
          r,
          a,
          h,
          u = this._rings[0],
          l = u.length;if (!l) return null;for (s = r = a = 0, t = 0, i = l - 1; t < l; i = t++) {
        e = u[t], n = u[i], o = e.y * n.x - n.y * e.x, r += (e.x + n.x) * o, a += (e.y + n.y) * o, s += 3 * o;
      }return h = 0 === s ? u[0] : [r / s, a / s], this._map.layerPointToLatLng(h);
    }, _convertLatLngs: function _convertLatLngs(t) {
      var i = Je.prototype._convertLatLngs.call(this, t),
          e = i.length;return e >= 2 && i[0] instanceof M && i[0].equals(i[e - 1]) && i.pop(), i;
    }, _setLatLngs: function _setLatLngs(t) {
      Je.prototype._setLatLngs.call(this, t), Dt(this._latlngs) && (this._latlngs = [this._latlngs]);
    }, _defaultShape: function _defaultShape() {
      return Dt(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0];
    }, _clipPoints: function _clipPoints() {
      var t = this._renderer._bounds,
          i = this.options.weight,
          e = new x(i, i);if (t = new b(t.min.subtract(e), t.max.add(e)), this._parts = [], this._pxBounds && this._pxBounds.intersects(t)) if (this.options.noClip) this._parts = this._rings;else for (var n, o = 0, s = this._rings.length; o < s; o++) {
        (n = jt(this._rings[o], t, !0)).length && this._parts.push(n);
      }
    }, _updatePath: function _updatePath() {
      this._renderer._updatePoly(this, !0);
    }, _containsPoint: function _containsPoint(t) {
      var i,
          e,
          n,
          o,
          s,
          r,
          a,
          h,
          u = !1;if (!this._pxBounds.contains(t)) return !1;for (o = 0, a = this._parts.length; o < a; o++) {
        for (s = 0, r = (h = (i = this._parts[o]).length) - 1; s < h; r = s++) {
          e = i[s], n = i[r], e.y > t.y != n.y > t.y && t.x < (n.x - e.x) * (t.y - e.y) / (n.y - e.y) + e.x && (u = !u);
        }
      }return u || Je.prototype._containsPoint.call(this, t, !0);
    } }),
      Qe = Fe.extend({ initialize: function initialize(t, i) {
      l(this, i), this._layers = {}, t && this.addData(t);
    }, addData: function addData(t) {
      var i,
          e,
          n,
          o = ei(t) ? t : t.features;if (o) {
        for (i = 0, e = o.length; i < e; i++) {
          ((n = o[i]).geometries || n.geometry || n.features || n.coordinates) && this.addData(n);
        }return this;
      }var s = this.options;if (s.filter && !s.filter(t)) return this;var r = Wt(t, s);return r ? (r.feature = qt(t), r.defaultOptions = r.options, this.resetStyle(r), s.onEachFeature && s.onEachFeature(t, r), this.addLayer(r)) : this;
    }, resetStyle: function resetStyle(t) {
      return t.options = i({}, t.defaultOptions), this._setLayerStyle(t, this.options.style), this;
    }, setStyle: function setStyle(t) {
      return this.eachLayer(function (i) {
        this._setLayerStyle(i, t);
      }, this);
    }, _setLayerStyle: function _setLayerStyle(t, i) {
      "function" == typeof i && (i = i(t.feature)), t.setStyle && t.setStyle(i);
    } }),
      tn = { toGeoJSON: function toGeoJSON(t) {
      return Gt(this, { type: "Point", coordinates: Ut(this.getLatLng(), t) });
    } };qe.include(tn), Xe.include(tn), Ye.include(tn), Je.include({ toGeoJSON: function toGeoJSON(t) {
      var i = !Dt(this._latlngs),
          e = Vt(this._latlngs, i ? 1 : 0, !1, t);return Gt(this, { type: (i ? "Multi" : "") + "LineString", coordinates: e });
    } }), $e.include({ toGeoJSON: function toGeoJSON(t) {
      var i = !Dt(this._latlngs),
          e = i && !Dt(this._latlngs[0]),
          n = Vt(this._latlngs, e ? 2 : i ? 1 : 0, !0, t);return i || (n = [n]), Gt(this, { type: (e ? "Multi" : "") + "Polygon", coordinates: n });
    } }), He.include({ toMultiPoint: function toMultiPoint(t) {
      var i = [];return this.eachLayer(function (e) {
        i.push(e.toGeoJSON(t).geometry.coordinates);
      }), Gt(this, { type: "MultiPoint", coordinates: i });
    }, toGeoJSON: function toGeoJSON(t) {
      var i = this.feature && this.feature.geometry && this.feature.geometry.type;if ("MultiPoint" === i) return this.toMultiPoint(t);var e = "GeometryCollection" === i,
          n = [];return this.eachLayer(function (i) {
        if (i.toGeoJSON) {
          var o = i.toGeoJSON(t);if (e) n.push(o.geometry);else {
            var s = qt(o);"FeatureCollection" === s.type ? n.push.apply(n, s.features) : n.push(s);
          }
        }
      }), e ? Gt(this, { geometries: n, type: "GeometryCollection" }) : { type: "FeatureCollection", features: n };
    } });var en = Kt,
      nn = We.extend({ options: { opacity: 1, alt: "", interactive: !1, crossOrigin: !1, errorOverlayUrl: "", zIndex: 1, className: "" }, initialize: function initialize(t, i, e) {
      this._url = t, this._bounds = z(i), l(this, e);
    }, onAdd: function onAdd() {
      this._image || (this._initImage(), this.options.opacity < 1 && this._updateOpacity()), this.options.interactive && (pt(this._image, "leaflet-interactive"), this.addInteractiveTarget(this._image)), this.getPane().appendChild(this._image), this._reset();
    }, onRemove: function onRemove() {
      ut(this._image), this.options.interactive && this.removeInteractiveTarget(this._image);
    }, setOpacity: function setOpacity(t) {
      return this.options.opacity = t, this._image && this._updateOpacity(), this;
    }, setStyle: function setStyle(t) {
      return t.opacity && this.setOpacity(t.opacity), this;
    }, bringToFront: function bringToFront() {
      return this._map && ct(this._image), this;
    }, bringToBack: function bringToBack() {
      return this._map && _t(this._image), this;
    }, setUrl: function setUrl(t) {
      return this._url = t, this._image && (this._image.src = t), this;
    }, setBounds: function setBounds(t) {
      return this._bounds = z(t), this._map && this._reset(), this;
    }, getEvents: function getEvents() {
      var t = { zoom: this._reset, viewreset: this._reset };return this._zoomAnimated && (t.zoomanim = this._animateZoom), t;
    }, setZIndex: function setZIndex(t) {
      return this.options.zIndex = t, this._updateZIndex(), this;
    }, getBounds: function getBounds() {
      return this._bounds;
    }, getElement: function getElement() {
      return this._image;
    }, _initImage: function _initImage() {
      var t = this._image = ht("img", "leaflet-image-layer " + (this._zoomAnimated ? "leaflet-zoom-animated" : "") + (this.options.className || ""));t.onselectstart = r, t.onmousemove = r, t.onload = e(this.fire, this, "load"), t.onerror = e(this._overlayOnError, this, "error"), this.options.crossOrigin && (t.crossOrigin = ""), this.options.zIndex && this._updateZIndex(), t.src = this._url, t.alt = this.options.alt;
    }, _animateZoom: function _animateZoom(t) {
      var i = this._map.getZoomScale(t.zoom),
          e = this._map._latLngBoundsToNewLayerBounds(this._bounds, t.zoom, t.center).min;wt(this._image, e, i);
    }, _reset: function _reset() {
      var t = this._image,
          i = new b(this._map.latLngToLayerPoint(this._bounds.getNorthWest()), this._map.latLngToLayerPoint(this._bounds.getSouthEast())),
          e = i.getSize();Lt(t, i.min), t.style.width = e.x + "px", t.style.height = e.y + "px";
    }, _updateOpacity: function _updateOpacity() {
      vt(this._image, this.options.opacity);
    }, _updateZIndex: function _updateZIndex() {
      this._image && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._image.style.zIndex = this.options.zIndex);
    }, _overlayOnError: function _overlayOnError() {
      this.fire("error");var t = this.options.errorOverlayUrl;t && this._url !== t && (this._url = t, this._image.src = t);
    } }),
      on = nn.extend({ options: { autoplay: !0, loop: !0 }, _initImage: function _initImage() {
      var t = "VIDEO" === this._url.tagName,
          i = this._image = t ? this._url : ht("video");if (i.class = i.class || "", i.class += "leaflet-image-layer " + (this._zoomAnimated ? "leaflet-zoom-animated" : ""), i.onselectstart = r, i.onmousemove = r, i.onloadeddata = e(this.fire, this, "load"), !t) {
        ei(this._url) || (this._url = [this._url]), i.autoplay = !!this.options.autoplay, i.loop = !!this.options.loop;for (var n = 0; n < this._url.length; n++) {
          var o = ht("source");o.src = this._url[n], i.appendChild(o);
        }
      }
    } }),
      sn = We.extend({ options: { offset: [0, 7], className: "", pane: "popupPane" }, initialize: function initialize(t, i) {
      l(this, t), this._source = i;
    }, onAdd: function onAdd(t) {
      this._zoomAnimated = t._zoomAnimated, this._container || this._initLayout(), t._fadeAnimated && vt(this._container, 0), clearTimeout(this._removeTimeout), this.getPane().appendChild(this._container), this.update(), t._fadeAnimated && vt(this._container, 1), this.bringToFront();
    }, onRemove: function onRemove(t) {
      t._fadeAnimated ? (vt(this._container, 0), this._removeTimeout = setTimeout(e(ut, void 0, this._container), 200)) : ut(this._container);
    }, getLatLng: function getLatLng() {
      return this._latlng;
    }, setLatLng: function setLatLng(t) {
      return this._latlng = C(t), this._map && (this._updatePosition(), this._adjustPan()), this;
    }, getContent: function getContent() {
      return this._content;
    }, setContent: function setContent(t) {
      return this._content = t, this.update(), this;
    }, getElement: function getElement() {
      return this._container;
    }, update: function update() {
      this._map && (this._container.style.visibility = "hidden", this._updateContent(), this._updateLayout(), this._updatePosition(), this._container.style.visibility = "", this._adjustPan());
    }, getEvents: function getEvents() {
      var t = { zoom: this._updatePosition, viewreset: this._updatePosition };return this._zoomAnimated && (t.zoomanim = this._animateZoom), t;
    }, isOpen: function isOpen() {
      return !!this._map && this._map.hasLayer(this);
    }, bringToFront: function bringToFront() {
      return this._map && ct(this._container), this;
    }, bringToBack: function bringToBack() {
      return this._map && _t(this._container), this;
    }, _updateContent: function _updateContent() {
      if (this._content) {
        var t = this._contentNode,
            i = "function" == typeof this._content ? this._content(this._source || this) : this._content;if ("string" == typeof i) t.innerHTML = i;else {
          for (; t.hasChildNodes();) {
            t.removeChild(t.firstChild);
          }t.appendChild(i);
        }this.fire("contentupdate");
      }
    }, _updatePosition: function _updatePosition() {
      if (this._map) {
        var t = this._map.latLngToLayerPoint(this._latlng),
            i = w(this.options.offset),
            e = this._getAnchor();this._zoomAnimated ? Lt(this._container, t.add(e)) : i = i.add(t).add(e);var n = this._containerBottom = -i.y,
            o = this._containerLeft = -Math.round(this._containerWidth / 2) + i.x;this._container.style.bottom = n + "px", this._container.style.left = o + "px";
      }
    }, _getAnchor: function _getAnchor() {
      return [0, 0];
    } }),
      rn = sn.extend({ options: { maxWidth: 300, minWidth: 50, maxHeight: null, autoPan: !0, autoPanPaddingTopLeft: null, autoPanPaddingBottomRight: null, autoPanPadding: [5, 5], keepInView: !1, closeButton: !0, autoClose: !0, className: "" }, openOn: function openOn(t) {
      return t.openPopup(this), this;
    }, onAdd: function onAdd(t) {
      sn.prototype.onAdd.call(this, t), t.fire("popupopen", { popup: this }), this._source && (this._source.fire("popupopen", { popup: this }, !0), this._source instanceof Ke || this._source.on("preclick", Y));
    }, onRemove: function onRemove(t) {
      sn.prototype.onRemove.call(this, t), t.fire("popupclose", { popup: this }), this._source && (this._source.fire("popupclose", { popup: this }, !0), this._source instanceof Ke || this._source.off("preclick", Y));
    }, getEvents: function getEvents() {
      var t = sn.prototype.getEvents.call(this);return (void 0 !== this.options.closeOnClick ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (t.preclick = this._close), this.options.keepInView && (t.moveend = this._adjustPan), t;
    }, _close: function _close() {
      this._map && this._map.closePopup(this);
    }, _initLayout: function _initLayout() {
      var t = "leaflet-popup",
          i = this._container = ht("div", t + " " + (this.options.className || "") + " leaflet-zoom-animated"),
          e = this._wrapper = ht("div", t + "-content-wrapper", i);if (this._contentNode = ht("div", t + "-content", e), J(e), X(this._contentNode), V(e, "contextmenu", Y), this._tipContainer = ht("div", t + "-tip-container", i), this._tip = ht("div", t + "-tip", this._tipContainer), this.options.closeButton) {
        var n = this._closeButton = ht("a", t + "-close-button", i);n.href = "#close", n.innerHTML = "&#215;", V(n, "click", this._onCloseButtonClick, this);
      }
    }, _updateLayout: function _updateLayout() {
      var t = this._contentNode,
          i = t.style;i.width = "", i.whiteSpace = "nowrap";var e = t.offsetWidth;e = Math.min(e, this.options.maxWidth), e = Math.max(e, this.options.minWidth), i.width = e + 1 + "px", i.whiteSpace = "", i.height = "";var n = t.offsetHeight,
          o = this.options.maxHeight;o && n > o ? (i.height = o + "px", pt(t, "leaflet-popup-scrolled")) : mt(t, "leaflet-popup-scrolled"), this._containerWidth = this._container.offsetWidth;
    }, _animateZoom: function _animateZoom(t) {
      var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center),
          e = this._getAnchor();Lt(this._container, i.add(e));
    }, _adjustPan: function _adjustPan() {
      if (!(!this.options.autoPan || this._map._panAnim && this._map._panAnim._inProgress)) {
        var t = this._map,
            i = parseInt(at(this._container, "marginBottom"), 10) || 0,
            e = this._container.offsetHeight + i,
            n = this._containerWidth,
            o = new x(this._containerLeft, -e - this._containerBottom);o._add(bt(this._container));var s = t.layerPointToContainerPoint(o),
            r = w(this.options.autoPanPadding),
            a = w(this.options.autoPanPaddingTopLeft || r),
            h = w(this.options.autoPanPaddingBottomRight || r),
            u = t.getSize(),
            l = 0,
            c = 0;s.x + n + h.x > u.x && (l = s.x + n - u.x + h.x), s.x - l - a.x < 0 && (l = s.x - a.x), s.y + e + h.y > u.y && (c = s.y + e - u.y + h.y), s.y - c - a.y < 0 && (c = s.y - a.y), (l || c) && t.fire("autopanstart").panBy([l, c]);
      }
    }, _onCloseButtonClick: function _onCloseButtonClick(t) {
      this._close(), Q(t);
    }, _getAnchor: function _getAnchor() {
      return w(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]);
    } });ye.mergeOptions({ closePopupOnClick: !0 }), ye.include({ openPopup: function openPopup(t, i, e) {
      return t instanceof rn || (t = new rn(e).setContent(t)), i && t.setLatLng(i), this.hasLayer(t) ? this : (this._popup && this._popup.options.autoClose && this.closePopup(), this._popup = t, this.addLayer(t));
    }, closePopup: function closePopup(t) {
      return t && t !== this._popup || (t = this._popup, this._popup = null), t && this.removeLayer(t), this;
    } }), We.include({ bindPopup: function bindPopup(t, i) {
      return t instanceof rn ? (l(t, i), this._popup = t, t._source = this) : (this._popup && !i || (this._popup = new rn(i, this)), this._popup.setContent(t)), this._popupHandlersAdded || (this.on({ click: this._openPopup, keypress: this._onKeyPress, remove: this.closePopup, move: this._movePopup }), this._popupHandlersAdded = !0), this;
    }, unbindPopup: function unbindPopup() {
      return this._popup && (this.off({ click: this._openPopup, keypress: this._onKeyPress, remove: this.closePopup, move: this._movePopup }), this._popupHandlersAdded = !1, this._popup = null), this;
    }, openPopup: function openPopup(t, i) {
      if (t instanceof We || (i = t, t = this), t instanceof Fe) for (var e in this._layers) {
        t = this._layers[e];break;
      }return i || (i = t.getCenter ? t.getCenter() : t.getLatLng()), this._popup && this._map && (this._popup._source = t, this._popup.update(), this._map.openPopup(this._popup, i)), this;
    }, closePopup: function closePopup() {
      return this._popup && this._popup._close(), this;
    }, togglePopup: function togglePopup(t) {
      return this._popup && (this._popup._map ? this.closePopup() : this.openPopup(t)), this;
    }, isPopupOpen: function isPopupOpen() {
      return !!this._popup && this._popup.isOpen();
    }, setPopupContent: function setPopupContent(t) {
      return this._popup && this._popup.setContent(t), this;
    }, getPopup: function getPopup() {
      return this._popup;
    }, _openPopup: function _openPopup(t) {
      var i = t.layer || t.target;this._popup && this._map && (Q(t), i instanceof Ke ? this.openPopup(t.layer || t.target, t.latlng) : this._map.hasLayer(this._popup) && this._popup._source === i ? this.closePopup() : this.openPopup(i, t.latlng));
    }, _movePopup: function _movePopup(t) {
      this._popup.setLatLng(t.latlng);
    }, _onKeyPress: function _onKeyPress(t) {
      13 === t.originalEvent.keyCode && this._openPopup(t);
    } });var an = sn.extend({ options: { pane: "tooltipPane", offset: [0, 0], direction: "auto", permanent: !1, sticky: !1, interactive: !1, opacity: .9 }, onAdd: function onAdd(t) {
      sn.prototype.onAdd.call(this, t), this.setOpacity(this.options.opacity), t.fire("tooltipopen", { tooltip: this }), this._source && this._source.fire("tooltipopen", { tooltip: this }, !0);
    }, onRemove: function onRemove(t) {
      sn.prototype.onRemove.call(this, t), t.fire("tooltipclose", { tooltip: this }), this._source && this._source.fire("tooltipclose", { tooltip: this }, !0);
    }, getEvents: function getEvents() {
      var t = sn.prototype.getEvents.call(this);return Hi && !this.options.permanent && (t.preclick = this._close), t;
    }, _close: function _close() {
      this._map && this._map.closeTooltip(this);
    }, _initLayout: function _initLayout() {
      var t = "leaflet-tooltip " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");this._contentNode = this._container = ht("div", t);
    }, _updateLayout: function _updateLayout() {}, _adjustPan: function _adjustPan() {}, _setPosition: function _setPosition(t) {
      var i = this._map,
          e = this._container,
          n = i.latLngToContainerPoint(i.getCenter()),
          o = i.layerPointToContainerPoint(t),
          s = this.options.direction,
          r = e.offsetWidth,
          a = e.offsetHeight,
          h = w(this.options.offset),
          u = this._getAnchor();"top" === s ? t = t.add(w(-r / 2 + h.x, -a + h.y + u.y, !0)) : "bottom" === s ? t = t.subtract(w(r / 2 - h.x, -h.y, !0)) : "center" === s ? t = t.subtract(w(r / 2 + h.x, a / 2 - u.y + h.y, !0)) : "right" === s || "auto" === s && o.x < n.x ? (s = "right", t = t.add(w(h.x + u.x, u.y - a / 2 + h.y, !0))) : (s = "left", t = t.subtract(w(r + u.x - h.x, a / 2 - u.y - h.y, !0))), mt(e, "leaflet-tooltip-right"), mt(e, "leaflet-tooltip-left"), mt(e, "leaflet-tooltip-top"), mt(e, "leaflet-tooltip-bottom"), pt(e, "leaflet-tooltip-" + s), Lt(e, t);
    }, _updatePosition: function _updatePosition() {
      var t = this._map.latLngToLayerPoint(this._latlng);this._setPosition(t);
    }, setOpacity: function setOpacity(t) {
      this.options.opacity = t, this._container && vt(this._container, t);
    }, _animateZoom: function _animateZoom(t) {
      var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center);this._setPosition(i);
    }, _getAnchor: function _getAnchor() {
      return w(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]);
    } });ye.include({ openTooltip: function openTooltip(t, i, e) {
      return t instanceof an || (t = new an(e).setContent(t)), i && t.setLatLng(i), this.hasLayer(t) ? this : this.addLayer(t);
    }, closeTooltip: function closeTooltip(t) {
      return t && this.removeLayer(t), this;
    } }), We.include({ bindTooltip: function bindTooltip(t, i) {
      return t instanceof an ? (l(t, i), this._tooltip = t, t._source = this) : (this._tooltip && !i || (this._tooltip = new an(i, this)), this._tooltip.setContent(t)), this._initTooltipInteractions(), this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(), this;
    }, unbindTooltip: function unbindTooltip() {
      return this._tooltip && (this._initTooltipInteractions(!0), this.closeTooltip(), this._tooltip = null), this;
    }, _initTooltipInteractions: function _initTooltipInteractions(t) {
      if (t || !this._tooltipHandlersAdded) {
        var i = t ? "off" : "on",
            e = { remove: this.closeTooltip, move: this._moveTooltip };this._tooltip.options.permanent ? e.add = this._openTooltip : (e.mouseover = this._openTooltip, e.mouseout = this.closeTooltip, this._tooltip.options.sticky && (e.mousemove = this._moveTooltip), Hi && (e.click = this._openTooltip)), this[i](e), this._tooltipHandlersAdded = !t;
      }
    }, openTooltip: function openTooltip(t, i) {
      if (t instanceof We || (i = t, t = this), t instanceof Fe) for (var e in this._layers) {
        t = this._layers[e];break;
      }return i || (i = t.getCenter ? t.getCenter() : t.getLatLng()), this._tooltip && this._map && (this._tooltip._source = t, this._tooltip.update(), this._map.openTooltip(this._tooltip, i), this._tooltip.options.interactive && this._tooltip._container && (pt(this._tooltip._container, "leaflet-clickable"), this.addInteractiveTarget(this._tooltip._container))), this;
    }, closeTooltip: function closeTooltip() {
      return this._tooltip && (this._tooltip._close(), this._tooltip.options.interactive && this._tooltip._container && (mt(this._tooltip._container, "leaflet-clickable"), this.removeInteractiveTarget(this._tooltip._container))), this;
    }, toggleTooltip: function toggleTooltip(t) {
      return this._tooltip && (this._tooltip._map ? this.closeTooltip() : this.openTooltip(t)), this;
    }, isTooltipOpen: function isTooltipOpen() {
      return this._tooltip.isOpen();
    }, setTooltipContent: function setTooltipContent(t) {
      return this._tooltip && this._tooltip.setContent(t), this;
    }, getTooltip: function getTooltip() {
      return this._tooltip;
    }, _openTooltip: function _openTooltip(t) {
      var i = t.layer || t.target;this._tooltip && this._map && this.openTooltip(i, this._tooltip.options.sticky ? t.latlng : void 0);
    }, _moveTooltip: function _moveTooltip(t) {
      var i,
          e,
          n = t.latlng;this._tooltip.options.sticky && t.originalEvent && (i = this._map.mouseEventToContainerPoint(t.originalEvent), e = this._map.containerPointToLayerPoint(i), n = this._map.layerPointToLatLng(e)), this._tooltip.setLatLng(n);
    } });var hn = Ue.extend({ options: { iconSize: [12, 12], html: !1, bgPos: null, className: "leaflet-div-icon" }, createIcon: function createIcon(t) {
      var i = t && "DIV" === t.tagName ? t : document.createElement("div"),
          e = this.options;if (i.innerHTML = !1 !== e.html ? e.html : "", e.bgPos) {
        var n = w(e.bgPos);i.style.backgroundPosition = -n.x + "px " + -n.y + "px";
      }return this._setIconStyles(i, "icon"), i;
    }, createShadow: function createShadow() {
      return null;
    } });Ue.Default = Ve;var un = We.extend({ options: { tileSize: 256, opacity: 1, updateWhenIdle: Ri, updateWhenZooming: !0, updateInterval: 200, zIndex: 1, bounds: null, minZoom: 0, maxZoom: void 0, maxNativeZoom: void 0, minNativeZoom: void 0, noWrap: !1, pane: "tilePane", className: "", keepBuffer: 2 }, initialize: function initialize(t) {
      l(this, t);
    }, onAdd: function onAdd() {
      this._initContainer(), this._levels = {}, this._tiles = {}, this._resetView(), this._update();
    }, beforeAdd: function beforeAdd(t) {
      t._addZoomLimit(this);
    }, onRemove: function onRemove(t) {
      this._removeAllTiles(), ut(this._container), t._removeZoomLimit(this), this._container = null, this._tileZoom = null;
    }, bringToFront: function bringToFront() {
      return this._map && (ct(this._container), this._setAutoZIndex(Math.max)), this;
    }, bringToBack: function bringToBack() {
      return this._map && (_t(this._container), this._setAutoZIndex(Math.min)), this;
    }, getContainer: function getContainer() {
      return this._container;
    }, setOpacity: function setOpacity(t) {
      return this.options.opacity = t, this._updateOpacity(), this;
    }, setZIndex: function setZIndex(t) {
      return this.options.zIndex = t, this._updateZIndex(), this;
    }, isLoading: function isLoading() {
      return this._loading;
    }, redraw: function redraw() {
      return this._map && (this._removeAllTiles(), this._update()), this;
    }, getEvents: function getEvents() {
      var t = { viewprereset: this._invalidateAll, viewreset: this._resetView, zoom: this._resetView, moveend: this._onMoveEnd };return this.options.updateWhenIdle || (this._onMove || (this._onMove = o(this._onMoveEnd, this.options.updateInterval, this)), t.move = this._onMove), this._zoomAnimated && (t.zoomanim = this._animateZoom), t;
    }, createTile: function createTile() {
      return document.createElement("div");
    }, getTileSize: function getTileSize() {
      var t = this.options.tileSize;return t instanceof x ? t : new x(t, t);
    }, _updateZIndex: function _updateZIndex() {
      this._container && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._container.style.zIndex = this.options.zIndex);
    }, _setAutoZIndex: function _setAutoZIndex(t) {
      for (var i, e = this.getPane().children, n = -t(-1 / 0, 1 / 0), o = 0, s = e.length; o < s; o++) {
        i = e[o].style.zIndex, e[o] !== this._container && i && (n = t(n, +i));
      }isFinite(n) && (this.options.zIndex = n + t(-1, 1), this._updateZIndex());
    }, _updateOpacity: function _updateOpacity() {
      if (this._map && !wi) {
        vt(this._container, this.options.opacity);var t = +new Date(),
            i = !1,
            e = !1;for (var n in this._tiles) {
          var o = this._tiles[n];if (o.current && o.loaded) {
            var s = Math.min(1, (t - o.loaded) / 200);vt(o.el, s), s < 1 ? i = !0 : (o.active ? e = !0 : this._onOpaqueTile(o), o.active = !0);
          }
        }e && !this._noPrune && this._pruneTiles(), i && (g(this._fadeFrame), this._fadeFrame = f(this._updateOpacity, this));
      }
    }, _onOpaqueTile: r, _initContainer: function _initContainer() {
      this._container || (this._container = ht("div", "leaflet-layer " + (this.options.className || "")), this._updateZIndex(), this.options.opacity < 1 && this._updateOpacity(), this.getPane().appendChild(this._container));
    }, _updateLevels: function _updateLevels() {
      var t = this._tileZoom,
          i = this.options.maxZoom;if (void 0 !== t) {
        for (var e in this._levels) {
          this._levels[e].el.children.length || e === t ? (this._levels[e].el.style.zIndex = i - Math.abs(t - e), this._onUpdateLevel(e)) : (ut(this._levels[e].el), this._removeTilesAtZoom(e), this._onRemoveLevel(e), delete this._levels[e]);
        }var n = this._levels[t],
            o = this._map;return n || ((n = this._levels[t] = {}).el = ht("div", "leaflet-tile-container leaflet-zoom-animated", this._container), n.el.style.zIndex = i, n.origin = o.project(o.unproject(o.getPixelOrigin()), t).round(), n.zoom = t, this._setZoomTransform(n, o.getCenter(), o.getZoom()), n.el.offsetWidth, this._onCreateLevel(n)), this._level = n, n;
      }
    }, _onUpdateLevel: r, _onRemoveLevel: r, _onCreateLevel: r, _pruneTiles: function _pruneTiles() {
      if (this._map) {
        var t,
            i,
            e = this._map.getZoom();if (e > this.options.maxZoom || e < this.options.minZoom) this._removeAllTiles();else {
          for (t in this._tiles) {
            (i = this._tiles[t]).retain = i.current;
          }for (t in this._tiles) {
            if ((i = this._tiles[t]).current && !i.active) {
              var n = i.coords;this._retainParent(n.x, n.y, n.z, n.z - 5) || this._retainChildren(n.x, n.y, n.z, n.z + 2);
            }
          }for (t in this._tiles) {
            this._tiles[t].retain || this._removeTile(t);
          }
        }
      }
    }, _removeTilesAtZoom: function _removeTilesAtZoom(t) {
      for (var i in this._tiles) {
        this._tiles[i].coords.z === t && this._removeTile(i);
      }
    }, _removeAllTiles: function _removeAllTiles() {
      for (var t in this._tiles) {
        this._removeTile(t);
      }
    }, _invalidateAll: function _invalidateAll() {
      for (var t in this._levels) {
        ut(this._levels[t].el), this._onRemoveLevel(t), delete this._levels[t];
      }this._removeAllTiles(), this._tileZoom = null;
    }, _retainParent: function _retainParent(t, i, e, n) {
      var o = Math.floor(t / 2),
          s = Math.floor(i / 2),
          r = e - 1,
          a = new x(+o, +s);a.z = +r;var h = this._tileCoordsToKey(a),
          u = this._tiles[h];return u && u.active ? (u.retain = !0, !0) : (u && u.loaded && (u.retain = !0), r > n && this._retainParent(o, s, r, n));
    }, _retainChildren: function _retainChildren(t, i, e, n) {
      for (var o = 2 * t; o < 2 * t + 2; o++) {
        for (var s = 2 * i; s < 2 * i + 2; s++) {
          var r = new x(o, s);r.z = e + 1;var a = this._tileCoordsToKey(r),
              h = this._tiles[a];h && h.active ? h.retain = !0 : (h && h.loaded && (h.retain = !0), e + 1 < n && this._retainChildren(o, s, e + 1, n));
        }
      }
    }, _resetView: function _resetView(t) {
      var i = t && (t.pinch || t.flyTo);this._setView(this._map.getCenter(), this._map.getZoom(), i, i);
    }, _animateZoom: function _animateZoom(t) {
      this._setView(t.center, t.zoom, !0, t.noUpdate);
    }, _clampZoom: function _clampZoom(t) {
      var i = this.options;return void 0 !== i.minNativeZoom && t < i.minNativeZoom ? i.minNativeZoom : void 0 !== i.maxNativeZoom && i.maxNativeZoom < t ? i.maxNativeZoom : t;
    }, _setView: function _setView(t, i, e, n) {
      var o = this._clampZoom(Math.round(i));(void 0 !== this.options.maxZoom && o > this.options.maxZoom || void 0 !== this.options.minZoom && o < this.options.minZoom) && (o = void 0);var s = this.options.updateWhenZooming && o !== this._tileZoom;n && !s || (this._tileZoom = o, this._abortLoading && this._abortLoading(), this._updateLevels(), this._resetGrid(), void 0 !== o && this._update(t), e || this._pruneTiles(), this._noPrune = !!e), this._setZoomTransforms(t, i);
    }, _setZoomTransforms: function _setZoomTransforms(t, i) {
      for (var e in this._levels) {
        this._setZoomTransform(this._levels[e], t, i);
      }
    }, _setZoomTransform: function _setZoomTransform(t, i, e) {
      var n = this._map.getZoomScale(e, t.zoom),
          o = t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(i, e)).round();Oi ? wt(t.el, o, n) : Lt(t.el, o);
    }, _resetGrid: function _resetGrid() {
      var t = this._map,
          i = t.options.crs,
          e = this._tileSize = this.getTileSize(),
          n = this._tileZoom,
          o = this._map.getPixelWorldBounds(this._tileZoom);o && (this._globalTileRange = this._pxBoundsToTileRange(o)), this._wrapX = i.wrapLng && !this.options.noWrap && [Math.floor(t.project([0, i.wrapLng[0]], n).x / e.x), Math.ceil(t.project([0, i.wrapLng[1]], n).x / e.y)], this._wrapY = i.wrapLat && !this.options.noWrap && [Math.floor(t.project([i.wrapLat[0], 0], n).y / e.x), Math.ceil(t.project([i.wrapLat[1], 0], n).y / e.y)];
    }, _onMoveEnd: function _onMoveEnd() {
      this._map && !this._map._animatingZoom && this._update();
    }, _getTiledPixelBounds: function _getTiledPixelBounds(t) {
      var i = this._map,
          e = i._animatingZoom ? Math.max(i._animateToZoom, i.getZoom()) : i.getZoom(),
          n = i.getZoomScale(e, this._tileZoom),
          o = i.project(t, this._tileZoom).floor(),
          s = i.getSize().divideBy(2 * n);return new b(o.subtract(s), o.add(s));
    }, _update: function _update(t) {
      var i = this._map;if (i) {
        var e = this._clampZoom(i.getZoom());if (void 0 === t && (t = i.getCenter()), void 0 !== this._tileZoom) {
          var n = this._getTiledPixelBounds(t),
              o = this._pxBoundsToTileRange(n),
              s = o.getCenter(),
              r = [],
              a = this.options.keepBuffer,
              h = new b(o.getBottomLeft().subtract([a, -a]), o.getTopRight().add([a, -a]));if (!(isFinite(o.min.x) && isFinite(o.min.y) && isFinite(o.max.x) && isFinite(o.max.y))) throw new Error("Attempted to load an infinite number of tiles");for (var u in this._tiles) {
            var l = this._tiles[u].coords;l.z === this._tileZoom && h.contains(new x(l.x, l.y)) || (this._tiles[u].current = !1);
          }if (Math.abs(e - this._tileZoom) > 1) this._setView(t, e);else {
            for (var c = o.min.y; c <= o.max.y; c++) {
              for (var _ = o.min.x; _ <= o.max.x; _++) {
                var d = new x(_, c);d.z = this._tileZoom, this._isValidTile(d) && (this._tiles[this._tileCoordsToKey(d)] || r.push(d));
              }
            }if (r.sort(function (t, i) {
              return t.distanceTo(s) - i.distanceTo(s);
            }), 0 !== r.length) {
              this._loading || (this._loading = !0, this.fire("loading"));var p = document.createDocumentFragment();for (_ = 0; _ < r.length; _++) {
                this._addTile(r[_], p);
              }this._level.el.appendChild(p);
            }
          }
        }
      }
    }, _isValidTile: function _isValidTile(t) {
      var i = this._map.options.crs;if (!i.infinite) {
        var e = this._globalTileRange;if (!i.wrapLng && (t.x < e.min.x || t.x > e.max.x) || !i.wrapLat && (t.y < e.min.y || t.y > e.max.y)) return !1;
      }if (!this.options.bounds) return !0;var n = this._tileCoordsToBounds(t);return z(this.options.bounds).overlaps(n);
    }, _keyToBounds: function _keyToBounds(t) {
      return this._tileCoordsToBounds(this._keyToTileCoords(t));
    }, _tileCoordsToBounds: function _tileCoordsToBounds(t) {
      var i = this._map,
          e = this.getTileSize(),
          n = t.scaleBy(e),
          o = n.add(e),
          s = new T(i.unproject(n, t.z), i.unproject(o, t.z));return this.options.noWrap || i.wrapLatLngBounds(s), s;
    }, _tileCoordsToKey: function _tileCoordsToKey(t) {
      return t.x + ":" + t.y + ":" + t.z;
    }, _keyToTileCoords: function _keyToTileCoords(t) {
      var i = t.split(":"),
          e = new x(+i[0], +i[1]);return e.z = +i[2], e;
    }, _removeTile: function _removeTile(t) {
      var i = this._tiles[t];i && (ut(i.el), delete this._tiles[t], this.fire("tileunload", { tile: i.el, coords: this._keyToTileCoords(t) }));
    }, _initTile: function _initTile(t) {
      pt(t, "leaflet-tile");var i = this.getTileSize();t.style.width = i.x + "px", t.style.height = i.y + "px", t.onselectstart = r, t.onmousemove = r, wi && this.options.opacity < 1 && vt(t, this.options.opacity), Pi && !Ti && (t.style.WebkitBackfaceVisibility = "hidden");
    }, _addTile: function _addTile(t, i) {
      var n = this._getTilePos(t),
          o = this._tileCoordsToKey(t),
          s = this.createTile(this._wrapCoords(t), e(this._tileReady, this, t));this._initTile(s), this.createTile.length < 2 && f(e(this._tileReady, this, t, null, s)), Lt(s, n), this._tiles[o] = { el: s, coords: t, current: !0 }, i.appendChild(s), this.fire("tileloadstart", { tile: s, coords: t });
    }, _tileReady: function _tileReady(t, i, n) {
      if (this._map) {
        i && this.fire("tileerror", { error: i, tile: n, coords: t });var o = this._tileCoordsToKey(t);(n = this._tiles[o]) && (n.loaded = +new Date(), this._map._fadeAnimated ? (vt(n.el, 0), g(this._fadeFrame), this._fadeFrame = f(this._updateOpacity, this)) : (n.active = !0, this._pruneTiles()), i || (pt(n.el, "leaflet-tile-loaded"), this.fire("tileload", { tile: n.el, coords: t })), this._noTilesToLoad() && (this._loading = !1, this.fire("load"), wi || !this._map._fadeAnimated ? f(this._pruneTiles, this) : setTimeout(e(this._pruneTiles, this), 250)));
      }
    }, _getTilePos: function _getTilePos(t) {
      return t.scaleBy(this.getTileSize()).subtract(this._level.origin);
    }, _wrapCoords: function _wrapCoords(t) {
      var i = new x(this._wrapX ? s(t.x, this._wrapX) : t.x, this._wrapY ? s(t.y, this._wrapY) : t.y);return i.z = t.z, i;
    }, _pxBoundsToTileRange: function _pxBoundsToTileRange(t) {
      var i = this.getTileSize();return new b(t.min.unscaleBy(i).floor(), t.max.unscaleBy(i).ceil().subtract([1, 1]));
    }, _noTilesToLoad: function _noTilesToLoad() {
      for (var t in this._tiles) {
        if (!this._tiles[t].loaded) return !1;
      }return !0;
    } }),
      ln = un.extend({ options: { minZoom: 0, maxZoom: 18, subdomains: "abc", errorTileUrl: "", zoomOffset: 0, tms: !1, zoomReverse: !1, detectRetina: !1, crossOrigin: !1 }, initialize: function initialize(t, i) {
      this._url = t, (i = l(this, i)).detectRetina && Vi && i.maxZoom > 0 && (i.tileSize = Math.floor(i.tileSize / 2), i.zoomReverse ? (i.zoomOffset--, i.minZoom++) : (i.zoomOffset++, i.maxZoom--), i.minZoom = Math.max(0, i.minZoom)), "string" == typeof i.subdomains && (i.subdomains = i.subdomains.split("")), Pi || this.on("tileunload", this._onTileRemove);
    }, setUrl: function setUrl(t, i) {
      return this._url = t, i || this.redraw(), this;
    }, createTile: function createTile(t, i) {
      var n = document.createElement("img");return V(n, "load", e(this._tileOnLoad, this, i, n)), V(n, "error", e(this._tileOnError, this, i, n)), this.options.crossOrigin && (n.crossOrigin = ""), n.alt = "", n.setAttribute("role", "presentation"), n.src = this.getTileUrl(t), n;
    }, getTileUrl: function getTileUrl(t) {
      var e = { r: Vi ? "@2x" : "", s: this._getSubdomain(t), x: t.x, y: t.y, z: this._getZoomForUrl() };if (this._map && !this._map.options.crs.infinite) {
        var n = this._globalTileRange.max.y - t.y;this.options.tms && (e.y = n), e["-y"] = n;
      }return _(this._url, i(e, this.options));
    }, _tileOnLoad: function _tileOnLoad(t, i) {
      wi ? setTimeout(e(t, this, null, i), 0) : t(null, i);
    }, _tileOnError: function _tileOnError(t, i, e) {
      var n = this.options.errorTileUrl;n && i.src !== n && (i.src = n), t(e, i);
    }, _onTileRemove: function _onTileRemove(t) {
      t.tile.onload = null;
    }, _getZoomForUrl: function _getZoomForUrl() {
      var t = this._tileZoom,
          i = this.options.maxZoom,
          e = this.options.zoomReverse,
          n = this.options.zoomOffset;return e && (t = i - t), t + n;
    }, _getSubdomain: function _getSubdomain(t) {
      var i = Math.abs(t.x + t.y) % this.options.subdomains.length;return this.options.subdomains[i];
    }, _abortLoading: function _abortLoading() {
      var t, i;for (t in this._tiles) {
        this._tiles[t].coords.z !== this._tileZoom && ((i = this._tiles[t].el).onload = r, i.onerror = r, i.complete || (i.src = ni, ut(i)));
      }
    } }),
      cn = ln.extend({ defaultWmsParams: { service: "WMS", request: "GetMap", layers: "", styles: "", format: "image/jpeg", transparent: !1, version: "1.1.1" }, options: { crs: null, uppercase: !1 }, initialize: function initialize(t, e) {
      this._url = t;var n = i({}, this.defaultWmsParams);for (var o in e) {
        o in this.options || (n[o] = e[o]);
      }e = l(this, e), n.width = n.height = e.tileSize * (e.detectRetina && Vi ? 2 : 1), this.wmsParams = n;
    }, onAdd: function onAdd(t) {
      this._crs = this.options.crs || t.options.crs, this._wmsVersion = parseFloat(this.wmsParams.version);var i = this._wmsVersion >= 1.3 ? "crs" : "srs";this.wmsParams[i] = this._crs.code, ln.prototype.onAdd.call(this, t);
    }, getTileUrl: function getTileUrl(t) {
      var i = this._tileCoordsToBounds(t),
          e = this._crs.project(i.getNorthWest()),
          n = this._crs.project(i.getSouthEast()),
          o = (this._wmsVersion >= 1.3 && this._crs === Ne ? [n.y, e.x, e.y, n.x] : [e.x, n.y, n.x, e.y]).join(","),
          s = ln.prototype.getTileUrl.call(this, t);return s + c(this.wmsParams, s, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + o;
    }, setParams: function setParams(t, e) {
      return i(this.wmsParams, t), e || this.redraw(), this;
    } });ln.WMS = cn, Yt.wms = function (t, i) {
    return new cn(t, i);
  };var _n = We.extend({ options: { padding: .1 }, initialize: function initialize(t) {
      l(this, t), n(this), this._layers = this._layers || {};
    }, onAdd: function onAdd() {
      this._container || (this._initContainer(), this._zoomAnimated && pt(this._container, "leaflet-zoom-animated")), this.getPane().appendChild(this._container), this._update(), this.on("update", this._updatePaths, this);
    }, onRemove: function onRemove() {
      this.off("update", this._updatePaths, this), this._destroyContainer();
    }, getEvents: function getEvents() {
      var t = { viewreset: this._reset, zoom: this._onZoom, moveend: this._update, zoomend: this._onZoomEnd };return this._zoomAnimated && (t.zoomanim = this._onAnimZoom), t;
    }, _onAnimZoom: function _onAnimZoom(t) {
      this._updateTransform(t.center, t.zoom);
    }, _onZoom: function _onZoom() {
      this._updateTransform(this._map.getCenter(), this._map.getZoom());
    }, _updateTransform: function _updateTransform(t, i) {
      var e = this._map.getZoomScale(i, this._zoom),
          n = bt(this._container),
          o = this._map.getSize().multiplyBy(.5 + this.options.padding),
          s = this._map.project(this._center, i),
          r = this._map.project(t, i).subtract(s),
          a = o.multiplyBy(-e).add(n).add(o).subtract(r);Oi ? wt(this._container, a, e) : Lt(this._container, a);
    }, _reset: function _reset() {
      this._update(), this._updateTransform(this._center, this._zoom);for (var t in this._layers) {
        this._layers[t]._reset();
      }
    }, _onZoomEnd: function _onZoomEnd() {
      for (var t in this._layers) {
        this._layers[t]._project();
      }
    }, _updatePaths: function _updatePaths() {
      for (var t in this._layers) {
        this._layers[t]._update();
      }
    }, _update: function _update() {
      var t = this.options.padding,
          i = this._map.getSize(),
          e = this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds = new b(e, e.add(i.multiplyBy(1 + 2 * t)).round()), this._center = this._map.getCenter(), this._zoom = this._map.getZoom();
    } }),
      dn = _n.extend({ getEvents: function getEvents() {
      var t = _n.prototype.getEvents.call(this);return t.viewprereset = this._onViewPreReset, t;
    }, _onViewPreReset: function _onViewPreReset() {
      this._postponeUpdatePaths = !0;
    }, onAdd: function onAdd() {
      _n.prototype.onAdd.call(this), this._draw();
    }, _initContainer: function _initContainer() {
      var t = this._container = document.createElement("canvas");V(t, "mousemove", o(this._onMouseMove, 32, this), this), V(t, "click dblclick mousedown mouseup contextmenu", this._onClick, this), V(t, "mouseout", this._handleMouseOut, this), this._ctx = t.getContext("2d");
    }, _destroyContainer: function _destroyContainer() {
      delete this._ctx, ut(this._container), G(this._container), delete this._container;
    }, _updatePaths: function _updatePaths() {
      if (!this._postponeUpdatePaths) {
        this._redrawBounds = null;for (var t in this._layers) {
          this._layers[t]._update();
        }this._redraw();
      }
    }, _update: function _update() {
      if (!this._map._animatingZoom || !this._bounds) {
        this._drawnLayers = {}, _n.prototype._update.call(this);var t = this._bounds,
            i = this._container,
            e = t.getSize(),
            n = Vi ? 2 : 1;Lt(i, t.min), i.width = n * e.x, i.height = n * e.y, i.style.width = e.x + "px", i.style.height = e.y + "px", Vi && this._ctx.scale(2, 2), this._ctx.translate(-t.min.x, -t.min.y), this.fire("update");
      }
    }, _reset: function _reset() {
      _n.prototype._reset.call(this), this._postponeUpdatePaths && (this._postponeUpdatePaths = !1, this._updatePaths());
    }, _initPath: function _initPath(t) {
      this._updateDashArray(t), this._layers[n(t)] = t;var i = t._order = { layer: t, prev: this._drawLast, next: null };this._drawLast && (this._drawLast.next = i), this._drawLast = i, this._drawFirst = this._drawFirst || this._drawLast;
    }, _addPath: function _addPath(t) {
      this._requestRedraw(t);
    }, _removePath: function _removePath(t) {
      var i = t._order,
          e = i.next,
          n = i.prev;e ? e.prev = n : this._drawLast = n, n ? n.next = e : this._drawFirst = e, delete t._order, delete this._layers[L.stamp(t)], this._requestRedraw(t);
    }, _updatePath: function _updatePath(t) {
      this._extendRedrawBounds(t), t._project(), t._update(), this._requestRedraw(t);
    }, _updateStyle: function _updateStyle(t) {
      this._updateDashArray(t), this._requestRedraw(t);
    }, _updateDashArray: function _updateDashArray(t) {
      if (t.options.dashArray) {
        var i,
            e = t.options.dashArray.split(","),
            n = [];for (i = 0; i < e.length; i++) {
          n.push(Number(e[i]));
        }t.options._dashArray = n;
      }
    }, _requestRedraw: function _requestRedraw(t) {
      this._map && (this._extendRedrawBounds(t), this._redrawRequest = this._redrawRequest || f(this._redraw, this));
    }, _extendRedrawBounds: function _extendRedrawBounds(t) {
      if (t._pxBounds) {
        var i = (t.options.weight || 0) + 1;this._redrawBounds = this._redrawBounds || new b(), this._redrawBounds.extend(t._pxBounds.min.subtract([i, i])), this._redrawBounds.extend(t._pxBounds.max.add([i, i]));
      }
    }, _redraw: function _redraw() {
      this._redrawRequest = null, this._redrawBounds && (this._redrawBounds.min._floor(), this._redrawBounds.max._ceil()), this._clear(), this._draw(), this._redrawBounds = null;
    }, _clear: function _clear() {
      var t = this._redrawBounds;if (t) {
        var i = t.getSize();this._ctx.clearRect(t.min.x, t.min.y, i.x, i.y);
      } else this._ctx.clearRect(0, 0, this._container.width, this._container.height);
    }, _draw: function _draw() {
      var t,
          i = this._redrawBounds;if (this._ctx.save(), i) {
        var e = i.getSize();this._ctx.beginPath(), this._ctx.rect(i.min.x, i.min.y, e.x, e.y), this._ctx.clip();
      }this._drawing = !0;for (var n = this._drawFirst; n; n = n.next) {
        t = n.layer, (!i || t._pxBounds && t._pxBounds.intersects(i)) && t._updatePath();
      }this._drawing = !1, this._ctx.restore();
    }, _updatePoly: function _updatePoly(t, i) {
      if (this._drawing) {
        var e,
            n,
            o,
            s,
            r = t._parts,
            a = r.length,
            h = this._ctx;if (a) {
          for (this._drawnLayers[t._leaflet_id] = t, h.beginPath(), e = 0; e < a; e++) {
            for (n = 0, o = r[e].length; n < o; n++) {
              s = r[e][n], h[n ? "lineTo" : "moveTo"](s.x, s.y);
            }i && h.closePath();
          }this._fillStroke(h, t);
        }
      }
    }, _updateCircle: function _updateCircle(t) {
      if (this._drawing && !t._empty()) {
        var i = t._point,
            e = this._ctx,
            n = t._radius,
            o = (t._radiusY || n) / n;this._drawnLayers[t._leaflet_id] = t, 1 !== o && (e.save(), e.scale(1, o)), e.beginPath(), e.arc(i.x, i.y / o, n, 0, 2 * Math.PI, !1), 1 !== o && e.restore(), this._fillStroke(e, t);
      }
    }, _fillStroke: function _fillStroke(t, i) {
      var e = i.options;e.fill && (t.globalAlpha = e.fillOpacity, t.fillStyle = e.fillColor || e.color, t.fill(e.fillRule || "evenodd")), e.stroke && 0 !== e.weight && (t.setLineDash && t.setLineDash(i.options && i.options._dashArray || []), t.globalAlpha = e.opacity, t.lineWidth = e.weight, t.strokeStyle = e.color, t.lineCap = e.lineCap, t.lineJoin = e.lineJoin, t.stroke());
    }, _onClick: function _onClick(t) {
      for (var i, e, n = this._map.mouseEventToLayerPoint(t), o = this._drawFirst; o; o = o.next) {
        (i = o.layer).options.interactive && i._containsPoint(n) && !this._map._draggableMoved(i) && (e = i);
      }e && (et(t), this._fireEvent([e], t));
    }, _onMouseMove: function _onMouseMove(t) {
      if (this._map && !this._map.dragging.moving() && !this._map._animatingZoom) {
        var i = this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t, i);
      }
    }, _handleMouseOut: function _handleMouseOut(t) {
      var i = this._hoveredLayer;i && (mt(this._container, "leaflet-interactive"), this._fireEvent([i], t, "mouseout"), this._hoveredLayer = null);
    }, _handleMouseHover: function _handleMouseHover(t, i) {
      for (var e, n, o = this._drawFirst; o; o = o.next) {
        (e = o.layer).options.interactive && e._containsPoint(i) && (n = e);
      }n !== this._hoveredLayer && (this._handleMouseOut(t), n && (pt(this._container, "leaflet-interactive"), this._fireEvent([n], t, "mouseover"), this._hoveredLayer = n)), this._hoveredLayer && this._fireEvent([this._hoveredLayer], t);
    }, _fireEvent: function _fireEvent(t, i, e) {
      this._map._fireDOMEvent(i, e || i.type, t);
    }, _bringToFront: function _bringToFront(t) {
      var i = t._order,
          e = i.next,
          n = i.prev;e && (e.prev = n, n ? n.next = e : e && (this._drawFirst = e), i.prev = this._drawLast, this._drawLast.next = i, i.next = null, this._drawLast = i, this._requestRedraw(t));
    }, _bringToBack: function _bringToBack(t) {
      var i = t._order,
          e = i.next,
          n = i.prev;n && (n.next = e, e ? e.prev = n : n && (this._drawLast = n), i.prev = null, i.next = this._drawFirst, this._drawFirst.prev = i, this._drawFirst = i, this._requestRedraw(t));
    } }),
      pn = function () {
    try {
      return document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"), function (t) {
        return document.createElement("<lvml:" + t + ' class="lvml">');
      };
    } catch (t) {
      return function (t) {
        return document.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">');
      };
    }
  }(),
      mn = { _initContainer: function _initContainer() {
      this._container = ht("div", "leaflet-vml-container");
    }, _update: function _update() {
      this._map._animatingZoom || (_n.prototype._update.call(this), this.fire("update"));
    }, _initPath: function _initPath(t) {
      var i = t._container = pn("shape");pt(i, "leaflet-vml-shape " + (this.options.className || "")), i.coordsize = "1 1", t._path = pn("path"), i.appendChild(t._path), this._updateStyle(t), this._layers[n(t)] = t;
    }, _addPath: function _addPath(t) {
      var i = t._container;this._container.appendChild(i), t.options.interactive && t.addInteractiveTarget(i);
    }, _removePath: function _removePath(t) {
      var i = t._container;ut(i), t.removeInteractiveTarget(i), delete this._layers[n(t)];
    }, _updateStyle: function _updateStyle(t) {
      var i = t._stroke,
          e = t._fill,
          n = t.options,
          o = t._container;o.stroked = !!n.stroke, o.filled = !!n.fill, n.stroke ? (i || (i = t._stroke = pn("stroke")), o.appendChild(i), i.weight = n.weight + "px", i.color = n.color, i.opacity = n.opacity, n.dashArray ? i.dashStyle = ei(n.dashArray) ? n.dashArray.join(" ") : n.dashArray.replace(/( *, *)/g, " ") : i.dashStyle = "", i.endcap = n.lineCap.replace("butt", "flat"), i.joinstyle = n.lineJoin) : i && (o.removeChild(i), t._stroke = null), n.fill ? (e || (e = t._fill = pn("fill")), o.appendChild(e), e.color = n.fillColor || n.color, e.opacity = n.fillOpacity) : e && (o.removeChild(e), t._fill = null);
    }, _updateCircle: function _updateCircle(t) {
      var i = t._point.round(),
          e = Math.round(t._radius),
          n = Math.round(t._radiusY || e);this._setPath(t, t._empty() ? "M0 0" : "AL " + i.x + "," + i.y + " " + e + "," + n + " 0,23592600");
    }, _setPath: function _setPath(t, i) {
      t._path.v = i;
    }, _bringToFront: function _bringToFront(t) {
      ct(t._container);
    }, _bringToBack: function _bringToBack(t) {
      _t(t._container);
    } },
      fn = Ki ? pn : S,
      gn = _n.extend({ getEvents: function getEvents() {
      var t = _n.prototype.getEvents.call(this);return t.zoomstart = this._onZoomStart, t;
    }, _initContainer: function _initContainer() {
      this._container = fn("svg"), this._container.setAttribute("pointer-events", "none"), this._rootGroup = fn("g"), this._container.appendChild(this._rootGroup);
    }, _destroyContainer: function _destroyContainer() {
      ut(this._container), G(this._container), delete this._container, delete this._rootGroup;
    }, _onZoomStart: function _onZoomStart() {
      this._update();
    }, _update: function _update() {
      if (!this._map._animatingZoom || !this._bounds) {
        _n.prototype._update.call(this);var t = this._bounds,
            i = t.getSize(),
            e = this._container;this._svgSize && this._svgSize.equals(i) || (this._svgSize = i, e.setAttribute("width", i.x), e.setAttribute("height", i.y)), Lt(e, t.min), e.setAttribute("viewBox", [t.min.x, t.min.y, i.x, i.y].join(" ")), this.fire("update");
      }
    }, _initPath: function _initPath(t) {
      var i = t._path = fn("path");t.options.className && pt(i, t.options.className), t.options.interactive && pt(i, "leaflet-interactive"), this._updateStyle(t), this._layers[n(t)] = t;
    }, _addPath: function _addPath(t) {
      this._rootGroup || this._initContainer(), this._rootGroup.appendChild(t._path), t.addInteractiveTarget(t._path);
    }, _removePath: function _removePath(t) {
      ut(t._path), t.removeInteractiveTarget(t._path), delete this._layers[n(t)];
    }, _updatePath: function _updatePath(t) {
      t._project(), t._update();
    }, _updateStyle: function _updateStyle(t) {
      var i = t._path,
          e = t.options;i && (e.stroke ? (i.setAttribute("stroke", e.color), i.setAttribute("stroke-opacity", e.opacity), i.setAttribute("stroke-width", e.weight), i.setAttribute("stroke-linecap", e.lineCap), i.setAttribute("stroke-linejoin", e.lineJoin), e.dashArray ? i.setAttribute("stroke-dasharray", e.dashArray) : i.removeAttribute("stroke-dasharray"), e.dashOffset ? i.setAttribute("stroke-dashoffset", e.dashOffset) : i.removeAttribute("stroke-dashoffset")) : i.setAttribute("stroke", "none"), e.fill ? (i.setAttribute("fill", e.fillColor || e.color), i.setAttribute("fill-opacity", e.fillOpacity), i.setAttribute("fill-rule", e.fillRule || "evenodd")) : i.setAttribute("fill", "none"));
    }, _updatePoly: function _updatePoly(t, i) {
      this._setPath(t, k(t._parts, i));
    }, _updateCircle: function _updateCircle(t) {
      var i = t._point,
          e = t._radius,
          n = "a" + e + "," + (t._radiusY || e) + " 0 1,0 ",
          o = t._empty() ? "M0 0" : "M" + (i.x - e) + "," + i.y + n + 2 * e + ",0 " + n + 2 * -e + ",0 ";this._setPath(t, o);
    }, _setPath: function _setPath(t, i) {
      t._path.setAttribute("d", i);
    }, _bringToFront: function _bringToFront(t) {
      ct(t._path);
    }, _bringToBack: function _bringToBack(t) {
      _t(t._path);
    } });Ki && gn.include(mn), ye.include({ getRenderer: function getRenderer(t) {
      var i = t.options.renderer || this._getPaneRenderer(t.options.pane) || this.options.renderer || this._renderer;return i || (i = this._renderer = this.options.preferCanvas && Xt() || Jt()), this.hasLayer(i) || this.addLayer(i), i;
    }, _getPaneRenderer: function _getPaneRenderer(t) {
      if ("overlayPane" === t || void 0 === t) return !1;var i = this._paneRenderers[t];return void 0 === i && (i = gn && Jt({ pane: t }) || dn && Xt({ pane: t }), this._paneRenderers[t] = i), i;
    } });var vn = $e.extend({ initialize: function initialize(t, i) {
      $e.prototype.initialize.call(this, this._boundsToLatLngs(t), i);
    }, setBounds: function setBounds(t) {
      return this.setLatLngs(this._boundsToLatLngs(t));
    }, _boundsToLatLngs: function _boundsToLatLngs(t) {
      return t = z(t), [t.getSouthWest(), t.getNorthWest(), t.getNorthEast(), t.getSouthEast()];
    } });gn.create = fn, gn.pointsToPath = k, Qe.geometryToLayer = Wt, Qe.coordsToLatLng = Ht, Qe.coordsToLatLngs = Ft, Qe.latLngToCoords = Ut, Qe.latLngsToCoords = Vt, Qe.getFeature = Gt, Qe.asFeature = qt, ye.mergeOptions({ boxZoom: !0 });var yn = Me.extend({ initialize: function initialize(t) {
      this._map = t, this._container = t._container, this._pane = t._panes.overlayPane, this._resetStateTimeout = 0, t.on("unload", this._destroy, this);
    }, addHooks: function addHooks() {
      V(this._container, "mousedown", this._onMouseDown, this);
    }, removeHooks: function removeHooks() {
      G(this._container, "mousedown", this._onMouseDown, this);
    }, moved: function moved() {
      return this._moved;
    }, _destroy: function _destroy() {
      ut(this._pane), delete this._pane;
    }, _resetState: function _resetState() {
      this._resetStateTimeout = 0, this._moved = !1;
    }, _clearDeferredResetState: function _clearDeferredResetState() {
      0 !== this._resetStateTimeout && (clearTimeout(this._resetStateTimeout), this._resetStateTimeout = 0);
    }, _onMouseDown: function _onMouseDown(t) {
      if (!t.shiftKey || 1 !== t.which && 1 !== t.button) return !1;this._clearDeferredResetState(), this._resetState(), pi(), Pt(), this._startPoint = this._map.mouseEventToContainerPoint(t), V(document, { contextmenu: Q, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this);
    }, _onMouseMove: function _onMouseMove(t) {
      this._moved || (this._moved = !0, this._box = ht("div", "leaflet-zoom-box", this._container), pt(this._container, "leaflet-crosshair"), this._map.fire("boxzoomstart")), this._point = this._map.mouseEventToContainerPoint(t);var i = new b(this._point, this._startPoint),
          e = i.getSize();Lt(this._box, i.min), this._box.style.width = e.x + "px", this._box.style.height = e.y + "px";
    }, _finish: function _finish() {
      this._moved && (ut(this._box), mt(this._container, "leaflet-crosshair")), mi(), Tt(), G(document, { contextmenu: Q, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this);
    }, _onMouseUp: function _onMouseUp(t) {
      if ((1 === t.which || 1 === t.button) && (this._finish(), this._moved)) {
        this._clearDeferredResetState(), this._resetStateTimeout = setTimeout(e(this._resetState, this), 0);var i = new T(this._map.containerPointToLatLng(this._startPoint), this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend", { boxZoomBounds: i });
      }
    }, _onKeyDown: function _onKeyDown(t) {
      27 === t.keyCode && this._finish();
    } });ye.addInitHook("addHandler", "boxZoom", yn), ye.mergeOptions({ doubleClickZoom: !0 });var xn = Me.extend({ addHooks: function addHooks() {
      this._map.on("dblclick", this._onDoubleClick, this);
    }, removeHooks: function removeHooks() {
      this._map.off("dblclick", this._onDoubleClick, this);
    }, _onDoubleClick: function _onDoubleClick(t) {
      var i = this._map,
          e = i.getZoom(),
          n = i.options.zoomDelta,
          o = t.originalEvent.shiftKey ? e - n : e + n;"center" === i.options.doubleClickZoom ? i.setZoom(o) : i.setZoomAround(t.containerPoint, o);
    } });ye.addInitHook("addHandler", "doubleClickZoom", xn), ye.mergeOptions({ dragging: !0, inertia: !Ti, inertiaDeceleration: 3400, inertiaMaxSpeed: 1 / 0, easeLinearity: .2, worldCopyJump: !1, maxBoundsViscosity: 0 });var wn = Me.extend({ addHooks: function addHooks() {
      if (!this._draggable) {
        var t = this._map;this._draggable = new ke(t._mapPane, t._container), this._draggable.on({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this), this._draggable.on("predrag", this._onPreDragLimit, this), t.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDragWrap, this), t.on("zoomend", this._onZoomEnd, this), t.whenReady(this._onZoomEnd, this));
      }pt(this._map._container, "leaflet-grab leaflet-touch-drag"), this._draggable.enable(), this._positions = [], this._times = [];
    }, removeHooks: function removeHooks() {
      mt(this._map._container, "leaflet-grab"), mt(this._map._container, "leaflet-touch-drag"), this._draggable.disable();
    }, moved: function moved() {
      return this._draggable && this._draggable._moved;
    }, moving: function moving() {
      return this._draggable && this._draggable._moving;
    }, _onDragStart: function _onDragStart() {
      var t = this._map;if (t._stop(), this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
        var i = z(this._map.options.maxBounds);this._offsetLimit = P(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())), this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity));
      } else this._offsetLimit = null;t.fire("movestart").fire("dragstart"), t.options.inertia && (this._positions = [], this._times = []);
    }, _onDrag: function _onDrag(t) {
      if (this._map.options.inertia) {
        var i = this._lastTime = +new Date(),
            e = this._lastPos = this._draggable._absPos || this._draggable._newPos;this._positions.push(e), this._times.push(i), i - this._times[0] > 50 && (this._positions.shift(), this._times.shift());
      }this._map.fire("move", t).fire("drag", t);
    }, _onZoomEnd: function _onZoomEnd() {
      var t = this._map.getSize().divideBy(2),
          i = this._map.latLngToLayerPoint([0, 0]);this._initialWorldOffset = i.subtract(t).x, this._worldWidth = this._map.getPixelWorldBounds().getSize().x;
    }, _viscousLimit: function _viscousLimit(t, i) {
      return t - (t - i) * this._viscosity;
    }, _onPreDragLimit: function _onPreDragLimit() {
      if (this._viscosity && this._offsetLimit) {
        var t = this._draggable._newPos.subtract(this._draggable._startPos),
            i = this._offsetLimit;t.x < i.min.x && (t.x = this._viscousLimit(t.x, i.min.x)), t.y < i.min.y && (t.y = this._viscousLimit(t.y, i.min.y)), t.x > i.max.x && (t.x = this._viscousLimit(t.x, i.max.x)), t.y > i.max.y && (t.y = this._viscousLimit(t.y, i.max.y)), this._draggable._newPos = this._draggable._startPos.add(t);
      }
    }, _onPreDragWrap: function _onPreDragWrap() {
      var t = this._worldWidth,
          i = Math.round(t / 2),
          e = this._initialWorldOffset,
          n = this._draggable._newPos.x,
          o = (n - i + e) % t + i - e,
          s = (n + i + e) % t - i - e,
          r = Math.abs(o + e) < Math.abs(s + e) ? o : s;this._draggable._absPos = this._draggable._newPos.clone(), this._draggable._newPos.x = r;
    }, _onDragEnd: function _onDragEnd(t) {
      var i = this._map,
          e = i.options,
          n = !e.inertia || this._times.length < 2;if (i.fire("dragend", t), n) i.fire("moveend");else {
        var o = this._lastPos.subtract(this._positions[0]),
            s = (this._lastTime - this._times[0]) / 1e3,
            r = e.easeLinearity,
            a = o.multiplyBy(r / s),
            h = a.distanceTo([0, 0]),
            u = Math.min(e.inertiaMaxSpeed, h),
            l = a.multiplyBy(u / h),
            c = u / (e.inertiaDeceleration * r),
            _ = l.multiplyBy(-c / 2).round();_.x || _.y ? (_ = i._limitOffset(_, i.options.maxBounds), f(function () {
          i.panBy(_, { duration: c, easeLinearity: r, noMoveStart: !0, animate: !0 });
        })) : i.fire("moveend");
      }
    } });ye.addInitHook("addHandler", "dragging", wn), ye.mergeOptions({ keyboard: !0, keyboardPanDelta: 80 });var Ln = Me.extend({ keyCodes: { left: [37], right: [39], down: [40], up: [38], zoomIn: [187, 107, 61, 171], zoomOut: [189, 109, 54, 173] }, initialize: function initialize(t) {
      this._map = t, this._setPanDelta(t.options.keyboardPanDelta), this._setZoomDelta(t.options.zoomDelta);
    }, addHooks: function addHooks() {
      var t = this._map._container;t.tabIndex <= 0 && (t.tabIndex = "0"), V(t, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this), this._map.on({ focus: this._addHooks, blur: this._removeHooks }, this);
    }, removeHooks: function removeHooks() {
      this._removeHooks(), G(this._map._container, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this), this._map.off({ focus: this._addHooks, blur: this._removeHooks }, this);
    }, _onMouseDown: function _onMouseDown() {
      if (!this._focused) {
        var t = document.body,
            i = document.documentElement,
            e = t.scrollTop || i.scrollTop,
            n = t.scrollLeft || i.scrollLeft;this._map._container.focus(), window.scrollTo(n, e);
      }
    }, _onFocus: function _onFocus() {
      this._focused = !0, this._map.fire("focus");
    }, _onBlur: function _onBlur() {
      this._focused = !1, this._map.fire("blur");
    }, _setPanDelta: function _setPanDelta(t) {
      var i,
          e,
          n = this._panKeys = {},
          o = this.keyCodes;for (i = 0, e = o.left.length; i < e; i++) {
        n[o.left[i]] = [-1 * t, 0];
      }for (i = 0, e = o.right.length; i < e; i++) {
        n[o.right[i]] = [t, 0];
      }for (i = 0, e = o.down.length; i < e; i++) {
        n[o.down[i]] = [0, t];
      }for (i = 0, e = o.up.length; i < e; i++) {
        n[o.up[i]] = [0, -1 * t];
      }
    }, _setZoomDelta: function _setZoomDelta(t) {
      var i,
          e,
          n = this._zoomKeys = {},
          o = this.keyCodes;for (i = 0, e = o.zoomIn.length; i < e; i++) {
        n[o.zoomIn[i]] = t;
      }for (i = 0, e = o.zoomOut.length; i < e; i++) {
        n[o.zoomOut[i]] = -t;
      }
    }, _addHooks: function _addHooks() {
      V(document, "keydown", this._onKeyDown, this);
    }, _removeHooks: function _removeHooks() {
      G(document, "keydown", this._onKeyDown, this);
    }, _onKeyDown: function _onKeyDown(t) {
      if (!(t.altKey || t.ctrlKey || t.metaKey)) {
        var i,
            e = t.keyCode,
            n = this._map;if (e in this._panKeys) {
          if (n._panAnim && n._panAnim._inProgress) return;i = this._panKeys[e], t.shiftKey && (i = w(i).multiplyBy(3)), n.panBy(i), n.options.maxBounds && n.panInsideBounds(n.options.maxBounds);
        } else if (e in this._zoomKeys) n.setZoom(n.getZoom() + (t.shiftKey ? 3 : 1) * this._zoomKeys[e]);else {
          if (27 !== e || !n._popup) return;n.closePopup();
        }Q(t);
      }
    } });ye.addInitHook("addHandler", "keyboard", Ln), ye.mergeOptions({ scrollWheelZoom: !0, wheelDebounceTime: 40, wheelPxPerZoomLevel: 60 });var bn = Me.extend({ addHooks: function addHooks() {
      V(this._map._container, "mousewheel", this._onWheelScroll, this), this._delta = 0;
    }, removeHooks: function removeHooks() {
      G(this._map._container, "mousewheel", this._onWheelScroll, this);
    }, _onWheelScroll: function _onWheelScroll(t) {
      var i = it(t),
          n = this._map.options.wheelDebounceTime;this._delta += i, this._lastMousePos = this._map.mouseEventToContainerPoint(t), this._startTime || (this._startTime = +new Date());var o = Math.max(n - (+new Date() - this._startTime), 0);clearTimeout(this._timer), this._timer = setTimeout(e(this._performZoom, this), o), Q(t);
    }, _performZoom: function _performZoom() {
      var t = this._map,
          i = t.getZoom(),
          e = this._map.options.zoomSnap || 0;t._stop();var n = this._delta / (4 * this._map.options.wheelPxPerZoomLevel),
          o = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(n)))) / Math.LN2,
          s = e ? Math.ceil(o / e) * e : o,
          r = t._limitZoom(i + (this._delta > 0 ? s : -s)) - i;this._delta = 0, this._startTime = null, r && ("center" === t.options.scrollWheelZoom ? t.setZoom(i + r) : t.setZoomAround(this._lastMousePos, i + r));
    } });ye.addInitHook("addHandler", "scrollWheelZoom", bn), ye.mergeOptions({ tap: !0, tapTolerance: 15 });var Pn = Me.extend({ addHooks: function addHooks() {
      V(this._map._container, "touchstart", this._onDown, this);
    }, removeHooks: function removeHooks() {
      G(this._map._container, "touchstart", this._onDown, this);
    }, _onDown: function _onDown(t) {
      if (t.touches) {
        if ($(t), this._fireClick = !0, t.touches.length > 1) return this._fireClick = !1, void clearTimeout(this._holdTimeout);var i = t.touches[0],
            n = i.target;this._startPos = this._newPos = new x(i.clientX, i.clientY), n.tagName && "a" === n.tagName.toLowerCase() && pt(n, "leaflet-active"), this._holdTimeout = setTimeout(e(function () {
          this._isTapValid() && (this._fireClick = !1, this._onUp(), this._simulateEvent("contextmenu", i));
        }, this), 1e3), this._simulateEvent("mousedown", i), V(document, { touchmove: this._onMove, touchend: this._onUp }, this);
      }
    }, _onUp: function _onUp(t) {
      if (clearTimeout(this._holdTimeout), G(document, { touchmove: this._onMove, touchend: this._onUp }, this), this._fireClick && t && t.changedTouches) {
        var i = t.changedTouches[0],
            e = i.target;e && e.tagName && "a" === e.tagName.toLowerCase() && mt(e, "leaflet-active"), this._simulateEvent("mouseup", i), this._isTapValid() && this._simulateEvent("click", i);
      }
    }, _isTapValid: function _isTapValid() {
      return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;
    }, _onMove: function _onMove(t) {
      var i = t.touches[0];this._newPos = new x(i.clientX, i.clientY), this._simulateEvent("mousemove", i);
    }, _simulateEvent: function _simulateEvent(t, i) {
      var e = document.createEvent("MouseEvents");e._simulated = !0, i.target._simulatedClick = !0, e.initMouseEvent(t, !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null), i.target.dispatchEvent(e);
    } });Hi && !Wi && ye.addInitHook("addHandler", "tap", Pn), ye.mergeOptions({ touchZoom: Hi && !Ti, bounceAtZoomLimits: !0 });var Tn = Me.extend({ addHooks: function addHooks() {
      pt(this._map._container, "leaflet-touch-zoom"), V(this._map._container, "touchstart", this._onTouchStart, this);
    }, removeHooks: function removeHooks() {
      mt(this._map._container, "leaflet-touch-zoom"), G(this._map._container, "touchstart", this._onTouchStart, this);
    }, _onTouchStart: function _onTouchStart(t) {
      var i = this._map;if (t.touches && 2 === t.touches.length && !i._animatingZoom && !this._zooming) {
        var e = i.mouseEventToContainerPoint(t.touches[0]),
            n = i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint = i.getSize()._divideBy(2), this._startLatLng = i.containerPointToLatLng(this._centerPoint), "center" !== i.options.touchZoom && (this._pinchStartLatLng = i.containerPointToLatLng(e.add(n)._divideBy(2))), this._startDist = e.distanceTo(n), this._startZoom = i.getZoom(), this._moved = !1, this._zooming = !0, i._stop(), V(document, "touchmove", this._onTouchMove, this), V(document, "touchend", this._onTouchEnd, this), $(t);
      }
    }, _onTouchMove: function _onTouchMove(t) {
      if (t.touches && 2 === t.touches.length && this._zooming) {
        var i = this._map,
            n = i.mouseEventToContainerPoint(t.touches[0]),
            o = i.mouseEventToContainerPoint(t.touches[1]),
            s = n.distanceTo(o) / this._startDist;if (this._zoom = i.getScaleZoom(s, this._startZoom), !i.options.bounceAtZoomLimits && (this._zoom < i.getMinZoom() && s < 1 || this._zoom > i.getMaxZoom() && s > 1) && (this._zoom = i._limitZoom(this._zoom)), "center" === i.options.touchZoom) {
          if (this._center = this._startLatLng, 1 === s) return;
        } else {
          var r = n._add(o)._divideBy(2)._subtract(this._centerPoint);if (1 === s && 0 === r.x && 0 === r.y) return;this._center = i.unproject(i.project(this._pinchStartLatLng, this._zoom).subtract(r), this._zoom);
        }this._moved || (i._moveStart(!0), this._moved = !0), g(this._animRequest);var a = e(i._move, i, this._center, this._zoom, { pinch: !0, round: !1 });this._animRequest = f(a, this, !0), $(t);
      }
    }, _onTouchEnd: function _onTouchEnd() {
      this._moved && this._zooming ? (this._zooming = !1, g(this._animRequest), G(document, "touchmove", this._onTouchMove), G(document, "touchend", this._onTouchEnd), this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom))) : this._zooming = !1;
    } });ye.addInitHook("addHandler", "touchZoom", Tn), ye.BoxZoom = yn, ye.DoubleClickZoom = xn, ye.Drag = wn, ye.Keyboard = Ln, ye.ScrollWheelZoom = bn, ye.Tap = Pn, ye.TouchZoom = Tn;var zn = window.L;window.L = t, Object.freeze = $t, t.version = "1.2.0+HEAD.1ac320b", t.noConflict = function () {
    return window.L = zn, this;
  }, t.Control = xe, t.control = we, t.Browser = Yi, t.Evented = ui, t.Mixin = Ce, t.Util = ai, t.Class = v, t.Handler = Me, t.extend = i, t.bind = e, t.stamp = n, t.setOptions = l, t.DomEvent = le, t.DomUtil = ge, t.PosAnimation = ve, t.Draggable = ke, t.LineUtil = Be, t.PolyUtil = Ie, t.Point = x, t.point = w, t.Bounds = b, t.bounds = P, t.Transformation = Z, t.transformation = E, t.Projection = Re, t.LatLng = M, t.latLng = C, t.LatLngBounds = T, t.latLngBounds = z, t.CRS = li, t.GeoJSON = Qe, t.geoJSON = Kt, t.geoJson = en, t.Layer = We, t.LayerGroup = He, t.layerGroup = function (t) {
    return new He(t);
  }, t.FeatureGroup = Fe, t.featureGroup = function (t) {
    return new Fe(t);
  }, t.ImageOverlay = nn, t.imageOverlay = function (t, i, e) {
    return new nn(t, i, e);
  }, t.VideoOverlay = on, t.videoOverlay = function (t, i, e) {
    return new on(t, i, e);
  }, t.DivOverlay = sn, t.Popup = rn, t.popup = function (t, i) {
    return new rn(t, i);
  }, t.Tooltip = an, t.tooltip = function (t, i) {
    return new an(t, i);
  }, t.Icon = Ue, t.icon = function (t) {
    return new Ue(t);
  }, t.DivIcon = hn, t.divIcon = function (t) {
    return new hn(t);
  }, t.Marker = qe, t.marker = function (t, i) {
    return new qe(t, i);
  }, t.TileLayer = ln, t.tileLayer = Yt, t.GridLayer = un, t.gridLayer = function (t) {
    return new un(t);
  }, t.SVG = gn, t.svg = Jt, t.Renderer = _n, t.Canvas = dn, t.canvas = Xt, t.Path = Ke, t.CircleMarker = Ye, t.circleMarker = function (t, i) {
    return new Ye(t, i);
  }, t.Circle = Xe, t.circle = function (t, i, e) {
    return new Xe(t, i, e);
  }, t.Polyline = Je, t.polyline = function (t, i) {
    return new Je(t, i);
  }, t.Polygon = $e, t.polygon = function (t, i) {
    return new $e(t, i);
  }, t.Rectangle = vn, t.rectangle = function (t, i) {
    return new vn(t, i);
  }, t.Map = ye, t.map = function (t, i) {
    return new ye(t, i);
  };
});

/***/ }),

/***/ "./3rdLib/promise-polyfill.js":
/*!************************************!*\
  !*** ./3rdLib/promise-polyfill.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _setImmediate2 = __webpack_require__(/*! babel-runtime/core-js/set-immediate */ "./node_modules/babel-runtime/core-js/set-immediate.js");

var _setImmediate3 = _interopRequireDefault(_setImmediate2);

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function (global, factory) {
  ( false ? undefined : (0, _typeof3.default)(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
})(undefined, function () {
  'use strict';

  // Store setTimeout reference so promise-polyfill will be unaffected by
  // other code modifying setTimeout (like sinon.useFakeTimers())

  var setTimeoutFunc = setTimeout;

  function noop() {}

  // Polyfill for Function.prototype.bind
  function bind(fn, thisArg) {
    return function () {
      fn.apply(thisArg, arguments);
    };
  }

  function handle(self, deferred) {
    while (self._state === 3) {
      self = self._value;
    }
    if (self._state === 0) {
      self._deferreds.push(deferred);
      return;
    }
    self._handled = true;
    Promise._immediateFn(function () {
      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
      if (cb === null) {
        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
        return;
      }
      var ret;
      try {
        ret = cb(self._value);
      } catch (e) {
        reject(deferred.promise, e);
        return;
      }
      resolve(deferred.promise, ret);
    });
  }

  function resolve(self, newValue) {
    try {
      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');
      if (newValue && ((typeof newValue === 'undefined' ? 'undefined' : (0, _typeof3.default)(newValue)) === 'object' || typeof newValue === 'function')) {
        var then = newValue.then;
        if (newValue instanceof Promise) {
          self._state = 3;
          self._value = newValue;
          finale(self);
          return;
        } else if (typeof then === 'function') {
          doResolve(bind(then, newValue), self);
          return;
        }
      }
      self._state = 1;
      self._value = newValue;
      finale(self);
    } catch (e) {
      reject(self, e);
    }
  }

  function reject(self, newValue) {
    self._state = 2;
    self._value = newValue;
    finale(self);
  }

  function finale(self) {
    if (self._state === 2 && self._deferreds.length === 0) {
      Promise._immediateFn(function () {
        if (!self._handled) {
          Promise._unhandledRejectionFn(self._value);
        }
      });
    }

    for (var i = 0, len = self._deferreds.length; i < len; i++) {
      handle(self, self._deferreds[i]);
    }
    self._deferreds = null;
  }

  function Handler(onFulfilled, onRejected, promise) {
    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
    this.onRejected = typeof onRejected === 'function' ? onRejected : null;
    this.promise = promise;
  }

  /**
   * Take a potentially misbehaving resolver function and make sure
   * onFulfilled and onRejected are only called once.
   *
   * Makes no guarantees about asynchrony.
   */
  function doResolve(fn, self) {
    var done = false;
    try {
      fn(function (value) {
        if (done) return;
        done = true;
        resolve(self, value);
      }, function (reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      });
    } catch (ex) {
      if (done) return;
      done = true;
      reject(self, ex);
    }
  }

  function Promise(fn) {
    if (!(this instanceof Promise)) throw new TypeError('Promises must be constructed via new');
    if (typeof fn !== 'function') throw new TypeError('not a function');
    this._state = 0;
    this._handled = false;
    this._value = undefined;
    this._deferreds = [];

    doResolve(fn, this);
  }

  var _proto = Promise.prototype;
  _proto.catch = function (onRejected) {
    return this.then(null, onRejected);
  };

  _proto.then = function (onFulfilled, onRejected) {
    var prom = new this.constructor(noop);

    handle(this, new Handler(onFulfilled, onRejected, prom));
    return prom;
  };

  Promise.all = function (arr) {
    return new Promise(function (resolve, reject) {
      if (!arr || typeof arr.length === 'undefined') throw new TypeError('Promise.all accepts an array');
      var args = Array.prototype.slice.call(arr);
      if (args.length === 0) return resolve([]);
      var remaining = args.length;

      function res(i, val) {
        try {
          if (val && ((typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object' || typeof val === 'function')) {
            var then = val.then;
            if (typeof then === 'function') {
              then.call(val, function (val) {
                res(i, val);
              }, reject);
              return;
            }
          }
          args[i] = val;
          if (--remaining === 0) {
            resolve(args);
          }
        } catch (ex) {
          reject(ex);
        }
      }

      for (var i = 0; i < args.length; i++) {
        res(i, args[i]);
      }
    });
  };

  Promise.resolve = function (value) {
    if (value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object' && value.constructor === Promise) {
      return value;
    }

    return new Promise(function (resolve) {
      resolve(value);
    });
  };

  Promise.reject = function (value) {
    return new Promise(function (resolve, reject) {
      reject(value);
    });
  };

  Promise.race = function (values) {
    return new Promise(function (resolve, reject) {
      for (var i = 0, len = values.length; i < len; i++) {
        values[i].then(resolve, reject);
      }
    });
  };

  // Use polyfill for setImmediate for performance gains
  Promise._immediateFn = typeof _setImmediate3.default === 'function' && function (fn) {
    (0, _setImmediate3.default)(fn);
  } || function (fn) {
    setTimeoutFunc(fn, 0);
  };

  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
    if (typeof console !== 'undefined' && console) {
      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
    }
  };

  return Promise;
});

/***/ }),

/***/ "./index_leaflet.js":
/*!**************************!*\
  !*** ./index_leaflet.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.L = exports.ThemesInfo = exports.ThemeOper = exports.ItemValue = exports.FolderInfoAttribute = exports.FolderInfo = exports.ExpInfo = exports.CUniqueThemeInfo = exports.CUniqueTheme = exports.CThemeInfo = exports.CTheme = exports.CSimpleTheme = exports.CRegInfo = exports.CRangeThemeInfo = exports.CRangeTheme = exports.CRandomTheme = exports.CPntInfo = exports.CMultiClassTheme = exports.CLinInfo = exports.CGraduatedSymbolTheme = exports.CFourColorTheme = exports.CDotDensityTheme = exports.CChartType = exports.CChartThemeRepresentInfo = exports.CChartThemeInfo = exports.CChartTheme = exports.CChartLabelFormat = exports.CAnnInfo = exports.CAllOtherDataItemInfoSource = exports.MapServiceBase = exports.GetTileImageService = exports.GetMapInfoService = exports.GetMapImageService = exports.GetLayerImageService = exports.GetDocImageService = exports.TopAnalysis = exports.Smooth = exports.ProjectRang = exports.ProjectDots = exports.GeometryAnalysisBase = exports.CProjectParam = exports.CProjectBySRSID = exports.CalServiceBase = exports.CalPolyLineLength = exports.CalArea = exports.ProjectBySRID = exports.ProjectByLayer = exports.ProjectBase = exports.OverlayByPolygon = exports.OverlayByLayer = exports.OverlayBase = exports.NetAnalysis = exports.FeatureBuffBySingleRing = exports.FeatureBuffByMultiplyRing = exports.FeatureBuffBase = exports.ContourAnalyse = exports.ClipByPolygon = exports.ClipByLayer = exports.ClipByCircle = exports.ClipBase = exports.ClassBufferBySingleRing = exports.ClassBufferByMultiplyRing = exports.ClassBufferBase = exports.AnalysisBase = exports.QueryServiceBase = exports.QueryParameterBase = exports.QueryParameter = undefined;
exports.QueryLayerFeature = exports.QueryFeatureStruct = exports.QueryFeatureRule = exports.QueryDocFeature = exports.QueryByLayerParameter = exports.ObjClsQueryParameter = exports.ObjClsQuery = exports.MultiGeoQueryParameter = exports.MultiGeoQuery = exports.EditServiceBase = exports.EditLayerFeature = exports.EditDocFeature = exports.VectorLayer = exports.TileLayer = exports.CatalogService = exports.MapDoc = exports.GDBInfo = exports.ColorInfo = exports.JSONFormat = exports.IgsServiceBase = exports.FetchRequest = exports.RequestTimeout = exports.CORS = exports.Events = exports.CommonServiceBase = exports.SlopLineParam = exports.NetAnalysisExtent = exports.NetAnalyse = exports.MeshingParam = exports.ContourRegionInfo = exports.ContourZValue = exports.ContourParam = exports.ContourNoteParam = exports.mixin = exports.merge = exports.DeepMerge = exports.ChineseToUtf8 = exports.getTopAnalysisResult = exports.bindAsEventListener = exports.bind = exports.newGuid = exports.cloneObject = exports.copyAttributesWithClip = exports.copyAttributes = exports.transformResult = exports.toJSON = exports.isInTheSameDomain = exports.supportCanvas = exports.isSupportCanvas = exports.getBrowser = exports.Browser = exports.IS_GECKO = exports.getParameters = exports.urlAppend = exports.getWFParameterString = exports.getParameterString = exports.applyDefaults = exports.modifyDOMElement = exports.indexOf = exports.removeItem = exports.isElement = exports.getElement = exports.reset = exports.copyExcluce = exports.copy = exports.extendDeep = exports.isArray = exports.extend = exports.WebGraphicsInfo = exports.VectCls = exports.Tangram = exports.Rectangle = exports.PolyLine = exports.Polygon = exports.Point2D = exports.MultiPolygon = exports.LablePntInfo = exports.LabelRegInfo = exports.LabelLinInfo = exports.GRegion = exports.GPoint = exports.GLine = exports.FeatureSet = exports.FeatureGraphicBase = exports.FeatureGeometry = exports.Feature = exports.LayerStatusType = exports.MapType = exports.CItemType = exports.CLinStyleMakeType = exports.CLinJointType = exports.CLinHeadType = exports.CLinAdjustType = exports.NetElemType = exports.NetAnalyType = exports.ISShowArc = exports.EightDirType = exports.LineConstrain = exports.LabelSpreadType = exports.RepeatType = undefined;
exports.LabelPntType = exports.LabelRegType = exports.LabelLinType = exports.FontShape = exports.FeatureType = exports.VectClsType = exports.XClsType = exports.DynShowStyle = exports.DynNoteLableType = exports.CRegionInfo = exports.CPointInfo = exports.CLineInfo = exports.Circle = exports.CGDBInfo = exports.CDynNoteInfo = exports.CDisplayStyleExtend = exports.CDisplayStyle = exports.CAttDataRow = exports.CAttStruct = exports.Zondy = exports.Arc = exports.AnyLine = exports.ServiceBase = exports.TDTLayer = exports.crs = exports.CRS = exports.MapVectorLayer = exports.MapWMTSLayer = exports.MapTileLayer = exports.MapDocLayer = exports.SUtil = exports.LevelRendererVector = exports.Util = exports.Transformable = exports.Storage = exports.SmicText = exports.SmicStar = exports.SmicSector = exports.SmicRing = exports.SmicRectangle = exports.SmicPolygon = exports.SmicPoint = exports.SmicIsogon = exports.SmicImage = exports.SmicEllipse = exports.SmicCircle = exports.SmicBrokenLine = exports.Shape = exports.PaintLayer = exports.Painter = exports.Matrix = exports.Math = exports.Http = exports.Handler = exports.Group = exports.Eventful = exports.LevelRendererEvent = exports.Env = exports.Easing = exports.LevelRendererCurve = exports.Config = exports.ComputeBoundingBox = exports.Color = exports.Clip = exports.Area = exports.Animator = exports.Animation = exports.Render = exports.LevelRenderer = exports.FeatureTheme = exports.Sector = exports.FeatureRectangle = exports.FeaturePolygon = exports.Point = exports.FeatureLine = exports.Label = exports.Image = exports.FeatureCircle = exports.ShapeParameters = exports.ShapeFactory = exports.ThemeVector = exports.Ring = exports.RankSymbol = exports.OverlayPoint = exports.Pie = exports.Line = exports.Graph = exports.OverlayCircle = exports.Bar3D = exports.Bar = exports.ThemeStyle = exports.RankSymbolThemeLayer = exports.SimpleThemeLayer = exports.RandomThemeLayer = exports.graphThemeLayer = exports.GraphThemeLayer = exports.UniqueThemeLayer = exports.RangeThemeLayer = exports.ThemeLayer = exports.GeoFeatureThemeLayer = undefined;

var _mapgislayerForLeaf = __webpack_require__(/*! ./leaflet/mapgislayerForLeaf */ "./leaflet/mapgislayerForLeaf/index.js");

var _ServiceBase = __webpack_require__(/*! ./service/ServiceBase */ "./service/ServiceBase.js");

var _common = __webpack_require__(/*! ./service/common */ "./service/common/index.js");

var _extend = __webpack_require__(/*! ./service/extend */ "./service/extend/index.js");

var _iserver = __webpack_require__(/*! ./service/iserver */ "./service/iserver/index.js");

var _MRCS = __webpack_require__(/*! ./service/MRCS */ "./service/MRCS/index.js");

var _MRFS = __webpack_require__(/*! ./service/MRFS */ "./service/MRFS/index.js");

var _MRFWS = __webpack_require__(/*! ./service/MRFWS */ "./service/MRFWS/index.js");

var _MRGS = __webpack_require__(/*! ./service/MRGS */ "./service/MRGS/index.js");

var _MRMS = __webpack_require__(/*! ./service/MRMS */ "./service/MRMS/index.js");

var _theme = __webpack_require__(/*! ./service/theme */ "./service/theme/index.js");

var _clientThemeLeaf = __webpack_require__(/*! ./leaflet/clientThemeLeaf */ "./leaflet/clientThemeLeaf/index.js");

var _overlay = __webpack_require__(/*! ./overlay */ "./overlay/index.js");

exports.GeoFeatureThemeLayer = _clientThemeLeaf.GeoFeatureThemeLayer;
exports.ThemeLayer = _clientThemeLeaf.ThemeLayer;
exports.RangeThemeLayer = _clientThemeLeaf.RangeThemeLayer;
exports.UniqueThemeLayer = _clientThemeLeaf.UniqueThemeLayer;
exports.GraphThemeLayer = _clientThemeLeaf.GraphThemeLayer;
exports.graphThemeLayer = _clientThemeLeaf.graphThemeLayer;
exports.RandomThemeLayer = _clientThemeLeaf.RandomThemeLayer;
exports.SimpleThemeLayer = _clientThemeLeaf.SimpleThemeLayer;
exports.RankSymbolThemeLayer = _clientThemeLeaf.RankSymbolThemeLayer;
exports.ThemeStyle = _clientThemeLeaf.ThemeStyle;
exports.Bar = _overlay.Bar;
exports.Bar3D = _overlay.Bar3D;
exports.OverlayCircle = _overlay.OverlayCircle;
exports.Graph = _overlay.Graph;
exports.Line = _overlay.Line;
exports.Pie = _overlay.Pie;
exports.OverlayPoint = _overlay.OverlayPoint;
exports.RankSymbol = _overlay.RankSymbol;
exports.Ring = _overlay.Ring;
exports.ThemeVector = _overlay.ThemeVector;
exports.ShapeFactory = _overlay.ShapeFactory;
exports.ShapeParameters = _overlay.ShapeParameters;
exports.FeatureCircle = _overlay.FeatureCircle;
exports.Image = _overlay.Image;
exports.Label = _overlay.Label;
exports.FeatureLine = _overlay.FeatureLine;
exports.Point = _overlay.Point;
exports.FeaturePolygon = _overlay.FeaturePolygon;
exports.FeatureRectangle = _overlay.FeatureRectangle;
exports.Sector = _overlay.Sector;
exports.FeatureTheme = _overlay.FeatureTheme;
exports.LevelRenderer = _overlay.LevelRenderer;
exports.Render = _overlay.Render;
exports.Animation = _overlay.Animation;
exports.Animator = _overlay.Animator;
exports.Area = _overlay.Area;
exports.Clip = _overlay.Clip;
exports.Color = _overlay.Color;
exports.ComputeBoundingBox = _overlay.ComputeBoundingBox;
exports.Config = _overlay.Config;
exports.LevelRendererCurve = _overlay.LevelRendererCurve;
exports.Easing = _overlay.Easing;
exports.Env = _overlay.Env;
exports.LevelRendererEvent = _overlay.LevelRendererEvent;
exports.Eventful = _overlay.Eventful;
exports.Group = _overlay.Group;
exports.Handler = _overlay.Handler;
exports.Http = _overlay.Http;
exports.Math = _overlay.Math;
exports.Matrix = _overlay.Matrix;
exports.Painter = _overlay.Painter;
exports.PaintLayer = _overlay.PaintLayer;
exports.Shape = _overlay.Shape;
exports.SmicBrokenLine = _overlay.SmicBrokenLine;
exports.SmicCircle = _overlay.SmicCircle;
exports.SmicEllipse = _overlay.SmicEllipse;
exports.SmicImage = _overlay.SmicImage;
exports.SmicIsogon = _overlay.SmicIsogon;
exports.SmicPoint = _overlay.SmicPoint;
exports.SmicPolygon = _overlay.SmicPolygon;
exports.SmicRectangle = _overlay.SmicRectangle;
exports.SmicRing = _overlay.SmicRing;
exports.SmicSector = _overlay.SmicSector;
exports.SmicStar = _overlay.SmicStar;
exports.SmicText = _overlay.SmicText;
exports.Storage = _overlay.Storage;
exports.Transformable = _overlay.Transformable;
exports.Util = _overlay.Util;
exports.LevelRendererVector = _overlay.LevelRendererVector;
exports.SUtil = _overlay.SUtil;
exports.MapDocLayer = _mapgislayerForLeaf.MapDocLayer;
exports.MapTileLayer = _mapgislayerForLeaf.MapTileLayer;
exports.MapWMTSLayer = _mapgislayerForLeaf.MapWMTSLayer;
exports.MapVectorLayer = _mapgislayerForLeaf.MapVectorLayer;
exports.CRS = _mapgislayerForLeaf.CRS;
exports.crs = _mapgislayerForLeaf.crs;
exports.TDTLayer = _mapgislayerForLeaf.TDTLayer;
exports.ServiceBase = _ServiceBase.ServiceBase;
exports.AnyLine = _common.AnyLine;
exports.Arc = _common.Arc;
exports.Zondy = _common.Zondy;
exports.CAttStruct = _common.CAttStruct;
exports.CAttDataRow = _common.CAttDataRow;
exports.CDisplayStyle = _common.CDisplayStyle;
exports.CDisplayStyleExtend = _common.CDisplayStyleExtend;
exports.CDynNoteInfo = _common.CDynNoteInfo;
exports.CGDBInfo = _common.CGDBInfo;
exports.Circle = _common.Circle;
exports.CLineInfo = _common.CLineInfo;
exports.CPointInfo = _common.CPointInfo;
exports.CRegionInfo = _common.CRegionInfo;
exports.DynNoteLableType = _common.DynNoteLableType;
exports.DynShowStyle = _common.DynShowStyle;
exports.XClsType = _common.XClsType;
exports.VectClsType = _common.VectClsType;
exports.FeatureType = _common.FeatureType;
exports.FontShape = _common.FontShape;
exports.LabelLinType = _common.LabelLinType;
exports.LabelRegType = _common.LabelRegType;
exports.LabelPntType = _common.LabelPntType;
exports.RepeatType = _common.RepeatType;
exports.LabelSpreadType = _common.LabelSpreadType;
exports.LineConstrain = _common.LineConstrain;
exports.EightDirType = _common.EightDirType;
exports.ISShowArc = _common.ISShowArc;
exports.NetAnalyType = _common.NetAnalyType;
exports.NetElemType = _common.NetElemType;
exports.CLinAdjustType = _common.CLinAdjustType;
exports.CLinHeadType = _common.CLinHeadType;
exports.CLinJointType = _common.CLinJointType;
exports.CLinStyleMakeType = _common.CLinStyleMakeType;
exports.CItemType = _common.CItemType;
exports.MapType = _common.MapType;
exports.LayerStatusType = _common.LayerStatusType;
exports.Feature = _common.Feature;
exports.FeatureGeometry = _common.FeatureGeometry;
exports.FeatureGraphicBase = _common.FeatureGraphicBase;
exports.FeatureSet = _common.FeatureSet;
exports.GLine = _common.GLine;
exports.GPoint = _common.GPoint;
exports.GRegion = _common.GRegion;
exports.LabelLinInfo = _common.LabelLinInfo;
exports.LabelRegInfo = _common.LabelRegInfo;
exports.LablePntInfo = _common.LablePntInfo;
exports.MultiPolygon = _common.MultiPolygon;
exports.Point2D = _common.Point2D;
exports.Polygon = _common.Polygon;
exports.PolyLine = _common.PolyLine;
exports.Rectangle = _common.Rectangle;
exports.Tangram = _common.Tangram;
exports.VectCls = _common.VectCls;
exports.WebGraphicsInfo = _common.WebGraphicsInfo;
exports.extend = _common.extend;
exports.isArray = _common.isArray;
exports.extendDeep = _common.extendDeep;
exports.copy = _common.copy;
exports.copyExcluce = _common.copyExcluce;
exports.reset = _common.reset;
exports.getElement = _common.getElement;
exports.isElement = _common.isElement;
exports.removeItem = _common.removeItem;
exports.indexOf = _common.indexOf;
exports.modifyDOMElement = _common.modifyDOMElement;
exports.applyDefaults = _common.applyDefaults;
exports.getParameterString = _common.getParameterString;
exports.getWFParameterString = _common.getWFParameterString;
exports.urlAppend = _common.urlAppend;
exports.getParameters = _common.getParameters;
exports.IS_GECKO = _common.IS_GECKO;
exports.Browser = _common.Browser;
exports.getBrowser = _common.getBrowser;
exports.isSupportCanvas = _common.isSupportCanvas;
exports.supportCanvas = _common.supportCanvas;
exports.isInTheSameDomain = _common.isInTheSameDomain;
exports.toJSON = _common.toJSON;
exports.transformResult = _common.transformResult;
exports.copyAttributes = _common.copyAttributes;
exports.copyAttributesWithClip = _common.copyAttributesWithClip;
exports.cloneObject = _common.cloneObject;
exports.newGuid = _common.newGuid;
exports.bind = _common.bind;
exports.bindAsEventListener = _common.bindAsEventListener;
exports.getTopAnalysisResult = _common.getTopAnalysisResult;
exports.ChineseToUtf8 = _common.ChineseToUtf8;
exports.DeepMerge = _common.DeepMerge;
exports.merge = _common.merge;
exports.mixin = _common.mixin;
exports.ContourNoteParam = _extend.ContourNoteParam;
exports.ContourParam = _extend.ContourParam;
exports.ContourZValue = _extend.ContourZValue;
exports.ContourRegionInfo = _extend.ContourRegionInfo;
exports.MeshingParam = _extend.MeshingParam;
exports.NetAnalyse = _extend.NetAnalyse;
exports.NetAnalysisExtent = _extend.NetAnalysisExtent;
exports.SlopLineParam = _extend.SlopLineParam;
exports.CommonServiceBase = _iserver.CommonServiceBase;
exports.Events = _iserver.Events;
exports.CORS = _iserver.CORS;
exports.RequestTimeout = _iserver.RequestTimeout;
exports.FetchRequest = _iserver.FetchRequest;
exports.IgsServiceBase = _iserver.IgsServiceBase;
exports.JSONFormat = _iserver.JSONFormat;
exports.ColorInfo = _MRCS.ColorInfo;
exports.GDBInfo = _MRCS.GDBInfo;
exports.MapDoc = _MRCS.MapDoc;
exports.CatalogService = _MRCS.CatalogService;
exports.TileLayer = _MRCS.TileLayer;
exports.VectorLayer = _MRCS.VectorLayer;
exports.EditDocFeature = _MRFS.EditDocFeature;
exports.EditLayerFeature = _MRFS.EditLayerFeature;
exports.EditServiceBase = _MRFS.EditServiceBase;
exports.MultiGeoQuery = _MRFS.MultiGeoQuery;
exports.MultiGeoQueryParameter = _MRFS.MultiGeoQueryParameter;
exports.ObjClsQuery = _MRFS.ObjClsQuery;
exports.ObjClsQueryParameter = _MRFS.ObjClsQueryParameter;
exports.QueryByLayerParameter = _MRFS.QueryByLayerParameter;
exports.QueryDocFeature = _MRFS.QueryDocFeature;
exports.QueryFeatureRule = _MRFS.QueryFeatureRule;
exports.QueryFeatureStruct = _MRFS.QueryFeatureStruct;
exports.QueryLayerFeature = _MRFS.QueryLayerFeature;
exports.QueryParameter = _MRFS.QueryParameter;
exports.QueryParameterBase = _MRFS.QueryParameterBase;
exports.QueryServiceBase = _MRFS.QueryServiceBase;
exports.AnalysisBase = _MRFWS.AnalysisBase;
exports.ClassBufferBase = _MRFWS.ClassBufferBase;
exports.ClassBufferByMultiplyRing = _MRFWS.ClassBufferByMultiplyRing;
exports.ClassBufferBySingleRing = _MRFWS.ClassBufferBySingleRing;
exports.ClipBase = _MRFWS.ClipBase;
exports.ClipByCircle = _MRFWS.ClipByCircle;
exports.ClipByLayer = _MRFWS.ClipByLayer;
exports.ClipByPolygon = _MRFWS.ClipByPolygon;
exports.ContourAnalyse = _MRFWS.ContourAnalyse;
exports.FeatureBuffBase = _MRFWS.FeatureBuffBase;
exports.FeatureBuffByMultiplyRing = _MRFWS.FeatureBuffByMultiplyRing;
exports.FeatureBuffBySingleRing = _MRFWS.FeatureBuffBySingleRing;
exports.NetAnalysis = _MRFWS.NetAnalysis;
exports.OverlayBase = _MRFWS.OverlayBase;
exports.OverlayByLayer = _MRFWS.OverlayByLayer;
exports.OverlayByPolygon = _MRFWS.OverlayByPolygon;
exports.ProjectBase = _MRFWS.ProjectBase;
exports.ProjectByLayer = _MRFWS.ProjectByLayer;
exports.ProjectBySRID = _MRFWS.ProjectBySRID;
exports.CalArea = _MRGS.CalArea;
exports.CalPolyLineLength = _MRGS.CalPolyLineLength;
exports.CalServiceBase = _MRGS.CalServiceBase;
exports.CProjectBySRSID = _MRGS.CProjectBySRSID;
exports.CProjectParam = _MRGS.CProjectParam;
exports.GeometryAnalysisBase = _MRGS.GeometryAnalysisBase;
exports.ProjectDots = _MRGS.ProjectDots;
exports.ProjectRang = _MRGS.ProjectRang;
exports.Smooth = _MRGS.Smooth;
exports.TopAnalysis = _MRGS.TopAnalysis;
exports.GetDocImageService = _MRMS.GetDocImageService;
exports.GetLayerImageService = _MRMS.GetLayerImageService;
exports.GetMapImageService = _MRMS.GetMapImageService;
exports.GetMapInfoService = _MRMS.GetMapInfoService;
exports.GetTileImageService = _MRMS.GetTileImageService;
exports.MapServiceBase = _MRMS.MapServiceBase;
exports.CAllOtherDataItemInfoSource = _theme.CAllOtherDataItemInfoSource;
exports.CAnnInfo = _theme.CAnnInfo;
exports.CChartLabelFormat = _theme.CChartLabelFormat;
exports.CChartTheme = _theme.CChartTheme;
exports.CChartThemeInfo = _theme.CChartThemeInfo;
exports.CChartThemeRepresentInfo = _theme.CChartThemeRepresentInfo;
exports.CChartType = _theme.CChartType;
exports.CDotDensityTheme = _theme.CDotDensityTheme;
exports.CFourColorTheme = _theme.CFourColorTheme;
exports.CGraduatedSymbolTheme = _theme.CGraduatedSymbolTheme;
exports.CLinInfo = _theme.CLinInfo;
exports.CMultiClassTheme = _theme.CMultiClassTheme;
exports.CPntInfo = _theme.CPntInfo;
exports.CRandomTheme = _theme.CRandomTheme;
exports.CRangeTheme = _theme.CRangeTheme;
exports.CRangeThemeInfo = _theme.CRangeThemeInfo;
exports.CRegInfo = _theme.CRegInfo;
exports.CSimpleTheme = _theme.CSimpleTheme;
exports.CTheme = _theme.CTheme;
exports.CThemeInfo = _theme.CThemeInfo;
exports.CUniqueTheme = _theme.CUniqueTheme;
exports.CUniqueThemeInfo = _theme.CUniqueThemeInfo;
exports.ExpInfo = _theme.ExpInfo;
exports.FolderInfo = _theme.FolderInfo;
exports.FolderInfoAttribute = _theme.FolderInfoAttribute;
exports.ItemValue = _theme.ItemValue;
exports.ThemeOper = _theme.ThemeOper;
exports.ThemesInfo = _theme.ThemesInfo;
exports.L = L;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/GeoFeatureThemeLayer.js":
/*!*********************************************************!*\
  !*** ./leaflet/clientThemeLeaf/GeoFeatureThemeLayer.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GeoFeatureThemeLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _ThemeLayer = __webpack_require__(/*! ./ThemeLayer */ "./leaflet/clientThemeLeaf/ThemeLayer.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _ShapeFactory = __webpack_require__(/*! ../../overlay/feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _ThemeVector = __webpack_require__(/*! ../../overlay/ThemeVector */ "./overlay/ThemeVector.js");

var _FeatureSet = __webpack_require__(/*! ../../service/common/FeatureSet */ "./service/common/FeatureSet.js");

var _Rectangle = __webpack_require__(/*! ../../service/common/Rectangle */ "./service/common/Rectangle.js");

/**
 * @classdesc  地理几何专题要素型专题图层基类。此类型专题图的专题要素形状就是由 feature.geometry 决定。此类不建议直接实例化调用。
 * @private
 * @extends Zondy.Map.ThemeLayer
 * @param name - {string} 专题图名
 * @param options - {Object} 需要设置得参数对象。如：<br>
 *        nodesClipPixel - {number}节点抽稀像素距离，默认值 2。<br>
 *        isHoverAble - {boolean} 图形是否在 hover 时高亮 ，默认值：false。<br>
 *        isMultiHover - {boolean} 是否多图形同时高亮，用于高亮同一个数据对应的所有图形（如：多面），默认值：false。<br>
 *        isClickAble - {boolean} 图形是否可点击，默认 true。<br>
 *        isAllowFeatureStyle - {boolean} 是否允许 feature 样式（style） 中的有效属性应用到专题图层。
 *                                        默认值为： false，禁止对专题要素使用数据（feature）的 style。
 *                                        此属性可强制将数据 feature 的 style 中有效属性应用到专题要素上，且拥有比图层 style 和 styleGroups 更高的优先级，使专题要素
 *                                        的样式脱离专题图层的控制。可以通过此方式实现对特殊数据（feature） 对应专题要素赋予独立 style。
 */
var GeoFeatureThemeLayer = _ThemeLayer.ThemeLayer.extend({

    options: {

        // {Number} 节点抽稀像素距离，默认值 2。
        nodesClipPixel: 2,

        //{Boolean} 图形是否在 hover 时高亮 ，默认值：false。
        isHoverAble: false,

        //{Boolean} 是否多图形同时高亮，用于高亮同一个数据对应的所有图形（如：多面），默认值：false。
        isMultiHover: false,

        // {Boolean} 图形是否可点击，默认 true
        isClickAble: true,
        //是否允许 feature 样式（style） 中的有效属性应用到专题图层。
        //默认值为： false，禁止对专题要素使用数据（feature）的 style。
        //此属性可强制将数据 feature 的 style 中有效属性应用到专题要素上，且拥有比图层 style 和 styleGroups 更高的优先级，使专题要素
        //的样式脱离专题图层的控制。可以通过此方式实现对特殊数据（feature） 对应专题要素赋予独立 style。
        isAllowFeatureStyle: false
    },

    initialize: function initialize(name, options) {
        _ThemeLayer.ThemeLayer.prototype.initialize.call(this, name, options);
        window.L.Util.setOptions(this, options);
        var me = this;
        me.cache = {};
        me.cacheFields = [];
        me.style = {};
        me.highlightStyle = {};
    },

    /**
     * @description 向专题图图层中添加数据, 支持的feature类型为:igs返回的feature json对象 
     * @param features - {JSONObject|L.Zondy.themeFeature} 待填加的要素
     */
    addFeatures: function addFeatures(features) {
        var me = this;
        me.fire("beforefeaturesadded", { features: features });
        if (features instanceof _FeatureSet.FeatureSet) {
            var attrs = null;
            var attstruct = features.AttStruct;
            var feaArr = features.SFEleArray;
            if (feaArr != null && feaArr.length > 0) {
                for (var j = 0; j < feaArr.length; j++) {
                    var feature = feaArr[j];
                    if (feature.AttValue != null && feature.AttValue.length > 0) {
                        var attrs = {};
                        for (var i = 0; i < feature.AttValue.length; i++) {
                            attrs[attstruct.FldName[i]] = feature.AttValue[i];
                        }
                        attrs['FID'] = feature.FID;
                    }
                    feature.attributes = attrs;
                    me.features.push(feature);
                }
            }
        }
        if (!me.isCustomSetMaxCacheCount) {
            me.maxCacheCount = me.features.length * 5;
        }

        if (!me.renderer) {
            return;
        }
        //绘制专题要素
        if (me._map) {
            me.redrawThematicFeatures(me._map.getBounds());
        } else {
            me.redrawThematicFeatures();
        }
    },

    /**
     * @description 从专题图中删除 feature。这个函数删除所有传递进来的矢量要素。参数中的 features 数组中的每一项，必须是已经添加到当前图层中的 feature，
     * @param features -  要删除得要素
     */
    removeFeatures: function removeFeatures(features) {
        // eslint-disable-line no-unused-vars
        this.clearCache();
        _ThemeLayer.ThemeLayer.prototype.removeFeatures.call(this, arguments);
    },

    /**
     * @function removeAllFeatures
     * @description 清除当前图层所有的矢量要素。
     */
    removeAllFeatures: function removeAllFeatures() {
        this.clearCache();
        _ThemeLayer.ThemeLayer.prototype.removeAllFeatures.call(this, arguments);
    },
    /**
     * @function redrawThematicFeatures
     * @description 重绘所有专题要素。
     *              此方法包含绘制专题要素的所有步骤，包含用户数据到专题要素的转换，抽稀，缓存等步骤。
     *              地图漫游时调用此方法进行图层刷新。
     * @param bounds - {L.bounds} 重绘得范围
     */
    redrawThematicFeatures: function redrawThematicFeatures(bounds) {
        var me = this;
        //获取高亮专题要素对应的用户 id
        var hoverone = me.renderer.getHoverOne();
        var hoverFid = null;
        if (hoverone && hoverone.refDataID) {
            hoverFid = hoverone.refDataID;
        }
        if (bounds && bounds instanceof window.L.LatLngBounds) {
            var crs = this._map.options.crs;
            bounds = window.L.bounds(crs.project(bounds.getSouthWest()), crs.project(bounds.getNorthEast()));
            bounds = new _Rectangle.Rectangle(bounds.min.x, bounds.min.y, bounds.max.x, bounds.max.y);
        }
        //清除当前所有可视元素
        me.renderer.clearAll();

        var features = me.features;
        var cache = me.cache;
        var cacheFields = me.cacheFields;
        var cmZoom = me._map.getZoom();

        var maxCC = me.maxCacheCount;

        for (var i = 0, len = features.length; i < len; i++) {
            var feature = features[i];
            var feaBounds = feature.bound;

            //剔除当前视图（地理）范围以外的数据
            if (bounds && !bounds.intersectsBounds(feaBounds)) {
                continue;
            }

            //缓存字段
            var fields = feature.FID + "_zoom_" + cmZoom.toString();
            if (cache[fields]) {
                cache[fields].updateAndAddShapes();
                continue;
            }

            var thematicFeature = me.createThematicFeature(features[i]);
            //检查 thematicFeature 是否有可视化图形
            if (thematicFeature.getShapesCount() < 1) {
                continue;
            }
            //加入缓存
            cache[fields] = thematicFeature;
            cacheFields.push(fields);
            //缓存数量限制
            if (cacheFields.length > maxCC) {
                var fieldsTemp = cacheFields[0];
                cacheFields.splice(0, 1);
                delete cache[fieldsTemp];
            }
            //console.log("total: %d ,current:%d", features.length,i);
        }

        me.renderer.render();

        //地图漫游后，重新高亮图形
        if (hoverFid && me.options.isHoverAble && me.options.isMultiHover) {
            var hShapes = this.getShapesByFeatureID(hoverFid);
            this.renderer.updateHoverShapes(hShapes);
        }
    },

    /**
     * @function L.Zondy.GeoFeatureThemeLayer.prototype.createThematicFeature
     * @description 创建专题要素
     * @param feature - {L.feature} 要创建得要素
     */
    createThematicFeature: function createThematicFeature(feature) {
        var me = this;
        var style = me.getStyleByData(feature);
        //创建专题要素时的可选参数
        var options = {};
        options.nodesClipPixel = me.options.nodesClipPixel;
        options.isHoverAble = me.options.isHoverAble;
        options.isMultiHover = me.options.isMultiHover;
        options.isClickAble = me.options.isClickAble;
        options.highlightStyle = _ShapeFactory.ShapeFactory.transformStyle(me.highlightStyle);

        //将数据转为专题要素（Vector）
        var thematicFeature = new _ThemeVector.ThemeVector(feature, me, _ShapeFactory.ShapeFactory.transformStyle(style), options);

        //直接添加图形到渲染器
        for (var m = 0; m < thematicFeature.shapes.length; m++) {
            me.renderer.addShape(thematicFeature.shapes[m]);
        }

        return thematicFeature;
    },
    getStyleByData: function getStyleByData(feat) {
        //子类必须实现此方法
    },
    /**
     * @function L.Zondy.GeoFeatureThemeLayer.prototype.redraw
     * @description 重绘该图层
     */
    redraw: function redraw() {
        this.clearCache();
        return _ThemeLayer.ThemeLayer.prototype.redraw.apply(this, arguments);
    },

    /**
     * @function L.Zondy.GeoFeatureThemeLayer.prototype.clearCache
     * @description 清除缓存数据。
     */
    clearCache: function clearCache() {
        this.cache = {};
        this.cacheFields = [];
    },

    /**
     * @function L.Zondy.GeoFeatureThemeLayer.prototype.clear
     * @description 清除的内容包括数据（features） 、专题要素、缓存。
     */
    clear: function clear() {
        var me = this;
        me.renderer.clearAll();
        me.renderer.refresh();
        me.removeAllFeatures();
        me.clearCache();
    },

    /**
     * @function L.Zondy.GeoFeatureThemeLayer.prototype.getCacheCount
     * @description 获取当前缓存数量。
     * @return {Number} 返回当前缓存数量。
     */
    getCacheCount: function getCacheCount() {
        return this.cacheFields.length;
    },

    /**
     * @function L.Zondy.GeoFeatureThemeLayer.prototype.setMaxCacheCount
     * @description 设置最大缓存数量。
     * @param cacheCount - {number}最大缓存量。
     */
    setMaxCacheCount: function setMaxCacheCount(cacheCount) {
        if (isNaN(cacheCount)) {
            return;
        }
        this.maxCacheCount = cacheCount;
        this.isCustomSetMaxCacheCount = true;
    },

    /**
     * @function L.Zondy.GeoFeatureThemeLayer.prototype.getShapesByFeatureID
     * @description 通过 FeatureID 获取 feature 关联的所有图形。如果不传入此参数，函数将返回所有图形。
     * @param featureID - {number}要素ID。
     */
    getShapesByFeatureID: function getShapesByFeatureID(featureID) {
        var me = this,
            list = [],
            shapeList = me.renderer.getAllShapes();

        if (!featureID) {
            return shapeList;
        }

        for (var i = 0, len = shapeList.length; i < len; i++) {
            var si = shapeList[i];
            if (si.refDataID && featureID === si.refDataID) {
                list.push(si);
            }
        }
        return list;
    }
});
exports.GeoFeatureThemeLayer = GeoFeatureThemeLayer;

_Base.Zondy.Map.GeoFeatureThemeLayer = GeoFeatureThemeLayer;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/GraphThemeLayer.js":
/*!****************************************************!*\
  !*** ./leaflet/clientThemeLeaf/GraphThemeLayer.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GraphThemeLayer = exports.graphThemeLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _ThemeLayer = __webpack_require__(/*! ./ThemeLayer */ "./leaflet/clientThemeLeaf/ThemeLayer.js");

var _FeatureSet = __webpack_require__(/*! ../../service/common/FeatureSet */ "./service/common/FeatureSet.js");

var _Theme = __webpack_require__(/*! ../../overlay/feature/Theme */ "./overlay/feature/Theme.js");

var _Rectangle = __webpack_require__(/*! ../../service/common/Rectangle */ "./service/common/Rectangle.js");

var _Point2D = __webpack_require__(/*! ../../service/common/Point2D */ "./service/common/Point2D.js");

/**
 * @class Zondy.map.graphThemeLayer
 * @classdesc 统计专题图图层。
 * @extends Zondy.map.ThemeLayer
 * @description 统计专题图通过为每个要素绘制统计图表来反映其对应的专题值的大小。它可同时表示多个字段属性信息，在区域本身与各区域之间形成横向和纵向的对比。<br>
 *              统计专题图多用于具有相关数量特征的地图上，比如表示不同地区多年的粮食产量、GDP、人口等，不同时段客运量、地铁流量等。
 *              目前提供的统计图类型有：柱状图（Bar），折线图（Line），饼图（Pie），三维柱状图（Bar3D），点状图（Point），环状图（Ring）。
 * @param name - {string} 专题图表名称
 * @param chartsType - {string} 图表类型。目前可用："Bar", "Bar3D", "Line","Point","Pie","Ring"。
 * @param options - {Object} 待设置得参数。如：<br>
 *        isOverLay - {boolean} 是否进行压盖处理，如果设为 true，图表绘制过程中将隐藏对已在图层中绘制的图表产生压盖的图表,默认值：true。<br>
 *        chartsType :图表类型。目前可用："Bar", "Line", "Pie"。<br>
 *        chartsSetting:各类型图表的 chartsSetting 对象可设属性请参考具体图表模型类的注释中对 chartsSetting 对象可设属性的描述。<br>
 *  * chartsSetting 对象通常都具有以下 5 个基础可设属性
 *  * width - {number}专题要素（图表）宽度，必设参数。
 *  * height - {number}专题要素（图表）高度，必设参数。
 *  * codomain - {Array<number>} 值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。
 *  * XOffset - {Number}  专题要素（图表）在 X 方向上的偏移值，单位像素。
 *  * YOffset - {Number}  专题要素（图表）在 Y 方向上的偏移值，单位像素。
 *  * dataViewBoxParameter - {Array{Number}} 数据视图框 dataViewBox 参数，
 *      它是指图表框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值，长度为 4 的一维数组。
 *  * decimalNumber - {number}数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。
 *      如果不设置此参数，在取数据值时不对数据做小数位处理。
 */
var GraphThemeLayer = _ThemeLayer.ThemeLayer.extend({

    options: {
        //是否进行压盖处理，如果设为 true，图表绘制过程中将隐藏对已在图层中绘制的图表产生压盖的图表,默认值：true。
        isOverLay: true,
        fitZoom: -1,
        calGravity: false
    },

    initialize: function initialize(name, chartsType, options) {
        var newArgs = [];
        newArgs.push(name);
        newArgs.push(options);
        _ThemeLayer.ThemeLayer.prototype.initialize.apply(this, newArgs);
        this.chartsType = chartsType;
        this.themeFields = options && options.themeFields ? options.themeFields : null;
        this.charts = options && options.charts ? options.charts : [];
        this.cache = options && options.cache ? options.cache : {};
        this.chartsSetting = options && options.chartsSetting ? options.chartsSetting : {};
    },

    /**
     * @function setChartsType
     * @description 设置图表类型，此函数可动态改变图表类型。在调用此函数前请通过 chartsSetting 为新类型的图表做相关配置。图表类型，目前支持："Bar", "Bar3D", "Line","Point","Pie","Ring"。
     * @param chartsType  - {string} 图表类型。目前可用："Bar", "Bar3D", "Line","Point","Pie","Ring"。
     */
    setChartsType: function setChartsType(chartsType) {
        this.chartsType = chartsType;
        this.redraw();
    },

    /**
     * @function addFeatures
     * @description 向专题图图层中添加数据, 支持的feature类型为:iServer返回的feature json对象 或L.Zondy.themeFeature类型
     * @param features - {L.features} 待添加得要素
     */
    addFeatures: function addFeatures(features) {
        var me = this;
        me.fire("beforefeaturesadded", { features: features });
        if (features instanceof _FeatureSet.FeatureSet) {
            var attrs = null;
            var attstruct = features.AttStruct;
            var feaArr = features.SFEleArray;
            if (feaArr != null && feaArr.length > 0) {
                for (var j = 0; j < feaArr.length; j++) {
                    var feature = feaArr[j];
                    if (feature.AttValue != null && feature.AttValue.length > 0) {
                        var attrs = {};
                        for (var i = 0; i < feature.AttValue.length; i++) {
                            attrs[attstruct.FldName[i]] = feature.AttValue[i];
                        }
                        attrs['FID'] = feature.FID;
                    }
                    feature.attributes = attrs;
                    me.features.push(feature);
                }
            }
        }

        //绘制专题要素
        if (!me.renderer) {
            return;
        }

        if (me._map) {
            me.redrawThematicFeatures(me._map.getBounds());
        } else {
            me.redrawThematicFeatures();
        }
    },

    /**
     * @function redrawThematicFeatures
     * @description 重绘所有专题要素 此方法包含绘制专题要素的所有步骤，包含用户数据到专题要素的转换，压盖处理，缓存等步骤。地图漫游时调用此方法进行图层刷新。
     * @param bounds - {L.bounds} 重绘得范围
     */
    redrawThematicFeatures: function redrawThematicFeatures(bounds) {
        var me = this;
        //清除当前所有可视元素
        me.renderer.clearAll();
        var features = me.features;
        if (bounds && bounds instanceof window.L.LatLngBounds) {
            var crs = this._map.options.crs;
            bounds = window.L.bounds(crs.project(bounds.getSouthWest()), crs.project(bounds.getNorthEast()));
            bounds = new _Rectangle.Rectangle(bounds.min.x, bounds.min.y, bounds.max.x, bounds.max.y);
        }
        for (var i = 0, len = features.length; i < len; i++) {
            var feature = features[i];
            // 要素范围判断
            var feaBounds = feature.bound;
            //剔除当前视图（地理）范围以外的数据
            if (bounds && !bounds.intersectsBounds(feaBounds)) {
                continue;
            }
            var cache = me.cache;
            // 用feature id 做缓存标识
            var cacheField = feature.FID;
            // 数据对应的图表是否已缓存，没缓存则重新创建图表
            if (!cache[cacheField]) {
                cache[cacheField] = cacheField;
                var chart = me.createThematicFeature(feature);
                // 压盖处理权重值
                var isValidOverlayWeightField = me.overlayWeightField && feature.attributes[me.overlayWeightField] && !isNaN(feature.attributes[me.overlayWeightField]);
                if (chart && isValidOverlayWeightField) {
                    chart["__overlayWeight"] = feature.attributes[me.overlayWeightField];
                }

                if (chart) {
                    me.charts.push(chart);
                }
            }
        }
        me.drawCharts();
    },

    /**
     * @function createThematicFeature
     * @description 创建专题要素（图表）
     * @param feature - {Zondy.Feature} 待创建得要素
     */
    createThematicFeature: function createThematicFeature(feature) {
        var me = this;
        var thematicFeature;
        // 检查图表创建条件并创建图形
        if (_Theme.Theme[me.chartsType] && me.themeFields && me.chartsSetting) {
            thematicFeature = new _Theme.Theme[me.chartsType](feature, me, me.themeFields, me.chartsSetting, null, me.options);
        }

        // thematicFeature 是否创建成功
        if (!thematicFeature) {
            return false;
        }
        // 对专题要素执行图形装载
        thematicFeature.assembleShapes();
        return thematicFeature;
    },

    /**
     * @function drawCharts
     * @description 绘制图表。包含压盖处理。
     */
    drawCharts: function drawCharts() {
        var me = this;
        if (!me.renderer) {
            return;
        }

        // 图表权重值处理
        if (me.overlayWeightField) {
            me._sortChart();
        }

        if (me.options && !me.options.isOverLay) {
            // 不进行避让
            me._addOverlayShape();
        } else {
            //进行避让
            me._addNoOverlayShape();
        }
        // 绘制图形
        me.renderer.render();
    },

    /**
     * @function getShapesByFeatureID
     * @description 通过 FeatureID 获取 feature 关联的所有图形。如果不传入此参数，函数将返回所有图形。
     * @param featureID - {number}要素ID
     */
    getShapesByFeatureID: function getShapesByFeatureID(featureID) {
        var me = this,
            list = [];
        var shapeList = me.renderer.getAllShapes();

        if (!featureID) {
            return shapeList;
        }

        for (var i = 0, len = shapeList.length; i < len; i++) {
            var si = shapeList[i];
            if (si.refDataID && featureID === si.refDataID) {
                list.push(si);
            }
        }
        return list;
    },

    /**
     * @function isQuadrilateralOverLap
     * @description 判断两个四边形是否有压盖。
     * @param quadrilateral - {Array<Object>} 四边形节点数组。
     * @example
     * [{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}];
     * @param quadrilateral2 - {Array<Object>}  第二个四边形节点数组。
     */
    isQuadrilateralOverLap: function isQuadrilateralOverLap(rect1, rect2) {

        var quadrilateral = [{ "x": rect1.xmin, "y": rect1.ymin }, { "x": rect1.xmax, "y": rect1.ymin }, { "x": rect1.xmax, "y": rect1.ymax }, { "x": rect1.xmin, "y": rect1.ymax }];
        var quadrilateral2 = [{ "x": rect2.xmin, "y": rect2.ymin }, { "x": rect2.xmax, "y": rect2.ymin }, { "x": rect2.xmax, "y": rect2.ymax }, { "x": rect2.xmin, "y": rect2.ymax }];
        var me = this;
        var quadLen = quadrilateral.length,
            quad2Len = quadrilateral2.length;
        if (quadLen !== 4 || quad2Len !== 4) {
            return null;
        } //不是四边形

        var OverLap = false;
        //如果两四边形互不包含对方的节点，则两个四边形不相交
        for (var i = 0; i < quadLen; i++) {
            if (me.isPointInPoly(quadrilateral[i], quadrilateral2)) {
                OverLap = true;
                break;
            }
        }
        for (var _i = 0; _i < quad2Len; _i++) {
            if (me.isPointInPoly(quadrilateral2[_i], quadrilateral)) {
                OverLap = true;
                break;
            }
        }
        //加上两矩形十字相交的情况
        for (var _i2 = 0; _i2 < quadLen - 1; _i2++) {
            if (OverLap) {
                break;
            }
            for (var j = 0; j < quad2Len - 1; j++) {
                var isLineIn = me.lineIntersection(quadrilateral[_i2], quadrilateral[_i2 + 1], quadrilateral2[j], quadrilateral2[j + 1]);
                if (isLineIn.CLASS_NAME === "Zondy.Object.Point2D") {
                    OverLap = true;
                    break;
                }
            }
        }

        return OverLap;
    },

    /**
     * @description 判断两条线段是不是有交点。
     * @param a1 - {Zondy.Geometry.Point}  第一条线段的起始节点。
     * @param a2 - {Zondy.Geometry.Point}  第一条线段的结束节点。
     * @param b1 - {Zondy.Geometry.Point}  第二条线段的起始节点。
     * @param b2 - {Zondy.Geometry.Point}  第二条线段的结束节点。
     * @return {Object} 如果相交返回交点，如果不相交返回两条线段的位置关系。
     */
    lineIntersection: function lineIntersection(a1, a2, b1, b2) {
        var intersectValue = null;
        var k1;
        var k2;
        var b = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);
        var a = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x);
        var ab = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);
        //ab==0代表两条线断的斜率一样
        if (ab != 0) {
            k1 = b / ab;
            k2 = a / ab;

            if (k1 >= 0 && k2 <= 1 && k1 <= 1 && k2 >= 0) {
                intersectValue = new _Point2D.Point2D(a1.x + k1 * (a2.x - a1.x), a1.y + k1 * (a2.y - a1.y));
            } else {
                intersectValue = "No Intersection";
            }
        } else {

            if (b == 0 && a == 0) {
                var maxy = Math.max(a1.y, a2.y);
                var miny = Math.min(a1.y, a2.y);
                var maxx = Math.max(a1.x, a2.x);
                var minx = Math.min(a1.x, a2.x);
                if ((b1.y >= miny && b1.y <= maxy || b2.y >= miny && b2.y <= maxy) && b1.x >= minx && b1.x <= maxx || b2.x >= minx && b2.x <= maxx) {
                    intersectValue = "Coincident"; //重合
                } else {
                    intersectValue = "Parallel"; //平行
                }
            } else {
                intersectValue = "Parallel"; //平行
            }
        }
        return intersectValue;
    },
    /**
     * @function isPointInPoly
     * @description 判断一个点是否在多边形里面。(射线法)
     * @param pt - {Object} 需要判定的点对象，该对象含有属性x(横坐标)，属性y(纵坐标)。
     * @param poly - {Array<Object>}  多边形节点数组。<br>
     *        例如一个四边形：[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]
     */
    isPointInPoly: function isPointInPoly(pt, poly) {
        for (var isIn = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i) {
            (poly[i].y <= pt.y && pt.y < poly[j].y || poly[j].y <= pt.y && pt.y < poly[i].y) && pt.x < (poly[j].x - poly[i].x) * (pt.y - poly[i].y) / (poly[j].y - poly[i].y) + poly[i].x && (isIn = !isIn);
        }
        return isIn;
    },

    /**
     * @function isChartInMap
     * @description 判断图表是否在地图里。
     * @param mapPxBounds - {Zondy.Bounds} 地图像素范围。
     * @param chartPxBounds - {Array<Object>} 图表范围的四边形节点数组。<br>
     *        例如：[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]。
     */
    isChartInMap: function isChartInMap(mapPxBounds, chartPxBounds) {
        var mb = mapPxBounds;

        var isIn = false;

        var cBounds = [{ "x": chartPxBounds.xmin, "y": chartPxBounds.ymin }, { "x": chartPxBounds.xmax, "y": chartPxBounds.ymin }, { "x": chartPxBounds.xmax, "y": chartPxBounds.ymax }, { "x": chartPxBounds.xmin, "y": chartPxBounds.ymax }];

        for (var i = 0, len = cBounds.length; i < len; i++) {
            var cb = cBounds[i];
            if (cb.x >= mb.xmin && cb.x <= mb.xmax && cb.y >= mb.ymin && cb.y <= mb.ymax) {
                isIn = true;
                break;
            }
        }

        return isIn;
    },

    /**
     * @description 判断图表是否大小合适，超过地图范围的1/4的不绘制。
     * @param mapPxBounds - {Zondy.Bounds} 地图像素范围。
     * @param chartPxBounds - {Array<Object>} 图表范围的四边形节点数组。<br>
     *        例如：[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]。
     */
    isSuitableChart: function isSuitableChart(mapPxBounds, chartPxBounds, zoomDis) {
        if (Math.abs(zoomDis) <= 1) {
            return true;
        } else {
            return false;
        }
        // var mb = mapPxBounds;
        // var cb = chartPxBounds;
        // var mapWidth = Math.abs(mb.xmax-mb.xmin);
        // var mapHeight =Math.abs(mb.ymax-mb.ymin);
        // var rate = Math.pow(2,zoomDis*(-1));
        // var cbWidth = rate *(cb.xmax-cb.xmin); 
        // var cbHeight =rate *(cb.ymax-cb.ymin);
        // var isSuit = false;
        // isSuit =!!(mapWidth / cbWidth >=2&&mapWidth / cbWidth <=8  && mapHeight/cbHeight>=2 && mapHeight/cbHeight<=8);
        // return isSuit;
    },

    /**
     * @function clearCache
     * @description 清除缓存数据。
     */
    clearCache: function clearCache() {
        this.cache = {};
        this.charts = [];
    },

    /**
     * @function removeFeatures
     * @description 从专题图中删除 feature。这个函数删除所有传递进来的矢量要素（数据）。
     * @param features - {L.features} 待删除得要输
     */
    removeFeatures: function removeFeatures(features) {
        // eslint-disable-line no-unused-vars
        var me = this;
        me.clearCache();
        _ThemeLayer.ThemeLayer.prototype.removeFeatures.apply(me, arguments);
    },

    /**
     * @function removeAllFeatures
     * @description 清除当前图层所有的矢量要素。
     */
    removeAllFeatures: function removeAllFeatures() {
        var me = this;
        me.clearCache();
        _ThemeLayer.ThemeLayer.prototype.removeAllFeatures.apply(me, arguments);
    },

    /**
     * @function redraw
     * @description 重绘该图层，成功则返回true，否则返回false。
     */
    redraw: function redraw() {
        var me = this;
        me.clearCache();
        return _ThemeLayer.ThemeLayer.prototype.redraw.apply(me, arguments);
    },

    /**
     * @function clear
     * @description 清除图层。清除的内容包括数据（features） 、专题要素、缓存。
     */
    clear: function clear() {
        var me = this;
        if (me.renderer) {
            me.renderer.clearAll();
            me.renderer.refresh();
        }
        me.removeAllFeatures();
        me.clearCache();
    },

    /**
     * @function getWeightFieldValue
     * @description 获取权重字段的值。
     * @param feature - {Zondy.Feature.Vector} 矢量要素。
     * @param weightField - {Array<string>} 字段名数组。
     * @param defaultValue - {number}当通过 weightField 获取不到权重值时，使用 defaultValue 作为权重值。
     */
    getWeightFieldValue: function getWeightFieldValue(feature, weightField, defaultValue) {
        if (typeof defaultValue === "undefined" || isNaN(defaultValue)) {
            defaultValue = 0;
        }
        if (!feature.attributes) {
            return defaultValue;
        }

        var fieldValue = feature.attributes[weightField];

        if (typeof fieldValue === "undefined" || isNaN(fieldValue)) {
            fieldValue = defaultValue;
        }

        return fieldValue;
    },

    _sortChart: function _sortChart() {
        var me = this;
        if (!me.charts) {
            return;
        }
        me.charts.sort(function (cs, ce) {
            if (typeof cs["__overlayWeight"] === "undefined" && typeof ce["__overlayWeight"] === "undefined") {
                return 0;
            } else if (typeof cs["__overlayWeight"] !== "undefined" && typeof ce["__overlayWeight"] === "undefined") {
                return -1;
            } else if (typeof cs["__overlayWeight"] === "undefined" && typeof ce["__overlayWeight"] !== "undefined") {
                return 1;
            } else if (typeof cs["__overlayWeight"] !== "undefined" && typeof ce["__overlayWeight"] !== "undefined") {
                return parseFloat(cs["__overlayWeight"]) < parseFloat(ce["__overlayWeight"]) ? 1 : -1;
            }
            return 0;
        });
    },

    _addOverlayShape: function _addOverlayShape() {
        var me = this;
        var charts = me.charts;
        for (var m = 0, len_m = charts.length; m < len_m; m++) {
            var chart_m = charts[m];

            // 图形参考位置  (reSetLocation 会更新 chartBounds)
            var shapeROP_m = chart_m.resetLocation();

            // 添加图形
            var shapes_m = chart_m.shapes;
            for (var n = 0, slen_n = shapes_m.length; n < slen_n; n++) {
                shapes_m[n].refOriginalPosition = shapeROP_m;
                me.renderer.addShape(shapes_m[n]);
            }
        }
    },
    _addNoOverlayShape: function _addNoOverlayShape() {
        var me = this;
        // 压盖判断所需 chartsBounds 集合
        var mapBounds = me._map.getBounds();
        var crs = this._map.options.crs;
        mapBounds = window.L.bounds(crs.project(mapBounds.getSouthWest()), crs.project(mapBounds.getNorthEast()));

        var charts = me.charts;
        var chartsBounds = [];
        // 获取地图像素 bounds
        var mapPxLT = me.getLocalXY(mapBounds.min);
        var mapPxRB = me.getLocalXY(mapBounds.max);

        var mBounds = new _Rectangle.Rectangle();
        mBounds.xmin = Math.min(parseFloat(mapPxLT[0]), parseFloat(mapPxRB[0]));
        mBounds.xmax = Math.max(parseFloat(mapPxLT[0]), parseFloat(mapPxRB[0]));
        mBounds.ymin = Math.min(parseFloat(mapPxLT[1]), parseFloat(mapPxRB[1]));
        mBounds.ymax = Math.max(parseFloat(mapPxLT[1]), parseFloat(mapPxRB[1]));

        // 压盖处理 & 添加图形
        for (var i = 0, len = charts.length; i < len; i++) {
            var chart = charts[i];
            // 图形参考位置  (reSetLocation 会更新 chartBounds)
            var shapeROP = chart.resetLocation();
            // 图表框
            var cbs = chart.chartBounds;
            // 地图范围外不绘制
            if (mBounds && !me.isChartInMap(mBounds, cbs)) {
                continue;
            }
            //图形太大不绘制

            var zoomLevel = me._map.getZoom();
            var zoomD = zoomLevel - me.options.fitZoom;
            if (mBounds && me.options.fitZoom > -1 && !me.isSuitableChart(mBounds, cbs, zoomD)) {
                continue;
            }

            // 是否压盖
            var isOverlay = false;

            for (var j = 0; j < chartsBounds.length; j++) {
                //压盖判断
                if (me.isQuadrilateralOverLap(cbs, chartsBounds[j])) {
                    isOverlay = true;
                    break;
                }
            }

            if (isOverlay) {
                continue;
            } else {
                chartsBounds.push(cbs);
            }

            // 添加图形
            var shapes = chart.shapes;
            for (var _j = 0, slen = shapes.length; _j < slen; _j++) {
                shapes[_j].refOriginalPosition = shapeROP;
                me.renderer.addShape(shapes[_j]);
            }
        }
    }
});
var graphThemeLayer = exports.graphThemeLayer = function graphThemeLayer(name, chartsType, options) {
    return new GraphThemeLayer(name, chartsType, options);
};
exports.GraphThemeLayer = GraphThemeLayer;

_Base.Zondy.Map.graphThemeLayer = graphThemeLayer;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/RandomThemeLayer.js":
/*!*****************************************************!*\
  !*** ./leaflet/clientThemeLeaf/RandomThemeLayer.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.randomThemeLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _GeoFeatureThemeLayer = __webpack_require__(/*! ./GeoFeatureThemeLayer */ "./leaflet/clientThemeLeaf/GeoFeatureThemeLayer.js");

var _ThemeLayer = __webpack_require__(/*! ./ThemeLayer */ "./leaflet/clientThemeLeaf/ThemeLayer.js");

var _Rectangle = __webpack_require__(/*! ../../service/common/Rectangle */ "./service/common/Rectangle.js");

/**
 * @class L.Zondy.rangeThemeLayer
 * @classdesc 范围分段专题图。
 * @description 范围分段专题图对数据（<{@link Zondy.Feature.Vector}>）属性字段（attributes）的属性值进行分段，使用不同的颜色或符号（线型、填充）渲染不同范围段的属性值。
 *            分段专题图一般用来反映连续分布现象的数量或程度特征，如降水量的分布，土壤侵蚀强度的分布等。
 * @extends L.Zondy.GeoFeatureThemeLayer
 * @param name - {string} 图层名
 * @param options - {Object} 图层参数。如：<br>
 *        nodesClipPixel - {number}节点抽稀像素距离，默认值 2。<br>
 *        isHoverAble - {boolean} 图形是否在 hover 时高亮 ，默认值：false。<br>
 *        isMultiHover - {boolean} 是否多图形同时高亮，用于高亮同一个数据对应的所有图形（如：多面），默认值：false。<br>
 *        isClickAble - {boolean} 图形是否可点击，默认 true。<br>
 *        isAllowFeatureStyle - {boolean} 是否允许 feature 样式（style） 中的有效属性应用到专题图层。
 *                                        默认值为： false，禁止对专题要素使用数据（feature）的 style。
 *                                        此属性可强制将数据 feature 的 style 中有效属性应用到专题要素上，且拥有比图层 style 和 styleGroups 更高的优先级，使专题要素
 *                                        的样式脱离专题图层的控制。可以通过此方式实现对特殊数据（feature） 对应专题要素赋予独立 style。
 */
var RandomThemeLayer = _GeoFeatureThemeLayer.GeoFeatureThemeLayer.extend({

    initialize: function initialize(name, options) {
        _GeoFeatureThemeLayer.GeoFeatureThemeLayer.prototype.initialize.call(this, name, options);
        //{Array<Zondy.ThemeStyle>} 图层中专题要素的样式
        this.style = [];
        //{String} 用于指定专题要素样式的属性字段名称。
        // 此属性字段是要用户数据（feature） attributes 中包含的字段，且字段对应的值的类型必须是数值型。使用标签分组显示还需要设置 styleGroups 属性。
        this.keepStyle = true;
    },

    getColor: function getColor() {
        var colorValue = "0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f";
        var colorArray = colorValue.split(",");
        var color = "#"; //定义一个存放十六进制颜色值的字符串变量，先将#存放进去
        for (var i = 0; i < 6; i++) {
            color += colorArray[Math.floor(Math.random() * 16)];
        }
        return color;
    },
    /**
     * @function L.Zondy.rangeThemeLayer.prototype.getStyleByData
     * @description 根据用户数据（feature）设置专题要素的 Style
     * @param feat - {Zondy.Feature.Vector} 矢量要素对象
     * @return {Array<Zondy.ThemeStyle>} 专题要素的 Style
     */
    getStyleByData: function getStyleByData(feat) {
        var me = this;
        var style = (0, _Util.copyAttributesWithClip)({}, me.style);
        style.fillColor = me.getColor();
        return style;
    },
    /**
    * @description 添加专题图
    * @param map - {L.map} 要添加的地图
    */
    onAdd: function onAdd(map) {
        var me = this;

        me.map = me._map = map;
        me._initContainer();
        if (!me.levelRenderer) {
            map.removeLayer(me);
            return;
        }
        //初始化渲染器
        var size = map.getSize();
        me.container.style.width = size.x + "px";
        me.container.style.height = size.y + "px";
        me._updateOpacity();

        me.renderer = me.levelRenderer.init(me.container);
        me.renderer.clear();
        if (me.features && me.features.length > 0) {
            me._reset();
        }

        //处理用户预先（在图层添加到 map 前）监听的事件
        me.addTFEvents();
        me.mouseMoveHandler = function (e) {
            var xy = e.layerPoint;
            me.currentMousePosition = window.L.point(xy.x + me.movingOffset[0], xy.y + me.movingOffset[1]);
        };
        map.on("mousemove", me.mouseMoveHandler);
        me.zoomstartHandler = function (e) {
            me.keepStyle = false;
            // alert('start');
        };
        map.on('zoomstart ', me.zoomstartHandler);
        me.zoomendHandler = function (e) {
            me.keepStyle = true;
            //alert('end');
        };
        map.on('zoomend', me.zoomendHandler);

        me.update();
    },
    redrawThematicFeatures: function redrawThematicFeatures(bounds) {
        var me = this;
        //获取高亮专题要素对应的用户 id
        var hoverone = me.renderer.getHoverOne();
        var hoverFid = null;
        if (hoverone && hoverone.refDataID) {
            hoverFid = hoverone.refDataID;
        }
        if (bounds && bounds instanceof window.L.LatLngBounds) {
            var crs = this._map.options.crs;
            bounds = window.L.bounds(crs.project(bounds.getSouthWest()), crs.project(bounds.getNorthEast()));
            bounds = new _Rectangle.Rectangle(bounds.min.x, bounds.min.y, bounds.max.x, bounds.max.y);
        }
        //清除当前所有可视元素
        me.renderer.clearAll();

        var features = me.features;
        var cache = me.cache;
        var cacheFields = me.cacheFields;
        var cmZoom = me._map.getZoom();

        var maxCC = me.maxCacheCount;

        for (var i = 0, len = features.length; i < len; i++) {
            var feature = features[i];
            var feaBounds = feature.bound;

            //剔除当前视图（地理）范围以外的数据
            if (bounds && !bounds.intersectsBounds(feaBounds)) {
                continue;
            }

            //缓存字段
            var fields = feature.FID + "_zoom_" + cmZoom.toString();
            if (cache[fields] && me.keepStyle) {
                cache[fields].updateAndAddShapes();
                continue;
            }

            var thematicFeature = me.createThematicFeature(features[i]);
            //检查 thematicFeature 是否有可视化图形
            if (thematicFeature.getShapesCount() < 1) {
                continue;
            }
            //加入缓存
            cache[fields] = thematicFeature;
            cacheFields.push(fields);
            //缓存数量限制
            if (cacheFields.length > maxCC) {
                var fieldsTemp = cacheFields[0];
                cacheFields.splice(0, 1);
                delete cache[fieldsTemp];
            }
            //console.log("total: %d ,current:%d", features.length,i);
        }

        me.renderer.render();

        //地图漫游后，重新高亮图形
        if (hoverFid && me.options.isHoverAble && me.options.isMultiHover) {
            var hShapes = this.getShapesByFeatureID(hoverFid);
            this.renderer.updateHoverShapes(hShapes);
        }
    },
    redraw: function redraw() {
        if (!this.keepStyle) {
            this.clearCache();
        }
        return _ThemeLayer.ThemeLayer.prototype.redraw.apply(this, arguments);
    }
});
var randomThemeLayer = exports.randomThemeLayer = function randomThemeLayer(name, options) {
    return new RandomThemeLayer(name, options);
};

_Base.Zondy.Map.randomThemeLayer = randomThemeLayer;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/RangeThemeLayer.js":
/*!****************************************************!*\
  !*** ./leaflet/clientThemeLeaf/RangeThemeLayer.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.rangeThemeLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _GeoFeatureThemeLayer = __webpack_require__(/*! ./GeoFeatureThemeLayer */ "./leaflet/clientThemeLeaf/GeoFeatureThemeLayer.js");

/**
 * @class L.Zondy.rangeThemeLayer
 * @classdesc 范围分段专题图。
 * @description 范围分段专题图对数据（<{@link Zondy.Feature.Vector}>）属性字段（attributes）的属性值进行分段，使用不同的颜色或符号（线型、填充）渲染不同范围段的属性值。
 *            分段专题图一般用来反映连续分布现象的数量或程度特征，如降水量的分布，土壤侵蚀强度的分布等。
 * @extends L.Zondy.GeoFeatureThemeLayer
 * @param name - {string} 图层名
 * @param options - {Object} 图层参数。如：<br>
 *        nodesClipPixel - {number}节点抽稀像素距离，默认值 2。<br>
 *        isHoverAble - {boolean} 图形是否在 hover 时高亮 ，默认值：false。<br>
 *        isMultiHover - {boolean} 是否多图形同时高亮，用于高亮同一个数据对应的所有图形（如：多面），默认值：false。<br>
 *        isClickAble - {boolean} 图形是否可点击，默认 true。<br>
 *        isAllowFeatureStyle - {boolean} 是否允许 feature 样式（style） 中的有效属性应用到专题图层。
 *                                        默认值为： false，禁止对专题要素使用数据（feature）的 style。
 *                                        此属性可强制将数据 feature 的 style 中有效属性应用到专题要素上，且拥有比图层 style 和 styleGroups 更高的优先级，使专题要素
 *                                        的样式脱离专题图层的控制。可以通过此方式实现对特殊数据（feature） 对应专题要素赋予独立 style。
 */
var RangeThemeLayer = _GeoFeatureThemeLayer.GeoFeatureThemeLayer.extend({

    initialize: function initialize(name, options) {
        _GeoFeatureThemeLayer.GeoFeatureThemeLayer.prototype.initialize.call(this, name, options);
        //{Array<Zondy.ThemeStyle>} 图层中专题要素的样式
        this.style = [];
        //{String} 用于指定专题要素样式的属性字段名称。
        // 此属性字段是要用户数据（feature） attributes 中包含的字段，且字段对应的值的类型必须是数值型。使用标签分组显示还需要设置 styleGroups 属性。

        this.themeField = null;

        //使用此属性需要设置 themeField 属性。
        //1.没有同时设置 themeField 和 styleGroups，则所有专题要素都使用本图层的 style 进行渲染；
        //2.同时设置 themeField 和 styleGroups，则按照 themeField 指定的字段名称获取用户数据（feature）attributes 中对应的属性值；
        //   a.如果属性值等于 styleGroups 数组里某个元素定义的 value 值，则此专题要素取 styleGroups 数组中该元素定义的 style 进行渲染。
        //   b.如果属性值不等于 styleGroups 数组里任何元素定义的 value 值，则此专题要素按照本图层的 style 进行渲染。
        //此数组每个元素对象必须有两个属性：value : 与字段 themeField 相对应的属性值；style：专题要素 style。
        this.styleGroups = [];
    },

    /**
     * @function L.Zondy.rangeThemeLayer.prototype.getStyleByData
     * @description 根据用户数据（feature）设置专题要素的 Style
     * @param feat - {Zondy.Feature.Vector} 矢量要素对象
     * @return {Array<Zondy.ThemeStyle>} 专题要素的 Style
     */
    getStyleByData: function getStyleByData(feat) {
        var me = this,
            feature = feat,
            style = (0, _Util.copyAttributesWithClip)({}, me.style);

        var groups = me.styleGroups,
            isSfInAttributes = false,
            //指定的 themeField 是否是 feature 的属性字段之一
        attribute = null; //属性值

        var isValidStyleGroup = me.styleGroups && me.styleGroups.length > 0;

        if (me.themeField && isValidStyleGroup && feature.attributes) {
            var Sf = me.themeField,
                attributes = feature.attributes;

            for (var property in attributes) {
                if (Sf !== property) {
                    continue;
                }
                isSfInAttributes = true;
                attribute = attributes[property];
                break;
            }
        }

        //判断属性值是否属于styleGroups的某一个范围，以便对获取分组 style
        if (isSfInAttributes && isValidStyleGroup) {
            for (var i = 0, len = groups.length; i < len; i++) {
                var isContianed = i === len - 1 ? attribute >= groups[i].start && attribute <= groups[i].end : attribute >= groups[i].start && attribute < groups[i].end;
                if (isContianed) {
                    var sty1 = groups[i].style;
                    style = (0, _Util.copyAttributesWithClip)(style, sty1);
                }
            }
        }
        return style;
    }

});
var rangeThemeLayer = exports.rangeThemeLayer = function rangeThemeLayer(name, options) {
    return new RangeThemeLayer(name, options);
};

_Base.Zondy.Map.rangeThemeLayer = rangeThemeLayer;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/RankSymbolThemeLayer.js":
/*!*********************************************************!*\
  !*** ./leaflet/clientThemeLeaf/RankSymbolThemeLayer.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.rankSymbolThemeLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Theme = __webpack_require__(/*! ../../overlay/feature/Theme */ "./overlay/feature/Theme.js");

var _GraphThemeLayer = __webpack_require__(/*! ./GraphThemeLayer */ "./leaflet/clientThemeLeaf/GraphThemeLayer.js");

var _Rectangle = __webpack_require__(/*! ../../service/common/Rectangle */ "./service/common/Rectangle.js");

/**
 * @class Zondy.map.rankSymbolThemeLayer
 * @classdesc 符号专题图图层。
 * @description 符号专题图通过为每个要素绘制符号大小来反映其对应的专题值的大小；它只能表示单个个字段属性信息。
 *            符号专题图多用于具有相关数量特征的地图上，比如表示不同地区粮食产量、GDP、人口等。
 *            即通过制作一个符号专题图，就可以清晰展示各个区域相关Value的分布差异等。
 *           目前提供的符号图形有：圆形（后续进行扩展 心形 五角星 多角心 图片等）
 * @extends Zondy.map.GraphThemeLayer
 * @param name - {string} 专题图层名
 * @param symbolType - {Zondy.ChartType} 必设参数，目前支持："Circle"。
 * @param options - {Object} 可选参数<br>
 *          symbolType<Zondy.ChartType>，必设参数，目前支持："Circle"。<br>
 *          symbolSetting:各类型图表的 symbolSetting 对象可设属性请参考图表模型类的注释中对 symbolSetting 对象可设属性的描述。
 *              所有图表类型的 symbolSetting 对象通常都具有以下 5 个基础可设属性：
 *  * codomain - {Array{number}} 值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。
 *  * XOffset - {number}  专题要素（图形）在 X 方向上的偏移值，单位像素。
 *  * YOffset - {number}  专题要素（图形）在 Y 方向上的偏移值，单位像素。
 *  * dataViewBoxParameter - {Array{number}} 数据视图框 dataViewBox 参数，
 *  它是指图形框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值，长度为 4 的一维数组。
 *  * decimalNumber - {number}数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。
 */
var RankSymbolThemeLayer = _GraphThemeLayer.GraphThemeLayer.extend({

    initialize: function initialize(name, symbolType, options) {
        // eslint-disable-line no-unused-vars
        _GraphThemeLayer.GraphThemeLayer.prototype.initialize.apply(this, arguments);
        this.symbolType = symbolType;
        this.symbolSetting = {};
    },

    /**
     * @function Zondy.map.rankSymbolThemeLayer.prototype.setSymbolType
     * @description 设置符号类型，此函数可动态改变图表类型。在调用此函数前请通过 symbolSetting 为新类型的图表做相关配置。
     * @param symbolType - {Zondy.ChartType} 目前支持："Circle"。 //todo 这里怎么又是Zondy的类型
     */
    setSymbolType: function setSymbolType(symbolType) {
        this.symbolType = symbolType;
        this.redraw();
    },

    /**
     * @function Zondy.map.rankSymbolThemeLayer.prototype.createThematicFeature
     * @description 创建专题要素（图形）
     * @param feature  - {Zondy.Feature.Vector} 要创建的专题图形要素
     * @return {Zondy.Feature.Theme} 专题图形
     */
    createThematicFeature: function createThematicFeature(feature) {
        var me = this;
        var thematicFeature;
        // 检查图形创建条件并创建图形
        if (_Theme.Theme[me.symbolType] && me.themeField && me.symbolSetting) {
            thematicFeature = new _Theme.Theme[me.symbolType](feature, me, [me.themeField], me.symbolSetting, null, me.options);
        }

        // thematicFeature 是否创建成功
        if (!thematicFeature) {
            return false;
        }

        // 对专题要素执行图形装载
        thematicFeature.assembleShapes();

        return thematicFeature;
    },
    _addNoOverlayShape: function _addNoOverlayShape() {
        var me = this;
        // 压盖判断所需 chartsBounds 集合
        var mapBounds = me._map.getBounds();
        var crs = this._map.options.crs;
        mapBounds = window.L.bounds(crs.project(mapBounds.getSouthWest()), crs.project(mapBounds.getNorthEast()));

        var mapPxLT = me.getLocalXY(mapBounds.min);
        var mapPxRB = me.getLocalXY(mapBounds.max);

        var mBounds = new _Rectangle.Rectangle();
        mBounds.xmin = Math.min(parseFloat(mapPxLT[0]), parseFloat(mapPxRB[0]));
        mBounds.xmax = Math.max(parseFloat(mapPxLT[0]), parseFloat(mapPxRB[0]));
        mBounds.ymin = Math.min(parseFloat(mapPxLT[1]), parseFloat(mapPxRB[1]));
        mBounds.ymax = Math.max(parseFloat(mapPxLT[1]), parseFloat(mapPxRB[1]));

        var charts = me.charts;
        var chartsBounds = [];

        // 压盖处理 & 添加图形
        for (var i = 0, len = charts.length; i < len; i++) {
            var chart = charts[i];
            // 图形参考位置  (reSetLocation 会更新 chartBounds)
            var shapeROP = chart.resetLocation();
            // 图表框
            var cbs = chart.chartBounds;
            // 地图范围外不绘制
            if (mBounds && !me.isChartInMap(mBounds, cbs)) {
                continue;
            }
            //图形太大不绘制

            var zoomLevel = me._map.getZoom();
            var zoomD = zoomLevel - me.options.fitZoom;
            if (mBounds && me.options.fitZoom > -1 && Math.abs(zoomLevel - me.options.fitZoom) > 1) {
                continue;
            }

            // 是否压盖
            var isOverlay = false;

            for (var j = 0; j < chartsBounds.length; j++) {
                //压盖判断
                if (me.isQuadrilateralOverLap(cbs, chartsBounds[j])) {
                    isOverlay = true;
                    break;
                }
            }

            if (isOverlay) {
                continue;
            } else {
                chartsBounds.push(cbs);
            }

            // 添加图形
            var shapes = chart.shapes;
            for (var _j = 0, slen = shapes.length; _j < slen; _j++) {
                shapes[_j].refOriginalPosition = shapeROP;
                me.renderer.addShape(shapes[_j]);
            }
        }
    }

});
var rankSymbolThemeLayer = exports.rankSymbolThemeLayer = function rankSymbolThemeLayer(name, symbolType, options) {
    return new RankSymbolThemeLayer(name, symbolType, options);
};
_Base.Zondy.Map.rankSymbolThemeLayer = rankSymbolThemeLayer;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/SimpleThemeLayer.js":
/*!*****************************************************!*\
  !*** ./leaflet/clientThemeLeaf/SimpleThemeLayer.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.simpleThemeLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _GeoFeatureThemeLayer = __webpack_require__(/*! ./GeoFeatureThemeLayer */ "./leaflet/clientThemeLeaf/GeoFeatureThemeLayer.js");

var _ThemeLayer = __webpack_require__(/*! ./ThemeLayer */ "./leaflet/clientThemeLeaf/ThemeLayer.js");

/**
 * @class L.Zondy.rangeThemeLayer
 * @classdesc 范围分段专题图。
 * @description 范围分段专题图对数据（<{@link Zondy.Feature.Vector}>）属性字段（attributes）的属性值进行分段，使用不同的颜色或符号（线型、填充）渲染不同范围段的属性值。
 *            分段专题图一般用来反映连续分布现象的数量或程度特征，如降水量的分布，土壤侵蚀强度的分布等。
 * @extends L.Zondy.GeoFeatureThemeLayer
 * @param name - {string} 图层名
 * @param options - {Object} 图层参数。如：<br>
 *        nodesClipPixel - {number}节点抽稀像素距离，默认值 2。<br>
 *        isHoverAble - {boolean} 图形是否在 hover 时高亮 ，默认值：false。<br>
 *        isMultiHover - {boolean} 是否多图形同时高亮，用于高亮同一个数据对应的所有图形（如：多面），默认值：false。<br>
 *        isClickAble - {boolean} 图形是否可点击，默认 true。<br>
 *        isAllowFeatureStyle - {boolean} 是否允许 feature 样式（style） 中的有效属性应用到专题图层。
 *                                        默认值为： false，禁止对专题要素使用数据（feature）的 style。
 *                                        此属性可强制将数据 feature 的 style 中有效属性应用到专题要素上，且拥有比图层 style 和 styleGroups 更高的优先级，使专题要素
 *                                        的样式脱离专题图层的控制。可以通过此方式实现对特殊数据（feature） 对应专题要素赋予独立 style。
 */
var SimpleThemeLayer = _GeoFeatureThemeLayer.GeoFeatureThemeLayer.extend({

    initialize: function initialize(name, options) {
        _GeoFeatureThemeLayer.GeoFeatureThemeLayer.prototype.initialize.call(this, name, options);
        //{Array<Zondy.ThemeStyle>} 图层中专题要素的样式
        this.style = [];
    },

    getColor: function getColor() {
        var colorValue = "0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f";
        var colorArray = colorValue.split(",");
        var color = "#"; //定义一个存放十六进制颜色值的字符串变量，先将#存放进去
        for (var i = 0; i < 6; i++) {
            color += colorArray[Math.floor(Math.random() * 16)];
        }
        return color;
    },
    /**
     * @function L.Zondy.rangeThemeLayer.prototype.getStyleByData
     * @description 根据用户数据（feature）设置专题要素的 Style
     * @param feat - {Zondy.Feature.Vector} 矢量要素对象
     * @return {Array<Zondy.ThemeStyle>} 专题要素的 Style
     */
    getStyleByData: function getStyleByData(feat) {
        var me = this;
        var style = (0, _Util.copyAttributesWithClip)({}, me.style);
        if (style.fillColor == null) {
            style.fillColor = me.getColor();
        }
        me.style = style;
        return style;
    },
    redraw: function redraw() {
        return _ThemeLayer.ThemeLayer.prototype.redraw.apply(this, arguments);
    }
});
var simpleThemeLayer = exports.simpleThemeLayer = function simpleThemeLayer(name, options) {
    return new SimpleThemeLayer(name, options);
};

_Base.Zondy.Map.simpleThemeLayer = simpleThemeLayer;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/ThemeLayer.js":
/*!***********************************************!*\
  !*** ./leaflet/clientThemeLeaf/ThemeLayer.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ThemeLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _LevelRenderer = __webpack_require__(/*! ../../overlay/levelRender/LevelRenderer */ "./overlay/levelRender/LevelRenderer.js");

/**
 * @class ThemeLayer
 * @classdesc 专题图层基类，调用建议使用其子类实现类。
 * @private
 * @extends L.Layer{@linkdoc-leaflet/#layer}
 * @param name - {string} 专题图层名称
 * @param options -{Object} 待设置得参数。
 */
var ThemeLayer = window.L.Layer.extend({

    options: {
        name: null,
        opacity: 1,
        // {Array} 专题要素事件临时存储，临时保存图层未添加到 map 前用户添加的事件监听，待图层添加到 map 后把这些事件监听添加到图层上，清空此图层。
        //这是一个二维数组，组成二维数组的每个一维数组长度为 2，分别是 event, callback。
        TFEvents: null
    },

    initialize: function initialize(name, options) {
        window.L.Util.setOptions(this, options);
        this.options.name = name;
        this.features = [];
        this.TFEvents = options && options.TFEvents ? options.TFEvents : [];
        this.levelRenderer = new _LevelRenderer.LevelRenderer();
        this.movingOffset = [0, 0];
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.getEvents
     * @description 获取图层事件
     * @return {Object} 返回图层支持的事件
     */
    getEvents: function getEvents() {
        var me = this;
        var events = {
            zoomend: me._reset,
            moveend: me._reset,
            resize: me._resize
        };
        if (this._map._zoomAnimated) {
            events.zoomanim = me._zoomAnim;
        }
        return events;
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.onRemove
     * @description 删除某个地图
     * @param map - {L.map} 要删除的地图
     */
    onRemove: function onRemove(map) {
        var me = this;
        window.L.DomUtil.remove(me.container);
        map.off("mousemove", me.mouseMoveHandler);
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.onAdd
     * @description 添加专题图
     * @param map - {L.map} 要添加的地图
     */
    onAdd: function onAdd(map) {
        var me = this;

        me.map = me._map = map;
        me._initContainer();
        if (!me.levelRenderer) {
            map.removeLayer(me);
            return;
        }
        //初始化渲染器
        var size = map.getSize();
        me.container.style.width = size.x + "px";
        me.container.style.height = size.y + "px";
        me._updateOpacity();

        me.renderer = me.levelRenderer.init(me.container);
        me.renderer.clear();
        if (me.features && me.features.length > 0) {
            me._reset();
        }

        //处理用户预先（在图层添加到 map 前）监听的事件
        me.addTFEvents();
        me.mouseMoveHandler = function (e) {
            var xy = e.layerPoint;
            me.currentMousePosition = window.L.point(xy.x + me.movingOffset[0], xy.y + me.movingOffset[1]);
        };
        map.on("mousemove", me.mouseMoveHandler);

        me.update();
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.addFeatures
     * @description 向专题图图层中添加数据, 支持的feature类型为:iServer返回的feature json对象 或L.supermap.themeFeature类型
     * @param features - {SuperMap.Feature.Vector} 要添加的要素
     */
    addFeatures: function addFeatures(features) {// eslint-disable-line no-unused-vars
        //子类实现此方法
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.redrawThematicFeatures
     * @description 抽象方法，可实例化子类必须实现此方法。
     * @param bounds - {L.bounds} 重绘专题要素范围。
     */
    redrawThematicFeatures: function redrawThematicFeatures(bounds) {// eslint-disable-line no-unused-vars
        //子类必须实现此方法
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.destroyFeatures
     * @description 销毁某个要素
     * @param features - {SuperMap.Feature.Vector} 将被销毁的要素
     */
    destroyFeatures: function destroyFeatures(features) {
        if (features === undefined) {
            features = this.features;
        }
        if (!features) {
            return;
        }
        this.removeFeatures(features);
        for (var i = features.length - 1; i >= 0; i--) {
            features[i].destroy();
        }
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.removeFeatures
     * @description 从专题图中删除 feature。这个函数删除所有传递进来的矢量要素。
     * @param features - {L.feature} 将被删除得要素
     */
    removeFeatures: function removeFeatures(features) {
        var me = this;
        if (!features || features.length === 0) {
            return;
        }
        if (features === me.features) {
            return me.removeAllFeatures();
        }
        if (!window.L.Util.isArray(features)) {
            features = [features];
        }

        var featuresFailRemoved = [];

        for (var i = features.length - 1; i >= 0; i--) {
            var feature = features[i];

            //如果我们传入的feature在features数组中没有的话，则不进行删除，
            //并将其放入未删除的数组中。
            var findex = window.L.Util.indexOf(me.features, feature);

            if (findex === -1) {
                featuresFailRemoved.push(feature);
                continue;
            }
            me.features.splice(findex, 1);
        }

        var drawFeatures = [];
        for (var hex = 0, len = me.features.length; hex < len; hex++) {
            feature = me.features[hex];
            drawFeatures.push(feature);
        }
        me.features = [];
        me.addFeatures(drawFeatures);
        //绘制专题要素
        if (me.renderer) {
            if (me._map) {
                me.redrawThematicFeatures(me._map.getBounds());
            } else {
                me.redrawThematicFeatures();
            }
        }

        var succeed = featuresFailRemoved.length == 0;
        me.fire("featuresremoved", { features: featuresFailRemoved, succeed: succeed });
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.removeAllFeatures
     * @description 清除当前图层所有的矢量要素。
     */
    removeAllFeatures: function removeAllFeatures() {
        var me = this;
        if (me.renderer) {
            me.renderer.clear();
        }
        me.features = [];
        me.fire("featuresremoved", { features: [], succeed: true });
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.getFeatures
     * @description 查看当前图层中的有效数据。
     * @return {Array} 返回图层中的有效数据。
     */
    getFeatures: function getFeatures() {
        var me = this;
        var len = me.features.length;
        var clonedFeatures = new Array(len);
        for (var i = 0; i < len; ++i) {
            clonedFeatures[i] = me.features[i];
        }
        return clonedFeatures;
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.getFeatureBy
     * @description 在专题图的要素数组 features 里面遍历每一个 feature，当 feature[property] === value 时，返回此 feature（并且只返回第一个）。
     * @param property - {string} 要素得某个属性名
     * @param value - {string} 对应属性名得值
     */
    getFeatureBy: function getFeatureBy(property, value) {
        var me = this;
        var feature = null;
        for (var id in me.features) {
            if (me.features[id][property] !== value) {
                continue;
            }
            feature = me.features[id];
            break;
        }
        return feature;
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.getFeatureById
     * @description 通过给定一个 id，返回对应的矢量要素,如果不存在则返回 null
     * @param featureId - {number}要素id
     */
    getFeatureById: function getFeatureById(featureId) {
        return this.getFeatureBy('FID', featureId);
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.getFeaturesByAttribute
     * @description 通过给定一个属性的 key 值和 value 值，返回所有匹配的要素数组。
     * @param attrName - {string} key 值
     * @param attrValue - {string} value 值
     * @return {Array} 返回所有匹配的要素数组。
     */
    getFeaturesByAttribute: function getFeaturesByAttribute(attrName, attrValue) {
        var me = this,
            feature,
            foundFeatures = [];
        for (var id in me.features) {
            feature = me.features[id];
            if (feature && feature.attributes && feature.attributes[attrName] === attrValue) {
                foundFeatures.push(feature);
            }
        }
        return foundFeatures;
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.update
     * @description 更新图层
     * @param bounds - {L.bounds} 图层范围
     */
    update: function update(bounds) {
        var mapOffset = this._map.containerPointToLayerPoint([0, 0]);
        window.L.DomUtil.setPosition(this.container, mapOffset);

        var me = this;
        //  var bounds = me._map.getBounds();
        //  var topLeft = me._map.latLngToLayerPoint(bounds.getNorthWest());
        //  var mapOffset = [parseInt(topLeft.x, 10) || 0, parseInt(topLeft.y, 10) || 0]
        // // var offsetLeft = parseInt(me._map.getContainer().style.left, 10);
        // // offsetLeft = -Math.round(offsetLeft);
        //  //var offsetTop = parseInt(me._map.getContainer().style.top, 10);
        //  //offsetTop = -Math.round(offsetTop);
        //  me.container.style.left = mapOffset[0] + 'px';
        //  me.container.style.top = mapOffset[1] + 'px';

        //绘制专题要素
        if (me.renderer) {
            me.redrawThematicFeatures(bounds);
        }

        if (me.currentMousePosition) {
            me.currentMousePosition = window.L.point(me.currentMousePosition.x - me.movingOffset[0], me.currentMousePosition.y - me.movingOffset[1]);
        }
        me.movingOffset = [0, 0];
        me._zoom = me._map.getZoom();
        me._center = me._map.getCenter();
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.setOpacity
     * @description 设置图层的不透明度,取值[0-1]之间。
     * @param opacity - {number}不透明度
     */
    setOpacity: function setOpacity(opacity) {
        var me = this;
        if (opacity === me.options.opacity) {
            return;
        }
        if (opacity) {
            me.options.opacity = opacity;
        }
        me._updateOpacity();
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.redraw
     * @description 重绘该图层
     * @return {boolean} 返回是否重绘成功
     */
    redraw: function redraw() {
        var me = this;
        if (!me.renderer) {
            return false;
        }
        if (me._map) {
            me.redrawThematicFeatures(me._map.getBounds());
        } else {
            me.redrawThematicFeatures();
        }
        return true;
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.on
     * @description 添加专题要素事件监听。添加专题要素事件监听。
     * @param event - {Event} 监听事件
     * @param callback - {function} 回调函数
     * @param context - {string} 信息
     */
    on: function on(event, callback, context) {
        // eslint-disable-line no-unused-vars
        if (this.renderer) {
            this.renderer.on(event, callback);
        } else {
            window.L.Layer.prototype.on.call(this, event, callback);
        }
        return this;
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.off
     * @description 移除专题要素事件监听。
     * @param event - {Event} 监听事件
     * @param callback - {function} 回调函数
     * @param context - {string} 信息
     */
    off: function off(event, callback, context) {
        // eslint-disable-line no-unused-vars
        var me = this;
        if (me.renderer) {
            me.renderer.un(event, callback);
        } else {
            window.L.Layer.prototype.off.call(this, event, callback);
        }
        return this;
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.addTFEvents
     * @description 将图层添加到地图上之前用户要求添加的事件监听添加到图层。
     */
    addTFEvents: function addTFEvents() {
        var me = this;
        var tfEs = me.TFEvents;
        var len = tfEs.length;

        for (var i = 0; i < len; i++) {
            me.renderer.on(tfEs[i][0], tfEs[i][1]);
        }
    },

    /**
     * @function L.supermap.ThemeLayer.prototype.getLocalXY
     * @description 地理坐标转为像素坐标
     * @param coordinate - {array}
     */
    getLocalXY: function getLocalXY(coordinate) {
        if (!this._map) {
            return coordinate;
        }
        var coor = coordinate;
        if (window.L.Util.isArray(coordinate)) {
            coor = window.L.point(coordinate[0], coordinate[1]);
        } else if (!(coordinate instanceof window.L.Point)) {
            if (coordinate instanceof _Base.Zondy.LonLat) {
                coor = window.L.point(coordinate.lon, coordinate.lat);
            } else {
                coor = window.L.point(coordinate.x, coordinate.y);
            }
        }
        var point = this._map.latLngToContainerPoint(this._map.options.crs.unproject(coor));
        return [point.x, point.y];
    },

    _initContainer: function _initContainer() {
        var parentContainer = this.getPane();
        var animated = this._map.options.zoomAnimation && window.L.Browser.any3d;
        var className = this.options.name || "themeLayer";
        className += ' leaflet-layer leaflet-zoom-' + (animated ? 'animated' : 'hide');
        this.container = window.L.DomUtil.create("div", className, parentContainer);

        var originProp = window.L.DomUtil.testProp(['transformOrigin', 'WebkitTransformOrigin', 'msTransformOrigin']);
        this.container.style[originProp] = '50% 50%';

        this.container.style.position = "absolute";
        this.container.style.zIndex = 200;
    },

    _zoomAnim: function _zoomAnim(e) {
        var scale = this._map.getZoomScale(e.zoom),
            offset = this._map._getCenterOffset(e.center)._multiplyBy(-scale).subtract(this._map._getMapPanePos());

        if (window.L.DomUtil.setTransform) {
            window.L.DomUtil.setTransform(this.container, offset, scale);
        } else {
            this.container.style[window.L.DomUtil.TRANSFORM] = window.L.DomUtil.getTranslateString(offset) + ' scale(' + scale + ')';
        }
    },

    _updateOpacity: function _updateOpacity() {
        var me = this;
        (0, _Util.modifyDOMElement)(me.container, null, null, null, null, null, null, me.options.opacity);
        if (me._map !== null) {
            me._map.fire("changelayer", { layer: me, property: "opacity" });
        }
    },

    //缩放移动重绘
    _reset: function _reset() {
        var me = this;
        var latLngBounds = me._map.getBounds();
        me.update(latLngBounds);
        var size = me._map.getSize();
        var mapOffset = this._map.containerPointToLayerPoint([0, 0]);
        window.L.DomUtil.setPosition(this.container, mapOffset);

        if (parseFloat(me.container.width) !== parseFloat(size.x)) {
            me.container.width = size.x + 'px';
        }
        if (parseFloat(me.container.height) !== parseFloat(size.y)) {
            me.container.height = size.y + 'px';
        }
        me.redraw();
    },

    //通知渲染器的尺寸变化
    _resize: function _resize() {
        var me = this;
        var newSize = me._map.getSize();
        me.container.style.width = newSize.x + "px";
        me.container.style.height = newSize.y + "px";
        me.renderer.resize();
    }
});
exports.ThemeLayer = ThemeLayer;

_Base.Zondy.Map.ThemeLayer = ThemeLayer;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/ThemeStyle.js":
/*!***********************************************!*\
  !*** ./leaflet/clientThemeLeaf/ThemeStyle.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ThemeStyle = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Client.ThemeStyle
 * @classdesc 客户端专题图风格类
 * @param options -{Object} 可选参数。如：<br>
 *         fill - {boolean} 是否填充，不需要填充则设置为 false，默认值为 true。如果 fill 与 stroke 同时为 false，将按 fill 与 stroke 的默认值渲染图层。<br>
 *         fillColor - {string} 十六进制填充颜色。默认值为 "#000000"。<br>
 *         fillOpacity - {number} 填充不透明度。取值范围[0, 1]，默认值 1。<br>
 *         stroke - {boolean} 是否描边，不需要描边则设置为false，默认值为 false。如果 fill 与 stroke 同时为 false，将按 fill 与 stroke 的默认值渲染图层。<br>
 *         strokeColor - {string} 十六进制描边颜色。默认值为 "#000000"。<br>
 *         strokeOpacity - {number} 描边的不透明度。取值范围[0, 1]，默认值 1。<br>
 *         strokeWidth - {number} 线宽度/描边宽度，默认值 1。<br>
 *         strokeLinecap - {string} 线帽样式。strokeLinecap 有三种类型 “butt", "round", "square"; 默认为"butt"。<br>
 *         strokeLineJoin - {string} 线段连接样式。strokeLineJoin 有三种类型 “miter", "round", "bevel"; 默认为"miter"。<br>
 *         strokeDashstyle - {string} 虚线类型。strokeDashstyle 有八种类型 “dot",“dash",“dashot",“longdash",“longdashdot",“solid", "dashed", "dotted"。默认值 "solid"。solid 表示实线。<br>
 *         pointRadius - {number} 点半径，默认为 6 （像素）。<br>
 *         shadowBlur - {number} 阴影模糊度，（大于 0 有效; 默认值 0）。注：请将 shadowColor 属性与 shadowBlur 属性一起使用，来创建阴影。<br>
 *         shadowColor - {string} 阴影颜色; 默认值 '#000000'。注：请将 shadowColor 属性与 shadowBlur 属性一起使用，来创建阴影。<br>
 *         shadowOffsetX - {number} 阴影 X 方向偏移值; 默认值 0。<br>
 *         shadowOffsetY - {number} 阴影 Y 方向偏移值; 默认值 0。<br>
 *         label - {string} 专题要素附加文本标签内容。<br>
 *         fontColor - {string} 附加文本字体颜色。<br>
 *         fontSize - {number} 附加文本字体大小。默认值 12，单位是像素。<br>
 *         fontStyle - {string} 附加文本字体样式。可设值："normal", "italic", "oblique"; 默认值："normal"。<br>
 *         fontVariant - {string} 附加文本字体变体。可设值："normal", "small-caps"; 默认值："normal"。<br>
 *         fontWeight - {string} 附加文本字体粗细。可设值："normal", "bold", "bolder", "lighter"; 默认值："normal"。<br>
 *         fontFamily - {string} 附加文本字体系列。fontFamily 值是字体族名称或/及类族名称的一个优先表，每个值逗号分割，
 *                               浏览器会使用它可识别的第一个可以使用具体的字体名称（"times"、"courier"、"arial"）或字体系列名称
 *                               （"serif"、"sans-serif"、"cursive"、"fantasy"、"monospace"）。默认值："arial,sans-serif"。<br>
 *         labelPosition - {string} 附加文本位置, 可以是 'inside', 'left', 'right', 'top', 'bottom'; 默认值 'top'。<br>
 *         labelAlign - {string} 附加文本水平对齐。可以是 'left', 'right', 'center'; 默认值 'center'。<br>
 *         labelBaseline - {string} 附加文本垂直对齐。 可以是 'top', 'bottom', 'middle';默认值 'middle'。<br>
 *         labelXOffset - {number} 附加文本在x轴方向的偏移量; 默认值 0。<br>
 *         labelYOffset - {number} 附加文本在y轴方向的偏移量; 默认值 0。<br>
 */
var ThemeStyle = function ThemeStyle(options) {
  (0, _classCallCheck3.default)(this, ThemeStyle);

  options = options || {};
  /**
   * @member Zondy.Client.ThemeStyle.prototype.fill - {boolean}
   * @description 是否填充，不需要填充则设置为 false，默认值为 true。如果 fill 与 stroke 同时为 false，将按 fill 与 stroke 的默认值渲染图层。
   */
  this.fill = true;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.fillColor -{string}
   * @description 十六进制填充颜色。默认值为 "#000000"。
   */
  this.fillColor = "#000000";
  /**
   *  @member Zondy.Client.ThemeStyle.prototype.fillOpacity -{number}
   *  @description 填充不透明度。取值范围[0, 1]，默认值 1。
   */
  this.fillOpacity = 1;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.stroke -{boolean}
   * @description  是否描边，不需要描边则设置为false，默认值为 false。如果 fill 与 stroke 同时为 false，将按 fill 与 stroke 的默认值渲染图层。
   */
  this.stroke = false;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.strokeColor -{string}
   * @description  十六进制描边颜色。默认值为 "#000000"。
   */
  this.strokeColor = "#000000";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.strokeOpacity -{number}
   * @description  描边的不透明度。取值范围[0, 1]，默认值 1。
   */
  this.strokeOpacity = 1;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.strokeWidth -{number}
   * @description  线宽度/描边宽度，默认值 1。
   */
  this.strokeWidth = 1;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.strokeLinecap -{string}
   * @description  线帽样式；strokeLinecap 有三种类型 “butt", "round", "square"; 默认为"butt"。
   */
  this.strokeLinecap = "butt";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.strokeLineJoin -{string}
   * @description  线段连接样式；strokeLineJoin 有三种类型 “miter", "round", "bevel"; 默认为"miter"。
   */
  this.strokeLineJoin = "miter";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.strokeDashstyle -{string}
   * @description   虚线类型； strokeDashstyle 有八种类型 “dot",“dash",“dashot",“longdash",“longdashdot",“solid", "dashed", "dotted";
   * 默认值 "solid"。solid 表示实线。
   */
  this.strokeDashstyle = "solid";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.pointRadius -{number}
   * @description   点半径，默认为 6 （像素）。
   */
  this.pointRadius = 6;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.shadowBlur -{number}
   * @description   阴影模糊度，（大于 0 有效; 默认值 0）。注：请将 shadowColor 属性与 shadowBlur 属性一起使用，来创建阴影。
   */
  this.shadowBlur = 0;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.shadowColor -{string}
   * @description  阴影颜色; 默认值 '#000000'。  注：请将 shadowColor 属性与 shadowBlur 属性一起使用，来创建阴影。
   */
  this.shadowColor = "#000000";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.shadowOffsetX -{number}
   * @description 阴影 X 方向偏移值; 默认值 0。
   */
  this.shadowOffsetX = 0;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.shadowOffsetY -{number}
   * @description Y 方向偏移值; 默认值 0。
   */
  this.shadowOffsetY = 0;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.label -{string}
   * @description 专题要素附加文本标签内容。
   */
  this.label = "";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.labelRect -boolean
   * @description 是否显示文本标签矩形背景。
   */
  this.labelRect = false;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.fontColor -{string}
   * @description 附加文本字体颜色。
   */
  this.fontColor = "";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.fontSize -{number}
   * @description 附加文本字体大小。默认值 12，单位是像素。
   */
  this.fontSize = 12;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.fontStyle -{string}
   * @description 附加文本字体样式。可设值："normal", "italic", "oblique"; 默认值："normal" 。
   */
  this.fontStyle = "normal";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.fontVariant -{string}
   * @description 附加文本字体变体。可设值："normal", "small-caps"; 默认值："normal" 。
   */
  this.fontVariant = "normal";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.fontWeight -{string}
   * @description 附加文本字体粗细。可设值："normal", "bold", "bolder", "lighter"; 默认值："normal" 。
   */
  this.fontWeight = "normal";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.fontFamily -{string}
   * @description 附加文本字体系列。fontFamily 值是字体族名称或/及类族名称的一个优先表，每个值逗号分割，浏览器会使用它可识别的第一个
   * 可以使用具体的字体名称（"times"、"courier"、"arial"）或字体系列名称（"serif"、"sans-serif"、"cursive"、"fantasy"、"monospace"）。
   * 默认值："arial,sans-serif".
   */
  this.fontFamily = "arial,sans-serif";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.labelPosition -{string}
   * @description 附加文本位置, 可以是 'inside', 'left', 'right', 'top', 'bottom'; 默认值 'top'。
   */
  this.labelPosition = "top";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.labelAlign -{string}
   * @description 附加文本水平对齐。可以是 'left', 'right', 'center'; 默认值 'center'。
   */
  this.labelAlign = "center";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.labelBaseline -{string}
   * @description  附加文本垂直对齐。 可以是 'top', 'bottom', 'middle';默认值 'middle'。
   */
  this.labelBaseline = "middle";
  /**
   * @member Zondy.Client.ThemeStyle.prototype.labelXOffset -{number}
   * @description  附加文本在x轴方向的偏移量。
   */
  this.labelXOffset = 0;
  /**
   * @member Zondy.Client.ThemeStyle.prototype.labelYOffset -{number}
   * @description 附加文本在y轴方向的偏移量。
   */
  this.labelYOffset = 0;

  (0, _Util.extend)(this, options);
};

;

exports.ThemeStyle = ThemeStyle;

_Base.Zondy.Client.ThemeStyle = ThemeStyle;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/UniqueThemeLayer.js":
/*!*****************************************************!*\
  !*** ./leaflet/clientThemeLeaf/UniqueThemeLayer.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.uniqueThemeLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _GeoFeatureThemeLayer = __webpack_require__(/*! ./GeoFeatureThemeLayer */ "./leaflet/clientThemeLeaf/GeoFeatureThemeLayer.js");

/**
 * @class Zondy.uniqueThemeLayer
 * @classdesc 客户端单值专题图
 * @description 单值专题图是利用不同的颜色或符号（线型、填充）表示图层中某一属性信息的不同属性值，属性值相同的要素具有相同的渲染风格<br>
 *            比如土壤类型分布图、土地利用图、行政区划图等。单值专题图着重表示现象质的差别，一般不表示数量的特征。
 * @extends Zondy.GeoFeatureThemeLayer
 * @param name - {string} 专题图层名
 * @param options - {Object} 可选参数<br>
 *        nodesClipPixel - {number}节点抽稀像素距离，默认值 2。<br>
 *        isHoverAble - {boolean} 图形是否在 hover 时高亮 ，默认值：false。<br>
 *        isMultiHover - {boolean} 是否多图形同时高亮，用于高亮同一个数据对应的所有图形（如：多面），默认值：false。<br>
 *        isClickAble - {boolean} 图形是否可点击，默认 true。<br>
 *        isAllowFeatureStyle - {boolean} 是否允许 feature 样式（style） 中的有效属性应用到专题图层。
 *                                        默认值为： false，禁止对专题要素使用数据（feature）的 style。
 *                                        此属性可强制将数据 feature 的 style 中有效属性应用到专题要素上，且拥有比图层 style 和 styleGroups 更高的优先级，使专题要素
 *                                        的样式脱离专题图层的控制。可以通过此方式实现对特殊数据（feature） 对应专题要素赋予独立 style。
 */
var UniqueThemeLayer = _GeoFeatureThemeLayer.GeoFeatureThemeLayer.extend({

    initialize: function initialize(name, options) {
        _GeoFeatureThemeLayer.GeoFeatureThemeLayer.prototype.initialize.call(this, name, options);
        //{Array<Zondy.ThemeStyle>} 图层中专题要素的样式
        this.style = [];
        //{String} 用于指定专题要素样式的属性字段名称。
        // 此属性字段是要用户数据（feature） attributes 中包含的字段，且字段对应的值的类型必须是数值型。使用标签分组显示还需要设置 styleGroups 属性。

        this.themeField = null;

        //使用此属性需要设置 themeField 属性。
        //1.没有同时设置 themeField 和 styleGroups，则所有专题要素都使用本图层的 style 进行渲染；
        //2.同时设置 themeField 和 styleGroups，则按照 themeField 指定的字段名称获取用户数据（feature）attributes 中对应的属性值；
        //   a.如果属性值等于 styleGroups 数组里某个元素定义的 value 值，则此专题要素取 styleGroups 数组中该元素定义的 style 进行渲染。
        //   b.如果属性值不等于 styleGroups 数组里任何元素定义的 value 值，则此专题要素按照本图层的 style 进行渲染。
        //此数组每个元素对象必须有两个属性：value : 与字段 themeField 相对应的属性值；style：专题要素 style。
        this.styleGroups = [];
    },

    /**
     * @private
     * @function getStyleByData
     * @description 根据用户数据（feature）设置专题要素的 Style
     * @param feat {Zondy.Feature.Vector} 用户要素数据
     * @return {Array<Zondy.ThemeStyle>} 返回包含专题要素style的对象
     */
    getStyleByData: function getStyleByData(feat) {
        var me = this,
            feature = feat,
            style = (0, _Util.copyAttributesWithClip)({}, me.style);

        var groups = me.styleGroups,
            isSfInAttributes = false,
            //指定的 themeField 是否是 feature 的属性字段之一
        attribute = null; //属性值

        var isValidStyleGroup = me.styleGroups && me.styleGroups.length > 0;
        if (me.themeField && isValidStyleGroup && feature.attributes) {
            var tf = me.themeField,
                attributes = feature.attributes;
            for (var property in attributes) {
                if (tf !== property) {
                    continue;
                }
                isSfInAttributes = true;
                attribute = attributes[property];
                break;
            }
        }

        //判断属性值是否属于styleGroups的某一个范围，以便对获取分组 style
        if (isSfInAttributes && isValidStyleGroup) {
            for (var i = 0, len = groups.length; i < len; i++) {
                if (attribute.toString() === groups[i].value.toString()) {
                    var sty1 = groups[i].style;
                    style = (0, _Util.copyAttributesWithClip)(style, sty1);
                }
            }
        }
        return style;
    }
});
var uniqueThemeLayer = exports.uniqueThemeLayer = function uniqueThemeLayer(name, options) {
    return new UniqueThemeLayer(name, options);
};
_Base.Zondy.Map.uniqueThemeLayer = uniqueThemeLayer;

/***/ }),

/***/ "./leaflet/clientThemeLeaf/index.js":
/*!******************************************!*\
  !*** ./leaflet/clientThemeLeaf/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ThemeStyle = exports.RankSymbolThemeLayer = exports.SimpleThemeLayer = exports.RandomThemeLayer = exports.graphThemeLayer = exports.GraphThemeLayer = exports.UniqueThemeLayer = exports.RangeThemeLayer = exports.ThemeLayer = exports.GeoFeatureThemeLayer = undefined;

var _GeoFeatureThemeLayer = __webpack_require__(/*! ./GeoFeatureThemeLayer */ "./leaflet/clientThemeLeaf/GeoFeatureThemeLayer.js");

var _ThemeLayer = __webpack_require__(/*! ./ThemeLayer */ "./leaflet/clientThemeLeaf/ThemeLayer.js");

var _RangeThemeLayer = __webpack_require__(/*! ./RangeThemeLayer */ "./leaflet/clientThemeLeaf/RangeThemeLayer.js");

var _UniqueThemeLayer = __webpack_require__(/*! ./UniqueThemeLayer */ "./leaflet/clientThemeLeaf/UniqueThemeLayer.js");

var _GraphThemeLayer = __webpack_require__(/*! ./GraphThemeLayer */ "./leaflet/clientThemeLeaf/GraphThemeLayer.js");

var _RandomThemeLayer = __webpack_require__(/*! ./RandomThemeLayer */ "./leaflet/clientThemeLeaf/RandomThemeLayer.js");

var _SimpleThemeLayer = __webpack_require__(/*! ./SimpleThemeLayer */ "./leaflet/clientThemeLeaf/SimpleThemeLayer.js");

var _RankSymbolThemeLayer = __webpack_require__(/*! ./RankSymbolThemeLayer */ "./leaflet/clientThemeLeaf/RankSymbolThemeLayer.js");

var _ThemeStyle = __webpack_require__(/*! ./ThemeStyle */ "./leaflet/clientThemeLeaf/ThemeStyle.js");

exports.GeoFeatureThemeLayer = _GeoFeatureThemeLayer.GeoFeatureThemeLayer;
exports.ThemeLayer = _ThemeLayer.ThemeLayer;
exports.RangeThemeLayer = _RangeThemeLayer.RangeThemeLayer;
exports.UniqueThemeLayer = _UniqueThemeLayer.UniqueThemeLayer;
exports.GraphThemeLayer = _GraphThemeLayer.GraphThemeLayer;
exports.graphThemeLayer = _GraphThemeLayer.graphThemeLayer;
exports.RandomThemeLayer = _RandomThemeLayer.RandomThemeLayer;
exports.SimpleThemeLayer = _SimpleThemeLayer.SimpleThemeLayer;
exports.RankSymbolThemeLayer = _RankSymbolThemeLayer.RankSymbolThemeLayer;
exports.ThemeStyle = _ThemeStyle.ThemeStyle;

/***/ }),

/***/ "./leaflet/mapgislayerForLeaf/Proj4Leaflet.js":
/*!****************************************************!*\
  !*** ./leaflet/mapgislayerForLeaf/Proj4Leaflet.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.crs = exports.CRS = undefined;

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _proj = __webpack_require__(/*! proj4 */ "./node_modules/proj4/lib/index.js");

var _proj2 = _interopRequireDefault(_proj);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.proj4 = _proj2.default;
window.Zondy.Proj = {};
window.Zondy.Proj._isProj4Obj = function (a) {
    return typeof a.inverse !== 'undefined' && typeof a.forward !== 'undefined';
};

/**
 * @class 
 * @private
 * @classdesc Proj投影定义类
 * @extends L.Class{@linkdoc-leaflet/#class}
 * @param code - {number}地理编码
 * @param def - {string} 定位
 * @param bounds - {L.bounds} 投影范围参数
 */
window.Zondy.Proj.Projection = window.L.Class.extend({

    initialize: function initialize(code, def, bounds) {
        var isP4 = window.Zondy.Proj._isProj4Obj(code);
        this._proj = isP4 ? code : this._projFromCodeDef(code, def);
        var boundsOption = bounds;
        if (window.L.Util.isArray(bounds)) {
            boundsOption = window.L.bounds(bounds);
        }
        this.bounds = isP4 ? def : boundsOption;
    },

    /**
     * @function L.Proj.Projection.prototype.project
     * @description 通过地理坐标得到投影坐标
     * @param latlng - {L.laylng} 经纬度坐标
     * @return {Point} 返回投影坐标点
     */
    project: function project(latlng) {
        // if(latlng==undefined)
        // {
        //     return new window.L.Point();
        // }
        var point = this._proj.forward([latlng.lng, latlng.lat]);
        return new window.L.Point(point[0], point[1]);
    },

    /**
     * @function L.Proj.Projection.prototype.unproject
     * @description 通过投影坐标得到地理坐标
     * @param point {L.Point} 地理坐标点
     * @param unbounded - {string} 坐标点高程不限
     * @return {LatLng} 返回经纬度坐标
     */
    unproject: function unproject(point, unbounded) {
        // if(point==undefined || isNaN(point.x) || isNaN(point.y))
        // {
        //     return new window.L.LatLng();
        // }
        if (this.bounds) {
            point.x = point.x < this.bounds.min.x ? this.bounds.min.x : point.x > this.bounds.max.x ? this.bounds.max.x : point.x;
            point.y = point.y < this.bounds.min.y ? this.bounds.min.y : point.y > this.bounds.max.y ? this.bounds.max.y : point.y;
        }
        var point2 = this._proj.inverse([point.x, point.y]);
        return new window.L.LatLng(point2[1], point2[0], unbounded);
    },

    _projFromCodeDef: function _projFromCodeDef(code, def) {
        if (def) {
            _proj2.default.defs(code, def);
        } else if (_proj2.default.defs[code] === undefined) {
            var urn = code.split(':');
            if (urn.length > 3) {
                code = urn[urn.length - 3] + ':' + urn[urn.length - 1];
            }
            if (_proj2.default.defs[code] === undefined) {
                throw 'No projection definition for code ' + code;
            }
        }

        return (0, _proj2.default)(code);
    },
    getUnits: function getUnits() {
        return this._proj.oProj.units;
    }
});

/**
 * @class L.Proj.CRS
 * @classdesc 基于Proj4坐标系统扩展类
 * @extends L.Class{@linkdoc-leaflet/#class}
 * @param srsCode -{string} proj srsCode。
 * @param options -{Object} options。可选参数：<br>
 *                     def -{string} 投影的proj4定义。<br>
 *                     origin -{Array|L.Point} 原点。必填<br>
 *                     scales -{Array} 比例尺数组 <br>
 *                     scaleDenominators -{Array} 比例尺分母数组 <br>
 *                     resolutions -{Array} 分辨率数组 <br>
 *                     bounds -{Array|L.Bounds} 范围
 * @example
 * 用法：
 *    var crs =L.Proj.CRS("EPSG:4326",{
 *          origin: [-180,90],
 *          scaleDenominators: [2000,1000,500,200,100,50,20,10],
 *    });
 *    var map=L.map('map', {
 *       crs: crs
 *      ...
 *    })
 */
var CRS = window.L.Class.extend({
    includes: window.L.CRS,

    options: {
        transformation: new window.L.Transformation(1, 0, -1, 0)
    },

    initialize: function initialize(srsCode, options) {
        var code, proj, def;

        if (window.Zondy.Proj._isProj4Obj(srsCode)) {
            proj = srsCode;
            code = proj.srsCode;
            options = options || {};

            this.projection = new window.Zondy.Proj.Projection(proj, options.bounds);
        } else {
            code = srsCode;
            options = options || {};
            def = options.def || '';
            this.projection = new window.Zondy.Proj.Projection(code, def, options.bounds);
        }

        window.L.Util.setOptions(this, options);
        this.code = code;
        this.transformation = this.options.transformation;

        if (this.options.bounds) {
            this.options.bounds = window.L.bounds(this.options.bounds);
        }
        if (!this.options.origin && this.options.bounds) {
            this.options.origin = [this.options.bounds.min.x, this.options.bounds.max.y];
        }
        if (this.options.origin) {
            if (this.options.origin instanceof window.L.Point) {
                this.options.origin = [this.options.origin.x, this.options.origin.y];
            }
            this.transformation = new window.L.Transformation(1, -this.options.origin[0], -1, this.options.origin[1]);
        }

        if (this.options.scales && this.options.scales.length > 0) {
            this._scales = this._toProj4Scales(this.options.scales);
        } else if (this.options.scaleDenominators && this.options.scaleDenominators.length > 0) {
            var scales = [];
            for (var i = 0; i < this.options.scaleDenominators.length; i++) {
                scales[i] = 1 / this.options.scaleDenominators[i];
            }
            this._scales = this._toProj4Scales(scales);
        } else if (this.options.resolutions && this.options.resolutions.length > 0) {
            this._scales = [];
            for (var _i = this.options.resolutions.length - 1; _i >= 0; _i--) {
                if (this.options.resolutions[_i]) {
                    this._scales[_i] = 1 / this.options.resolutions[_i];
                }
            }
        } else if (this.options.bounds) {
            this._scales = this._getDefaultProj4ScalesByBounds(this.options.bounds);
        }

        this.infinite = !this.options.bounds;
    },

    /**
     * @function L.Proj.CRS.prototype.scale
     * @description 通过缩放级别获取比例尺值
     * @param zoom - {number}缩放级别
     * @return 比例尺值
     */
    scale: function scale(zoom) {
        var iZoom = Math.floor(zoom),
            baseScale,
            nextScale,
            scaleDiff,
            zDiff;
        if (zoom === iZoom) {
            return this._scales[zoom];
        } else {
            // Non-integer zoom, interpolate
            baseScale = this._scales[iZoom];
            nextScale = this._scales[iZoom + 1];
            scaleDiff = nextScale - baseScale;
            zDiff = zoom - iZoom;
            return baseScale + scaleDiff * zDiff;
        }
    },

    /**
     * @function L.Proj.CRS.prototype.zoom
     * @description 根据比例尺返回缩放级别
     * @param scale - {number}比例尺
     * @return {number} 缩放级别
     */
    zoom: function zoom(scale) {
        // Find closest number in this._scales, down
        var downScale = this._closestElement(this._scales, scale),
            downZoom = this._scales.indexOf(downScale),
            nextScale,
            nextZoom,
            scaleDiff;
        // Check if scale is downScale => return array index
        if (scale === downScale) {
            return downZoom;
        }
        // Interpolate
        nextZoom = downZoom + 1;
        nextScale = this._scales[nextZoom];
        if (nextScale === undefined) {
            return Infinity;
        }
        scaleDiff = nextScale - downScale;
        return (scale - downScale) / scaleDiff + downZoom;
    },

    distance: window.L.CRS.Earth.distance,

    R: window.L.CRS.Earth.R,

    /* Get the closest lowest element in an array */
    _closestElement: function _closestElement(array, element) {
        var low;
        for (var i = array.length; i--;) {
            if (array[i] <= element && (low === undefined || low < array[i])) {
                low = array[i];
            }
        }
        return low;
    },

    _toProj4Scales: function _toProj4Scales(scales) {
        var proj4Scales = [];
        if (!scales) {
            return proj4Scales;
        }
        for (var i = 0; i < scales.length; i++) {
            var a = this.projection ? this._getMeterPerMapUnit(this.projection.getUnits()) : 1;
            proj4Scales[i] = 1 / (0.0254 / (96 * scales[i]) / a);
        }
        return proj4Scales;
    },
    _getMeterPerMapUnit: function _getMeterPerMapUnit(mapUnit) {
        var earchRadiusInMeters = 6378137;
        var meterPerMapUnit = 1;
        if (mapUnit === "meter") {
            meterPerMapUnit = 1;
        } else if (mapUnit === "degrees") {
            // 每度表示多少米。
            meterPerMapUnit = Math.PI * 2 * earchRadiusInMeters / 360;
        } else if (mapUnit === "kilometer") {
            meterPerMapUnit = 1.0E-3;
        } else if (mapUnit === "inch") {
            meterPerMapUnit = 1 / 2.5399999918E-2;
        } else if (mapUnit === "feet") {
            meterPerMapUnit = 0.3048;
        }
        return meterPerMapUnit;
    },
    _getDefaultProj4ScalesByBounds: function _getDefaultProj4ScalesByBounds(bounds) {
        if (!bounds) {
            return [];
        }
        var boundsSize = bounds.getSize();
        var extendsSize = Math.max(boundsSize.x, boundsSize.y);
        var resolution = extendsSize / 256;
        var scales = [];
        var maxZoom = 23;
        for (var i = 0; i < maxZoom; i++) {
            scales[i] = Math.pow(2, i) / resolution;
        }
        return scales;
    }
});
exports.CRS = CRS;
var crs = exports.crs = function crs(srsCode, options) {
    return new CRS(srsCode, options);
};
window.Zondy.Proj.CRS = crs;

/***/ }),

/***/ "./leaflet/mapgislayerForLeaf/TDTLayer.js":
/*!************************************************!*\
  !*** ./leaflet/mapgislayerForLeaf/TDTLayer.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TDTLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

//import {CRS} from './Proj4Leaflet';

var TDTLayer = window.L.TileLayer.extend({
    layerLabelMap: {
        "vec": "cva",
        "ter": "cta",
        "img": "cia"
    },
    layerZoomMap: {
        "vec": 18,
        "ter": 14,
        "img": 18
    },
    options: {
        layerType: "vec", //(vec:矢量图层，vec:矢量标签图层，img:影像图层,cia:影像标签图层，ter:地形,cta:地形标签图层)
        isLabel: false,
        url: "http://t{s}.tianditu.com/{layer}_{proj}/wmts?",
        zoomOffset: 1,
        dpi: 96,
        style: "default",
        format: "tiles",
        subdomains: [0, 1, 2, 3, 4, 5, 6, 7],
        version: '1.0.0',
        tilematrixSet: '',
        tileSize: 256,
        matrixIds: null,
        layer: '',
        attribution: "天地图"
    },

    initialize: function initialize(options) {
        options = options || {};
        window.L.setOptions(this, options);
        this.options.layer = this.options.isLabel ? this.layerLabelMap[this.options.layerType] : this.options.layerType;
        this.options.maxZoom = this.layerZoomMap[this.options.layerType];

        this._url = this.options.url;
        window.L.setOptions(this, this.options);
        window.L.stamp(this);
    },
    onAdd: function onAdd(map) {
        this._crs = this.options.crs || map.options.crs;
        this.options.tilematrixSet = this._crs.code === "EPSG:4326" ? "c" : "w";
        this._url = this._url.replace("{layer}", this.options.layer).replace("{proj}", this.options.tilematrixSet);
        window.L.TileLayer.prototype.onAdd.call(this, map);
    },
    getTileUrl: function getTileUrl(coords) {
        // (Point, Number) -> String
        var zoom = this._getZoomForUrl();
        var ident = this.options.matrixIds ? this.options.matrixIds[zoom].identifier : zoom;
        var url = window.L.Util.template(this._url, { s: this._getSubdomain(coords) });
        var obj = {
            service: 'WMTS',
            request: 'GetTile',
            version: this.options.version,
            style: this.options.style,
            tilematrixSet: this.options.tilematrixSet,
            format: this.options.format,
            width: this.options.tileSize,
            height: this.options.tileSize,
            layer: this.options.layer,
            tilematrix: ident,
            tilerow: coords.y,
            tilecol: coords.x
        };
        return url + window.L.Util.getParamString(obj, url);
    }

});

exports.TDTLayer = TDTLayer;

_Base.Zondy.Map.TDTLayer = TDTLayer;

// var tdt_WGS84_resolutions = [];
// for (var i = 1; i < 19; i++) {
//     tdt_WGS84_resolutions.push(0.703125 * 2 / (Math.pow(2, i)));
// }

// /**
//  * @constant L.CRS.TianDiTu_WGS84CRS
//  * @description 天地图WGS84坐标对象
//  */
// var TDT_WGS84 = window.L.Proj.CRS("EPSG:4326",{
//     origin: [-180, 90],
//     resolutions: tdt_WGS84_resolutions,
//     bounds: window.L.bounds([-180, -90], [180, 90])
// });
// export {TDT_WGS84};
// window.L.CRS.TDT_WGS84 = TDT_WGS84;

// var tdt_Mercator_resolutions = [];
// for (var i = 1; i < 19; i++) {
//     tdt_Mercator_resolutions.push(78271.5169640203125 * 2 / (Math.pow(2, i)));
// }

// /**
//  * @constant TDT_MercatorCRS
//  * @description 天地图墨卡托坐标对象
//  */
// var TDT_Mercator = window.L.Proj.CRS("EPSG:3857",{
//     origin: [-20037508.3427892, 20037508.3427892],
//     resolutions: tdt_Mercator_resolutions,
//     bounds: window.L.bounds([-20037508.3427892, -20037508.3427892], [20037508.3427892, 20037508.3427892])
// });
// export {TDT_Mercator};
// window.L.CRS.TDT_Mercator = TDT_Mercator;

/***/ }),

/***/ "./leaflet/mapgislayerForLeaf/index.js":
/*!*********************************************!*\
  !*** ./leaflet/mapgislayerForLeaf/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.L = exports.TDTLayer = exports.crs = exports.CRS = exports.MapVectorLayer = exports.MapWMTSLayer = exports.MapTileLayer = exports.MapDocLayer = undefined;

var _mapDocLayer = __webpack_require__(/*! ./mapDocLayer */ "./leaflet/mapgislayerForLeaf/mapDocLayer.js");

var _mapTileLayer = __webpack_require__(/*! ./mapTileLayer */ "./leaflet/mapgislayerForLeaf/mapTileLayer.js");

var _mapWmtsLayer = __webpack_require__(/*! ./mapWmtsLayer */ "./leaflet/mapgislayerForLeaf/mapWmtsLayer.js");

var _mapVectorLayer = __webpack_require__(/*! ./mapVectorLayer */ "./leaflet/mapgislayerForLeaf/mapVectorLayer.js");

var _Proj4Leaflet = __webpack_require__(/*! ./Proj4Leaflet */ "./leaflet/mapgislayerForLeaf/Proj4Leaflet.js");

var _TDTLayer = __webpack_require__(/*! ./TDTLayer */ "./leaflet/mapgislayerForLeaf/TDTLayer.js");

exports.MapDocLayer = _mapDocLayer.MapDocLayer;
// import {TDTLayer,TDT_WGS84,TDT_Mercator} from './TDTLayer';

exports.MapTileLayer = _mapTileLayer.MapTileLayer;
exports.MapWMTSLayer = _mapWmtsLayer.MapWMTSLayer;
exports.MapVectorLayer = _mapVectorLayer.MapVectorLayer;
exports.CRS = _Proj4Leaflet.CRS;
exports.crs = _Proj4Leaflet.crs;
// export {TDTLayer,TDT_WGS84,TDT_Mercator};

exports.TDTLayer = _TDTLayer.TDTLayer;
exports.L = L;

/***/ }),

/***/ "./leaflet/mapgislayerForLeaf/mapDocLayer.js":
/*!***************************************************!*\
  !*** ./leaflet/mapgislayerForLeaf/mapDocLayer.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.L = exports.MapDocLayer = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MapDocLayer = window.L.TileLayer.extend({
    options: {
        //请求的地图的坐标参考系统。 如：prjCoordSys= {"epsgCode":3857}。
        prjCoordSys: null,
        crs: null,
        layers: null,
        filters: null,
        style: null,
        //图像类型：jpg,png,gif
        f: null,
        //动态投影参数,设置地图文档在服务器端重新投影所需的空间参考系对象
        proj: null,
        guid: null,
        //keepCache设置为true时，会首先从客户端缓存中取瓦片，否则不从客户端缓存中提取
        keepCache: true,
        attribution: "Zondy Map doc Data"
    },

    initialize: function initialize(serverName, options) {
        var ip = options && options.ip ? options.ip : 'localhost';
        var port = options && options.port ? options.port : '6163';

        this.url = this._url = encodeURI('http://' + ip + ':' + port + '/igs/rest/mrms/docs/' + serverName);
        window.L.TileLayer.prototype.initialize.apply(this, arguments);
        window.L.setOptions(this, options);
        window.L.stamp(this);
    },

    /**
    * @private
    * @function L.supermap.imageMapLayer.prototype.onAdd
    * @description 添加影像地图。
    * @param map - {L.map} 待添加的影像地图参数
    */
    onAdd: function onAdd(map) {
        // this._crs = this.options.crs || map.options.crs || L.CRS.Simple;
        this._crs = this.options.crs || map.options.crs;
        this._initLayerUrl();
        window.L.TileLayer.prototype.onAdd.call(this, map);
    },

    /**
    * @function L.supermap.imageMapLayer.prototype.getTileUrl
    * @description 根据行列号获取切片地址
    * @param coords - {Object} 行列号
    * @return {String} 切片地址
    */
    getTileUrl: function getTileUrl(coords) {
        var tileBounds = this._tileCoordsToBounds(coords);
        var nw = this._crs.project(tileBounds.getNorthWest());
        var se = this._crs.project(tileBounds.getSouthEast());
        var params = "&bbox=" + nw.x + "," + se.y + "," + se.x + "," + nw.y;
        if (!this.options.keepCache) {
            params += "&temp=" + Math.random();
        }
        return this._layerUrl + encodeURI(params);
    },

    _initLayerUrl: function _initLayerUrl() {
        var me = this;
        var layerUrl = me.url + "?";
        layerUrl += encodeURI(me._initAllRequestParams().join('&'));
        this._layerUrl = layerUrl;
    },

    _initAllRequestParams: function _initAllRequestParams() {
        var me = this,
            options = me.options || {},
            params = [];

        var tileSize = this.options.tileSize;
        if (!(tileSize instanceof window.L.Point)) {
            tileSize = window.L.point(tileSize, tileSize);
        }
        params.push("width=" + tileSize.x);
        params.push("height=" + tileSize.y);

        if (options.layers) {
            params.push("layers=" + options.layers);
        }
        if (options.filters) {
            params.push("filters=" + options.filters);
        }
        if (options.style) {
            params.push("style=" + (0, _stringify2.default)(options.style));
        }
        if (options.f) {
            params.push("f=" + options.style);
        } else {
            params.push("f=png");
        }
        if (options.guid) {
            params.push("guid=" + options.guid);
        }
        return params;
    },
    redraw: function redraw() {
        if (this._map) {
            this._removeAllTiles();

            //var guid = newGuid();
            //this._layerUrl += '&guid='+guid;
            //this.options.guid = guid;
            this._update();
        }
        return this;
    },
    refreshMap: function refreshMap(guid) {
        if (guid != null) {
            this.options.guid = guid;
        }
        this._initLayerUrl();
        this.redraw();
    }
    // updateLayer:function(guid)
    // {
    //      if(guid!=null)
    //      {
    //         this.options.guid = guid;
    //      }
    //      this._initLayerUrl();
    //      if(this._map)
    //      {
    //         this._removeAllTiles();
    //         if(this._container && this._container.parentNode)
    //         {
    //             this._container.parentNode.removeChild(this._container);
    //         }
    //         this._container = null;
    //         this._tileZoom = undefined;

    //         this._initContainer();
    //         this._levels = {};
    //         this._tiles = {};
    //        // this._resetView();
    //         this._update();
    //      }
    // }
});
exports.MapDocLayer = MapDocLayer;

_Base.Zondy.Map.MapDocLayer = MapDocLayer;
exports.L = _leaflet.L;

/***/ }),

/***/ "./leaflet/mapgislayerForLeaf/mapTileLayer.js":
/*!****************************************************!*\
  !*** ./leaflet/mapgislayerForLeaf/mapTileLayer.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MapTileLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

//对于中地的瓦片数据，坐标系4326和3857测试都支持,只支持原点为4个角，
//这是因为leaf的瓦片序列在0级只支持2张瓦片,如果是任意点为原点，
//那么在0级的时候就有4张瓦片，不能一一对应
var MapTileLayer = window.L.TileLayer.extend({
    options: {
        crs: null,
        yAxis: "down",
        origin: [-180, 90],
        tileSize: 256,
        attribution: "Zondy Map Tile Data"
    },

    initialize: function initialize(serverName, options) {
        var ip = options && options.ip ? options.ip : 'localhost';
        var port = options && options.port ? options.port : '6163';
        this.url = this._url = encodeURI('http://' + ip + ':' + port + '/igs/rest/mrms/tile/' + serverName);
        window.L.TileLayer.prototype.initialize.apply(this, arguments);
        window.L.setOptions(this, options);
        window.L.stamp(this);
    },

    /**
    * @private
    * @description 添加地图。
    * @param map - {L.map} 待添加的影像地图参数
    */
    onAdd: function onAdd(map) {
        this._crs = this.options.crs || map.options.crs;
        window.L.TileLayer.prototype.onAdd.call(this, map);
    },

    /**
    * @description 根据行列号获取瓦片地址
    * @param coords - {Object} 行列号
    * @return {string} 瓦片地址
    */
    getTileUrl: function getTileUrl(coords) {
        var tileBounds = this._tileCoordsToBounds(coords);
        var ne = this._crs.project(tileBounds.getNorthEast());
        var sw = this._crs.project(tileBounds.getSouthWest());
        var tileSize = this.options.tileSize;
        var resolution = Math.max(Math.abs(ne.x - sw.x) / tileSize, Math.abs(ne.y - sw.y) / tileSize);

        var centerPnt = [(ne.x + sw.x) / 2, (ne.y + sw.y) / 2];
        var dx = centerPnt[0] - this.options.origin[0];
        var dy = centerPnt[1] - this.options.origin[1];

        var xGrid = -1e8;
        var yGrid = -1e8;

        xGrid = Math.floor(dx / (tileSize * resolution));
        if (this.options.yAxis == 'down') {
            yGrid = Math.floor(-dy / (tileSize * resolution));
        } else {
            yGrid = Math.floor(dy / (tileSize * resolution));
        }
        var tileUrl = this.url + '/{z}/{y}/{x}?size=' + this.options.tileSize;
        tileUrl = tileUrl.replace('{x}', xGrid.toString()).replace('{y}', yGrid.toString()).replace('{z}', coords.z.toString());
        return tileUrl;
    }
});

exports.MapTileLayer = MapTileLayer;

_Base.Zondy.Map.MapTileLayer = MapTileLayer;

/***/ }),

/***/ "./leaflet/mapgislayerForLeaf/mapVectorLayer.js":
/*!******************************************************!*\
  !*** ./leaflet/mapgislayerForLeaf/mapVectorLayer.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MapVectorLayer = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MapVectorLayer = window.L.TileLayer.extend({
    options: {
        //请求的地图的坐标参考系统。 如：prjCoordSys= {"epsgCode":3857}。
        prjCoordSys: null,
        crs: null,
        gdbps: null,
        filters: null,
        style: null,
        //图像类型：jpg,png,gif
        f: null,
        guid: null,
        attribution: "Zondy Map vector Data"
    },

    initialize: function initialize(gdbps, options) {
        options = options != null ? options : {};
        options.gdbps = gdbps;
        var ip = options && options.ip ? options.ip : 'localhost';
        var port = options && options.port ? options.port : '6163';

        this.url = this._url = encodeURI('http://' + ip + ':' + port + '/igs/rest/mrms/layers');
        window.L.TileLayer.prototype.initialize.apply(this, arguments);
        window.L.setOptions(this, options);
        window.L.stamp(this);
    },

    /**
    * @private
    * @function L.supermap.imageMapLayer.prototype.onAdd
    * @description 添加影像地图。
    * @param map - {L.map} 待添加的影像地图参数
    */
    onAdd: function onAdd(map) {
        // this._crs = this.options.crs || map.options.crs || L.CRS.Simple;
        this._crs = this.options.crs || map.options.crs;
        this._initLayerUrl();
        window.L.TileLayer.prototype.onAdd.call(this, map);
    },

    /**
    * @function L.supermap.imageMapLayer.prototype.getTileUrl
    * @description 根据行列号获取切片地址
    * @param coords - {Object} 行列号
    * @return {String} 切片地址
    */
    getTileUrl: function getTileUrl(coords) {
        var tileBounds = this._tileCoordsToBounds(coords);
        var nw = this._crs.project(tileBounds.getNorthWest());
        var se = this._crs.project(tileBounds.getSouthEast());
        var params = "&bbox=" + nw.x + "," + se.y + "," + se.x + "," + nw.y;
        return this._layerUrl + encodeURI(params);
    },

    _initLayerUrl: function _initLayerUrl() {
        var me = this;
        var layerUrl = me.url + "?";
        layerUrl += encodeURI(me._initAllRequestParams().join('&'));
        this._layerUrl = layerUrl;
    },

    _initAllRequestParams: function _initAllRequestParams() {
        var me = this,
            options = me.options || {},
            params = [];

        var tileSize = this.options.tileSize;
        if (!(tileSize instanceof window.L.Point)) {
            tileSize = window.L.point(tileSize, tileSize);
        }
        params.push("width=" + tileSize.x);
        params.push("height=" + tileSize.y);

        if (options.gdbps) {
            params.push("gdbps=" + options.gdbps);
        }
        if (options.filters) {
            params.push("filters=" + options.filters);
        }
        if (options.style) {
            params.push("style=" + (0, _stringify2.default)(options.style));
        }
        if (options.f) {
            params.push("f=" + options.style);
        } else {
            params.push("f=png");
        }
        if (options.guid) {
            params.push("guid=" + options.guid);
        }
        return params;
    },
    redraw: function redraw() {
        if (this._map) {
            this._removeAllTiles();
            var guid = (0, _Util.newGuid)();
            this.options.guid = guid;
            this._initLayerUrl();
            this._update();
        }
        return this;
    }
});
exports.MapVectorLayer = MapVectorLayer;

_Base.Zondy.Map.MapVectorLayer = MapVectorLayer;

/***/ }),

/***/ "./leaflet/mapgislayerForLeaf/mapWmtsLayer.js":
/*!****************************************************!*\
  !*** ./leaflet/mapgislayerForLeaf/mapWmtsLayer.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MapWMTSLayer = undefined;

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _leaflet = __webpack_require__(/*! ../../3rdLib/leaflet */ "./3rdLib/leaflet.js");

var MapWMTSLayer = window.L.TileLayer.extend({
    options: {
        version: '1.0.0',
        style: 'default',
        tilematrixSet: '', //矩阵集名称
        layer: '', //图层名
        format: 'image/png',
        tileSize: 256,
        attribution: "Zondy WMTS Data"
    },
    //var layer3 = new ZondyMapWMTSLayer("http://localhost:6163/igs/rest/ogc/WMTSServer", { tilematrixSet: "EPSG:4326_世界地图经纬度LEVEL7_028mm_GB", layer: 'World_level7_WMTS' }).addTo(mymap);
    //todo 自动获取Capabilities
    initialize: function initialize(options) {
        // (String, Object)
        var ip = options && options.ip ? options.ip : 'localhost';
        var port = options && options.port ? options.port : '6163';
        this._url = encodeURI('http://' + ip + ':' + port + '/igs/rest/ogc/WMTSServer');
        window.L.setOptions(this, options);
    },
    onAdd: function onAdd(map) {
        this._crs = this.options.crs || map.options.crs;
        window.L.TileLayer.prototype.onAdd.call(this, map);
    },
    /**
    * @考虑发布的wmts的瓦片不按左上角为原点的情况，需另外处理
    * @description 根据行列号获取切片地址
    * @param coords - {Object} 行列号
    * @return {string} 切片地址
    */
    getTileUrl: function getTileUrl(coords) {
        // (Point, Number) -> String   
        var zoom = this._getZoomForUrl();
        var url = window.L.Util.template(this._url, { s: this._getSubdomain(coords) });
        var obj = {
            service: 'WMTS',
            request: 'GetTile',
            version: this.options.version,
            style: this.options.style,
            tilematrixSet: this.options.tilematrixSet,
            format: this.options.format,
            layer: this.options.layer,
            tilematrix: zoom,
            tilerow: coords.y,
            tilecol: coords.x
        };
        return url + window.L.Util.getParamString(obj, url);
    }
});

exports.MapWMTSLayer = MapWMTSLayer;

_Base.Zondy.Map.MapWMTSLayer = MapWMTSLayer;

/***/ }),

/***/ "./main_leaflet.js":
/*!*************************!*\
  !*** ./main_leaflet.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(/*! ./index_leaflet.js */ "./index_leaflet.js");

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/json/stringify.js":
/*!**************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/json/stringify.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/json/stringify */ "./node_modules/core-js/library/fn/json/stringify.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/object/create.js":
/*!*************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/create.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/object/create */ "./node_modules/core-js/library/fn/object/create.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/object/define-property.js":
/*!**********************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/define-property.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/object/define-property */ "./node_modules/core-js/library/fn/object/define-property.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/object/freeze.js":
/*!*************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/freeze.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/object/freeze */ "./node_modules/core-js/library/fn/object/freeze.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/object/get-own-property-descriptor */ "./node_modules/core-js/library/fn/object/get-own-property-descriptor.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/object/get-own-property-names.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/get-own-property-names.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/object/get-own-property-names */ "./node_modules/core-js/library/fn/object/get-own-property-names.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/object/get-own-property-symbols.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/get-own-property-symbols.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/object/get-own-property-symbols */ "./node_modules/core-js/library/fn/object/get-own-property-symbols.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js":
/*!***********************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/get-prototype-of.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/object/get-prototype-of */ "./node_modules/core-js/library/fn/object/get-prototype-of.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/object/set-prototype-of.js":
/*!***********************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/set-prototype-of.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/object/set-prototype-of */ "./node_modules/core-js/library/fn/object/set-prototype-of.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/promise.js":
/*!*******************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/promise.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/promise */ "./node_modules/core-js/library/fn/promise.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/set-immediate.js":
/*!*************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/set-immediate.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/set-immediate */ "./node_modules/core-js/library/fn/set-immediate.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/symbol.js":
/*!******************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/symbol.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/symbol */ "./node_modules/core-js/library/fn/symbol/index.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/core-js/symbol/iterator.js":
/*!***************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/symbol/iterator.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(/*! core-js/library/fn/symbol/iterator */ "./node_modules/core-js/library/fn/symbol/iterator.js"), __esModule: true };

/***/ }),

/***/ "./node_modules/babel-runtime/helpers/classCallCheck.js":
/*!**************************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/classCallCheck.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

exports.default = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

/***/ }),

/***/ "./node_modules/babel-runtime/helpers/createClass.js":
/*!***********************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/createClass.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _defineProperty = __webpack_require__(/*! ../core-js/object/define-property */ "./node_modules/babel-runtime/core-js/object/define-property.js");

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

/***/ }),

/***/ "./node_modules/babel-runtime/helpers/defineProperty.js":
/*!**************************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/defineProperty.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _defineProperty = __webpack_require__(/*! ../core-js/object/define-property */ "./node_modules/babel-runtime/core-js/object/define-property.js");

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (obj, key, value) {
  if (key in obj) {
    (0, _defineProperty2.default)(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

/***/ }),

/***/ "./node_modules/babel-runtime/helpers/get.js":
/*!***************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/get.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _getPrototypeOf = __webpack_require__(/*! ../core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _getOwnPropertyDescriptor = __webpack_require__(/*! ../core-js/object/get-own-property-descriptor */ "./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js");

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;
  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);

  if (desc === undefined) {
    var parent = (0, _getPrototypeOf2.default)(object);

    if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;

    if (getter === undefined) {
      return undefined;
    }

    return getter.call(receiver);
  }
};

/***/ }),

/***/ "./node_modules/babel-runtime/helpers/inherits.js":
/*!********************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/inherits.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _setPrototypeOf = __webpack_require__(/*! ../core-js/object/set-prototype-of */ "./node_modules/babel-runtime/core-js/object/set-prototype-of.js");

var _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);

var _create = __webpack_require__(/*! ../core-js/object/create */ "./node_modules/babel-runtime/core-js/object/create.js");

var _create2 = _interopRequireDefault(_create);

var _typeof2 = __webpack_require__(/*! ../helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }

  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
};

/***/ }),

/***/ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js":
/*!*************************************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/possibleConstructorReturn.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _typeof2 = __webpack_require__(/*! ../helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
};

/***/ }),

/***/ "./node_modules/babel-runtime/helpers/typeof.js":
/*!******************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/typeof.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _iterator = __webpack_require__(/*! ../core-js/symbol/iterator */ "./node_modules/babel-runtime/core-js/symbol/iterator.js");

var _iterator2 = _interopRequireDefault(_iterator);

var _symbol = __webpack_require__(/*! ../core-js/symbol */ "./node_modules/babel-runtime/core-js/symbol.js");

var _symbol2 = _interopRequireDefault(_symbol);

var _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : _typeof(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
};

/***/ }),

/***/ "./node_modules/core-js/library/fn/json/stringify.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/library/fn/json/stringify.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var core = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js");
var $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });
module.exports = function stringify(it) { // eslint-disable-line no-unused-vars
  return $JSON.stringify.apply($JSON, arguments);
};


/***/ }),

/***/ "./node_modules/core-js/library/fn/object/create.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/create.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.object.create */ "./node_modules/core-js/library/modules/es6.object.create.js");
var $Object = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Object;
module.exports = function create(P, D) {
  return $Object.create(P, D);
};


/***/ }),

/***/ "./node_modules/core-js/library/fn/object/define-property.js":
/*!*******************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/define-property.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.object.define-property */ "./node_modules/core-js/library/modules/es6.object.define-property.js");
var $Object = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Object;
module.exports = function defineProperty(it, key, desc) {
  return $Object.defineProperty(it, key, desc);
};


/***/ }),

/***/ "./node_modules/core-js/library/fn/object/freeze.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/freeze.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.object.freeze */ "./node_modules/core-js/library/modules/es6.object.freeze.js");
module.exports = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Object.freeze;


/***/ }),

/***/ "./node_modules/core-js/library/fn/object/get-own-property-descriptor.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/get-own-property-descriptor.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.object.get-own-property-descriptor */ "./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js");
var $Object = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Object;
module.exports = function getOwnPropertyDescriptor(it, key) {
  return $Object.getOwnPropertyDescriptor(it, key);
};


/***/ }),

/***/ "./node_modules/core-js/library/fn/object/get-own-property-names.js":
/*!**************************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/get-own-property-names.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.object.get-own-property-names */ "./node_modules/core-js/library/modules/es6.object.get-own-property-names.js");
var $Object = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Object;
module.exports = function getOwnPropertyNames(it) {
  return $Object.getOwnPropertyNames(it);
};


/***/ }),

/***/ "./node_modules/core-js/library/fn/object/get-own-property-symbols.js":
/*!****************************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/get-own-property-symbols.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.symbol */ "./node_modules/core-js/library/modules/es6.symbol.js");
module.exports = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Object.getOwnPropertySymbols;


/***/ }),

/***/ "./node_modules/core-js/library/fn/object/get-prototype-of.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/get-prototype-of.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.object.get-prototype-of */ "./node_modules/core-js/library/modules/es6.object.get-prototype-of.js");
module.exports = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Object.getPrototypeOf;


/***/ }),

/***/ "./node_modules/core-js/library/fn/object/set-prototype-of.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/set-prototype-of.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.object.set-prototype-of */ "./node_modules/core-js/library/modules/es6.object.set-prototype-of.js");
module.exports = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Object.setPrototypeOf;


/***/ }),

/***/ "./node_modules/core-js/library/fn/promise.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/library/fn/promise.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../modules/es6.object.to-string */ "./node_modules/core-js/library/modules/es6.object.to-string.js");
__webpack_require__(/*! ../modules/es6.string.iterator */ "./node_modules/core-js/library/modules/es6.string.iterator.js");
__webpack_require__(/*! ../modules/web.dom.iterable */ "./node_modules/core-js/library/modules/web.dom.iterable.js");
__webpack_require__(/*! ../modules/es6.promise */ "./node_modules/core-js/library/modules/es6.promise.js");
__webpack_require__(/*! ../modules/es7.promise.finally */ "./node_modules/core-js/library/modules/es7.promise.finally.js");
__webpack_require__(/*! ../modules/es7.promise.try */ "./node_modules/core-js/library/modules/es7.promise.try.js");
module.exports = __webpack_require__(/*! ../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Promise;


/***/ }),

/***/ "./node_modules/core-js/library/fn/set-immediate.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/fn/set-immediate.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../modules/web.immediate */ "./node_modules/core-js/library/modules/web.immediate.js");
module.exports = __webpack_require__(/*! ../modules/_core */ "./node_modules/core-js/library/modules/_core.js").setImmediate;


/***/ }),

/***/ "./node_modules/core-js/library/fn/symbol/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/fn/symbol/index.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.symbol */ "./node_modules/core-js/library/modules/es6.symbol.js");
__webpack_require__(/*! ../../modules/es6.object.to-string */ "./node_modules/core-js/library/modules/es6.object.to-string.js");
__webpack_require__(/*! ../../modules/es7.symbol.async-iterator */ "./node_modules/core-js/library/modules/es7.symbol.async-iterator.js");
__webpack_require__(/*! ../../modules/es7.symbol.observable */ "./node_modules/core-js/library/modules/es7.symbol.observable.js");
module.exports = __webpack_require__(/*! ../../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Symbol;


/***/ }),

/***/ "./node_modules/core-js/library/fn/symbol/iterator.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/fn/symbol/iterator.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../../modules/es6.string.iterator */ "./node_modules/core-js/library/modules/es6.string.iterator.js");
__webpack_require__(/*! ../../modules/web.dom.iterable */ "./node_modules/core-js/library/modules/web.dom.iterable.js");
module.exports = __webpack_require__(/*! ../../modules/_wks-ext */ "./node_modules/core-js/library/modules/_wks-ext.js").f('iterator');


/***/ }),

/***/ "./node_modules/core-js/library/modules/_a-function.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_a-function.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_add-to-unscopables.js":
/*!*********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_add-to-unscopables.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function () { /* empty */ };


/***/ }),

/***/ "./node_modules/core-js/library/modules/_an-instance.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_an-instance.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_an-object.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_an-object.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_array-includes.js":
/*!*****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_array-includes.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// false -> Array#indexOf
// true  -> Array#includes
var toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js");
var toLength = __webpack_require__(/*! ./_to-length */ "./node_modules/core-js/library/modules/_to-length.js");
var toAbsoluteIndex = __webpack_require__(/*! ./_to-absolute-index */ "./node_modules/core-js/library/modules/_to-absolute-index.js");
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_classof.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_classof.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = __webpack_require__(/*! ./_cof */ "./node_modules/core-js/library/modules/_cof.js");
var TAG = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_cof.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_cof.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_core.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_core.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var core = module.exports = { version: '2.5.3' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef


/***/ }),

/***/ "./node_modules/core-js/library/modules/_ctx.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_ctx.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// optional / simple context binding
var aFunction = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js");
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_defined.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_defined.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_descriptors.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_descriptors.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// Thank's IE8 for his funny defineProperty
module.exports = !__webpack_require__(/*! ./_fails */ "./node_modules/core-js/library/modules/_fails.js")(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),

/***/ "./node_modules/core-js/library/modules/_dom-create.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_dom-create.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
var document = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js").document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_enum-bug-keys.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_enum-bug-keys.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');


/***/ }),

/***/ "./node_modules/core-js/library/modules/_enum-keys.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_enum-keys.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// all enumerable object keys, includes symbols
var getKeys = __webpack_require__(/*! ./_object-keys */ "./node_modules/core-js/library/modules/_object-keys.js");
var gOPS = __webpack_require__(/*! ./_object-gops */ "./node_modules/core-js/library/modules/_object-gops.js");
var pIE = __webpack_require__(/*! ./_object-pie */ "./node_modules/core-js/library/modules/_object-pie.js");
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_export.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_export.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var core = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js");
var ctx = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js");
var hide = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var IS_WRAP = type & $export.W;
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE];
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];
  var key, own, out;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    if (own && key in exports) continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
    // bind timers to global for call from export context
    : IS_BIND && own ? ctx(out, global)
    // wrap global constructors for prevent change them in library
    : IS_WRAP && target[key] == out ? (function (C) {
      var F = function (a, b, c) {
        if (this instanceof C) {
          switch (arguments.length) {
            case 0: return new C();
            case 1: return new C(a);
            case 2: return new C(a, b);
          } return new C(a, b, c);
        } return C.apply(this, arguments);
      };
      F[PROTOTYPE] = C[PROTOTYPE];
      return F;
    // make static versions for prototype methods
    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
    if (IS_PROTO) {
      (exports.virtual || (exports.virtual = {}))[key] = out;
      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);
    }
  }
};
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;


/***/ }),

/***/ "./node_modules/core-js/library/modules/_fails.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_fails.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_for-of.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_for-of.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var ctx = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js");
var call = __webpack_require__(/*! ./_iter-call */ "./node_modules/core-js/library/modules/_iter-call.js");
var isArrayIter = __webpack_require__(/*! ./_is-array-iter */ "./node_modules/core-js/library/modules/_is-array-iter.js");
var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
var toLength = __webpack_require__(/*! ./_to-length */ "./node_modules/core-js/library/modules/_to-length.js");
var getIterFn = __webpack_require__(/*! ./core.get-iterator-method */ "./node_modules/core-js/library/modules/core.get-iterator-method.js");
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;


/***/ }),

/***/ "./node_modules/core-js/library/modules/_global.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_global.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef


/***/ }),

/***/ "./node_modules/core-js/library/modules/_has.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_has.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_hide.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_hide.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js");
var createDesc = __webpack_require__(/*! ./_property-desc */ "./node_modules/core-js/library/modules/_property-desc.js");
module.exports = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_html.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_html.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var document = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js").document;
module.exports = document && document.documentElement;


/***/ }),

/***/ "./node_modules/core-js/library/modules/_ie8-dom-define.js":
/*!*****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_ie8-dom-define.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = !__webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") && !__webpack_require__(/*! ./_fails */ "./node_modules/core-js/library/modules/_fails.js")(function () {
  return Object.defineProperty(__webpack_require__(/*! ./_dom-create */ "./node_modules/core-js/library/modules/_dom-create.js")('div'), 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),

/***/ "./node_modules/core-js/library/modules/_invoke.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_invoke.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_iobject.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iobject.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = __webpack_require__(/*! ./_cof */ "./node_modules/core-js/library/modules/_cof.js");
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_is-array-iter.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_is-array-iter.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// check on default Array iterator
var Iterators = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js");
var ITERATOR = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_is-array.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_is-array.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 7.2.2 IsArray(argument)
var cof = __webpack_require__(/*! ./_cof */ "./node_modules/core-js/library/modules/_cof.js");
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_is-object.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_is-object.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_iter-call.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-call.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// call something on iterator step with safe closing on error
var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_iter-create.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-create.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var create = __webpack_require__(/*! ./_object-create */ "./node_modules/core-js/library/modules/_object-create.js");
var descriptor = __webpack_require__(/*! ./_property-desc */ "./node_modules/core-js/library/modules/_property-desc.js");
var setToStringTag = __webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js");
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
__webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js")(IteratorPrototype, __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_iter-define.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-define.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY = __webpack_require__(/*! ./_library */ "./node_modules/core-js/library/modules/_library.js");
var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
var redefine = __webpack_require__(/*! ./_redefine */ "./node_modules/core-js/library/modules/_redefine.js");
var hide = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");
var has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js");
var Iterators = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js");
var $iterCreate = __webpack_require__(/*! ./_iter-create */ "./node_modules/core-js/library/modules/_iter-create.js");
var setToStringTag = __webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js");
var getPrototypeOf = __webpack_require__(/*! ./_object-gpo */ "./node_modules/core-js/library/modules/_object-gpo.js");
var ITERATOR = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = (!BUGGY && $native) || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_iter-detect.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-detect.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var ITERATOR = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_iter-step.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-step.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function (done, value) {
  return { value: value, done: !!done };
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_iterators.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iterators.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = {};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_library.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_library.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = true;


/***/ }),

/***/ "./node_modules/core-js/library/modules/_meta.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_meta.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var META = __webpack_require__(/*! ./_uid */ "./node_modules/core-js/library/modules/_uid.js")('meta');
var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
var has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js");
var setDesc = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js").f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !__webpack_require__(/*! ./_fails */ "./node_modules/core-js/library/modules/_fails.js")(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_microtask.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_microtask.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var macrotask = __webpack_require__(/*! ./_task */ "./node_modules/core-js/library/modules/_task.js").set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = __webpack_require__(/*! ./_cof */ "./node_modules/core-js/library/modules/_cof.js")(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    var promise = Promise.resolve();
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_new-promise-capability.js":
/*!*************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_new-promise-capability.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 25.4.1.5 NewPromiseCapability(C)
var aFunction = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js");

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-create.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-create.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
var dPs = __webpack_require__(/*! ./_object-dps */ "./node_modules/core-js/library/modules/_object-dps.js");
var enumBugKeys = __webpack_require__(/*! ./_enum-bug-keys */ "./node_modules/core-js/library/modules/_enum-bug-keys.js");
var IE_PROTO = __webpack_require__(/*! ./_shared-key */ "./node_modules/core-js/library/modules/_shared-key.js")('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = __webpack_require__(/*! ./_dom-create */ "./node_modules/core-js/library/modules/_dom-create.js")('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  __webpack_require__(/*! ./_html */ "./node_modules/core-js/library/modules/_html.js").appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-dp.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-dp.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
var IE8_DOM_DEFINE = __webpack_require__(/*! ./_ie8-dom-define */ "./node_modules/core-js/library/modules/_ie8-dom-define.js");
var toPrimitive = __webpack_require__(/*! ./_to-primitive */ "./node_modules/core-js/library/modules/_to-primitive.js");
var dP = Object.defineProperty;

exports.f = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-dps.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-dps.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js");
var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
var getKeys = __webpack_require__(/*! ./_object-keys */ "./node_modules/core-js/library/modules/_object-keys.js");

module.exports = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-gopd.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gopd.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var pIE = __webpack_require__(/*! ./_object-pie */ "./node_modules/core-js/library/modules/_object-pie.js");
var createDesc = __webpack_require__(/*! ./_property-desc */ "./node_modules/core-js/library/modules/_property-desc.js");
var toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js");
var toPrimitive = __webpack_require__(/*! ./_to-primitive */ "./node_modules/core-js/library/modules/_to-primitive.js");
var has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js");
var IE8_DOM_DEFINE = __webpack_require__(/*! ./_ie8-dom-define */ "./node_modules/core-js/library/modules/_ie8-dom-define.js");
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-gopn-ext.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gopn-ext.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js");
var gOPN = __webpack_require__(/*! ./_object-gopn */ "./node_modules/core-js/library/modules/_object-gopn.js").f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-gopn.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gopn.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = __webpack_require__(/*! ./_object-keys-internal */ "./node_modules/core-js/library/modules/_object-keys-internal.js");
var hiddenKeys = __webpack_require__(/*! ./_enum-bug-keys */ "./node_modules/core-js/library/modules/_enum-bug-keys.js").concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-gops.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gops.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.f = Object.getOwnPropertySymbols;


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-gpo.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gpo.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js");
var toObject = __webpack_require__(/*! ./_to-object */ "./node_modules/core-js/library/modules/_to-object.js");
var IE_PROTO = __webpack_require__(/*! ./_shared-key */ "./node_modules/core-js/library/modules/_shared-key.js")('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-keys-internal.js":
/*!***********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-keys-internal.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js");
var toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js");
var arrayIndexOf = __webpack_require__(/*! ./_array-includes */ "./node_modules/core-js/library/modules/_array-includes.js")(false);
var IE_PROTO = __webpack_require__(/*! ./_shared-key */ "./node_modules/core-js/library/modules/_shared-key.js")('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-keys.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-keys.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = __webpack_require__(/*! ./_object-keys-internal */ "./node_modules/core-js/library/modules/_object-keys-internal.js");
var enumBugKeys = __webpack_require__(/*! ./_enum-bug-keys */ "./node_modules/core-js/library/modules/_enum-bug-keys.js");

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-pie.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-pie.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.f = {}.propertyIsEnumerable;


/***/ }),

/***/ "./node_modules/core-js/library/modules/_object-sap.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-sap.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// most Object methods by ES6 should accept primitives
var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
var core = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js");
var fails = __webpack_require__(/*! ./_fails */ "./node_modules/core-js/library/modules/_fails.js");
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_perform.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_perform.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_promise-resolve.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_promise-resolve.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
var newPromiseCapability = __webpack_require__(/*! ./_new-promise-capability */ "./node_modules/core-js/library/modules/_new-promise-capability.js");

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_property-desc.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_property-desc.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_redefine-all.js":
/*!***************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_redefine-all.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var hide = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");
module.exports = function (target, src, safe) {
  for (var key in src) {
    if (safe && target[key]) target[key] = src[key];
    else hide(target, key, src[key]);
  } return target;
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_redefine.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_redefine.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");


/***/ }),

/***/ "./node_modules/core-js/library/modules/_set-proto.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_set-proto.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js")(Function.call, __webpack_require__(/*! ./_object-gopd */ "./node_modules/core-js/library/modules/_object-gopd.js").f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_set-species.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_set-species.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var core = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js");
var dP = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js");
var DESCRIPTORS = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js");
var SPECIES = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('species');

module.exports = function (KEY) {
  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_set-to-string-tag.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_set-to-string-tag.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var def = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js").f;
var has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js");
var TAG = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_shared-key.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_shared-key.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var shared = __webpack_require__(/*! ./_shared */ "./node_modules/core-js/library/modules/_shared.js")('keys');
var uid = __webpack_require__(/*! ./_uid */ "./node_modules/core-js/library/modules/_uid.js");
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_shared.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_shared.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});
module.exports = function (key) {
  return store[key] || (store[key] = {});
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_species-constructor.js":
/*!**********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_species-constructor.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
var aFunction = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js");
var SPECIES = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_string-at.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_string-at.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js");
var defined = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_task.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_task.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var ctx = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js");
var invoke = __webpack_require__(/*! ./_invoke */ "./node_modules/core-js/library/modules/_invoke.js");
var html = __webpack_require__(/*! ./_html */ "./node_modules/core-js/library/modules/_html.js");
var cel = __webpack_require__(/*! ./_dom-create */ "./node_modules/core-js/library/modules/_dom-create.js");
var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (__webpack_require__(/*! ./_cof */ "./node_modules/core-js/library/modules/_cof.js")(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_to-absolute-index.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-absolute-index.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js");
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_to-integer.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-integer.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_to-iobject.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-iobject.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = __webpack_require__(/*! ./_iobject */ "./node_modules/core-js/library/modules/_iobject.js");
var defined = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");
module.exports = function (it) {
  return IObject(defined(it));
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_to-length.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-length.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.15 ToLength
var toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js");
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_to-object.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-object.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.13 ToObject(argument)
var defined = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");
module.exports = function (it) {
  return Object(defined(it));
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_to-primitive.js":
/*!***************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-primitive.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_uid.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_uid.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_wks-define.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_wks-define.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var core = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js");
var LIBRARY = __webpack_require__(/*! ./_library */ "./node_modules/core-js/library/modules/_library.js");
var wksExt = __webpack_require__(/*! ./_wks-ext */ "./node_modules/core-js/library/modules/_wks-ext.js");
var defineProperty = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js").f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/_wks-ext.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_wks-ext.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports.f = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js");


/***/ }),

/***/ "./node_modules/core-js/library/modules/_wks.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_wks.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var store = __webpack_require__(/*! ./_shared */ "./node_modules/core-js/library/modules/_shared.js")('wks');
var uid = __webpack_require__(/*! ./_uid */ "./node_modules/core-js/library/modules/_uid.js");
var Symbol = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js").Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;


/***/ }),

/***/ "./node_modules/core-js/library/modules/core.get-iterator-method.js":
/*!**************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/core.get-iterator-method.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__(/*! ./_classof */ "./node_modules/core-js/library/modules/_classof.js");
var ITERATOR = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('iterator');
var Iterators = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js");
module.exports = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js").getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.array.iterator.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.array.iterator.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var addToUnscopables = __webpack_require__(/*! ./_add-to-unscopables */ "./node_modules/core-js/library/modules/_add-to-unscopables.js");
var step = __webpack_require__(/*! ./_iter-step */ "./node_modules/core-js/library/modules/_iter-step.js");
var Iterators = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js");
var toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js");

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = __webpack_require__(/*! ./_iter-define */ "./node_modules/core-js/library/modules/_iter-define.js")(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.object.create.js":
/*!*******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.create.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
$export($export.S, 'Object', { create: __webpack_require__(/*! ./_object-create */ "./node_modules/core-js/library/modules/_object-create.js") });


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.object.define-property.js":
/*!****************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.define-property.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !__webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js"), 'Object', { defineProperty: __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js").f });


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.object.freeze.js":
/*!*******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.freeze.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.5 Object.freeze(O)
var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
var meta = __webpack_require__(/*! ./_meta */ "./node_modules/core-js/library/modules/_meta.js").onFreeze;

__webpack_require__(/*! ./_object-sap */ "./node_modules/core-js/library/modules/_object-sap.js")('freeze', function ($freeze) {
  return function freeze(it) {
    return $freeze && isObject(it) ? $freeze(meta(it)) : it;
  };
});


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js");
var $getOwnPropertyDescriptor = __webpack_require__(/*! ./_object-gopd */ "./node_modules/core-js/library/modules/_object-gopd.js").f;

__webpack_require__(/*! ./_object-sap */ "./node_modules/core-js/library/modules/_object-sap.js")('getOwnPropertyDescriptor', function () {
  return function getOwnPropertyDescriptor(it, key) {
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.object.get-own-property-names.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.get-own-property-names.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 Object.getOwnPropertyNames(O)
__webpack_require__(/*! ./_object-sap */ "./node_modules/core-js/library/modules/_object-sap.js")('getOwnPropertyNames', function () {
  return __webpack_require__(/*! ./_object-gopn-ext */ "./node_modules/core-js/library/modules/_object-gopn-ext.js").f;
});


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.object.get-prototype-of.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.get-prototype-of.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = __webpack_require__(/*! ./_to-object */ "./node_modules/core-js/library/modules/_to-object.js");
var $getPrototypeOf = __webpack_require__(/*! ./_object-gpo */ "./node_modules/core-js/library/modules/_object-gpo.js");

__webpack_require__(/*! ./_object-sap */ "./node_modules/core-js/library/modules/_object-sap.js")('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.object.set-prototype-of.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.set-prototype-of.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(/*! ./_set-proto */ "./node_modules/core-js/library/modules/_set-proto.js").set });


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.object.to-string.js":
/*!**********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.to-string.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.promise.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.promise.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY = __webpack_require__(/*! ./_library */ "./node_modules/core-js/library/modules/_library.js");
var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var ctx = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js");
var classof = __webpack_require__(/*! ./_classof */ "./node_modules/core-js/library/modules/_classof.js");
var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
var aFunction = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js");
var anInstance = __webpack_require__(/*! ./_an-instance */ "./node_modules/core-js/library/modules/_an-instance.js");
var forOf = __webpack_require__(/*! ./_for-of */ "./node_modules/core-js/library/modules/_for-of.js");
var speciesConstructor = __webpack_require__(/*! ./_species-constructor */ "./node_modules/core-js/library/modules/_species-constructor.js");
var task = __webpack_require__(/*! ./_task */ "./node_modules/core-js/library/modules/_task.js").set;
var microtask = __webpack_require__(/*! ./_microtask */ "./node_modules/core-js/library/modules/_microtask.js")();
var newPromiseCapabilityModule = __webpack_require__(/*! ./_new-promise-capability */ "./node_modules/core-js/library/modules/_new-promise-capability.js");
var perform = __webpack_require__(/*! ./_perform */ "./node_modules/core-js/library/modules/_perform.js");
var promiseResolve = __webpack_require__(/*! ./_promise-resolve */ "./node_modules/core-js/library/modules/_promise-resolve.js");
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[__webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value);
            if (domain) domain.exit();
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = __webpack_require__(/*! ./_redefine-all */ "./node_modules/core-js/library/modules/_redefine-all.js")($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
__webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js")($Promise, PROMISE);
__webpack_require__(/*! ./_set-species */ "./node_modules/core-js/library/modules/_set-species.js")(PROMISE);
Wrapper = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js")[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(/*! ./_iter-detect */ "./node_modules/core-js/library/modules/_iter-detect.js")(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.string.iterator.js":
/*!*********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.string.iterator.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $at = __webpack_require__(/*! ./_string-at */ "./node_modules/core-js/library/modules/_string-at.js")(true);

// 21.1.3.27 String.prototype[@@iterator]()
__webpack_require__(/*! ./_iter-define */ "./node_modules/core-js/library/modules/_iter-define.js")(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});


/***/ }),

/***/ "./node_modules/core-js/library/modules/es6.symbol.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.symbol.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// ECMAScript 6 symbols shim
var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js");
var DESCRIPTORS = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js");
var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
var redefine = __webpack_require__(/*! ./_redefine */ "./node_modules/core-js/library/modules/_redefine.js");
var META = __webpack_require__(/*! ./_meta */ "./node_modules/core-js/library/modules/_meta.js").KEY;
var $fails = __webpack_require__(/*! ./_fails */ "./node_modules/core-js/library/modules/_fails.js");
var shared = __webpack_require__(/*! ./_shared */ "./node_modules/core-js/library/modules/_shared.js");
var setToStringTag = __webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js");
var uid = __webpack_require__(/*! ./_uid */ "./node_modules/core-js/library/modules/_uid.js");
var wks = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js");
var wksExt = __webpack_require__(/*! ./_wks-ext */ "./node_modules/core-js/library/modules/_wks-ext.js");
var wksDefine = __webpack_require__(/*! ./_wks-define */ "./node_modules/core-js/library/modules/_wks-define.js");
var enumKeys = __webpack_require__(/*! ./_enum-keys */ "./node_modules/core-js/library/modules/_enum-keys.js");
var isArray = __webpack_require__(/*! ./_is-array */ "./node_modules/core-js/library/modules/_is-array.js");
var anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js");
var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js");
var toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js");
var toPrimitive = __webpack_require__(/*! ./_to-primitive */ "./node_modules/core-js/library/modules/_to-primitive.js");
var createDesc = __webpack_require__(/*! ./_property-desc */ "./node_modules/core-js/library/modules/_property-desc.js");
var _create = __webpack_require__(/*! ./_object-create */ "./node_modules/core-js/library/modules/_object-create.js");
var gOPNExt = __webpack_require__(/*! ./_object-gopn-ext */ "./node_modules/core-js/library/modules/_object-gopn-ext.js");
var $GOPD = __webpack_require__(/*! ./_object-gopd */ "./node_modules/core-js/library/modules/_object-gopd.js");
var $DP = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js");
var $keys = __webpack_require__(/*! ./_object-keys */ "./node_modules/core-js/library/modules/_object-keys.js");
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function';
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  __webpack_require__(/*! ./_object-gopn */ "./node_modules/core-js/library/modules/_object-gopn.js").f = gOPNExt.f = $getOwnPropertyNames;
  __webpack_require__(/*! ./_object-pie */ "./node_modules/core-js/library/modules/_object-pie.js").f = $propertyIsEnumerable;
  __webpack_require__(/*! ./_object-gops */ "./node_modules/core-js/library/modules/_object-gops.js").f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !__webpack_require__(/*! ./_library */ "./node_modules/core-js/library/modules/_library.js")) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js")($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);


/***/ }),

/***/ "./node_modules/core-js/library/modules/es7.promise.finally.js":
/*!*********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es7.promise.finally.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// https://github.com/tc39/proposal-promise-finally

var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
var core = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js");
var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var speciesConstructor = __webpack_require__(/*! ./_species-constructor */ "./node_modules/core-js/library/modules/_species-constructor.js");
var promiseResolve = __webpack_require__(/*! ./_promise-resolve */ "./node_modules/core-js/library/modules/_promise-resolve.js");

$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {
  var C = speciesConstructor(this, core.Promise || global.Promise);
  var isFunction = typeof onFinally == 'function';
  return this.then(
    isFunction ? function (x) {
      return promiseResolve(C, onFinally()).then(function () { return x; });
    } : onFinally,
    isFunction ? function (e) {
      return promiseResolve(C, onFinally()).then(function () { throw e; });
    } : onFinally
  );
} });


/***/ }),

/***/ "./node_modules/core-js/library/modules/es7.promise.try.js":
/*!*****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es7.promise.try.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-promise-try
var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
var newPromiseCapability = __webpack_require__(/*! ./_new-promise-capability */ "./node_modules/core-js/library/modules/_new-promise-capability.js");
var perform = __webpack_require__(/*! ./_perform */ "./node_modules/core-js/library/modules/_perform.js");

$export($export.S, 'Promise', { 'try': function (callbackfn) {
  var promiseCapability = newPromiseCapability.f(this);
  var result = perform(callbackfn);
  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);
  return promiseCapability.promise;
} });


/***/ }),

/***/ "./node_modules/core-js/library/modules/es7.symbol.async-iterator.js":
/*!***************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ./_wks-define */ "./node_modules/core-js/library/modules/_wks-define.js")('asyncIterator');


/***/ }),

/***/ "./node_modules/core-js/library/modules/es7.symbol.observable.js":
/*!***********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es7.symbol.observable.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ./_wks-define */ "./node_modules/core-js/library/modules/_wks-define.js")('observable');


/***/ }),

/***/ "./node_modules/core-js/library/modules/web.dom.iterable.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/web.dom.iterable.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ./es6.array.iterator */ "./node_modules/core-js/library/modules/es6.array.iterator.js");
var global = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js");
var hide = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");
var Iterators = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js");
var TO_STRING_TAG = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")('toStringTag');

var DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +
  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +
  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +
  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +
  'TextTrackList,TouchList').split(',');

for (var i = 0; i < DOMIterables.length; i++) {
  var NAME = DOMIterables[i];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
  Iterators[NAME] = Iterators.Array;
}


/***/ }),

/***/ "./node_modules/core-js/library/modules/web.immediate.js":
/*!***************************************************************!*\
  !*** ./node_modules/core-js/library/modules/web.immediate.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js");
var $task = __webpack_require__(/*! ./_task */ "./node_modules/core-js/library/modules/_task.js");
$export($export.G + $export.B, {
  setImmediate: $task.set,
  clearImmediate: $task.clear
});


/***/ }),

/***/ "./node_modules/mgrs/mgrs.js":
/*!***********************************!*\
  !*** ./node_modules/mgrs/mgrs.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {




/**
 * UTM zones are grouped, and assigned to one of a group of 6
 * sets.
 *
 * {int} @private
 */
var NUM_100K_SETS = 6;

/**
 * The column letters (for easting) of the lower left value, per
 * set.
 *
 * {string} @private
 */
var SET_ORIGIN_COLUMN_LETTERS = 'AJSAJS';

/**
 * The row letters (for northing) of the lower left value, per
 * set.
 *
 * {string} @private
 */
var SET_ORIGIN_ROW_LETTERS = 'AFAFAF';

var A = 65; // A
var I = 73; // I
var O = 79; // O
var V = 86; // V
var Z = 90; // Z

/**
 * Conversion of lat/lon to MGRS.
 *
 * @param {object} ll Object literal with lat and lon properties on a
 *     WGS84 ellipsoid.
 * @param {int} accuracy Accuracy in digits (5 for 1 m, 4 for 10 m, 3 for
 *      100 m, 2 for 1000 m or 1 for 10000 m). Optional, default is 5.
 * @return {string} the MGRS string for the given location and accuracy.
 */
exports.forward = function(ll, accuracy) {
  accuracy = accuracy || 5; // default accuracy 1m
  return encode(LLtoUTM({
    lat: ll[1],
    lon: ll[0]
  }), accuracy);
};

/**
 * Conversion of MGRS to lat/lon.
 *
 * @param {string} mgrs MGRS string.
 * @return {array} An array with left (longitude), bottom (latitude), right
 *     (longitude) and top (latitude) values in WGS84, representing the
 *     bounding box for the provided MGRS reference.
 */
exports.inverse = function(mgrs) {
  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));
  if (bbox.lat && bbox.lon) {
    return [bbox.lon, bbox.lat, bbox.lon, bbox.lat];
  }
  return [bbox.left, bbox.bottom, bbox.right, bbox.top];
};

exports.toPoint = function(mgrs) {
  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));
  if (bbox.lat && bbox.lon) {
    return [bbox.lon, bbox.lat];
  }
  return [(bbox.left + bbox.right) / 2, (bbox.top + bbox.bottom) / 2];
};
/**
 * Conversion from degrees to radians.
 *
 * @private
 * @param {number} deg the angle in degrees.
 * @return {number} the angle in radians.
 */
function degToRad(deg) {
  return (deg * (Math.PI / 180.0));
}

/**
 * Conversion from radians to degrees.
 *
 * @private
 * @param {number} rad the angle in radians.
 * @return {number} the angle in degrees.
 */
function radToDeg(rad) {
  return (180.0 * (rad / Math.PI));
}

/**
 * Converts a set of Longitude and Latitude co-ordinates to UTM
 * using the WGS84 ellipsoid.
 *
 * @private
 * @param {object} ll Object literal with lat and lon properties
 *     representing the WGS84 coordinate to be converted.
 * @return {object} Object literal containing the UTM value with easting,
 *     northing, zoneNumber and zoneLetter properties, and an optional
 *     accuracy property in digits. Returns null if the conversion failed.
 */
function LLtoUTM(ll) {
  var Lat = ll.lat;
  var Long = ll.lon;
  var a = 6378137.0; //ellip.radius;
  var eccSquared = 0.00669438; //ellip.eccsq;
  var k0 = 0.9996;
  var LongOrigin;
  var eccPrimeSquared;
  var N, T, C, A, M;
  var LatRad = degToRad(Lat);
  var LongRad = degToRad(Long);
  var LongOriginRad;
  var ZoneNumber;
  // (int)
  ZoneNumber = Math.floor((Long + 180) / 6) + 1;

  //Make sure the longitude 180.00 is in Zone 60
  if (Long === 180) {
    ZoneNumber = 60;
  }

  // Special zone for Norway
  if (Lat >= 56.0 && Lat < 64.0 && Long >= 3.0 && Long < 12.0) {
    ZoneNumber = 32;
  }

  // Special zones for Svalbard
  if (Lat >= 72.0 && Lat < 84.0) {
    if (Long >= 0.0 && Long < 9.0) {
      ZoneNumber = 31;
    }
    else if (Long >= 9.0 && Long < 21.0) {
      ZoneNumber = 33;
    }
    else if (Long >= 21.0 && Long < 33.0) {
      ZoneNumber = 35;
    }
    else if (Long >= 33.0 && Long < 42.0) {
      ZoneNumber = 37;
    }
  }

  LongOrigin = (ZoneNumber - 1) * 6 - 180 + 3; //+3 puts origin
  // in middle of
  // zone
  LongOriginRad = degToRad(LongOrigin);

  eccPrimeSquared = (eccSquared) / (1 - eccSquared);

  N = a / Math.sqrt(1 - eccSquared * Math.sin(LatRad) * Math.sin(LatRad));
  T = Math.tan(LatRad) * Math.tan(LatRad);
  C = eccPrimeSquared * Math.cos(LatRad) * Math.cos(LatRad);
  A = Math.cos(LatRad) * (LongRad - LongOriginRad);

  M = a * ((1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256) * LatRad - (3 * eccSquared / 8 + 3 * eccSquared * eccSquared / 32 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(2 * LatRad) + (15 * eccSquared * eccSquared / 256 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(4 * LatRad) - (35 * eccSquared * eccSquared * eccSquared / 3072) * Math.sin(6 * LatRad));

  var UTMEasting = (k0 * N * (A + (1 - T + C) * A * A * A / 6.0 + (5 - 18 * T + T * T + 72 * C - 58 * eccPrimeSquared) * A * A * A * A * A / 120.0) + 500000.0);

  var UTMNorthing = (k0 * (M + N * Math.tan(LatRad) * (A * A / 2 + (5 - T + 9 * C + 4 * C * C) * A * A * A * A / 24.0 + (61 - 58 * T + T * T + 600 * C - 330 * eccPrimeSquared) * A * A * A * A * A * A / 720.0)));
  if (Lat < 0.0) {
    UTMNorthing += 10000000.0; //10000000 meter offset for
    // southern hemisphere
  }

  return {
    northing: Math.round(UTMNorthing),
    easting: Math.round(UTMEasting),
    zoneNumber: ZoneNumber,
    zoneLetter: getLetterDesignator(Lat)
  };
}

/**
 * Converts UTM coords to lat/long, using the WGS84 ellipsoid. This is a convenience
 * class where the Zone can be specified as a single string eg."60N" which
 * is then broken down into the ZoneNumber and ZoneLetter.
 *
 * @private
 * @param {object} utm An object literal with northing, easting, zoneNumber
 *     and zoneLetter properties. If an optional accuracy property is
 *     provided (in meters), a bounding box will be returned instead of
 *     latitude and longitude.
 * @return {object} An object literal containing either lat and lon values
 *     (if no accuracy was provided), or top, right, bottom and left values
 *     for the bounding box calculated according to the provided accuracy.
 *     Returns null if the conversion failed.
 */
function UTMtoLL(utm) {

  var UTMNorthing = utm.northing;
  var UTMEasting = utm.easting;
  var zoneLetter = utm.zoneLetter;
  var zoneNumber = utm.zoneNumber;
  // check the ZoneNummber is valid
  if (zoneNumber < 0 || zoneNumber > 60) {
    return null;
  }

  var k0 = 0.9996;
  var a = 6378137.0; //ellip.radius;
  var eccSquared = 0.00669438; //ellip.eccsq;
  var eccPrimeSquared;
  var e1 = (1 - Math.sqrt(1 - eccSquared)) / (1 + Math.sqrt(1 - eccSquared));
  var N1, T1, C1, R1, D, M;
  var LongOrigin;
  var mu, phi1Rad;

  // remove 500,000 meter offset for longitude
  var x = UTMEasting - 500000.0;
  var y = UTMNorthing;

  // We must know somehow if we are in the Northern or Southern
  // hemisphere, this is the only time we use the letter So even
  // if the Zone letter isn't exactly correct it should indicate
  // the hemisphere correctly
  if (zoneLetter < 'N') {
    y -= 10000000.0; // remove 10,000,000 meter offset used
    // for southern hemisphere
  }

  // There are 60 zones with zone 1 being at West -180 to -174
  LongOrigin = (zoneNumber - 1) * 6 - 180 + 3; // +3 puts origin
  // in middle of
  // zone

  eccPrimeSquared = (eccSquared) / (1 - eccSquared);

  M = y / k0;
  mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));

  phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu) + (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu) + (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);
  // double phi1 = ProjMath.radToDeg(phi1Rad);

  N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));
  T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);
  C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);
  R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);
  D = x / (N1 * k0);

  var lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24 + (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);
  lat = radToDeg(lat);

  var lon = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1) * D * D * D * D * D / 120) / Math.cos(phi1Rad);
  lon = LongOrigin + radToDeg(lon);

  var result;
  if (utm.accuracy) {
    var topRight = UTMtoLL({
      northing: utm.northing + utm.accuracy,
      easting: utm.easting + utm.accuracy,
      zoneLetter: utm.zoneLetter,
      zoneNumber: utm.zoneNumber
    });
    result = {
      top: topRight.lat,
      right: topRight.lon,
      bottom: lat,
      left: lon
    };
  }
  else {
    result = {
      lat: lat,
      lon: lon
    };
  }
  return result;
}

/**
 * Calculates the MGRS letter designator for the given latitude.
 *
 * @private
 * @param {number} lat The latitude in WGS84 to get the letter designator
 *     for.
 * @return {char} The letter designator.
 */
function getLetterDesignator(lat) {
  //This is here as an error flag to show that the Latitude is
  //outside MGRS limits
  var LetterDesignator = 'Z';

  if ((84 >= lat) && (lat >= 72)) {
    LetterDesignator = 'X';
  }
  else if ((72 > lat) && (lat >= 64)) {
    LetterDesignator = 'W';
  }
  else if ((64 > lat) && (lat >= 56)) {
    LetterDesignator = 'V';
  }
  else if ((56 > lat) && (lat >= 48)) {
    LetterDesignator = 'U';
  }
  else if ((48 > lat) && (lat >= 40)) {
    LetterDesignator = 'T';
  }
  else if ((40 > lat) && (lat >= 32)) {
    LetterDesignator = 'S';
  }
  else if ((32 > lat) && (lat >= 24)) {
    LetterDesignator = 'R';
  }
  else if ((24 > lat) && (lat >= 16)) {
    LetterDesignator = 'Q';
  }
  else if ((16 > lat) && (lat >= 8)) {
    LetterDesignator = 'P';
  }
  else if ((8 > lat) && (lat >= 0)) {
    LetterDesignator = 'N';
  }
  else if ((0 > lat) && (lat >= -8)) {
    LetterDesignator = 'M';
  }
  else if ((-8 > lat) && (lat >= -16)) {
    LetterDesignator = 'L';
  }
  else if ((-16 > lat) && (lat >= -24)) {
    LetterDesignator = 'K';
  }
  else if ((-24 > lat) && (lat >= -32)) {
    LetterDesignator = 'J';
  }
  else if ((-32 > lat) && (lat >= -40)) {
    LetterDesignator = 'H';
  }
  else if ((-40 > lat) && (lat >= -48)) {
    LetterDesignator = 'G';
  }
  else if ((-48 > lat) && (lat >= -56)) {
    LetterDesignator = 'F';
  }
  else if ((-56 > lat) && (lat >= -64)) {
    LetterDesignator = 'E';
  }
  else if ((-64 > lat) && (lat >= -72)) {
    LetterDesignator = 'D';
  }
  else if ((-72 > lat) && (lat >= -80)) {
    LetterDesignator = 'C';
  }
  return LetterDesignator;
}

/**
 * Encodes a UTM location as MGRS string.
 *
 * @private
 * @param {object} utm An object literal with easting, northing,
 *     zoneLetter, zoneNumber
 * @param {number} accuracy Accuracy in digits (1-5).
 * @return {string} MGRS string for the given UTM location.
 */
function encode(utm, accuracy) {
  // prepend with leading zeroes
  var seasting = "00000" + utm.easting,
    snorthing = "00000" + utm.northing;

  return utm.zoneNumber + utm.zoneLetter + get100kID(utm.easting, utm.northing, utm.zoneNumber) + seasting.substr(seasting.length - 5, accuracy) + snorthing.substr(snorthing.length - 5, accuracy);
}

/**
 * Get the two letter 100k designator for a given UTM easting,
 * northing and zone number value.
 *
 * @private
 * @param {number} easting
 * @param {number} northing
 * @param {number} zoneNumber
 * @return the two letter 100k designator for the given UTM location.
 */
function get100kID(easting, northing, zoneNumber) {
  var setParm = get100kSetForZone(zoneNumber);
  var setColumn = Math.floor(easting / 100000);
  var setRow = Math.floor(northing / 100000) % 20;
  return getLetter100kID(setColumn, setRow, setParm);
}

/**
 * Given a UTM zone number, figure out the MGRS 100K set it is in.
 *
 * @private
 * @param {number} i An UTM zone number.
 * @return {number} the 100k set the UTM zone is in.
 */
function get100kSetForZone(i) {
  var setParm = i % NUM_100K_SETS;
  if (setParm === 0) {
    setParm = NUM_100K_SETS;
  }

  return setParm;
}

/**
 * Get the two-letter MGRS 100k designator given information
 * translated from the UTM northing, easting and zone number.
 *
 * @private
 * @param {number} column the column index as it relates to the MGRS
 *        100k set spreadsheet, created from the UTM easting.
 *        Values are 1-8.
 * @param {number} row the row index as it relates to the MGRS 100k set
 *        spreadsheet, created from the UTM northing value. Values
 *        are from 0-19.
 * @param {number} parm the set block, as it relates to the MGRS 100k set
 *        spreadsheet, created from the UTM zone. Values are from
 *        1-60.
 * @return two letter MGRS 100k code.
 */
function getLetter100kID(column, row, parm) {
  // colOrigin and rowOrigin are the letters at the origin of the set
  var index = parm - 1;
  var colOrigin = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index);
  var rowOrigin = SET_ORIGIN_ROW_LETTERS.charCodeAt(index);

  // colInt and rowInt are the letters to build to return
  var colInt = colOrigin + column - 1;
  var rowInt = rowOrigin + row;
  var rollover = false;

  if (colInt > Z) {
    colInt = colInt - Z + A - 1;
    rollover = true;
  }

  if (colInt === I || (colOrigin < I && colInt > I) || ((colInt > I || colOrigin < I) && rollover)) {
    colInt++;
  }

  if (colInt === O || (colOrigin < O && colInt > O) || ((colInt > O || colOrigin < O) && rollover)) {
    colInt++;

    if (colInt === I) {
      colInt++;
    }
  }

  if (colInt > Z) {
    colInt = colInt - Z + A - 1;
  }

  if (rowInt > V) {
    rowInt = rowInt - V + A - 1;
    rollover = true;
  }
  else {
    rollover = false;
  }

  if (((rowInt === I) || ((rowOrigin < I) && (rowInt > I))) || (((rowInt > I) || (rowOrigin < I)) && rollover)) {
    rowInt++;
  }

  if (((rowInt === O) || ((rowOrigin < O) && (rowInt > O))) || (((rowInt > O) || (rowOrigin < O)) && rollover)) {
    rowInt++;

    if (rowInt === I) {
      rowInt++;
    }
  }

  if (rowInt > V) {
    rowInt = rowInt - V + A - 1;
  }

  var twoLetter = String.fromCharCode(colInt) + String.fromCharCode(rowInt);
  return twoLetter;
}

/**
 * Decode the UTM parameters from a MGRS string.
 *
 * @private
 * @param {string} mgrsString an UPPERCASE coordinate string is expected.
 * @return {object} An object literal with easting, northing, zoneLetter,
 *     zoneNumber and accuracy (in meters) properties.
 */
function decode(mgrsString) {

  if (mgrsString && mgrsString.length === 0) {
    throw ("MGRSPoint coverting from nothing");
  }

  var length = mgrsString.length;

  var hunK = null;
  var sb = "";
  var testChar;
  var i = 0;

  // get Zone number
  while (!(/[A-Z]/).test(testChar = mgrsString.charAt(i))) {
    if (i >= 2) {
      throw ("MGRSPoint bad conversion from: " + mgrsString);
    }
    sb += testChar;
    i++;
  }

  var zoneNumber = parseInt(sb, 10);

  if (i === 0 || i + 3 > length) {
    // A good MGRS string has to be 4-5 digits long,
    // ##AAA/#AAA at least.
    throw ("MGRSPoint bad conversion from: " + mgrsString);
  }

  var zoneLetter = mgrsString.charAt(i++);

  // Should we check the zone letter here? Why not.
  if (zoneLetter <= 'A' || zoneLetter === 'B' || zoneLetter === 'Y' || zoneLetter >= 'Z' || zoneLetter === 'I' || zoneLetter === 'O') {
    throw ("MGRSPoint zone letter " + zoneLetter + " not handled: " + mgrsString);
  }

  hunK = mgrsString.substring(i, i += 2);

  var set = get100kSetForZone(zoneNumber);

  var east100k = getEastingFromChar(hunK.charAt(0), set);
  var north100k = getNorthingFromChar(hunK.charAt(1), set);

  // We have a bug where the northing may be 2000000 too low.
  // How
  // do we know when to roll over?

  while (north100k < getMinNorthing(zoneLetter)) {
    north100k += 2000000;
  }

  // calculate the char index for easting/northing separator
  var remainder = length - i;

  if (remainder % 2 !== 0) {
    throw ("MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters" + mgrsString);
  }

  var sep = remainder / 2;

  var sepEasting = 0.0;
  var sepNorthing = 0.0;
  var accuracyBonus, sepEastingString, sepNorthingString, easting, northing;
  if (sep > 0) {
    accuracyBonus = 100000.0 / Math.pow(10, sep);
    sepEastingString = mgrsString.substring(i, i + sep);
    sepEasting = parseFloat(sepEastingString) * accuracyBonus;
    sepNorthingString = mgrsString.substring(i + sep);
    sepNorthing = parseFloat(sepNorthingString) * accuracyBonus;
  }

  easting = sepEasting + east100k;
  northing = sepNorthing + north100k;

  return {
    easting: easting,
    northing: northing,
    zoneLetter: zoneLetter,
    zoneNumber: zoneNumber,
    accuracy: accuracyBonus
  };
}

/**
 * Given the first letter from a two-letter MGRS 100k zone, and given the
 * MGRS table set for the zone number, figure out the easting value that
 * should be added to the other, secondary easting value.
 *
 * @private
 * @param {char} e The first letter from a two-letter MGRS 100´k zone.
 * @param {number} set The MGRS table set for the zone number.
 * @return {number} The easting value for the given letter and set.
 */
function getEastingFromChar(e, set) {
  // colOrigin is the letter at the origin of the set for the
  // column
  var curCol = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set - 1);
  var eastingValue = 100000.0;
  var rewindMarker = false;

  while (curCol !== e.charCodeAt(0)) {
    curCol++;
    if (curCol === I) {
      curCol++;
    }
    if (curCol === O) {
      curCol++;
    }
    if (curCol > Z) {
      if (rewindMarker) {
        throw ("Bad character: " + e);
      }
      curCol = A;
      rewindMarker = true;
    }
    eastingValue += 100000.0;
  }

  return eastingValue;
}

/**
 * Given the second letter from a two-letter MGRS 100k zone, and given the
 * MGRS table set for the zone number, figure out the northing value that
 * should be added to the other, secondary northing value. You have to
 * remember that Northings are determined from the equator, and the vertical
 * cycle of letters mean a 2000000 additional northing meters. This happens
 * approx. every 18 degrees of latitude. This method does *NOT* count any
 * additional northings. You have to figure out how many 2000000 meters need
 * to be added for the zone letter of the MGRS coordinate.
 *
 * @private
 * @param {char} n Second letter of the MGRS 100k zone
 * @param {number} set The MGRS table set number, which is dependent on the
 *     UTM zone number.
 * @return {number} The northing value for the given letter and set.
 */
function getNorthingFromChar(n, set) {

  if (n > 'V') {
    throw ("MGRSPoint given invalid Northing " + n);
  }

  // rowOrigin is the letter at the origin of the set for the
  // column
  var curRow = SET_ORIGIN_ROW_LETTERS.charCodeAt(set - 1);
  var northingValue = 0.0;
  var rewindMarker = false;

  while (curRow !== n.charCodeAt(0)) {
    curRow++;
    if (curRow === I) {
      curRow++;
    }
    if (curRow === O) {
      curRow++;
    }
    // fixing a bug making whole application hang in this loop
    // when 'n' is a wrong character
    if (curRow > V) {
      if (rewindMarker) { // making sure that this loop ends
        throw ("Bad character: " + n);
      }
      curRow = A;
      rewindMarker = true;
    }
    northingValue += 100000.0;
  }

  return northingValue;
}

/**
 * The function getMinNorthing returns the minimum northing value of a MGRS
 * zone.
 *
 * Ported from Geotrans' c Lattitude_Band_Value structure table.
 *
 * @private
 * @param {char} zoneLetter The MGRS zone to get the min northing for.
 * @return {number}
 */
function getMinNorthing(zoneLetter) {
  var northing;
  switch (zoneLetter) {
  case 'C':
    northing = 1100000.0;
    break;
  case 'D':
    northing = 2000000.0;
    break;
  case 'E':
    northing = 2800000.0;
    break;
  case 'F':
    northing = 3700000.0;
    break;
  case 'G':
    northing = 4600000.0;
    break;
  case 'H':
    northing = 5500000.0;
    break;
  case 'J':
    northing = 6400000.0;
    break;
  case 'K':
    northing = 7300000.0;
    break;
  case 'L':
    northing = 8200000.0;
    break;
  case 'M':
    northing = 9100000.0;
    break;
  case 'N':
    northing = 0.0;
    break;
  case 'P':
    northing = 800000.0;
    break;
  case 'Q':
    northing = 1700000.0;
    break;
  case 'R':
    northing = 2600000.0;
    break;
  case 'S':
    northing = 3500000.0;
    break;
  case 'T':
    northing = 4400000.0;
    break;
  case 'U':
    northing = 5300000.0;
    break;
  case 'V':
    northing = 6200000.0;
    break;
  case 'W':
    northing = 7000000.0;
    break;
  case 'X':
    northing = 7900000.0;
    break;
  default:
    northing = -1.0;
  }
  if (northing >= 0.0) {
    return northing;
  }
  else {
    throw ("Invalid zone letter: " + zoneLetter);
  }

}


/***/ }),

/***/ "./node_modules/proj4/lib/Point.js":
/*!*****************************************!*\
  !*** ./node_modules/proj4/lib/Point.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var mgrs = __webpack_require__(/*! mgrs */ "./node_modules/mgrs/mgrs.js");

function Point(x, y, z) {
  if (!(this instanceof Point)) {
    return new Point(x, y, z);
  }
  if (Array.isArray(x)) {
    this.x = x[0];
    this.y = x[1];
    this.z = x[2] || 0.0;
  } else if(typeof x === 'object') {
    this.x = x.x;
    this.y = x.y;
    this.z = x.z || 0.0;
  } else if (typeof x === 'string' && typeof y === 'undefined') {
    var coords = x.split(',');
    this.x = parseFloat(coords[0], 10);
    this.y = parseFloat(coords[1], 10);
    this.z = parseFloat(coords[2], 10) || 0.0;
  } else {
    this.x = x;
    this.y = y;
    this.z = z || 0.0;
  }
  console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');
}

Point.fromMGRS = function(mgrsStr) {
  return new Point(mgrs.toPoint(mgrsStr));
};
Point.prototype.toMGRS = function(accuracy) {
  return mgrs.forward([this.x, this.y], accuracy);
};
module.exports = Point;


/***/ }),

/***/ "./node_modules/proj4/lib/Proj.js":
/*!****************************************!*\
  !*** ./node_modules/proj4/lib/Proj.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var parseCode = __webpack_require__(/*! ./parseCode */ "./node_modules/proj4/lib/parseCode.js");
var extend = __webpack_require__(/*! ./extend */ "./node_modules/proj4/lib/extend.js");
var projections = __webpack_require__(/*! ./projections */ "./node_modules/proj4/lib/projections.js");
var deriveConstants = __webpack_require__(/*! ./deriveConstants */ "./node_modules/proj4/lib/deriveConstants.js");

function Projection(srsCode,callback) {
  if (!(this instanceof Projection)) {
    return new Projection(srsCode);
  }
  callback = callback || function(error){
    if(error){
      throw error;
    }
  };
  var json = parseCode(srsCode);
  if(typeof json !== 'object'){
    callback(srsCode);
    return;
  }
  var modifiedJSON = deriveConstants(json);
  var ourProj = Projection.projections.get(modifiedJSON.projName);
  if(ourProj){
    extend(this, modifiedJSON);
    extend(this, ourProj);
    this.init();
    callback(null, this);
  }else{
    callback(srsCode);
  }
}
Projection.projections = projections;
Projection.projections.start();
module.exports = Projection;


/***/ }),

/***/ "./node_modules/proj4/lib/adjust_axis.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/adjust_axis.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(crs, denorm, point) {
  var xin = point.x,
    yin = point.y,
    zin = point.z || 0.0;
  var v, t, i;
  for (i = 0; i < 3; i++) {
    if (denorm && i === 2 && point.z === undefined) {
      continue;
    }
    if (i === 0) {
      v = xin;
      t = 'x';
    }
    else if (i === 1) {
      v = yin;
      t = 'y';
    }
    else {
      v = zin;
      t = 'z';
    }
    switch (crs.axis[i]) {
    case 'e':
      point[t] = v;
      break;
    case 'w':
      point[t] = -v;
      break;
    case 'n':
      point[t] = v;
      break;
    case 's':
      point[t] = -v;
      break;
    case 'u':
      if (point[t] !== undefined) {
        point.z = v;
      }
      break;
    case 'd':
      if (point[t] !== undefined) {
        point.z = -v;
      }
      break;
    default:
      //console.log("ERROR: unknow axis ("+crs.axis[i]+") - check definition of "+crs.projName);
      return null;
    }
  }
  return point;
};


/***/ }),

/***/ "./node_modules/proj4/lib/common/adjust_lat.js":
/*!*****************************************************!*\
  !*** ./node_modules/proj4/lib/common/adjust_lat.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var HALF_PI = Math.PI/2;
var sign = __webpack_require__(/*! ./sign */ "./node_modules/proj4/lib/common/sign.js");

module.exports = function(x) {
  return (Math.abs(x) < HALF_PI) ? x : (x - (sign(x) * Math.PI));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/adjust_lon.js":
/*!*****************************************************!*\
  !*** ./node_modules/proj4/lib/common/adjust_lon.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var TWO_PI = Math.PI * 2;
// SPI is slightly greater than Math.PI, so values that exceed the -180..180
// degree range by a tiny amount don't get wrapped. This prevents points that
// have drifted from their original location along the 180th meridian (due to
// floating point error) from changing their sign.
var SPI = 3.14159265359;
var sign = __webpack_require__(/*! ./sign */ "./node_modules/proj4/lib/common/sign.js");

module.exports = function(x) {
  return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/asinz.js":
/*!************************************************!*\
  !*** ./node_modules/proj4/lib/common/asinz.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(x) {
  if (Math.abs(x) > 1) {
    x = (x > 1) ? 1 : -1;
  }
  return Math.asin(x);
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/e0fn.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/common/e0fn.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(x) {
  return (1 - 0.25 * x * (1 + x / 16 * (3 + 1.25 * x)));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/e1fn.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/common/e1fn.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(x) {
  return (0.375 * x * (1 + 0.25 * x * (1 + 0.46875 * x)));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/e2fn.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/common/e2fn.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(x) {
  return (0.05859375 * x * x * (1 + 0.75 * x));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/e3fn.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/common/e3fn.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(x) {
  return (x * x * x * (35 / 3072));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/gN.js":
/*!*********************************************!*\
  !*** ./node_modules/proj4/lib/common/gN.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(a, e, sinphi) {
  var temp = e * sinphi;
  return a / Math.sqrt(1 - temp * temp);
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/imlfn.js":
/*!************************************************!*\
  !*** ./node_modules/proj4/lib/common/imlfn.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(ml, e0, e1, e2, e3) {
  var phi;
  var dphi;

  phi = ml / e0;
  for (var i = 0; i < 15; i++) {
    dphi = (ml - (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi))) / (e0 - 2 * e1 * Math.cos(2 * phi) + 4 * e2 * Math.cos(4 * phi) - 6 * e3 * Math.cos(6 * phi));
    phi += dphi;
    if (Math.abs(dphi) <= 0.0000000001) {
      return phi;
    }
  }

  //..reportError("IMLFN-CONV:Latitude failed to converge after 15 iterations");
  return NaN;
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/iqsfnz.js":
/*!*************************************************!*\
  !*** ./node_modules/proj4/lib/common/iqsfnz.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var HALF_PI = Math.PI/2;

module.exports = function(eccent, q) {
  var temp = 1 - (1 - eccent * eccent) / (2 * eccent) * Math.log((1 - eccent) / (1 + eccent));
  if (Math.abs(Math.abs(q) - temp) < 1.0E-6) {
    if (q < 0) {
      return (-1 * HALF_PI);
    }
    else {
      return HALF_PI;
    }
  }
  //var phi = 0.5* q/(1-eccent*eccent);
  var phi = Math.asin(0.5 * q);
  var dphi;
  var sin_phi;
  var cos_phi;
  var con;
  for (var i = 0; i < 30; i++) {
    sin_phi = Math.sin(phi);
    cos_phi = Math.cos(phi);
    con = eccent * sin_phi;
    dphi = Math.pow(1 - con * con, 2) / (2 * cos_phi) * (q / (1 - eccent * eccent) - sin_phi / (1 - con * con) + 0.5 / eccent * Math.log((1 - con) / (1 + con)));
    phi += dphi;
    if (Math.abs(dphi) <= 0.0000000001) {
      return phi;
    }
  }

  //console.log("IQSFN-CONV:Latitude failed to converge after 30 iterations");
  return NaN;
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/mlfn.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/common/mlfn.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(e0, e1, e2, e3, phi) {
  return (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/msfnz.js":
/*!************************************************!*\
  !*** ./node_modules/proj4/lib/common/msfnz.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(eccent, sinphi, cosphi) {
  var con = eccent * sinphi;
  return cosphi / (Math.sqrt(1 - con * con));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/phi2z.js":
/*!************************************************!*\
  !*** ./node_modules/proj4/lib/common/phi2z.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var HALF_PI = Math.PI/2;
module.exports = function(eccent, ts) {
  var eccnth = 0.5 * eccent;
  var con, dphi;
  var phi = HALF_PI - 2 * Math.atan(ts);
  for (var i = 0; i <= 15; i++) {
    con = eccent * Math.sin(phi);
    dphi = HALF_PI - 2 * Math.atan(ts * (Math.pow(((1 - con) / (1 + con)), eccnth))) - phi;
    phi += dphi;
    if (Math.abs(dphi) <= 0.0000000001) {
      return phi;
    }
  }
  //console.log("phi2z has NoConvergence");
  return -9999;
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/pj_enfn.js":
/*!**************************************************!*\
  !*** ./node_modules/proj4/lib/common/pj_enfn.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var C00 = 1;
var C02 = 0.25;
var C04 = 0.046875;
var C06 = 0.01953125;
var C08 = 0.01068115234375;
var C22 = 0.75;
var C44 = 0.46875;
var C46 = 0.01302083333333333333;
var C48 = 0.00712076822916666666;
var C66 = 0.36458333333333333333;
var C68 = 0.00569661458333333333;
var C88 = 0.3076171875;

module.exports = function(es) {
  var en = [];
  en[0] = C00 - es * (C02 + es * (C04 + es * (C06 + es * C08)));
  en[1] = es * (C22 - es * (C04 + es * (C06 + es * C08)));
  var t = es * es;
  en[2] = t * (C44 - es * (C46 + es * C48));
  t *= es;
  en[3] = t * (C66 - es * C68);
  en[4] = t * es * C88;
  return en;
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/pj_inv_mlfn.js":
/*!******************************************************!*\
  !*** ./node_modules/proj4/lib/common/pj_inv_mlfn.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var pj_mlfn = __webpack_require__(/*! ./pj_mlfn */ "./node_modules/proj4/lib/common/pj_mlfn.js");
var EPSLN = 1.0e-10;
var MAX_ITER = 20;
module.exports = function(arg, es, en) {
  var k = 1 / (1 - es);
  var phi = arg;
  for (var i = MAX_ITER; i; --i) { /* rarely goes over 2 iterations */
    var s = Math.sin(phi);
    var t = 1 - es * s * s;
    //t = this.pj_mlfn(phi, s, Math.cos(phi), en) - arg;
    //phi -= t * (t * Math.sqrt(t)) * k;
    t = (pj_mlfn(phi, s, Math.cos(phi), en) - arg) * (t * Math.sqrt(t)) * k;
    phi -= t;
    if (Math.abs(t) < EPSLN) {
      return phi;
    }
  }
  //..reportError("cass:pj_inv_mlfn: Convergence error");
  return phi;
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/pj_mlfn.js":
/*!**************************************************!*\
  !*** ./node_modules/proj4/lib/common/pj_mlfn.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(phi, sphi, cphi, en) {
  cphi *= sphi;
  sphi *= sphi;
  return (en[0] * phi - cphi * (en[1] + sphi * (en[2] + sphi * (en[3] + sphi * en[4]))));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/qsfnz.js":
/*!************************************************!*\
  !*** ./node_modules/proj4/lib/common/qsfnz.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(eccent, sinphi) {
  var con;
  if (eccent > 1.0e-7) {
    con = eccent * sinphi;
    return ((1 - eccent * eccent) * (sinphi / (1 - con * con) - (0.5 / eccent) * Math.log((1 - con) / (1 + con))));
  }
  else {
    return (2 * sinphi);
  }
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/sign.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/common/sign.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(x) {
  return x<0 ? -1 : 1;
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/srat.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/common/srat.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(esinp, exp) {
  return (Math.pow((1 - esinp) / (1 + esinp), exp));
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/toPoint.js":
/*!**************************************************!*\
  !*** ./node_modules/proj4/lib/common/toPoint.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function (array){
  var out = {
    x: array[0],
    y: array[1]
  };
  if (array.length>2) {
    out.z = array[2];
  }
  if (array.length>3) {
    out.m = array[3];
  }
  return out;
};

/***/ }),

/***/ "./node_modules/proj4/lib/common/tsfnz.js":
/*!************************************************!*\
  !*** ./node_modules/proj4/lib/common/tsfnz.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var HALF_PI = Math.PI/2;

module.exports = function(eccent, phi, sinphi) {
  var con = eccent * sinphi;
  var com = 0.5 * eccent;
  con = Math.pow(((1 - con) / (1 + con)), com);
  return (Math.tan(0.5 * (HALF_PI - phi)) / con);
};

/***/ }),

/***/ "./node_modules/proj4/lib/constants/Datum.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/constants/Datum.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.wgs84 = {
  towgs84: "0,0,0",
  ellipse: "WGS84",
  datumName: "WGS84"
};
exports.ch1903 = {
  towgs84: "674.374,15.056,405.346",
  ellipse: "bessel",
  datumName: "swiss"
};
exports.ggrs87 = {
  towgs84: "-199.87,74.79,246.62",
  ellipse: "GRS80",
  datumName: "Greek_Geodetic_Reference_System_1987"
};
exports.nad83 = {
  towgs84: "0,0,0",
  ellipse: "GRS80",
  datumName: "North_American_Datum_1983"
};
exports.nad27 = {
  nadgrids: "@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",
  ellipse: "clrk66",
  datumName: "North_American_Datum_1927"
};
exports.potsdam = {
  towgs84: "606.0,23.0,413.0",
  ellipse: "bessel",
  datumName: "Potsdam Rauenberg 1950 DHDN"
};
exports.carthage = {
  towgs84: "-263.0,6.0,431.0",
  ellipse: "clark80",
  datumName: "Carthage 1934 Tunisia"
};
exports.hermannskogel = {
  towgs84: "653.0,-212.0,449.0",
  ellipse: "bessel",
  datumName: "Hermannskogel"
};
exports.ire65 = {
  towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
  ellipse: "mod_airy",
  datumName: "Ireland 1965"
};
exports.rassadiran = {
  towgs84: "-133.63,-157.5,-158.62",
  ellipse: "intl",
  datumName: "Rassadiran"
};
exports.nzgd49 = {
  towgs84: "59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",
  ellipse: "intl",
  datumName: "New Zealand Geodetic Datum 1949"
};
exports.osgb36 = {
  towgs84: "446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",
  ellipse: "airy",
  datumName: "Airy 1830"
};
exports.s_jtsk = {
  towgs84: "589,76,480",
  ellipse: 'bessel',
  datumName: 'S-JTSK (Ferro)'
};
exports.beduaram = {
  towgs84: '-106,-87,188',
  ellipse: 'clrk80',
  datumName: 'Beduaram'
};
exports.gunung_segara = {
  towgs84: '-403,684,41',
  ellipse: 'bessel',
  datumName: 'Gunung Segara Jakarta'
};
exports.rnb72 = {
  towgs84: "106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",
  ellipse: "intl",
  datumName: "Reseau National Belge 1972"
};

/***/ }),

/***/ "./node_modules/proj4/lib/constants/Ellipsoid.js":
/*!*******************************************************!*\
  !*** ./node_modules/proj4/lib/constants/Ellipsoid.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.MERIT = {
  a: 6378137.0,
  rf: 298.257,
  ellipseName: "MERIT 1983"
};
exports.SGS85 = {
  a: 6378136.0,
  rf: 298.257,
  ellipseName: "Soviet Geodetic System 85"
};
exports.GRS80 = {
  a: 6378137.0,
  rf: 298.257222101,
  ellipseName: "GRS 1980(IUGG, 1980)"
};
exports.IAU76 = {
  a: 6378140.0,
  rf: 298.257,
  ellipseName: "IAU 1976"
};
exports.airy = {
  a: 6377563.396,
  b: 6356256.910,
  ellipseName: "Airy 1830"
};
exports.APL4 = {
  a: 6378137,
  rf: 298.25,
  ellipseName: "Appl. Physics. 1965"
};
exports.NWL9D = {
  a: 6378145.0,
  rf: 298.25,
  ellipseName: "Naval Weapons Lab., 1965"
};
exports.mod_airy = {
  a: 6377340.189,
  b: 6356034.446,
  ellipseName: "Modified Airy"
};
exports.andrae = {
  a: 6377104.43,
  rf: 300.0,
  ellipseName: "Andrae 1876 (Den., Iclnd.)"
};
exports.aust_SA = {
  a: 6378160.0,
  rf: 298.25,
  ellipseName: "Australian Natl & S. Amer. 1969"
};
exports.GRS67 = {
  a: 6378160.0,
  rf: 298.2471674270,
  ellipseName: "GRS 67(IUGG 1967)"
};
exports.bessel = {
  a: 6377397.155,
  rf: 299.1528128,
  ellipseName: "Bessel 1841"
};
exports.bess_nam = {
  a: 6377483.865,
  rf: 299.1528128,
  ellipseName: "Bessel 1841 (Namibia)"
};
exports.clrk66 = {
  a: 6378206.4,
  b: 6356583.8,
  ellipseName: "Clarke 1866"
};
exports.clrk80 = {
  a: 6378249.145,
  rf: 293.4663,
  ellipseName: "Clarke 1880 mod."
};
exports.clrk58 = {
  a: 6378293.645208759,
  rf: 294.2606763692654,
  ellipseName: "Clarke 1858"
};
exports.CPM = {
  a: 6375738.7,
  rf: 334.29,
  ellipseName: "Comm. des Poids et Mesures 1799"
};
exports.delmbr = {
  a: 6376428.0,
  rf: 311.5,
  ellipseName: "Delambre 1810 (Belgium)"
};
exports.engelis = {
  a: 6378136.05,
  rf: 298.2566,
  ellipseName: "Engelis 1985"
};
exports.evrst30 = {
  a: 6377276.345,
  rf: 300.8017,
  ellipseName: "Everest 1830"
};
exports.evrst48 = {
  a: 6377304.063,
  rf: 300.8017,
  ellipseName: "Everest 1948"
};
exports.evrst56 = {
  a: 6377301.243,
  rf: 300.8017,
  ellipseName: "Everest 1956"
};
exports.evrst69 = {
  a: 6377295.664,
  rf: 300.8017,
  ellipseName: "Everest 1969"
};
exports.evrstSS = {
  a: 6377298.556,
  rf: 300.8017,
  ellipseName: "Everest (Sabah & Sarawak)"
};
exports.fschr60 = {
  a: 6378166.0,
  rf: 298.3,
  ellipseName: "Fischer (Mercury Datum) 1960"
};
exports.fschr60m = {
  a: 6378155.0,
  rf: 298.3,
  ellipseName: "Fischer 1960"
};
exports.fschr68 = {
  a: 6378150.0,
  rf: 298.3,
  ellipseName: "Fischer 1968"
};
exports.helmert = {
  a: 6378200.0,
  rf: 298.3,
  ellipseName: "Helmert 1906"
};
exports.hough = {
  a: 6378270.0,
  rf: 297.0,
  ellipseName: "Hough"
};
exports.intl = {
  a: 6378388.0,
  rf: 297.0,
  ellipseName: "International 1909 (Hayford)"
};
exports.kaula = {
  a: 6378163.0,
  rf: 298.24,
  ellipseName: "Kaula 1961"
};
exports.lerch = {
  a: 6378139.0,
  rf: 298.257,
  ellipseName: "Lerch 1979"
};
exports.mprts = {
  a: 6397300.0,
  rf: 191.0,
  ellipseName: "Maupertius 1738"
};
exports.new_intl = {
  a: 6378157.5,
  b: 6356772.2,
  ellipseName: "New International 1967"
};
exports.plessis = {
  a: 6376523.0,
  rf: 6355863.0,
  ellipseName: "Plessis 1817 (France)"
};
exports.krass = {
  a: 6378245.0,
  rf: 298.3,
  ellipseName: "Krassovsky, 1942"
};
exports.SEasia = {
  a: 6378155.0,
  b: 6356773.3205,
  ellipseName: "Southeast Asia"
};
exports.walbeck = {
  a: 6376896.0,
  b: 6355834.8467,
  ellipseName: "Walbeck"
};
exports.WGS60 = {
  a: 6378165.0,
  rf: 298.3,
  ellipseName: "WGS 60"
};
exports.WGS66 = {
  a: 6378145.0,
  rf: 298.25,
  ellipseName: "WGS 66"
};
exports.WGS7 = {
  a: 6378135.0,
  rf: 298.26,
  ellipseName: "WGS 72"
};
exports.WGS84 = {
  a: 6378137.0,
  rf: 298.257223563,
  ellipseName: "WGS 84"
};
exports.sphere = {
  a: 6370997.0,
  b: 6370997.0,
  ellipseName: "Normal Sphere (r=6370997)"
};

/***/ }),

/***/ "./node_modules/proj4/lib/constants/PrimeMeridian.js":
/*!***********************************************************!*\
  !*** ./node_modules/proj4/lib/constants/PrimeMeridian.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.greenwich = 0.0; //"0dE",
exports.lisbon = -9.131906111111; //"9d07'54.862\"W",
exports.paris = 2.337229166667; //"2d20'14.025\"E",
exports.bogota = -74.080916666667; //"74d04'51.3\"W",
exports.madrid = -3.687938888889; //"3d41'16.58\"W",
exports.rome = 12.452333333333; //"12d27'8.4\"E",
exports.bern = 7.439583333333; //"7d26'22.5\"E",
exports.jakarta = 106.807719444444; //"106d48'27.79\"E",
exports.ferro = -17.666666666667; //"17d40'W",
exports.brussels = 4.367975; //"4d22'4.71\"E",
exports.stockholm = 18.058277777778; //"18d3'29.8\"E",
exports.athens = 23.7163375; //"23d42'58.815\"E",
exports.oslo = 10.722916666667; //"10d43'22.5\"E"

/***/ }),

/***/ "./node_modules/proj4/lib/constants/units.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/constants/units.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.ft = {to_meter: 0.3048};
exports['us-ft'] = {to_meter: 1200 / 3937};


/***/ }),

/***/ "./node_modules/proj4/lib/core.js":
/*!****************************************!*\
  !*** ./node_modules/proj4/lib/core.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var proj = __webpack_require__(/*! ./Proj */ "./node_modules/proj4/lib/Proj.js");
var transform = __webpack_require__(/*! ./transform */ "./node_modules/proj4/lib/transform.js");
var wgs84 = proj('WGS84');

function transformer(from, to, coords) {
  var transformedArray;
  if (Array.isArray(coords)) {
    transformedArray = transform(from, to, coords);
    if (coords.length === 3) {
      return [transformedArray.x, transformedArray.y, transformedArray.z];
    }
    else {
      return [transformedArray.x, transformedArray.y];
    }
  }
  else {
    return transform(from, to, coords);
  }
}

function checkProj(item) {
  if (item instanceof proj) {
    return item;
  }
  if (item.oProj) {
    return item.oProj;
  }
  return proj(item);
}
function proj4(fromProj, toProj, coord) {
  fromProj = checkProj(fromProj);
  var single = false;
  var obj;
  if (typeof toProj === 'undefined') {
    toProj = fromProj;
    fromProj = wgs84;
    single = true;
  }
  else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {
    coord = toProj;
    toProj = fromProj;
    fromProj = wgs84;
    single = true;
  }
  toProj = checkProj(toProj);
  if (coord) {
    return transformer(fromProj, toProj, coord);
  }
  else {
    obj = {
      forward: function(coords) {
        return transformer(fromProj, toProj, coords);
      },
      inverse: function(coords) {
        return transformer(toProj, fromProj, coords);
      }
    };
    if (single) {
      obj.oProj = toProj;
    }
    return obj;
  }
}
module.exports = proj4;

/***/ }),

/***/ "./node_modules/proj4/lib/datum.js":
/*!*****************************************!*\
  !*** ./node_modules/proj4/lib/datum.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var HALF_PI = Math.PI/2;
var PJD_3PARAM = 1;
var PJD_7PARAM = 2;
var PJD_GRIDSHIFT = 3;
var PJD_WGS84 = 4; // WGS84 or equivalent
var PJD_NODATUM = 5; // WGS84 or equivalent
var SEC_TO_RAD = 4.84813681109535993589914102357e-6;
var AD_C = 1.0026000;
var COS_67P5 = 0.38268343236508977;
var datum = function(proj) {
  if (!(this instanceof datum)) {
    return new datum(proj);
  }
  this.datum_type = PJD_WGS84; //default setting
  if (!proj) {
    return;
  }
  if (proj.datumCode && proj.datumCode === 'none') {
    this.datum_type = PJD_NODATUM;
  }

  if (proj.datum_params) {
    this.datum_params = proj.datum_params.map(parseFloat);
    if (this.datum_params[0] !== 0 || this.datum_params[1] !== 0 || this.datum_params[2] !== 0) {
      this.datum_type = PJD_3PARAM;
    }
    if (this.datum_params.length > 3) {
      if (this.datum_params[3] !== 0 || this.datum_params[4] !== 0 || this.datum_params[5] !== 0 || this.datum_params[6] !== 0) {
        this.datum_type = PJD_7PARAM;
        this.datum_params[3] *= SEC_TO_RAD;
        this.datum_params[4] *= SEC_TO_RAD;
        this.datum_params[5] *= SEC_TO_RAD;
        this.datum_params[6] = (this.datum_params[6] / 1000000.0) + 1.0;
      }
    }
  }

  // DGR 2011-03-21 : nadgrids support
  this.datum_type = proj.grids ? PJD_GRIDSHIFT : this.datum_type;

  this.a = proj.a; //datum object also uses these values
  this.b = proj.b;
  this.es = proj.es;
  this.ep2 = proj.ep2;
  if (this.datum_type === PJD_GRIDSHIFT) {
    this.grids = proj.grids;
  }
};
datum.prototype = {


  /****************************************************************/
  // cs_compare_datums()
  //   Returns TRUE if the two datums match, otherwise FALSE.
  compare_datums: function(dest) {
    if (this.datum_type !== dest.datum_type) {
      return false; // false, datums are not equal
    }
    else if (this.a !== dest.a || Math.abs(this.es - dest.es) > 0.000000000050) {
      // the tolerence for es is to ensure that GRS80 and WGS84
      // are considered identical
      return false;
    }
    else if (this.datum_type === PJD_3PARAM) {
      return (this.datum_params[0] === dest.datum_params[0] && this.datum_params[1] === dest.datum_params[1] && this.datum_params[2] === dest.datum_params[2]);
    }
    else if (this.datum_type === PJD_7PARAM) {
      return (this.datum_params[0] === dest.datum_params[0] && this.datum_params[1] === dest.datum_params[1] && this.datum_params[2] === dest.datum_params[2] && this.datum_params[3] === dest.datum_params[3] && this.datum_params[4] === dest.datum_params[4] && this.datum_params[5] === dest.datum_params[5] && this.datum_params[6] === dest.datum_params[6]);
    }
    else if (this.datum_type === PJD_GRIDSHIFT || dest.datum_type === PJD_GRIDSHIFT) {
      //alert("ERROR: Grid shift transformations are not implemented.");
      //return false
      //DGR 2012-07-29 lazy ...
      return this.nadgrids === dest.nadgrids;
    }
    else {
      return true; // datums are equal
    }
  }, // cs_compare_datums()

  /*
   * The function Convert_Geodetic_To_Geocentric converts geodetic coordinates
   * (latitude, longitude, and height) to geocentric coordinates (X, Y, Z),
   * according to the current ellipsoid parameters.
   *
   *    Latitude  : Geodetic latitude in radians                     (input)
   *    Longitude : Geodetic longitude in radians                    (input)
   *    Height    : Geodetic height, in meters                       (input)
   *    X         : Calculated Geocentric X coordinate, in meters    (output)
   *    Y         : Calculated Geocentric Y coordinate, in meters    (output)
   *    Z         : Calculated Geocentric Z coordinate, in meters    (output)
   *
   */
  geodetic_to_geocentric: function(p) {
    var Longitude = p.x;
    var Latitude = p.y;
    var Height = p.z ? p.z : 0; //Z value not always supplied
    var X; // output
    var Y;
    var Z;

    var Error_Code = 0; //  GEOCENT_NO_ERROR;
    var Rn; /*  Earth radius at location  */
    var Sin_Lat; /*  Math.sin(Latitude)  */
    var Sin2_Lat; /*  Square of Math.sin(Latitude)  */
    var Cos_Lat; /*  Math.cos(Latitude)  */

    /*
     ** Don't blow up if Latitude is just a little out of the value
     ** range as it may just be a rounding issue.  Also removed longitude
     ** test, it should be wrapped by Math.cos() and Math.sin().  NFW for PROJ.4, Sep/2001.
     */
    if (Latitude < -HALF_PI && Latitude > -1.001 * HALF_PI) {
      Latitude = -HALF_PI;
    }
    else if (Latitude > HALF_PI && Latitude < 1.001 * HALF_PI) {
      Latitude = HALF_PI;
    }
    else if ((Latitude < -HALF_PI) || (Latitude > HALF_PI)) {
      /* Latitude out of range */
      //..reportError('geocent:lat out of range:' + Latitude);
      return null;
    }

    if (Longitude > Math.PI) {
      Longitude -= (2 * Math.PI);
    }
    Sin_Lat = Math.sin(Latitude);
    Cos_Lat = Math.cos(Latitude);
    Sin2_Lat = Sin_Lat * Sin_Lat;
    Rn = this.a / (Math.sqrt(1.0e0 - this.es * Sin2_Lat));
    X = (Rn + Height) * Cos_Lat * Math.cos(Longitude);
    Y = (Rn + Height) * Cos_Lat * Math.sin(Longitude);
    Z = ((Rn * (1 - this.es)) + Height) * Sin_Lat;

    p.x = X;
    p.y = Y;
    p.z = Z;
    return Error_Code;
  }, // cs_geodetic_to_geocentric()


  geocentric_to_geodetic: function(p) {
    /* local defintions and variables */
    /* end-criterium of loop, accuracy of sin(Latitude) */
    var genau = 1e-12;
    var genau2 = (genau * genau);
    var maxiter = 30;

    var P; /* distance between semi-minor axis and location */
    var RR; /* distance between center and location */
    var CT; /* sin of geocentric latitude */
    var ST; /* cos of geocentric latitude */
    var RX;
    var RK;
    var RN; /* Earth radius at location */
    var CPHI0; /* cos of start or old geodetic latitude in iterations */
    var SPHI0; /* sin of start or old geodetic latitude in iterations */
    var CPHI; /* cos of searched geodetic latitude */
    var SPHI; /* sin of searched geodetic latitude */
    var SDPHI; /* end-criterium: addition-theorem of sin(Latitude(iter)-Latitude(iter-1)) */
    var At_Pole; /* indicates location is in polar region */
    var iter; /* # of continous iteration, max. 30 is always enough (s.a.) */

    var X = p.x;
    var Y = p.y;
    var Z = p.z ? p.z : 0.0; //Z value not always supplied
    var Longitude;
    var Latitude;
    var Height;

    At_Pole = false;
    P = Math.sqrt(X * X + Y * Y);
    RR = Math.sqrt(X * X + Y * Y + Z * Z);

    /*      special cases for latitude and longitude */
    if (P / this.a < genau) {

      /*  special case, if P=0. (X=0., Y=0.) */
      At_Pole = true;
      Longitude = 0.0;

      /*  if (X,Y,Z)=(0.,0.,0.) then Height becomes semi-minor axis
       *  of ellipsoid (=center of mass), Latitude becomes PI/2 */
      if (RR / this.a < genau) {
        Latitude = HALF_PI;
        Height = -this.b;
        return;
      }
    }
    else {
      /*  ellipsoidal (geodetic) longitude
       *  interval: -PI < Longitude <= +PI */
      Longitude = Math.atan2(Y, X);
    }

    /* --------------------------------------------------------------
     * Following iterative algorithm was developped by
     * "Institut for Erdmessung", University of Hannover, July 1988.
     * Internet: www.ife.uni-hannover.de
     * Iterative computation of CPHI,SPHI and Height.
     * Iteration of CPHI and SPHI to 10**-12 radian resp.
     * 2*10**-7 arcsec.
     * --------------------------------------------------------------
     */
    CT = Z / RR;
    ST = P / RR;
    RX = 1.0 / Math.sqrt(1.0 - this.es * (2.0 - this.es) * ST * ST);
    CPHI0 = ST * (1.0 - this.es) * RX;
    SPHI0 = CT * RX;
    iter = 0;

    /* loop to find sin(Latitude) resp. Latitude
     * until |sin(Latitude(iter)-Latitude(iter-1))| < genau */
    do {
      iter++;
      RN = this.a / Math.sqrt(1.0 - this.es * SPHI0 * SPHI0);

      /*  ellipsoidal (geodetic) height */
      Height = P * CPHI0 + Z * SPHI0 - RN * (1.0 - this.es * SPHI0 * SPHI0);

      RK = this.es * RN / (RN + Height);
      RX = 1.0 / Math.sqrt(1.0 - RK * (2.0 - RK) * ST * ST);
      CPHI = ST * (1.0 - RK) * RX;
      SPHI = CT * RX;
      SDPHI = SPHI * CPHI0 - CPHI * SPHI0;
      CPHI0 = CPHI;
      SPHI0 = SPHI;
    }
    while (SDPHI * SDPHI > genau2 && iter < maxiter);

    /*      ellipsoidal (geodetic) latitude */
    Latitude = Math.atan(SPHI / Math.abs(CPHI));

    p.x = Longitude;
    p.y = Latitude;
    p.z = Height;
    return p;
  }, // cs_geocentric_to_geodetic()

  /** Convert_Geocentric_To_Geodetic
   * The method used here is derived from 'An Improved Algorithm for
   * Geocentric to Geodetic Coordinate Conversion', by Ralph Toms, Feb 1996
   */
  geocentric_to_geodetic_noniter: function(p) {
    var X = p.x;
    var Y = p.y;
    var Z = p.z ? p.z : 0; //Z value not always supplied
    var Longitude;
    var Latitude;
    var Height;

    var W; /* distance from Z axis */
    var W2; /* square of distance from Z axis */
    var T0; /* initial estimate of vertical component */
    var T1; /* corrected estimate of vertical component */
    var S0; /* initial estimate of horizontal component */
    var S1; /* corrected estimate of horizontal component */
    var Sin_B0; /* Math.sin(B0), B0 is estimate of Bowring aux variable */
    var Sin3_B0; /* cube of Math.sin(B0) */
    var Cos_B0; /* Math.cos(B0) */
    var Sin_p1; /* Math.sin(phi1), phi1 is estimated latitude */
    var Cos_p1; /* Math.cos(phi1) */
    var Rn; /* Earth radius at location */
    var Sum; /* numerator of Math.cos(phi1) */
    var At_Pole; /* indicates location is in polar region */

    X = parseFloat(X); // cast from string to float
    Y = parseFloat(Y);
    Z = parseFloat(Z);

    At_Pole = false;
    if (X !== 0.0) {
      Longitude = Math.atan2(Y, X);
    }
    else {
      if (Y > 0) {
        Longitude = HALF_PI;
      }
      else if (Y < 0) {
        Longitude = -HALF_PI;
      }
      else {
        At_Pole = true;
        Longitude = 0.0;
        if (Z > 0.0) { /* north pole */
          Latitude = HALF_PI;
        }
        else if (Z < 0.0) { /* south pole */
          Latitude = -HALF_PI;
        }
        else { /* center of earth */
          Latitude = HALF_PI;
          Height = -this.b;
          return;
        }
      }
    }
    W2 = X * X + Y * Y;
    W = Math.sqrt(W2);
    T0 = Z * AD_C;
    S0 = Math.sqrt(T0 * T0 + W2);
    Sin_B0 = T0 / S0;
    Cos_B0 = W / S0;
    Sin3_B0 = Sin_B0 * Sin_B0 * Sin_B0;
    T1 = Z + this.b * this.ep2 * Sin3_B0;
    Sum = W - this.a * this.es * Cos_B0 * Cos_B0 * Cos_B0;
    S1 = Math.sqrt(T1 * T1 + Sum * Sum);
    Sin_p1 = T1 / S1;
    Cos_p1 = Sum / S1;
    Rn = this.a / Math.sqrt(1.0 - this.es * Sin_p1 * Sin_p1);
    if (Cos_p1 >= COS_67P5) {
      Height = W / Cos_p1 - Rn;
    }
    else if (Cos_p1 <= -COS_67P5) {
      Height = W / -Cos_p1 - Rn;
    }
    else {
      Height = Z / Sin_p1 + Rn * (this.es - 1.0);
    }
    if (At_Pole === false) {
      Latitude = Math.atan(Sin_p1 / Cos_p1);
    }

    p.x = Longitude;
    p.y = Latitude;
    p.z = Height;
    return p;
  }, // geocentric_to_geodetic_noniter()

  /****************************************************************/
  // pj_geocentic_to_wgs84( p )
  //  p = point to transform in geocentric coordinates (x,y,z)
  geocentric_to_wgs84: function(p) {

    if (this.datum_type === PJD_3PARAM) {
      // if( x[io] === HUGE_VAL )
      //    continue;
      p.x += this.datum_params[0];
      p.y += this.datum_params[1];
      p.z += this.datum_params[2];

    }
    else if (this.datum_type === PJD_7PARAM) {
      var Dx_BF = this.datum_params[0];
      var Dy_BF = this.datum_params[1];
      var Dz_BF = this.datum_params[2];
      var Rx_BF = this.datum_params[3];
      var Ry_BF = this.datum_params[4];
      var Rz_BF = this.datum_params[5];
      var M_BF = this.datum_params[6];
      // if( x[io] === HUGE_VAL )
      //    continue;
      var x_out = M_BF * (p.x - Rz_BF * p.y + Ry_BF * p.z) + Dx_BF;
      var y_out = M_BF * (Rz_BF * p.x + p.y - Rx_BF * p.z) + Dy_BF;
      var z_out = M_BF * (-Ry_BF * p.x + Rx_BF * p.y + p.z) + Dz_BF;
      p.x = x_out;
      p.y = y_out;
      p.z = z_out;
    }
  }, // cs_geocentric_to_wgs84

  /****************************************************************/
  // pj_geocentic_from_wgs84()
  //  coordinate system definition,
  //  point to transform in geocentric coordinates (x,y,z)
  geocentric_from_wgs84: function(p) {

    if (this.datum_type === PJD_3PARAM) {
      //if( x[io] === HUGE_VAL )
      //    continue;
      p.x -= this.datum_params[0];
      p.y -= this.datum_params[1];
      p.z -= this.datum_params[2];

    }
    else if (this.datum_type === PJD_7PARAM) {
      var Dx_BF = this.datum_params[0];
      var Dy_BF = this.datum_params[1];
      var Dz_BF = this.datum_params[2];
      var Rx_BF = this.datum_params[3];
      var Ry_BF = this.datum_params[4];
      var Rz_BF = this.datum_params[5];
      var M_BF = this.datum_params[6];
      var x_tmp = (p.x - Dx_BF) / M_BF;
      var y_tmp = (p.y - Dy_BF) / M_BF;
      var z_tmp = (p.z - Dz_BF) / M_BF;
      //if( x[io] === HUGE_VAL )
      //    continue;

      p.x = x_tmp + Rz_BF * y_tmp - Ry_BF * z_tmp;
      p.y = -Rz_BF * x_tmp + y_tmp + Rx_BF * z_tmp;
      p.z = Ry_BF * x_tmp - Rx_BF * y_tmp + z_tmp;
    } //cs_geocentric_from_wgs84()
  }
};

/** point object, nothing fancy, just allows values to be
    passed back and forth by reference rather than by value.
    Other point classes may be used as long as they have
    x and y properties, which will get modified in the transform method.
*/
module.exports = datum;


/***/ }),

/***/ "./node_modules/proj4/lib/datum_transform.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/datum_transform.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var PJD_3PARAM = 1;
var PJD_7PARAM = 2;
var PJD_GRIDSHIFT = 3;
var PJD_NODATUM = 5; // WGS84 or equivalent
var SRS_WGS84_SEMIMAJOR = 6378137; // only used in grid shift transforms
var SRS_WGS84_ESQUARED = 0.006694379990141316; //DGR: 2012-07-29
module.exports = function(source, dest, point) {
  var wp, i, l;

  function checkParams(fallback) {
    return (fallback === PJD_3PARAM || fallback === PJD_7PARAM);
  }
  // Short cut if the datums are identical.
  if (source.compare_datums(dest)) {
    return point; // in this case, zero is sucess,
    // whereas cs_compare_datums returns 1 to indicate TRUE
    // confusing, should fix this
  }

  // Explicitly skip datum transform by setting 'datum=none' as parameter for either source or dest
  if (source.datum_type === PJD_NODATUM || dest.datum_type === PJD_NODATUM) {
    return point;
  }

  //DGR: 2012-07-29 : add nadgrids support (begin)
  var src_a = source.a;
  var src_es = source.es;

  var dst_a = dest.a;
  var dst_es = dest.es;

  var fallback = source.datum_type;
  // If this datum requires grid shifts, then apply it to geodetic coordinates.
  if (fallback === PJD_GRIDSHIFT) {
    if (this.apply_gridshift(source, 0, point) === 0) {
      source.a = SRS_WGS84_SEMIMAJOR;
      source.es = SRS_WGS84_ESQUARED;
    }
    else {
      // try 3 or 7 params transformation or nothing ?
      if (!source.datum_params) {
        source.a = src_a;
        source.es = source.es;
        return point;
      }
      wp = 1;
      for (i = 0, l = source.datum_params.length; i < l; i++) {
        wp *= source.datum_params[i];
      }
      if (wp === 0) {
        source.a = src_a;
        source.es = source.es;
        return point;
      }
      if (source.datum_params.length > 3) {
        fallback = PJD_7PARAM;
      }
      else {
        fallback = PJD_3PARAM;
      }
    }
  }
  if (dest.datum_type === PJD_GRIDSHIFT) {
    dest.a = SRS_WGS84_SEMIMAJOR;
    dest.es = SRS_WGS84_ESQUARED;
  }
  // Do we need to go through geocentric coordinates?
  if (source.es !== dest.es || source.a !== dest.a || checkParams(fallback) || checkParams(dest.datum_type)) {
    //DGR: 2012-07-29 : add nadgrids support (end)
    // Convert to geocentric coordinates.
    source.geodetic_to_geocentric(point);
    // CHECK_RETURN;
    // Convert between datums
    if (checkParams(source.datum_type)) {
      source.geocentric_to_wgs84(point);
      // CHECK_RETURN;
    }
    if (checkParams(dest.datum_type)) {
      dest.geocentric_from_wgs84(point);
      // CHECK_RETURN;
    }
    // Convert back to geodetic coordinates
    dest.geocentric_to_geodetic(point);
    // CHECK_RETURN;
  }
  // Apply grid shift to destination if required
  if (dest.datum_type === PJD_GRIDSHIFT) {
    this.apply_gridshift(dest, 1, point);
    // CHECK_RETURN;
  }

  source.a = src_a;
  source.es = src_es;
  dest.a = dst_a;
  dest.es = dst_es;

  return point;
};



/***/ }),

/***/ "./node_modules/proj4/lib/defs.js":
/*!****************************************!*\
  !*** ./node_modules/proj4/lib/defs.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var globals = __webpack_require__(/*! ./global */ "./node_modules/proj4/lib/global.js");
var parseProj = __webpack_require__(/*! ./projString */ "./node_modules/proj4/lib/projString.js");
var wkt = __webpack_require__(/*! ./wkt */ "./node_modules/proj4/lib/wkt.js");

function defs(name) {
  /*global console*/
  var that = this;
  if (arguments.length === 2) {
    var def = arguments[1];
    if (typeof def === 'string') {
      if (def.charAt(0) === '+') {
        defs[name] = parseProj(arguments[1]);
      }
      else {
        defs[name] = wkt(arguments[1]);
      }
    } else {
      defs[name] = def;
    }
  }
  else if (arguments.length === 1) {
    if (Array.isArray(name)) {
      return name.map(function(v) {
        if (Array.isArray(v)) {
          defs.apply(that, v);
        }
        else {
          defs(v);
        }
      });
    }
    else if (typeof name === 'string') {
      if (name in defs) {
        return defs[name];
      }
    }
    else if ('EPSG' in name) {
      defs['EPSG:' + name.EPSG] = name;
    }
    else if ('ESRI' in name) {
      defs['ESRI:' + name.ESRI] = name;
    }
    else if ('IAU2000' in name) {
      defs['IAU2000:' + name.IAU2000] = name;
    }
    else {
      console.log(name);
    }
    return;
  }


}
globals(defs);
module.exports = defs;


/***/ }),

/***/ "./node_modules/proj4/lib/deriveConstants.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/deriveConstants.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Datum = __webpack_require__(/*! ./constants/Datum */ "./node_modules/proj4/lib/constants/Datum.js");
var Ellipsoid = __webpack_require__(/*! ./constants/Ellipsoid */ "./node_modules/proj4/lib/constants/Ellipsoid.js");
var extend = __webpack_require__(/*! ./extend */ "./node_modules/proj4/lib/extend.js");
var datum = __webpack_require__(/*! ./datum */ "./node_modules/proj4/lib/datum.js");
var EPSLN = 1.0e-10;
// ellipoid pj_set_ell.c
var SIXTH = 0.1666666666666666667;
/* 1/6 */
var RA4 = 0.04722222222222222222;
/* 17/360 */
var RA6 = 0.02215608465608465608;
module.exports = function(json) {
  // DGR 2011-03-20 : nagrids -> nadgrids
  if (json.datumCode && json.datumCode !== 'none') {
    var datumDef = Datum[json.datumCode];
    if (datumDef) {
      json.datum_params = datumDef.towgs84 ? datumDef.towgs84.split(',') : null;
      json.ellps = datumDef.ellipse;
      json.datumName = datumDef.datumName ? datumDef.datumName : json.datumCode;
    }
  }
  if (!json.a) { // do we have an ellipsoid?
    var ellipse = Ellipsoid[json.ellps] ? Ellipsoid[json.ellps] : Ellipsoid.WGS84;
    extend(json, ellipse);
  }
  if (json.rf && !json.b) {
    json.b = (1.0 - 1.0 / json.rf) * json.a;
  }
  if (json.rf === 0 || Math.abs(json.a - json.b) < EPSLN) {
    json.sphere = true;
    json.b = json.a;
  }
  json.a2 = json.a * json.a; // used in geocentric
  json.b2 = json.b * json.b; // used in geocentric
  json.es = (json.a2 - json.b2) / json.a2; // e ^ 2
  json.e = Math.sqrt(json.es); // eccentricity
  if (json.R_A) {
    json.a *= 1 - json.es * (SIXTH + json.es * (RA4 + json.es * RA6));
    json.a2 = json.a * json.a;
    json.b2 = json.b * json.b;
    json.es = 0;
  }
  json.ep2 = (json.a2 - json.b2) / json.b2; // used in geocentric
  if (!json.k0) {
    json.k0 = 1.0; //default value
  }
  //DGR 2010-11-12: axis
  if (!json.axis) {
    json.axis = "enu";
  }

  if (!json.datum) {
    json.datum = datum(json);
  }
  return json;
};


/***/ }),

/***/ "./node_modules/proj4/lib/extend.js":
/*!******************************************!*\
  !*** ./node_modules/proj4/lib/extend.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(destination, source) {
  destination = destination || {};
  var value, property;
  if (!source) {
    return destination;
  }
  for (property in source) {
    value = source[property];
    if (value !== undefined) {
      destination[property] = value;
    }
  }
  return destination;
};


/***/ }),

/***/ "./node_modules/proj4/lib/global.js":
/*!******************************************!*\
  !*** ./node_modules/proj4/lib/global.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(defs) {
  defs('EPSG:4326', "+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");
  defs('EPSG:4269', "+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");
  defs('EPSG:3857', "+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");

  defs.WGS84 = defs['EPSG:4326'];
  defs['EPSG:3785'] = defs['EPSG:3857']; // maintain backward compat, official code is 3857
  defs.GOOGLE = defs['EPSG:3857'];
  defs['EPSG:900913'] = defs['EPSG:3857'];
  defs['EPSG:102113'] = defs['EPSG:3857'];
};


/***/ }),

/***/ "./node_modules/proj4/lib/includedProjections.js":
/*!*******************************************************!*\
  !*** ./node_modules/proj4/lib/includedProjections.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var projs = [
  __webpack_require__(/*! ./projections/tmerc */ "./node_modules/proj4/lib/projections/tmerc.js"),
  __webpack_require__(/*! ./projections/utm */ "./node_modules/proj4/lib/projections/utm.js"),
  __webpack_require__(/*! ./projections/sterea */ "./node_modules/proj4/lib/projections/sterea.js"),
  __webpack_require__(/*! ./projections/stere */ "./node_modules/proj4/lib/projections/stere.js"),
  __webpack_require__(/*! ./projections/somerc */ "./node_modules/proj4/lib/projections/somerc.js"),
  __webpack_require__(/*! ./projections/omerc */ "./node_modules/proj4/lib/projections/omerc.js"),
  __webpack_require__(/*! ./projections/lcc */ "./node_modules/proj4/lib/projections/lcc.js"),
  __webpack_require__(/*! ./projections/krovak */ "./node_modules/proj4/lib/projections/krovak.js"),
  __webpack_require__(/*! ./projections/cass */ "./node_modules/proj4/lib/projections/cass.js"),
  __webpack_require__(/*! ./projections/laea */ "./node_modules/proj4/lib/projections/laea.js"),
  __webpack_require__(/*! ./projections/aea */ "./node_modules/proj4/lib/projections/aea.js"),
  __webpack_require__(/*! ./projections/gnom */ "./node_modules/proj4/lib/projections/gnom.js"),
  __webpack_require__(/*! ./projections/cea */ "./node_modules/proj4/lib/projections/cea.js"),
  __webpack_require__(/*! ./projections/eqc */ "./node_modules/proj4/lib/projections/eqc.js"),
  __webpack_require__(/*! ./projections/poly */ "./node_modules/proj4/lib/projections/poly.js"),
  __webpack_require__(/*! ./projections/nzmg */ "./node_modules/proj4/lib/projections/nzmg.js"),
  __webpack_require__(/*! ./projections/mill */ "./node_modules/proj4/lib/projections/mill.js"),
  __webpack_require__(/*! ./projections/sinu */ "./node_modules/proj4/lib/projections/sinu.js"),
  __webpack_require__(/*! ./projections/moll */ "./node_modules/proj4/lib/projections/moll.js"),
  __webpack_require__(/*! ./projections/eqdc */ "./node_modules/proj4/lib/projections/eqdc.js"),
  __webpack_require__(/*! ./projections/vandg */ "./node_modules/proj4/lib/projections/vandg.js"),
  __webpack_require__(/*! ./projections/aeqd */ "./node_modules/proj4/lib/projections/aeqd.js")
];
module.exports = function(proj4){
  projs.forEach(function(proj){
    proj4.Proj.projections.add(proj);
  });
};

/***/ }),

/***/ "./node_modules/proj4/lib/index.js":
/*!*****************************************!*\
  !*** ./node_modules/proj4/lib/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var proj4 = __webpack_require__(/*! ./core */ "./node_modules/proj4/lib/core.js");
proj4.defaultDatum = 'WGS84'; //default datum
proj4.Proj = __webpack_require__(/*! ./Proj */ "./node_modules/proj4/lib/Proj.js");
proj4.WGS84 = new proj4.Proj('WGS84');
proj4.Point = __webpack_require__(/*! ./Point */ "./node_modules/proj4/lib/Point.js");
proj4.toPoint = __webpack_require__(/*! ./common/toPoint */ "./node_modules/proj4/lib/common/toPoint.js");
proj4.defs = __webpack_require__(/*! ./defs */ "./node_modules/proj4/lib/defs.js");
proj4.transform = __webpack_require__(/*! ./transform */ "./node_modules/proj4/lib/transform.js");
proj4.mgrs = __webpack_require__(/*! mgrs */ "./node_modules/mgrs/mgrs.js");
proj4.version = __webpack_require__(/*! ../package.json */ "./node_modules/proj4/package.json").version;
__webpack_require__(/*! ./includedProjections */ "./node_modules/proj4/lib/includedProjections.js")(proj4);
module.exports = proj4;

/***/ }),

/***/ "./node_modules/proj4/lib/parseCode.js":
/*!*********************************************!*\
  !*** ./node_modules/proj4/lib/parseCode.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var defs = __webpack_require__(/*! ./defs */ "./node_modules/proj4/lib/defs.js");
var wkt = __webpack_require__(/*! ./wkt */ "./node_modules/proj4/lib/wkt.js");
var projStr = __webpack_require__(/*! ./projString */ "./node_modules/proj4/lib/projString.js");
function testObj(code){
  return typeof code === 'string';
}
function testDef(code){
  return code in defs;
}
function testWKT(code){
  var codeWords = ['GEOGCS','GEOCCS','PROJCS','LOCAL_CS'];
  return codeWords.reduce(function(a,b){
    return a+1+code.indexOf(b);
  },0);
}
function testProj(code){
  return code[0] === '+';
}
function parse(code){
  if (testObj(code)) {
    //check to see if this is a WKT string
    if (testDef(code)) {
      return defs[code];
    }
    else if (testWKT(code)) {
      return wkt(code);
    }
    else if (testProj(code)) {
      return projStr(code);
    }
  }else{
    return code;
  }
}

module.exports = parse;

/***/ }),

/***/ "./node_modules/proj4/lib/projString.js":
/*!**********************************************!*\
  !*** ./node_modules/proj4/lib/projString.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var D2R = 0.01745329251994329577;
var PrimeMeridian = __webpack_require__(/*! ./constants/PrimeMeridian */ "./node_modules/proj4/lib/constants/PrimeMeridian.js");
var units = __webpack_require__(/*! ./constants/units */ "./node_modules/proj4/lib/constants/units.js");

module.exports = function(defData) {
  var self = {};
  var paramObj = {};
  defData.split("+").map(function(v) {
    return v.trim();
  }).filter(function(a) {
    return a;
  }).forEach(function(a) {
    var split = a.split("=");
    split.push(true);
    paramObj[split[0].toLowerCase()] = split[1];
  });
  var paramName, paramVal, paramOutname;
  var params = {
    proj: 'projName',
    datum: 'datumCode',
    rf: function(v) {
      self.rf = parseFloat(v);
    },
    lat_0: function(v) {
      self.lat0 = v * D2R;
    },
    lat_1: function(v) {
      self.lat1 = v * D2R;
    },
    lat_2: function(v) {
      self.lat2 = v * D2R;
    },
    lat_ts: function(v) {
      self.lat_ts = v * D2R;
    },
    lon_0: function(v) {
      self.long0 = v * D2R;
    },
    lon_1: function(v) {
      self.long1 = v * D2R;
    },
    lon_2: function(v) {
      self.long2 = v * D2R;
    },
    alpha: function(v) {
      self.alpha = parseFloat(v) * D2R;
    },
    lonc: function(v) {
      self.longc = v * D2R;
    },
    x_0: function(v) {
      self.x0 = parseFloat(v);
    },
    y_0: function(v) {
      self.y0 = parseFloat(v);
    },
    k_0: function(v) {
      self.k0 = parseFloat(v);
    },
    k: function(v) {
      self.k0 = parseFloat(v);
    },
    a: function(v) {
      self.a = parseFloat(v);
    },
    b: function(v) {
      self.b = parseFloat(v);
    },
    r_a: function() {
      self.R_A = true;
    },
    zone: function(v) {
      self.zone = parseInt(v, 10);
    },
    south: function() {
      self.utmSouth = true;
    },
    towgs84: function(v) {
      self.datum_params = v.split(",").map(function(a) {
        return parseFloat(a);
      });
    },
    to_meter: function(v) {
      self.to_meter = parseFloat(v);
    },
    units: function(v) {
      self.units = v;
      if (units[v]) {
        self.to_meter = units[v].to_meter;
      }
    },
    from_greenwich: function(v) {
      self.from_greenwich = v * D2R;
    },
    pm: function(v) {
      self.from_greenwich = (PrimeMeridian[v] ? PrimeMeridian[v] : parseFloat(v)) * D2R;
    },
    nadgrids: function(v) {
      if (v === '@null') {
        self.datumCode = 'none';
      }
      else {
        self.nadgrids = v;
      }
    },
    axis: function(v) {
      var legalAxis = "ewnsud";
      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {
        self.axis = v;
      }
    }
  };
  for (paramName in paramObj) {
    paramVal = paramObj[paramName];
    if (paramName in params) {
      paramOutname = params[paramName];
      if (typeof paramOutname === 'function') {
        paramOutname(paramVal);
      }
      else {
        self[paramOutname] = paramVal;
      }
    }
    else {
      self[paramName] = paramVal;
    }
  }
  if(typeof self.datumCode === 'string' && self.datumCode !== "WGS84"){
    self.datumCode = self.datumCode.toLowerCase();
  }
  return self;
};


/***/ }),

/***/ "./node_modules/proj4/lib/projections.js":
/*!***********************************************!*\
  !*** ./node_modules/proj4/lib/projections.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var projs = [
  __webpack_require__(/*! ./projections/merc */ "./node_modules/proj4/lib/projections/merc.js"),
  __webpack_require__(/*! ./projections/longlat */ "./node_modules/proj4/lib/projections/longlat.js")
];
var names = {};
var projStore = [];

function add(proj, i) {
  var len = projStore.length;
  if (!proj.names) {
    console.log(i);
    return true;
  }
  projStore[len] = proj;
  proj.names.forEach(function(n) {
    names[n.toLowerCase()] = len;
  });
  return this;
}

exports.add = add;

exports.get = function(name) {
  if (!name) {
    return false;
  }
  var n = name.toLowerCase();
  if (typeof names[n] !== 'undefined' && projStore[names[n]]) {
    return projStore[names[n]];
  }
};
exports.start = function() {
  projs.forEach(add);
};


/***/ }),

/***/ "./node_modules/proj4/lib/projections/aea.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/projections/aea.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var EPSLN = 1.0e-10;
var msfnz = __webpack_require__(/*! ../common/msfnz */ "./node_modules/proj4/lib/common/msfnz.js");
var qsfnz = __webpack_require__(/*! ../common/qsfnz */ "./node_modules/proj4/lib/common/qsfnz.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var asinz = __webpack_require__(/*! ../common/asinz */ "./node_modules/proj4/lib/common/asinz.js");
exports.init = function() {

  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
    return;
  }
  this.temp = this.b / this.a;
  this.es = 1 - Math.pow(this.temp, 2);
  this.e3 = Math.sqrt(this.es);

  this.sin_po = Math.sin(this.lat1);
  this.cos_po = Math.cos(this.lat1);
  this.t1 = this.sin_po;
  this.con = this.sin_po;
  this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);
  this.qs1 = qsfnz(this.e3, this.sin_po, this.cos_po);

  this.sin_po = Math.sin(this.lat2);
  this.cos_po = Math.cos(this.lat2);
  this.t2 = this.sin_po;
  this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);
  this.qs2 = qsfnz(this.e3, this.sin_po, this.cos_po);

  this.sin_po = Math.sin(this.lat0);
  this.cos_po = Math.cos(this.lat0);
  this.t3 = this.sin_po;
  this.qs0 = qsfnz(this.e3, this.sin_po, this.cos_po);

  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {
    this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);
  }
  else {
    this.ns0 = this.con;
  }
  this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;
  this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;
};

/* Albers Conical Equal Area forward equations--mapping lat,long to x,y
  -------------------------------------------------------------------*/
exports.forward = function(p) {

  var lon = p.x;
  var lat = p.y;

  this.sin_phi = Math.sin(lat);
  this.cos_phi = Math.cos(lat);

  var qs = qsfnz(this.e3, this.sin_phi, this.cos_phi);
  var rh1 = this.a * Math.sqrt(this.c - this.ns0 * qs) / this.ns0;
  var theta = this.ns0 * adjust_lon(lon - this.long0);
  var x = rh1 * Math.sin(theta) + this.x0;
  var y = this.rh - rh1 * Math.cos(theta) + this.y0;

  p.x = x;
  p.y = y;
  return p;
};


exports.inverse = function(p) {
  var rh1, qs, con, theta, lon, lat;

  p.x -= this.x0;
  p.y = this.rh - p.y + this.y0;
  if (this.ns0 >= 0) {
    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);
    con = 1;
  }
  else {
    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);
    con = -1;
  }
  theta = 0;
  if (rh1 !== 0) {
    theta = Math.atan2(con * p.x, con * p.y);
  }
  con = rh1 * this.ns0 / this.a;
  if (this.sphere) {
    lat = Math.asin((this.c - con * con) / (2 * this.ns0));
  }
  else {
    qs = (this.c - con * con) / this.ns0;
    lat = this.phi1z(this.e3, qs);
  }

  lon = adjust_lon(theta / this.ns0 + this.long0);
  p.x = lon;
  p.y = lat;
  return p;
};

/* Function to compute phi1, the latitude for the inverse of the
   Albers Conical Equal-Area projection.
-------------------------------------------*/
exports.phi1z = function(eccent, qs) {
  var sinphi, cosphi, con, com, dphi;
  var phi = asinz(0.5 * qs);
  if (eccent < EPSLN) {
    return phi;
  }

  var eccnts = eccent * eccent;
  for (var i = 1; i <= 25; i++) {
    sinphi = Math.sin(phi);
    cosphi = Math.cos(phi);
    con = eccent * sinphi;
    com = 1 - con * con;
    dphi = 0.5 * com * com / cosphi * (qs / (1 - eccnts) - sinphi / com + 0.5 / eccent * Math.log((1 - con) / (1 + con)));
    phi = phi + dphi;
    if (Math.abs(dphi) <= 1e-7) {
      return phi;
    }
  }
  return null;
};
exports.names = ["Albers_Conic_Equal_Area", "Albers", "aea"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/aeqd.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/aeqd.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var mlfn = __webpack_require__(/*! ../common/mlfn */ "./node_modules/proj4/lib/common/mlfn.js");
var e0fn = __webpack_require__(/*! ../common/e0fn */ "./node_modules/proj4/lib/common/e0fn.js");
var e1fn = __webpack_require__(/*! ../common/e1fn */ "./node_modules/proj4/lib/common/e1fn.js");
var e2fn = __webpack_require__(/*! ../common/e2fn */ "./node_modules/proj4/lib/common/e2fn.js");
var e3fn = __webpack_require__(/*! ../common/e3fn */ "./node_modules/proj4/lib/common/e3fn.js");
var gN = __webpack_require__(/*! ../common/gN */ "./node_modules/proj4/lib/common/gN.js");
var asinz = __webpack_require__(/*! ../common/asinz */ "./node_modules/proj4/lib/common/asinz.js");
var imlfn = __webpack_require__(/*! ../common/imlfn */ "./node_modules/proj4/lib/common/imlfn.js");
exports.init = function() {
  this.sin_p12 = Math.sin(this.lat0);
  this.cos_p12 = Math.cos(this.lat0);
};

exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var sinphi = Math.sin(p.y);
  var cosphi = Math.cos(p.y);
  var dlon = adjust_lon(lon - this.long0);
  var e0, e1, e2, e3, Mlp, Ml, tanphi, Nl1, Nl, psi, Az, G, H, GH, Hs, c, kp, cos_c, s, s2, s3, s4, s5;
  if (this.sphere) {
    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
      //North Pole case
      p.x = this.x0 + this.a * (HALF_PI - lat) * Math.sin(dlon);
      p.y = this.y0 - this.a * (HALF_PI - lat) * Math.cos(dlon);
      return p;
    }
    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
      //South Pole case
      p.x = this.x0 + this.a * (HALF_PI + lat) * Math.sin(dlon);
      p.y = this.y0 + this.a * (HALF_PI + lat) * Math.cos(dlon);
      return p;
    }
    else {
      //default case
      cos_c = this.sin_p12 * sinphi + this.cos_p12 * cosphi * Math.cos(dlon);
      c = Math.acos(cos_c);
      kp = c / Math.sin(c);
      p.x = this.x0 + this.a * kp * cosphi * Math.sin(dlon);
      p.y = this.y0 + this.a * kp * (this.cos_p12 * sinphi - this.sin_p12 * cosphi * Math.cos(dlon));
      return p;
    }
  }
  else {
    e0 = e0fn(this.es);
    e1 = e1fn(this.es);
    e2 = e2fn(this.es);
    e3 = e3fn(this.es);
    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
      //North Pole case
      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);
      Ml = this.a * mlfn(e0, e1, e2, e3, lat);
      p.x = this.x0 + (Mlp - Ml) * Math.sin(dlon);
      p.y = this.y0 - (Mlp - Ml) * Math.cos(dlon);
      return p;
    }
    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
      //South Pole case
      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);
      Ml = this.a * mlfn(e0, e1, e2, e3, lat);
      p.x = this.x0 + (Mlp + Ml) * Math.sin(dlon);
      p.y = this.y0 + (Mlp + Ml) * Math.cos(dlon);
      return p;
    }
    else {
      //Default case
      tanphi = sinphi / cosphi;
      Nl1 = gN(this.a, this.e, this.sin_p12);
      Nl = gN(this.a, this.e, sinphi);
      psi = Math.atan((1 - this.es) * tanphi + this.es * Nl1 * this.sin_p12 / (Nl * cosphi));
      Az = Math.atan2(Math.sin(dlon), this.cos_p12 * Math.tan(psi) - this.sin_p12 * Math.cos(dlon));
      if (Az === 0) {
        s = Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));
      }
      else if (Math.abs(Math.abs(Az) - Math.PI) <= EPSLN) {
        s = -Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));
      }
      else {
        s = Math.asin(Math.sin(dlon) * Math.cos(psi) / Math.sin(Az));
      }
      G = this.e * this.sin_p12 / Math.sqrt(1 - this.es);
      H = this.e * this.cos_p12 * Math.cos(Az) / Math.sqrt(1 - this.es);
      GH = G * H;
      Hs = H * H;
      s2 = s * s;
      s3 = s2 * s;
      s4 = s3 * s;
      s5 = s4 * s;
      c = Nl1 * s * (1 - s2 * Hs * (1 - Hs) / 6 + s3 / 8 * GH * (1 - 2 * Hs) + s4 / 120 * (Hs * (4 - 7 * Hs) - 3 * G * G * (1 - 7 * Hs)) - s5 / 48 * GH);
      p.x = this.x0 + c * Math.sin(Az);
      p.y = this.y0 + c * Math.cos(Az);
      return p;
    }
  }


};

exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var rh, z, sinz, cosz, lon, lat, con, e0, e1, e2, e3, Mlp, M, N1, psi, Az, cosAz, tmp, A, B, D, Ee, F;
  if (this.sphere) {
    rh = Math.sqrt(p.x * p.x + p.y * p.y);
    if (rh > (2 * HALF_PI * this.a)) {
      return;
    }
    z = rh / this.a;

    sinz = Math.sin(z);
    cosz = Math.cos(z);

    lon = this.long0;
    if (Math.abs(rh) <= EPSLN) {
      lat = this.lat0;
    }
    else {
      lat = asinz(cosz * this.sin_p12 + (p.y * sinz * this.cos_p12) / rh);
      con = Math.abs(this.lat0) - HALF_PI;
      if (Math.abs(con) <= EPSLN) {
        if (this.lat0 >= 0) {
          lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));
        }
        else {
          lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));
        }
      }
      else {
        /*con = cosz - this.sin_p12 * Math.sin(lat);
        if ((Math.abs(con) < EPSLN) && (Math.abs(p.x) < EPSLN)) {
          //no-op, just keep the lon value as is
        } else {
          var temp = Math.atan2((p.x * sinz * this.cos_p12), (con * rh));
          lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz * this.cos_p12), (con * rh)));
        }*/
        lon = adjust_lon(this.long0 + Math.atan2(p.x * sinz, rh * this.cos_p12 * cosz - p.y * this.sin_p12 * sinz));
      }
    }

    p.x = lon;
    p.y = lat;
    return p;
  }
  else {
    e0 = e0fn(this.es);
    e1 = e1fn(this.es);
    e2 = e2fn(this.es);
    e3 = e3fn(this.es);
    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
      //North pole case
      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);
      rh = Math.sqrt(p.x * p.x + p.y * p.y);
      M = Mlp - rh;
      lat = imlfn(M / this.a, e0, e1, e2, e3);
      lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));
      p.x = lon;
      p.y = lat;
      return p;
    }
    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
      //South pole case
      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);
      rh = Math.sqrt(p.x * p.x + p.y * p.y);
      M = rh - Mlp;

      lat = imlfn(M / this.a, e0, e1, e2, e3);
      lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));
      p.x = lon;
      p.y = lat;
      return p;
    }
    else {
      //default case
      rh = Math.sqrt(p.x * p.x + p.y * p.y);
      Az = Math.atan2(p.x, p.y);
      N1 = gN(this.a, this.e, this.sin_p12);
      cosAz = Math.cos(Az);
      tmp = this.e * this.cos_p12 * cosAz;
      A = -tmp * tmp / (1 - this.es);
      B = 3 * this.es * (1 - A) * this.sin_p12 * this.cos_p12 * cosAz / (1 - this.es);
      D = rh / N1;
      Ee = D - A * (1 + A) * Math.pow(D, 3) / 6 - B * (1 + 3 * A) * Math.pow(D, 4) / 24;
      F = 1 - A * Ee * Ee / 2 - D * Ee * Ee * Ee / 6;
      psi = Math.asin(this.sin_p12 * Math.cos(Ee) + this.cos_p12 * Math.sin(Ee) * cosAz);
      lon = adjust_lon(this.long0 + Math.asin(Math.sin(Az) * Math.sin(Ee) / Math.cos(psi)));
      lat = Math.atan((1 - this.es * F * this.sin_p12 / Math.sin(psi)) * Math.tan(psi) / (1 - this.es));
      p.x = lon;
      p.y = lat;
      return p;
    }
  }

};
exports.names = ["Azimuthal_Equidistant", "aeqd"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/cass.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/cass.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var mlfn = __webpack_require__(/*! ../common/mlfn */ "./node_modules/proj4/lib/common/mlfn.js");
var e0fn = __webpack_require__(/*! ../common/e0fn */ "./node_modules/proj4/lib/common/e0fn.js");
var e1fn = __webpack_require__(/*! ../common/e1fn */ "./node_modules/proj4/lib/common/e1fn.js");
var e2fn = __webpack_require__(/*! ../common/e2fn */ "./node_modules/proj4/lib/common/e2fn.js");
var e3fn = __webpack_require__(/*! ../common/e3fn */ "./node_modules/proj4/lib/common/e3fn.js");
var gN = __webpack_require__(/*! ../common/gN */ "./node_modules/proj4/lib/common/gN.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var adjust_lat = __webpack_require__(/*! ../common/adjust_lat */ "./node_modules/proj4/lib/common/adjust_lat.js");
var imlfn = __webpack_require__(/*! ../common/imlfn */ "./node_modules/proj4/lib/common/imlfn.js");
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
exports.init = function() {
  if (!this.sphere) {
    this.e0 = e0fn(this.es);
    this.e1 = e1fn(this.es);
    this.e2 = e2fn(this.es);
    this.e3 = e3fn(this.es);
    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
  }
};



/* Cassini forward equations--mapping lat,long to x,y
  -----------------------------------------------------------------------*/
exports.forward = function(p) {

  /* Forward equations
      -----------------*/
  var x, y;
  var lam = p.x;
  var phi = p.y;
  lam = adjust_lon(lam - this.long0);

  if (this.sphere) {
    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));
    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);
  }
  else {
    //ellipsoid
    var sinphi = Math.sin(phi);
    var cosphi = Math.cos(phi);
    var nl = gN(this.a, this.e, sinphi);
    var tl = Math.tan(phi) * Math.tan(phi);
    var al = lam * Math.cos(phi);
    var asq = al * al;
    var cl = this.es * cosphi * cosphi / (1 - this.es);
    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);

    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));
    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);


  }

  p.x = x + this.x0;
  p.y = y + this.y0;
  return p;
};

/* Inverse equations
  -----------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var x = p.x / this.a;
  var y = p.y / this.a;
  var phi, lam;

  if (this.sphere) {
    var dd = y + this.lat0;
    phi = Math.asin(Math.sin(dd) * Math.cos(x));
    lam = Math.atan2(Math.tan(x), Math.cos(dd));
  }
  else {
    /* ellipsoid */
    var ml1 = this.ml0 / this.a + y;
    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);
    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {
      p.x = this.long0;
      p.y = HALF_PI;
      if (y < 0) {
        p.y *= -1;
      }
      return p;
    }
    var nl1 = gN(this.a, this.e, Math.sin(phi1));

    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);
    var tl1 = Math.pow(Math.tan(phi1), 2);
    var dl = x * this.a / nl1;
    var dsq = dl * dl;
    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);
    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);

  }

  p.x = adjust_lon(lam + this.long0);
  p.y = adjust_lat(phi);
  return p;

};
exports.names = ["Cassini", "Cassini_Soldner", "cass"];

/***/ }),

/***/ "./node_modules/proj4/lib/projections/cea.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/projections/cea.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var qsfnz = __webpack_require__(/*! ../common/qsfnz */ "./node_modules/proj4/lib/common/qsfnz.js");
var msfnz = __webpack_require__(/*! ../common/msfnz */ "./node_modules/proj4/lib/common/msfnz.js");
var iqsfnz = __webpack_require__(/*! ../common/iqsfnz */ "./node_modules/proj4/lib/common/iqsfnz.js");
/*
  reference:  
    "Cartographic Projection Procedures for the UNIX Environment-
    A User's Manual" by Gerald I. Evenden,
    USGS Open File Report 90-284and Release 4 Interim Reports (2003)
*/
exports.init = function() {
  //no-op
  if (!this.sphere) {
    this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));
  }
};


/* Cylindrical Equal Area forward equations--mapping lat,long to x,y
    ------------------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var x, y;
  /* Forward equations
      -----------------*/
  var dlon = adjust_lon(lon - this.long0);
  if (this.sphere) {
    x = this.x0 + this.a * dlon * Math.cos(this.lat_ts);
    y = this.y0 + this.a * Math.sin(lat) / Math.cos(this.lat_ts);
  }
  else {
    var qs = qsfnz(this.e, Math.sin(lat));
    x = this.x0 + this.a * this.k0 * dlon;
    y = this.y0 + this.a * qs * 0.5 / this.k0;
  }

  p.x = x;
  p.y = y;
  return p;
};

/* Cylindrical Equal Area inverse equations--mapping x,y to lat/long
    ------------------------------------------------------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var lon, lat;

  if (this.sphere) {
    lon = adjust_lon(this.long0 + (p.x / this.a) / Math.cos(this.lat_ts));
    lat = Math.asin((p.y / this.a) * Math.cos(this.lat_ts));
  }
  else {
    lat = iqsfnz(this.e, 2 * p.y * this.k0 / this.a);
    lon = adjust_lon(this.long0 + p.x / (this.a * this.k0));
  }

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["cea"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/eqc.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/projections/eqc.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var adjust_lat = __webpack_require__(/*! ../common/adjust_lat */ "./node_modules/proj4/lib/common/adjust_lat.js");
exports.init = function() {

  this.x0 = this.x0 || 0;
  this.y0 = this.y0 || 0;
  this.lat0 = this.lat0 || 0;
  this.long0 = this.long0 || 0;
  this.lat_ts = this.lat_ts || 0;
  this.title = this.title || "Equidistant Cylindrical (Plate Carre)";

  this.rc = Math.cos(this.lat_ts);
};


// forward equations--mapping lat,long to x,y
// -----------------------------------------------------------------
exports.forward = function(p) {

  var lon = p.x;
  var lat = p.y;

  var dlon = adjust_lon(lon - this.long0);
  var dlat = adjust_lat(lat - this.lat0);
  p.x = this.x0 + (this.a * dlon * this.rc);
  p.y = this.y0 + (this.a * dlat);
  return p;
};

// inverse equations--mapping x,y to lat/long
// -----------------------------------------------------------------
exports.inverse = function(p) {

  var x = p.x;
  var y = p.y;

  p.x = adjust_lon(this.long0 + ((x - this.x0) / (this.a * this.rc)));
  p.y = adjust_lat(this.lat0 + ((y - this.y0) / (this.a)));
  return p;
};
exports.names = ["Equirectangular", "Equidistant_Cylindrical", "eqc"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/eqdc.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/eqdc.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var e0fn = __webpack_require__(/*! ../common/e0fn */ "./node_modules/proj4/lib/common/e0fn.js");
var e1fn = __webpack_require__(/*! ../common/e1fn */ "./node_modules/proj4/lib/common/e1fn.js");
var e2fn = __webpack_require__(/*! ../common/e2fn */ "./node_modules/proj4/lib/common/e2fn.js");
var e3fn = __webpack_require__(/*! ../common/e3fn */ "./node_modules/proj4/lib/common/e3fn.js");
var msfnz = __webpack_require__(/*! ../common/msfnz */ "./node_modules/proj4/lib/common/msfnz.js");
var mlfn = __webpack_require__(/*! ../common/mlfn */ "./node_modules/proj4/lib/common/mlfn.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var adjust_lat = __webpack_require__(/*! ../common/adjust_lat */ "./node_modules/proj4/lib/common/adjust_lat.js");
var imlfn = __webpack_require__(/*! ../common/imlfn */ "./node_modules/proj4/lib/common/imlfn.js");
var EPSLN = 1.0e-10;
exports.init = function() {

  /* Place parameters in static storage for common use
      -------------------------------------------------*/
  // Standard Parallels cannot be equal and on opposite sides of the equator
  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
    return;
  }
  this.lat2 = this.lat2 || this.lat1;
  this.temp = this.b / this.a;
  this.es = 1 - Math.pow(this.temp, 2);
  this.e = Math.sqrt(this.es);
  this.e0 = e0fn(this.es);
  this.e1 = e1fn(this.es);
  this.e2 = e2fn(this.es);
  this.e3 = e3fn(this.es);

  this.sinphi = Math.sin(this.lat1);
  this.cosphi = Math.cos(this.lat1);

  this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);
  this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);

  if (Math.abs(this.lat1 - this.lat2) < EPSLN) {
    this.ns = this.sinphi;
  }
  else {
    this.sinphi = Math.sin(this.lat2);
    this.cosphi = Math.cos(this.lat2);
    this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);
    this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);
    this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);
  }
  this.g = this.ml1 + this.ms1 / this.ns;
  this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
  this.rh = this.a * (this.g - this.ml0);
};


/* Equidistant Conic forward equations--mapping lat,long to x,y
  -----------------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var rh1;

  /* Forward equations
      -----------------*/
  if (this.sphere) {
    rh1 = this.a * (this.g - lat);
  }
  else {
    var ml = mlfn(this.e0, this.e1, this.e2, this.e3, lat);
    rh1 = this.a * (this.g - ml);
  }
  var theta = this.ns * adjust_lon(lon - this.long0);
  var x = this.x0 + rh1 * Math.sin(theta);
  var y = this.y0 + this.rh - rh1 * Math.cos(theta);
  p.x = x;
  p.y = y;
  return p;
};

/* Inverse equations
  -----------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y = this.rh - p.y + this.y0;
  var con, rh1, lat, lon;
  if (this.ns >= 0) {
    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);
    con = 1;
  }
  else {
    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);
    con = -1;
  }
  var theta = 0;
  if (rh1 !== 0) {
    theta = Math.atan2(con * p.x, con * p.y);
  }

  if (this.sphere) {
    lon = adjust_lon(this.long0 + theta / this.ns);
    lat = adjust_lat(this.g - rh1 / this.a);
    p.x = lon;
    p.y = lat;
    return p;
  }
  else {
    var ml = this.g - rh1 / this.a;
    lat = imlfn(ml, this.e0, this.e1, this.e2, this.e3);
    lon = adjust_lon(this.long0 + theta / this.ns);
    p.x = lon;
    p.y = lat;
    return p;
  }

};
exports.names = ["Equidistant_Conic", "eqdc"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/gauss.js":
/*!*****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/gauss.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var FORTPI = Math.PI/4;
var srat = __webpack_require__(/*! ../common/srat */ "./node_modules/proj4/lib/common/srat.js");
var HALF_PI = Math.PI/2;
var MAX_ITER = 20;
exports.init = function() {
  var sphi = Math.sin(this.lat0);
  var cphi = Math.cos(this.lat0);
  cphi *= cphi;
  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);
  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));
  this.phic0 = Math.asin(sphi / this.C);
  this.ratexp = 0.5 * this.C * this.e;
  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));
};

exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;

  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;
  p.x = this.C * lon;
  return p;
};

exports.inverse = function(p) {
  var DEL_TOL = 1e-14;
  var lon = p.x / this.C;
  var lat = p.y;
  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);
  for (var i = MAX_ITER; i > 0; --i) {
    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;
    if (Math.abs(lat - p.y) < DEL_TOL) {
      break;
    }
    p.y = lat;
  }
  /* convergence failed */
  if (!i) {
    return null;
  }
  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["gauss"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/gnom.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/gnom.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var EPSLN = 1.0e-10;
var asinz = __webpack_require__(/*! ../common/asinz */ "./node_modules/proj4/lib/common/asinz.js");

/*
  reference:
    Wolfram Mathworld "Gnomonic Projection"
    http://mathworld.wolfram.com/GnomonicProjection.html
    Accessed: 12th November 2009
  */
exports.init = function() {

  /* Place parameters in static storage for common use
      -------------------------------------------------*/
  this.sin_p14 = Math.sin(this.lat0);
  this.cos_p14 = Math.cos(this.lat0);
  // Approximation for projecting points to the horizon (infinity)
  this.infinity_dist = 1000 * this.a;
  this.rc = 1;
};


/* Gnomonic forward equations--mapping lat,long to x,y
    ---------------------------------------------------*/
exports.forward = function(p) {
  var sinphi, cosphi; /* sin and cos value        */
  var dlon; /* delta longitude value      */
  var coslon; /* cos of longitude        */
  var ksp; /* scale factor          */
  var g;
  var x, y;
  var lon = p.x;
  var lat = p.y;
  /* Forward equations
      -----------------*/
  dlon = adjust_lon(lon - this.long0);

  sinphi = Math.sin(lat);
  cosphi = Math.cos(lat);

  coslon = Math.cos(dlon);
  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;
  ksp = 1;
  if ((g > 0) || (Math.abs(g) <= EPSLN)) {
    x = this.x0 + this.a * ksp * cosphi * Math.sin(dlon) / g;
    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon) / g;
  }
  else {

    // Point is in the opposing hemisphere and is unprojectable
    // We still need to return a reasonable point, so we project 
    // to infinity, on a bearing 
    // equivalent to the northern hemisphere equivalent
    // This is a reasonable approximation for short shapes and lines that 
    // straddle the horizon.

    x = this.x0 + this.infinity_dist * cosphi * Math.sin(dlon);
    y = this.y0 + this.infinity_dist * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);

  }
  p.x = x;
  p.y = y;
  return p;
};


exports.inverse = function(p) {
  var rh; /* Rho */
  var sinc, cosc;
  var c;
  var lon, lat;

  /* Inverse equations
      -----------------*/
  p.x = (p.x - this.x0) / this.a;
  p.y = (p.y - this.y0) / this.a;

  p.x /= this.k0;
  p.y /= this.k0;

  if ((rh = Math.sqrt(p.x * p.x + p.y * p.y))) {
    c = Math.atan2(rh, this.rc);
    sinc = Math.sin(c);
    cosc = Math.cos(c);

    lat = asinz(cosc * this.sin_p14 + (p.y * sinc * this.cos_p14) / rh);
    lon = Math.atan2(p.x * sinc, rh * this.cos_p14 * cosc - p.y * this.sin_p14 * sinc);
    lon = adjust_lon(this.long0 + lon);
  }
  else {
    lat = this.phic0;
    lon = 0;
  }

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["gnom"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/krovak.js":
/*!******************************************************!*\
  !*** ./node_modules/proj4/lib/projections/krovak.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
exports.init = function() {
  this.a = 6377397.155;
  this.es = 0.006674372230614;
  this.e = Math.sqrt(this.es);
  if (!this.lat0) {
    this.lat0 = 0.863937979737193;
  }
  if (!this.long0) {
    this.long0 = 0.7417649320975901 - 0.308341501185665;
  }
  /* if scale not set default to 0.9999 */
  if (!this.k0) {
    this.k0 = 0.9999;
  }
  this.s45 = 0.785398163397448; /* 45 */
  this.s90 = 2 * this.s45;
  this.fi0 = this.lat0;
  this.e2 = this.es;
  this.e = Math.sqrt(this.e2);
  this.alfa = Math.sqrt(1 + (this.e2 * Math.pow(Math.cos(this.fi0), 4)) / (1 - this.e2));
  this.uq = 1.04216856380474;
  this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);
  this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);
  this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;
  this.k1 = this.k0;
  this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));
  this.s0 = 1.37008346281555;
  this.n = Math.sin(this.s0);
  this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);
  this.ad = this.s90 - this.uq;
};

/* ellipsoid */
/* calculate xy from lat/lon */
/* Constants, identical to inverse transform function */
exports.forward = function(p) {
  var gfi, u, deltav, s, d, eps, ro;
  var lon = p.x;
  var lat = p.y;
  var delta_lon = adjust_lon(lon - this.long0);
  /* Transformation */
  gfi = Math.pow(((1 + this.e * Math.sin(lat)) / (1 - this.e * Math.sin(lat))), (this.alfa * this.e / 2));
  u = 2 * (Math.atan(this.k * Math.pow(Math.tan(lat / 2 + this.s45), this.alfa) / gfi) - this.s45);
  deltav = -delta_lon * this.alfa;
  s = Math.asin(Math.cos(this.ad) * Math.sin(u) + Math.sin(this.ad) * Math.cos(u) * Math.cos(deltav));
  d = Math.asin(Math.cos(u) * Math.sin(deltav) / Math.cos(s));
  eps = this.n * d;
  ro = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(s / 2 + this.s45), this.n);
  p.y = ro * Math.cos(eps) / 1;
  p.x = ro * Math.sin(eps) / 1;

  if (!this.czech) {
    p.y *= -1;
    p.x *= -1;
  }
  return (p);
};

/* calculate lat/lon from xy */
exports.inverse = function(p) {
  var u, deltav, s, d, eps, ro, fi1;
  var ok;

  /* Transformation */
  /* revert y, x*/
  var tmp = p.x;
  p.x = p.y;
  p.y = tmp;
  if (!this.czech) {
    p.y *= -1;
    p.x *= -1;
  }
  ro = Math.sqrt(p.x * p.x + p.y * p.y);
  eps = Math.atan2(p.y, p.x);
  d = eps / Math.sin(this.s0);
  s = 2 * (Math.atan(Math.pow(this.ro0 / ro, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);
  u = Math.asin(Math.cos(this.ad) * Math.sin(s) - Math.sin(this.ad) * Math.cos(s) * Math.cos(d));
  deltav = Math.asin(Math.cos(s) * Math.sin(d) / Math.cos(u));
  p.x = this.long0 - deltav / this.alfa;
  fi1 = u;
  ok = 0;
  var iter = 0;
  do {
    p.y = 2 * (Math.atan(Math.pow(this.k, - 1 / this.alfa) * Math.pow(Math.tan(u / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(fi1)) / (1 - this.e * Math.sin(fi1)), this.e / 2)) - this.s45);
    if (Math.abs(fi1 - p.y) < 0.0000000001) {
      ok = 1;
    }
    fi1 = p.y;
    iter += 1;
  } while (ok === 0 && iter < 15);
  if (iter >= 15) {
    return null;
  }

  return (p);
};
exports.names = ["Krovak", "krovak"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/laea.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/laea.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var HALF_PI = Math.PI/2;
var FORTPI = Math.PI/4;
var EPSLN = 1.0e-10;
var qsfnz = __webpack_require__(/*! ../common/qsfnz */ "./node_modules/proj4/lib/common/qsfnz.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
/*
  reference
    "New Equal-Area Map Projections for Noncircular Regions", John P. Snyder,
    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.
  */

exports.S_POLE = 1;
exports.N_POLE = 2;
exports.EQUIT = 3;
exports.OBLIQ = 4;


/* Initialize the Lambert Azimuthal Equal Area projection
  ------------------------------------------------------*/
exports.init = function() {
  var t = Math.abs(this.lat0);
  if (Math.abs(t - HALF_PI) < EPSLN) {
    this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;
  }
  else if (Math.abs(t) < EPSLN) {
    this.mode = this.EQUIT;
  }
  else {
    this.mode = this.OBLIQ;
  }
  if (this.es > 0) {
    var sinphi;

    this.qp = qsfnz(this.e, 1);
    this.mmf = 0.5 / (1 - this.es);
    this.apa = this.authset(this.es);
    switch (this.mode) {
    case this.N_POLE:
      this.dd = 1;
      break;
    case this.S_POLE:
      this.dd = 1;
      break;
    case this.EQUIT:
      this.rq = Math.sqrt(0.5 * this.qp);
      this.dd = 1 / this.rq;
      this.xmf = 1;
      this.ymf = 0.5 * this.qp;
      break;
    case this.OBLIQ:
      this.rq = Math.sqrt(0.5 * this.qp);
      sinphi = Math.sin(this.lat0);
      this.sinb1 = qsfnz(this.e, sinphi) / this.qp;
      this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);
      this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * sinphi * sinphi) * this.rq * this.cosb1);
      this.ymf = (this.xmf = this.rq) / this.dd;
      this.xmf *= this.dd;
      break;
    }
  }
  else {
    if (this.mode === this.OBLIQ) {
      this.sinph0 = Math.sin(this.lat0);
      this.cosph0 = Math.cos(this.lat0);
    }
  }
};

/* Lambert Azimuthal Equal Area forward equations--mapping lat,long to x,y
  -----------------------------------------------------------------------*/
exports.forward = function(p) {

  /* Forward equations
      -----------------*/
  var x, y, coslam, sinlam, sinphi, q, sinb, cosb, b, cosphi;
  var lam = p.x;
  var phi = p.y;

  lam = adjust_lon(lam - this.long0);

  if (this.sphere) {
    sinphi = Math.sin(phi);
    cosphi = Math.cos(phi);
    coslam = Math.cos(lam);
    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      y = (this.mode === this.EQUIT) ? 1 + cosphi * coslam : 1 + this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;
      if (y <= EPSLN) {
        return null;
      }
      y = Math.sqrt(2 / y);
      x = y * cosphi * Math.sin(lam);
      y *= (this.mode === this.EQUIT) ? sinphi : this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;
    }
    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
      if (this.mode === this.N_POLE) {
        coslam = -coslam;
      }
      if (Math.abs(phi + this.phi0) < EPSLN) {
        return null;
      }
      y = FORTPI - phi * 0.5;
      y = 2 * ((this.mode === this.S_POLE) ? Math.cos(y) : Math.sin(y));
      x = y * Math.sin(lam);
      y *= coslam;
    }
  }
  else {
    sinb = 0;
    cosb = 0;
    b = 0;
    coslam = Math.cos(lam);
    sinlam = Math.sin(lam);
    sinphi = Math.sin(phi);
    q = qsfnz(this.e, sinphi);
    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      sinb = q / this.qp;
      cosb = Math.sqrt(1 - sinb * sinb);
    }
    switch (this.mode) {
    case this.OBLIQ:
      b = 1 + this.sinb1 * sinb + this.cosb1 * cosb * coslam;
      break;
    case this.EQUIT:
      b = 1 + cosb * coslam;
      break;
    case this.N_POLE:
      b = HALF_PI + phi;
      q = this.qp - q;
      break;
    case this.S_POLE:
      b = phi - HALF_PI;
      q = this.qp + q;
      break;
    }
    if (Math.abs(b) < EPSLN) {
      return null;
    }
    switch (this.mode) {
    case this.OBLIQ:
    case this.EQUIT:
      b = Math.sqrt(2 / b);
      if (this.mode === this.OBLIQ) {
        y = this.ymf * b * (this.cosb1 * sinb - this.sinb1 * cosb * coslam);
      }
      else {
        y = (b = Math.sqrt(2 / (1 + cosb * coslam))) * sinb * this.ymf;
      }
      x = this.xmf * b * cosb * sinlam;
      break;
    case this.N_POLE:
    case this.S_POLE:
      if (q >= 0) {
        x = (b = Math.sqrt(q)) * sinlam;
        y = coslam * ((this.mode === this.S_POLE) ? b : -b);
      }
      else {
        x = y = 0;
      }
      break;
    }
  }

  p.x = this.a * x + this.x0;
  p.y = this.a * y + this.y0;
  return p;
};

/* Inverse equations
  -----------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var x = p.x / this.a;
  var y = p.y / this.a;
  var lam, phi, cCe, sCe, q, rho, ab;

  if (this.sphere) {
    var cosz = 0,
      rh, sinz = 0;

    rh = Math.sqrt(x * x + y * y);
    phi = rh * 0.5;
    if (phi > 1) {
      return null;
    }
    phi = 2 * Math.asin(phi);
    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      sinz = Math.sin(phi);
      cosz = Math.cos(phi);
    }
    switch (this.mode) {
    case this.EQUIT:
      phi = (Math.abs(rh) <= EPSLN) ? 0 : Math.asin(y * sinz / rh);
      x *= sinz;
      y = cosz * rh;
      break;
    case this.OBLIQ:
      phi = (Math.abs(rh) <= EPSLN) ? this.phi0 : Math.asin(cosz * this.sinph0 + y * sinz * this.cosph0 / rh);
      x *= sinz * this.cosph0;
      y = (cosz - Math.sin(phi) * this.sinph0) * rh;
      break;
    case this.N_POLE:
      y = -y;
      phi = HALF_PI - phi;
      break;
    case this.S_POLE:
      phi -= HALF_PI;
      break;
    }
    lam = (y === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)) ? 0 : Math.atan2(x, y);
  }
  else {
    ab = 0;
    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      x /= this.dd;
      y *= this.dd;
      rho = Math.sqrt(x * x + y * y);
      if (rho < EPSLN) {
        p.x = 0;
        p.y = this.phi0;
        return p;
      }
      sCe = 2 * Math.asin(0.5 * rho / this.rq);
      cCe = Math.cos(sCe);
      x *= (sCe = Math.sin(sCe));
      if (this.mode === this.OBLIQ) {
        ab = cCe * this.sinb1 + y * sCe * this.cosb1 / rho;
        q = this.qp * ab;
        y = rho * this.cosb1 * cCe - y * this.sinb1 * sCe;
      }
      else {
        ab = y * sCe / rho;
        q = this.qp * ab;
        y = rho * cCe;
      }
    }
    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
      if (this.mode === this.N_POLE) {
        y = -y;
      }
      q = (x * x + y * y);
      if (!q) {
        p.x = 0;
        p.y = this.phi0;
        return p;
      }
      ab = 1 - q / this.qp;
      if (this.mode === this.S_POLE) {
        ab = -ab;
      }
    }
    lam = Math.atan2(x, y);
    phi = this.authlat(Math.asin(ab), this.apa);
  }


  p.x = adjust_lon(this.long0 + lam);
  p.y = phi;
  return p;
};

/* determine latitude from authalic latitude */
exports.P00 = 0.33333333333333333333;
exports.P01 = 0.17222222222222222222;
exports.P02 = 0.10257936507936507936;
exports.P10 = 0.06388888888888888888;
exports.P11 = 0.06640211640211640211;
exports.P20 = 0.01641501294219154443;

exports.authset = function(es) {
  var t;
  var APA = [];
  APA[0] = es * this.P00;
  t = es * es;
  APA[0] += t * this.P01;
  APA[1] = t * this.P10;
  t *= es;
  APA[0] += t * this.P02;
  APA[1] += t * this.P11;
  APA[2] = t * this.P20;
  return APA;
};

exports.authlat = function(beta, APA) {
  var t = beta + beta;
  return (beta + APA[0] * Math.sin(t) + APA[1] * Math.sin(t + t) + APA[2] * Math.sin(t + t + t));
};
exports.names = ["Lambert Azimuthal Equal Area", "Lambert_Azimuthal_Equal_Area", "laea"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/lcc.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/projections/lcc.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var EPSLN = 1.0e-10;
var msfnz = __webpack_require__(/*! ../common/msfnz */ "./node_modules/proj4/lib/common/msfnz.js");
var tsfnz = __webpack_require__(/*! ../common/tsfnz */ "./node_modules/proj4/lib/common/tsfnz.js");
var HALF_PI = Math.PI/2;
var sign = __webpack_require__(/*! ../common/sign */ "./node_modules/proj4/lib/common/sign.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var phi2z = __webpack_require__(/*! ../common/phi2z */ "./node_modules/proj4/lib/common/phi2z.js");
exports.init = function() {

  // array of:  r_maj,r_min,lat1,lat2,c_lon,c_lat,false_east,false_north
  //double c_lat;                   /* center latitude                      */
  //double c_lon;                   /* center longitude                     */
  //double lat1;                    /* first standard parallel              */
  //double lat2;                    /* second standard parallel             */
  //double r_maj;                   /* major axis                           */
  //double r_min;                   /* minor axis                           */
  //double false_east;              /* x offset in meters                   */
  //double false_north;             /* y offset in meters                   */

  if (!this.lat2) {
    this.lat2 = this.lat1;
  } //if lat2 is not defined
  if (!this.k0) {
    this.k0 = 1;
  }
  this.x0 = this.x0 || 0;
  this.y0 = this.y0 || 0;
  // Standard Parallels cannot be equal and on opposite sides of the equator
  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
    return;
  }

  var temp = this.b / this.a;
  this.e = Math.sqrt(1 - temp * temp);

  var sin1 = Math.sin(this.lat1);
  var cos1 = Math.cos(this.lat1);
  var ms1 = msfnz(this.e, sin1, cos1);
  var ts1 = tsfnz(this.e, this.lat1, sin1);

  var sin2 = Math.sin(this.lat2);
  var cos2 = Math.cos(this.lat2);
  var ms2 = msfnz(this.e, sin2, cos2);
  var ts2 = tsfnz(this.e, this.lat2, sin2);

  var ts0 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));

  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {
    this.ns = Math.log(ms1 / ms2) / Math.log(ts1 / ts2);
  }
  else {
    this.ns = sin1;
  }
  if (isNaN(this.ns)) {
    this.ns = sin1;
  }
  this.f0 = ms1 / (this.ns * Math.pow(ts1, this.ns));
  this.rh = this.a * this.f0 * Math.pow(ts0, this.ns);
  if (!this.title) {
    this.title = "Lambert Conformal Conic";
  }
};


// Lambert Conformal conic forward equations--mapping lat,long to x,y
// -----------------------------------------------------------------
exports.forward = function(p) {

  var lon = p.x;
  var lat = p.y;

  // singular cases :
  if (Math.abs(2 * Math.abs(lat) - Math.PI) <= EPSLN) {
    lat = sign(lat) * (HALF_PI - 2 * EPSLN);
  }

  var con = Math.abs(Math.abs(lat) - HALF_PI);
  var ts, rh1;
  if (con > EPSLN) {
    ts = tsfnz(this.e, lat, Math.sin(lat));
    rh1 = this.a * this.f0 * Math.pow(ts, this.ns);
  }
  else {
    con = lat * this.ns;
    if (con <= 0) {
      return null;
    }
    rh1 = 0;
  }
  var theta = this.ns * adjust_lon(lon - this.long0);
  p.x = this.k0 * (rh1 * Math.sin(theta)) + this.x0;
  p.y = this.k0 * (this.rh - rh1 * Math.cos(theta)) + this.y0;

  return p;
};

// Lambert Conformal Conic inverse equations--mapping x,y to lat/long
// -----------------------------------------------------------------
exports.inverse = function(p) {

  var rh1, con, ts;
  var lat, lon;
  var x = (p.x - this.x0) / this.k0;
  var y = (this.rh - (p.y - this.y0) / this.k0);
  if (this.ns > 0) {
    rh1 = Math.sqrt(x * x + y * y);
    con = 1;
  }
  else {
    rh1 = -Math.sqrt(x * x + y * y);
    con = -1;
  }
  var theta = 0;
  if (rh1 !== 0) {
    theta = Math.atan2((con * x), (con * y));
  }
  if ((rh1 !== 0) || (this.ns > 0)) {
    con = 1 / this.ns;
    ts = Math.pow((rh1 / (this.a * this.f0)), con);
    lat = phi2z(this.e, ts);
    if (lat === -9999) {
      return null;
    }
  }
  else {
    lat = -HALF_PI;
  }
  lon = adjust_lon(theta / this.ns + this.long0);

  p.x = lon;
  p.y = lat;
  return p;
};

exports.names = ["Lambert Tangential Conformal Conic Projection", "Lambert_Conformal_Conic", "Lambert_Conformal_Conic_2SP", "lcc"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/longlat.js":
/*!*******************************************************!*\
  !*** ./node_modules/proj4/lib/projections/longlat.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.init = function() {
  //no-op for longlat
};

function identity(pt) {
  return pt;
}
exports.forward = identity;
exports.inverse = identity;
exports.names = ["longlat", "identity"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/merc.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/merc.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var msfnz = __webpack_require__(/*! ../common/msfnz */ "./node_modules/proj4/lib/common/msfnz.js");
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var R2D = 57.29577951308232088;
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var FORTPI = Math.PI/4;
var tsfnz = __webpack_require__(/*! ../common/tsfnz */ "./node_modules/proj4/lib/common/tsfnz.js");
var phi2z = __webpack_require__(/*! ../common/phi2z */ "./node_modules/proj4/lib/common/phi2z.js");
exports.init = function() {
  var con = this.b / this.a;
  this.es = 1 - con * con;
  if(!('x0' in this)){
    this.x0 = 0;
  }
  if(!('y0' in this)){
    this.y0 = 0;
  }
  this.e = Math.sqrt(this.es);
  if (this.lat_ts) {
    if (this.sphere) {
      this.k0 = Math.cos(this.lat_ts);
    }
    else {
      this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));
    }
  }
  else {
    if (!this.k0) {
      if (this.k) {
        this.k0 = this.k;
      }
      else {
        this.k0 = 1;
      }
    }
  }
};

/* Mercator forward equations--mapping lat,long to x,y
  --------------------------------------------------*/

exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  // convert to radians
  if (lat * R2D > 90 && lat * R2D < -90 && lon * R2D > 180 && lon * R2D < -180) {
    return null;
  }

  var x, y;
  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {
    return null;
  }
  else {
    if (this.sphere) {
      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);
      y = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + 0.5 * lat));
    }
    else {
      var sinphi = Math.sin(lat);
      var ts = tsfnz(this.e, lat, sinphi);
      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);
      y = this.y0 - this.a * this.k0 * Math.log(ts);
    }
    p.x = x;
    p.y = y;
    return p;
  }
};


/* Mercator inverse equations--mapping x,y to lat/long
  --------------------------------------------------*/
exports.inverse = function(p) {

  var x = p.x - this.x0;
  var y = p.y - this.y0;
  var lon, lat;

  if (this.sphere) {
    lat = HALF_PI - 2 * Math.atan(Math.exp(-y / (this.a * this.k0)));
  }
  else {
    var ts = Math.exp(-y / (this.a * this.k0));
    lat = phi2z(this.e, ts);
    if (lat === -9999) {
      return null;
    }
  }
  lon = adjust_lon(this.long0 + x / (this.a * this.k0));

  p.x = lon;
  p.y = lat;
  return p;
};

exports.names = ["Mercator", "Popular Visualisation Pseudo Mercator", "Mercator_1SP", "Mercator_Auxiliary_Sphere", "merc"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/mill.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/mill.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
/*
  reference
    "New Equal-Area Map Projections for Noncircular Regions", John P. Snyder,
    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.
  */


/* Initialize the Miller Cylindrical projection
  -------------------------------------------*/
exports.init = function() {
  //no-op
};


/* Miller Cylindrical forward equations--mapping lat,long to x,y
    ------------------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  /* Forward equations
      -----------------*/
  var dlon = adjust_lon(lon - this.long0);
  var x = this.x0 + this.a * dlon;
  var y = this.y0 + this.a * Math.log(Math.tan((Math.PI / 4) + (lat / 2.5))) * 1.25;

  p.x = x;
  p.y = y;
  return p;
};

/* Miller Cylindrical inverse equations--mapping x,y to lat/long
    ------------------------------------------------------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;

  var lon = adjust_lon(this.long0 + p.x / this.a);
  var lat = 2.5 * (Math.atan(Math.exp(0.8 * p.y / this.a)) - Math.PI / 4);

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Miller_Cylindrical", "mill"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/moll.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/moll.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var EPSLN = 1.0e-10;
exports.init = function() {};

/* Mollweide forward equations--mapping lat,long to x,y
    ----------------------------------------------------*/
exports.forward = function(p) {

  /* Forward equations
      -----------------*/
  var lon = p.x;
  var lat = p.y;

  var delta_lon = adjust_lon(lon - this.long0);
  var theta = lat;
  var con = Math.PI * Math.sin(lat);

  /* Iterate using the Newton-Raphson method to find theta
      -----------------------------------------------------*/
  for (var i = 0; true; i++) {
    var delta_theta = -(theta + Math.sin(theta) - con) / (1 + Math.cos(theta));
    theta += delta_theta;
    if (Math.abs(delta_theta) < EPSLN) {
      break;
    }
  }
  theta /= 2;

  /* If the latitude is 90 deg, force the x coordinate to be "0 + false easting"
       this is done here because of precision problems with "cos(theta)"
       --------------------------------------------------------------------------*/
  if (Math.PI / 2 - Math.abs(lat) < EPSLN) {
    delta_lon = 0;
  }
  var x = 0.900316316158 * this.a * delta_lon * Math.cos(theta) + this.x0;
  var y = 1.4142135623731 * this.a * Math.sin(theta) + this.y0;

  p.x = x;
  p.y = y;
  return p;
};

exports.inverse = function(p) {
  var theta;
  var arg;

  /* Inverse equations
      -----------------*/
  p.x -= this.x0;
  p.y -= this.y0;
  arg = p.y / (1.4142135623731 * this.a);

  /* Because of division by zero problems, 'arg' can not be 1.  Therefore
       a number very close to one is used instead.
       -------------------------------------------------------------------*/
  if (Math.abs(arg) > 0.999999999999) {
    arg = 0.999999999999;
  }
  theta = Math.asin(arg);
  var lon = adjust_lon(this.long0 + (p.x / (0.900316316158 * this.a * Math.cos(theta))));
  if (lon < (-Math.PI)) {
    lon = -Math.PI;
  }
  if (lon > Math.PI) {
    lon = Math.PI;
  }
  arg = (2 * theta + Math.sin(2 * theta)) / Math.PI;
  if (Math.abs(arg) > 1) {
    arg = 1;
  }
  var lat = Math.asin(arg);

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Mollweide", "moll"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/nzmg.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/nzmg.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var SEC_TO_RAD = 4.84813681109535993589914102357e-6;
/*
  reference
    Department of Land and Survey Technical Circular 1973/32
      http://www.linz.govt.nz/docs/miscellaneous/nz-map-definition.pdf
    OSG Technical Report 4.1
      http://www.linz.govt.nz/docs/miscellaneous/nzmg.pdf
  */

/**
 * iterations: Number of iterations to refine inverse transform.
 *     0 -> km accuracy
 *     1 -> m accuracy -- suitable for most mapping applications
 *     2 -> mm accuracy
 */
exports.iterations = 1;

exports.init = function() {
  this.A = [];
  this.A[1] = 0.6399175073;
  this.A[2] = -0.1358797613;
  this.A[3] = 0.063294409;
  this.A[4] = -0.02526853;
  this.A[5] = 0.0117879;
  this.A[6] = -0.0055161;
  this.A[7] = 0.0026906;
  this.A[8] = -0.001333;
  this.A[9] = 0.00067;
  this.A[10] = -0.00034;

  this.B_re = [];
  this.B_im = [];
  this.B_re[1] = 0.7557853228;
  this.B_im[1] = 0;
  this.B_re[2] = 0.249204646;
  this.B_im[2] = 0.003371507;
  this.B_re[3] = -0.001541739;
  this.B_im[3] = 0.041058560;
  this.B_re[4] = -0.10162907;
  this.B_im[4] = 0.01727609;
  this.B_re[5] = -0.26623489;
  this.B_im[5] = -0.36249218;
  this.B_re[6] = -0.6870983;
  this.B_im[6] = -1.1651967;

  this.C_re = [];
  this.C_im = [];
  this.C_re[1] = 1.3231270439;
  this.C_im[1] = 0;
  this.C_re[2] = -0.577245789;
  this.C_im[2] = -0.007809598;
  this.C_re[3] = 0.508307513;
  this.C_im[3] = -0.112208952;
  this.C_re[4] = -0.15094762;
  this.C_im[4] = 0.18200602;
  this.C_re[5] = 1.01418179;
  this.C_im[5] = 1.64497696;
  this.C_re[6] = 1.9660549;
  this.C_im[6] = 2.5127645;

  this.D = [];
  this.D[1] = 1.5627014243;
  this.D[2] = 0.5185406398;
  this.D[3] = -0.03333098;
  this.D[4] = -0.1052906;
  this.D[5] = -0.0368594;
  this.D[6] = 0.007317;
  this.D[7] = 0.01220;
  this.D[8] = 0.00394;
  this.D[9] = -0.0013;
};

/**
    New Zealand Map Grid Forward  - long/lat to x/y
    long/lat in radians
  */
exports.forward = function(p) {
  var n;
  var lon = p.x;
  var lat = p.y;

  var delta_lat = lat - this.lat0;
  var delta_lon = lon - this.long0;

  // 1. Calculate d_phi and d_psi    ...                          // and d_lambda
  // For this algorithm, delta_latitude is in seconds of arc x 10-5, so we need to scale to those units. Longitude is radians.
  var d_phi = delta_lat / SEC_TO_RAD * 1E-5;
  var d_lambda = delta_lon;
  var d_phi_n = 1; // d_phi^0

  var d_psi = 0;
  for (n = 1; n <= 10; n++) {
    d_phi_n = d_phi_n * d_phi;
    d_psi = d_psi + this.A[n] * d_phi_n;
  }

  // 2. Calculate theta
  var th_re = d_psi;
  var th_im = d_lambda;

  // 3. Calculate z
  var th_n_re = 1;
  var th_n_im = 0; // theta^0
  var th_n_re1;
  var th_n_im1;

  var z_re = 0;
  var z_im = 0;
  for (n = 1; n <= 6; n++) {
    th_n_re1 = th_n_re * th_re - th_n_im * th_im;
    th_n_im1 = th_n_im * th_re + th_n_re * th_im;
    th_n_re = th_n_re1;
    th_n_im = th_n_im1;
    z_re = z_re + this.B_re[n] * th_n_re - this.B_im[n] * th_n_im;
    z_im = z_im + this.B_im[n] * th_n_re + this.B_re[n] * th_n_im;
  }

  // 4. Calculate easting and northing
  p.x = (z_im * this.a) + this.x0;
  p.y = (z_re * this.a) + this.y0;

  return p;
};


/**
    New Zealand Map Grid Inverse  -  x/y to long/lat
  */
exports.inverse = function(p) {
  var n;
  var x = p.x;
  var y = p.y;

  var delta_x = x - this.x0;
  var delta_y = y - this.y0;

  // 1. Calculate z
  var z_re = delta_y / this.a;
  var z_im = delta_x / this.a;

  // 2a. Calculate theta - first approximation gives km accuracy
  var z_n_re = 1;
  var z_n_im = 0; // z^0
  var z_n_re1;
  var z_n_im1;

  var th_re = 0;
  var th_im = 0;
  for (n = 1; n <= 6; n++) {
    z_n_re1 = z_n_re * z_re - z_n_im * z_im;
    z_n_im1 = z_n_im * z_re + z_n_re * z_im;
    z_n_re = z_n_re1;
    z_n_im = z_n_im1;
    th_re = th_re + this.C_re[n] * z_n_re - this.C_im[n] * z_n_im;
    th_im = th_im + this.C_im[n] * z_n_re + this.C_re[n] * z_n_im;
  }

  // 2b. Iterate to refine the accuracy of the calculation
  //        0 iterations gives km accuracy
  //        1 iteration gives m accuracy -- good enough for most mapping applications
  //        2 iterations bives mm accuracy
  for (var i = 0; i < this.iterations; i++) {
    var th_n_re = th_re;
    var th_n_im = th_im;
    var th_n_re1;
    var th_n_im1;

    var num_re = z_re;
    var num_im = z_im;
    for (n = 2; n <= 6; n++) {
      th_n_re1 = th_n_re * th_re - th_n_im * th_im;
      th_n_im1 = th_n_im * th_re + th_n_re * th_im;
      th_n_re = th_n_re1;
      th_n_im = th_n_im1;
      num_re = num_re + (n - 1) * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);
      num_im = num_im + (n - 1) * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);
    }

    th_n_re = 1;
    th_n_im = 0;
    var den_re = this.B_re[1];
    var den_im = this.B_im[1];
    for (n = 2; n <= 6; n++) {
      th_n_re1 = th_n_re * th_re - th_n_im * th_im;
      th_n_im1 = th_n_im * th_re + th_n_re * th_im;
      th_n_re = th_n_re1;
      th_n_im = th_n_im1;
      den_re = den_re + n * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);
      den_im = den_im + n * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);
    }

    // Complex division
    var den2 = den_re * den_re + den_im * den_im;
    th_re = (num_re * den_re + num_im * den_im) / den2;
    th_im = (num_im * den_re - num_re * den_im) / den2;
  }

  // 3. Calculate d_phi              ...                                    // and d_lambda
  var d_psi = th_re;
  var d_lambda = th_im;
  var d_psi_n = 1; // d_psi^0

  var d_phi = 0;
  for (n = 1; n <= 9; n++) {
    d_psi_n = d_psi_n * d_psi;
    d_phi = d_phi + this.D[n] * d_psi_n;
  }

  // 4. Calculate latitude and longitude
  // d_phi is calcuated in second of arc * 10^-5, so we need to scale back to radians. d_lambda is in radians.
  var lat = this.lat0 + (d_phi * SEC_TO_RAD * 1E5);
  var lon = this.long0 + d_lambda;

  p.x = lon;
  p.y = lat;

  return p;
};
exports.names = ["New_Zealand_Map_Grid", "nzmg"];

/***/ }),

/***/ "./node_modules/proj4/lib/projections/omerc.js":
/*!*****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/omerc.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var tsfnz = __webpack_require__(/*! ../common/tsfnz */ "./node_modules/proj4/lib/common/tsfnz.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var phi2z = __webpack_require__(/*! ../common/phi2z */ "./node_modules/proj4/lib/common/phi2z.js");
var HALF_PI = Math.PI/2;
var FORTPI = Math.PI/4;
var EPSLN = 1.0e-10;

/* Initialize the Oblique Mercator  projection
    ------------------------------------------*/
exports.init = function() {
  this.no_off = this.no_off || false;
  this.no_rot = this.no_rot || false;

  if (isNaN(this.k0)) {
    this.k0 = 1;
  }
  var sinlat = Math.sin(this.lat0);
  var coslat = Math.cos(this.lat0);
  var con = this.e * sinlat;

  this.bl = Math.sqrt(1 + this.es / (1 - this.es) * Math.pow(coslat, 4));
  this.al = this.a * this.bl * this.k0 * Math.sqrt(1 - this.es) / (1 - con * con);
  var t0 = tsfnz(this.e, this.lat0, sinlat);
  var dl = this.bl / coslat * Math.sqrt((1 - this.es) / (1 - con * con));
  if (dl * dl < 1) {
    dl = 1;
  }
  var fl;
  var gl;
  if (!isNaN(this.longc)) {
    //Central point and azimuth method

    if (this.lat0 >= 0) {
      fl = dl + Math.sqrt(dl * dl - 1);
    }
    else {
      fl = dl - Math.sqrt(dl * dl - 1);
    }
    this.el = fl * Math.pow(t0, this.bl);
    gl = 0.5 * (fl - 1 / fl);
    this.gamma0 = Math.asin(Math.sin(this.alpha) / dl);
    this.long0 = this.longc - Math.asin(gl * Math.tan(this.gamma0)) / this.bl;

  }
  else {
    //2 points method
    var t1 = tsfnz(this.e, this.lat1, Math.sin(this.lat1));
    var t2 = tsfnz(this.e, this.lat2, Math.sin(this.lat2));
    if (this.lat0 >= 0) {
      this.el = (dl + Math.sqrt(dl * dl - 1)) * Math.pow(t0, this.bl);
    }
    else {
      this.el = (dl - Math.sqrt(dl * dl - 1)) * Math.pow(t0, this.bl);
    }
    var hl = Math.pow(t1, this.bl);
    var ll = Math.pow(t2, this.bl);
    fl = this.el / hl;
    gl = 0.5 * (fl - 1 / fl);
    var jl = (this.el * this.el - ll * hl) / (this.el * this.el + ll * hl);
    var pl = (ll - hl) / (ll + hl);
    var dlon12 = adjust_lon(this.long1 - this.long2);
    this.long0 = 0.5 * (this.long1 + this.long2) - Math.atan(jl * Math.tan(0.5 * this.bl * (dlon12)) / pl) / this.bl;
    this.long0 = adjust_lon(this.long0);
    var dlon10 = adjust_lon(this.long1 - this.long0);
    this.gamma0 = Math.atan(Math.sin(this.bl * (dlon10)) / gl);
    this.alpha = Math.asin(dl * Math.sin(this.gamma0));
  }

  if (this.no_off) {
    this.uc = 0;
  }
  else {
    if (this.lat0 >= 0) {
      this.uc = this.al / this.bl * Math.atan2(Math.sqrt(dl * dl - 1), Math.cos(this.alpha));
    }
    else {
      this.uc = -1 * this.al / this.bl * Math.atan2(Math.sqrt(dl * dl - 1), Math.cos(this.alpha));
    }
  }

};


/* Oblique Mercator forward equations--mapping lat,long to x,y
    ----------------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var dlon = adjust_lon(lon - this.long0);
  var us, vs;
  var con;
  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {
    if (lat > 0) {
      con = -1;
    }
    else {
      con = 1;
    }
    vs = this.al / this.bl * Math.log(Math.tan(FORTPI + con * this.gamma0 * 0.5));
    us = -1 * con * HALF_PI * this.al / this.bl;
  }
  else {
    var t = tsfnz(this.e, lat, Math.sin(lat));
    var ql = this.el / Math.pow(t, this.bl);
    var sl = 0.5 * (ql - 1 / ql);
    var tl = 0.5 * (ql + 1 / ql);
    var vl = Math.sin(this.bl * (dlon));
    var ul = (sl * Math.sin(this.gamma0) - vl * Math.cos(this.gamma0)) / tl;
    if (Math.abs(Math.abs(ul) - 1) <= EPSLN) {
      vs = Number.POSITIVE_INFINITY;
    }
    else {
      vs = 0.5 * this.al * Math.log((1 - ul) / (1 + ul)) / this.bl;
    }
    if (Math.abs(Math.cos(this.bl * (dlon))) <= EPSLN) {
      us = this.al * this.bl * (dlon);
    }
    else {
      us = this.al * Math.atan2(sl * Math.cos(this.gamma0) + vl * Math.sin(this.gamma0), Math.cos(this.bl * dlon)) / this.bl;
    }
  }

  if (this.no_rot) {
    p.x = this.x0 + us;
    p.y = this.y0 + vs;
  }
  else {

    us -= this.uc;
    p.x = this.x0 + vs * Math.cos(this.alpha) + us * Math.sin(this.alpha);
    p.y = this.y0 + us * Math.cos(this.alpha) - vs * Math.sin(this.alpha);
  }
  return p;
};

exports.inverse = function(p) {
  var us, vs;
  if (this.no_rot) {
    vs = p.y - this.y0;
    us = p.x - this.x0;
  }
  else {
    vs = (p.x - this.x0) * Math.cos(this.alpha) - (p.y - this.y0) * Math.sin(this.alpha);
    us = (p.y - this.y0) * Math.cos(this.alpha) + (p.x - this.x0) * Math.sin(this.alpha);
    us += this.uc;
  }
  var qp = Math.exp(-1 * this.bl * vs / this.al);
  var sp = 0.5 * (qp - 1 / qp);
  var tp = 0.5 * (qp + 1 / qp);
  var vp = Math.sin(this.bl * us / this.al);
  var up = (vp * Math.cos(this.gamma0) + sp * Math.sin(this.gamma0)) / tp;
  var ts = Math.pow(this.el / Math.sqrt((1 + up) / (1 - up)), 1 / this.bl);
  if (Math.abs(up - 1) < EPSLN) {
    p.x = this.long0;
    p.y = HALF_PI;
  }
  else if (Math.abs(up + 1) < EPSLN) {
    p.x = this.long0;
    p.y = -1 * HALF_PI;
  }
  else {
    p.y = phi2z(this.e, ts);
    p.x = adjust_lon(this.long0 - Math.atan2(sp * Math.cos(this.gamma0) - vp * Math.sin(this.gamma0), Math.cos(this.bl * us / this.al)) / this.bl);
  }
  return p;
};

exports.names = ["Hotine_Oblique_Mercator", "Hotine Oblique Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin", "Hotine_Oblique_Mercator_Azimuth_Center", "omerc"];

/***/ }),

/***/ "./node_modules/proj4/lib/projections/poly.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/poly.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var e0fn = __webpack_require__(/*! ../common/e0fn */ "./node_modules/proj4/lib/common/e0fn.js");
var e1fn = __webpack_require__(/*! ../common/e1fn */ "./node_modules/proj4/lib/common/e1fn.js");
var e2fn = __webpack_require__(/*! ../common/e2fn */ "./node_modules/proj4/lib/common/e2fn.js");
var e3fn = __webpack_require__(/*! ../common/e3fn */ "./node_modules/proj4/lib/common/e3fn.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var adjust_lat = __webpack_require__(/*! ../common/adjust_lat */ "./node_modules/proj4/lib/common/adjust_lat.js");
var mlfn = __webpack_require__(/*! ../common/mlfn */ "./node_modules/proj4/lib/common/mlfn.js");
var EPSLN = 1.0e-10;
var gN = __webpack_require__(/*! ../common/gN */ "./node_modules/proj4/lib/common/gN.js");
var MAX_ITER = 20;
exports.init = function() {
  /* Place parameters in static storage for common use
      -------------------------------------------------*/
  this.temp = this.b / this.a;
  this.es = 1 - Math.pow(this.temp, 2); // devait etre dans tmerc.js mais n y est pas donc je commente sinon retour de valeurs nulles
  this.e = Math.sqrt(this.es);
  this.e0 = e0fn(this.es);
  this.e1 = e1fn(this.es);
  this.e2 = e2fn(this.es);
  this.e3 = e3fn(this.es);
  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0); //si que des zeros le calcul ne se fait pas
};


/* Polyconic forward equations--mapping lat,long to x,y
    ---------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var x, y, el;
  var dlon = adjust_lon(lon - this.long0);
  el = dlon * Math.sin(lat);
  if (this.sphere) {
    if (Math.abs(lat) <= EPSLN) {
      x = this.a * dlon;
      y = -1 * this.a * this.lat0;
    }
    else {
      x = this.a * Math.sin(el) / Math.tan(lat);
      y = this.a * (adjust_lat(lat - this.lat0) + (1 - Math.cos(el)) / Math.tan(lat));
    }
  }
  else {
    if (Math.abs(lat) <= EPSLN) {
      x = this.a * dlon;
      y = -1 * this.ml0;
    }
    else {
      var nl = gN(this.a, this.e, Math.sin(lat)) / Math.tan(lat);
      x = nl * Math.sin(el);
      y = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat) - this.ml0 + nl * (1 - Math.cos(el));
    }

  }
  p.x = x + this.x0;
  p.y = y + this.y0;
  return p;
};


/* Inverse equations
  -----------------*/
exports.inverse = function(p) {
  var lon, lat, x, y, i;
  var al, bl;
  var phi, dphi;
  x = p.x - this.x0;
  y = p.y - this.y0;

  if (this.sphere) {
    if (Math.abs(y + this.a * this.lat0) <= EPSLN) {
      lon = adjust_lon(x / this.a + this.long0);
      lat = 0;
    }
    else {
      al = this.lat0 + y / this.a;
      bl = x * x / this.a / this.a + al * al;
      phi = al;
      var tanphi;
      for (i = MAX_ITER; i; --i) {
        tanphi = Math.tan(phi);
        dphi = -1 * (al * (phi * tanphi + 1) - phi - 0.5 * (phi * phi + bl) * tanphi) / ((phi - al) / tanphi - 1);
        phi += dphi;
        if (Math.abs(dphi) <= EPSLN) {
          lat = phi;
          break;
        }
      }
      lon = adjust_lon(this.long0 + (Math.asin(x * Math.tan(phi) / this.a)) / Math.sin(lat));
    }
  }
  else {
    if (Math.abs(y + this.ml0) <= EPSLN) {
      lat = 0;
      lon = adjust_lon(this.long0 + x / this.a);
    }
    else {

      al = (this.ml0 + y) / this.a;
      bl = x * x / this.a / this.a + al * al;
      phi = al;
      var cl, mln, mlnp, ma;
      var con;
      for (i = MAX_ITER; i; --i) {
        con = this.e * Math.sin(phi);
        cl = Math.sqrt(1 - con * con) * Math.tan(phi);
        mln = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);
        mlnp = this.e0 - 2 * this.e1 * Math.cos(2 * phi) + 4 * this.e2 * Math.cos(4 * phi) - 6 * this.e3 * Math.cos(6 * phi);
        ma = mln / this.a;
        dphi = (al * (cl * ma + 1) - ma - 0.5 * cl * (ma * ma + bl)) / (this.es * Math.sin(2 * phi) * (ma * ma + bl - 2 * al * ma) / (4 * cl) + (al - ma) * (cl * mlnp - 2 / Math.sin(2 * phi)) - mlnp);
        phi -= dphi;
        if (Math.abs(dphi) <= EPSLN) {
          lat = phi;
          break;
        }
      }

      //lat=phi4z(this.e,this.e0,this.e1,this.e2,this.e3,al,bl,0,0);
      cl = Math.sqrt(1 - this.es * Math.pow(Math.sin(lat), 2)) * Math.tan(lat);
      lon = adjust_lon(this.long0 + Math.asin(x * cl / this.a) / Math.sin(lat));
    }
  }

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Polyconic", "poly"];

/***/ }),

/***/ "./node_modules/proj4/lib/projections/sinu.js":
/*!****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/sinu.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var adjust_lat = __webpack_require__(/*! ../common/adjust_lat */ "./node_modules/proj4/lib/common/adjust_lat.js");
var pj_enfn = __webpack_require__(/*! ../common/pj_enfn */ "./node_modules/proj4/lib/common/pj_enfn.js");
var MAX_ITER = 20;
var pj_mlfn = __webpack_require__(/*! ../common/pj_mlfn */ "./node_modules/proj4/lib/common/pj_mlfn.js");
var pj_inv_mlfn = __webpack_require__(/*! ../common/pj_inv_mlfn */ "./node_modules/proj4/lib/common/pj_inv_mlfn.js");
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var asinz = __webpack_require__(/*! ../common/asinz */ "./node_modules/proj4/lib/common/asinz.js");
exports.init = function() {
  /* Place parameters in static storage for common use
    -------------------------------------------------*/


  if (!this.sphere) {
    this.en = pj_enfn(this.es);
  }
  else {
    this.n = 1;
    this.m = 0;
    this.es = 0;
    this.C_y = Math.sqrt((this.m + 1) / this.n);
    this.C_x = this.C_y / (this.m + 1);
  }

};

/* Sinusoidal forward equations--mapping lat,long to x,y
  -----------------------------------------------------*/
exports.forward = function(p) {
  var x, y;
  var lon = p.x;
  var lat = p.y;
  /* Forward equations
    -----------------*/
  lon = adjust_lon(lon - this.long0);

  if (this.sphere) {
    if (!this.m) {
      lat = this.n !== 1 ? Math.asin(this.n * Math.sin(lat)) : lat;
    }
    else {
      var k = this.n * Math.sin(lat);
      for (var i = MAX_ITER; i; --i) {
        var V = (this.m * lat + Math.sin(lat) - k) / (this.m + Math.cos(lat));
        lat -= V;
        if (Math.abs(V) < EPSLN) {
          break;
        }
      }
    }
    x = this.a * this.C_x * lon * (this.m + Math.cos(lat));
    y = this.a * this.C_y * lat;

  }
  else {

    var s = Math.sin(lat);
    var c = Math.cos(lat);
    y = this.a * pj_mlfn(lat, s, c, this.en);
    x = this.a * lon * c / Math.sqrt(1 - this.es * s * s);
  }

  p.x = x;
  p.y = y;
  return p;
};

exports.inverse = function(p) {
  var lat, temp, lon, s;

  p.x -= this.x0;
  lon = p.x / this.a;
  p.y -= this.y0;
  lat = p.y / this.a;

  if (this.sphere) {
    lat /= this.C_y;
    lon = lon / (this.C_x * (this.m + Math.cos(lat)));
    if (this.m) {
      lat = asinz((this.m * lat + Math.sin(lat)) / this.n);
    }
    else if (this.n !== 1) {
      lat = asinz(Math.sin(lat) / this.n);
    }
    lon = adjust_lon(lon + this.long0);
    lat = adjust_lat(lat);
  }
  else {
    lat = pj_inv_mlfn(p.y / this.a, this.es, this.en);
    s = Math.abs(lat);
    if (s < HALF_PI) {
      s = Math.sin(lat);
      temp = this.long0 + p.x * Math.sqrt(1 - this.es * s * s) / (this.a * Math.cos(lat));
      //temp = this.long0 + p.x / (this.a * Math.cos(lat));
      lon = adjust_lon(temp);
    }
    else if ((s - EPSLN) < HALF_PI) {
      lon = this.long0;
    }
  }
  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Sinusoidal", "sinu"];

/***/ }),

/***/ "./node_modules/proj4/lib/projections/somerc.js":
/*!******************************************************!*\
  !*** ./node_modules/proj4/lib/projections/somerc.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
  references:
    Formules et constantes pour le Calcul pour la
    projection cylindrique conforme à axe oblique et pour la transformation entre
    des systèmes de référence.
    http://www.swisstopo.admin.ch/internet/swisstopo/fr/home/topics/survey/sys/refsys/switzerland.parsysrelated1.31216.downloadList.77004.DownloadFile.tmp/swissprojectionfr.pdf
  */
exports.init = function() {
  var phy0 = this.lat0;
  this.lambda0 = this.long0;
  var sinPhy0 = Math.sin(phy0);
  var semiMajorAxis = this.a;
  var invF = this.rf;
  var flattening = 1 / invF;
  var e2 = 2 * flattening - Math.pow(flattening, 2);
  var e = this.e = Math.sqrt(e2);
  this.R = this.k0 * semiMajorAxis * Math.sqrt(1 - e2) / (1 - e2 * Math.pow(sinPhy0, 2));
  this.alpha = Math.sqrt(1 + e2 / (1 - e2) * Math.pow(Math.cos(phy0), 4));
  this.b0 = Math.asin(sinPhy0 / this.alpha);
  var k1 = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));
  var k2 = Math.log(Math.tan(Math.PI / 4 + phy0 / 2));
  var k3 = Math.log((1 + e * sinPhy0) / (1 - e * sinPhy0));
  this.K = k1 - this.alpha * k2 + this.alpha * e / 2 * k3;
};


exports.forward = function(p) {
  var Sa1 = Math.log(Math.tan(Math.PI / 4 - p.y / 2));
  var Sa2 = this.e / 2 * Math.log((1 + this.e * Math.sin(p.y)) / (1 - this.e * Math.sin(p.y)));
  var S = -this.alpha * (Sa1 + Sa2) + this.K;

  // spheric latitude
  var b = 2 * (Math.atan(Math.exp(S)) - Math.PI / 4);

  // spheric longitude
  var I = this.alpha * (p.x - this.lambda0);

  // psoeudo equatorial rotation
  var rotI = Math.atan(Math.sin(I) / (Math.sin(this.b0) * Math.tan(b) + Math.cos(this.b0) * Math.cos(I)));

  var rotB = Math.asin(Math.cos(this.b0) * Math.sin(b) - Math.sin(this.b0) * Math.cos(b) * Math.cos(I));

  p.y = this.R / 2 * Math.log((1 + Math.sin(rotB)) / (1 - Math.sin(rotB))) + this.y0;
  p.x = this.R * rotI + this.x0;
  return p;
};

exports.inverse = function(p) {
  var Y = p.x - this.x0;
  var X = p.y - this.y0;

  var rotI = Y / this.R;
  var rotB = 2 * (Math.atan(Math.exp(X / this.R)) - Math.PI / 4);

  var b = Math.asin(Math.cos(this.b0) * Math.sin(rotB) + Math.sin(this.b0) * Math.cos(rotB) * Math.cos(rotI));
  var I = Math.atan(Math.sin(rotI) / (Math.cos(this.b0) * Math.cos(rotI) - Math.sin(this.b0) * Math.tan(rotB)));

  var lambda = this.lambda0 + I / this.alpha;

  var S = 0;
  var phy = b;
  var prevPhy = -1000;
  var iteration = 0;
  while (Math.abs(phy - prevPhy) > 0.0000001) {
    if (++iteration > 20) {
      //...reportError("omercFwdInfinity");
      return;
    }
    //S = Math.log(Math.tan(Math.PI / 4 + phy / 2));
    S = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + b / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(phy)) / 2));
    prevPhy = phy;
    phy = 2 * Math.atan(Math.exp(S)) - Math.PI / 2;
  }

  p.x = lambda;
  p.y = phy;
  return p;
};

exports.names = ["somerc"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/stere.js":
/*!*****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/stere.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var sign = __webpack_require__(/*! ../common/sign */ "./node_modules/proj4/lib/common/sign.js");
var msfnz = __webpack_require__(/*! ../common/msfnz */ "./node_modules/proj4/lib/common/msfnz.js");
var tsfnz = __webpack_require__(/*! ../common/tsfnz */ "./node_modules/proj4/lib/common/tsfnz.js");
var phi2z = __webpack_require__(/*! ../common/phi2z */ "./node_modules/proj4/lib/common/phi2z.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
exports.ssfn_ = function(phit, sinphi, eccen) {
  sinphi *= eccen;
  return (Math.tan(0.5 * (HALF_PI + phit)) * Math.pow((1 - sinphi) / (1 + sinphi), 0.5 * eccen));
};

exports.init = function() {
  this.coslat0 = Math.cos(this.lat0);
  this.sinlat0 = Math.sin(this.lat0);
  if (this.sphere) {
    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {
      this.k0 = 0.5 * (1 + sign(this.lat0) * Math.sin(this.lat_ts));
    }
  }
  else {
    if (Math.abs(this.coslat0) <= EPSLN) {
      if (this.lat0 > 0) {
        //North pole
        //trace('stere:north pole');
        this.con = 1;
      }
      else {
        //South pole
        //trace('stere:south pole');
        this.con = -1;
      }
    }
    this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));
    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {
      this.k0 = 0.5 * this.cons * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));
    }
    this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);
    this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - HALF_PI;
    this.cosX0 = Math.cos(this.X0);
    this.sinX0 = Math.sin(this.X0);
  }
};

// Stereographic forward equations--mapping lat,long to x,y
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var sinlat = Math.sin(lat);
  var coslat = Math.cos(lat);
  var A, X, sinX, cosX, ts, rh;
  var dlon = adjust_lon(lon - this.long0);

  if (Math.abs(Math.abs(lon - this.long0) - Math.PI) <= EPSLN && Math.abs(lat + this.lat0) <= EPSLN) {
    //case of the origine point
    //trace('stere:this is the origin point');
    p.x = NaN;
    p.y = NaN;
    return p;
  }
  if (this.sphere) {
    //trace('stere:sphere case');
    A = 2 * this.k0 / (1 + this.sinlat0 * sinlat + this.coslat0 * coslat * Math.cos(dlon));
    p.x = this.a * A * coslat * Math.sin(dlon) + this.x0;
    p.y = this.a * A * (this.coslat0 * sinlat - this.sinlat0 * coslat * Math.cos(dlon)) + this.y0;
    return p;
  }
  else {
    X = 2 * Math.atan(this.ssfn_(lat, sinlat, this.e)) - HALF_PI;
    cosX = Math.cos(X);
    sinX = Math.sin(X);
    if (Math.abs(this.coslat0) <= EPSLN) {
      ts = tsfnz(this.e, lat * this.con, this.con * sinlat);
      rh = 2 * this.a * this.k0 * ts / this.cons;
      p.x = this.x0 + rh * Math.sin(lon - this.long0);
      p.y = this.y0 - this.con * rh * Math.cos(lon - this.long0);
      //trace(p.toString());
      return p;
    }
    else if (Math.abs(this.sinlat0) < EPSLN) {
      //Eq
      //trace('stere:equateur');
      A = 2 * this.a * this.k0 / (1 + cosX * Math.cos(dlon));
      p.y = A * sinX;
    }
    else {
      //other case
      //trace('stere:normal case');
      A = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * sinX + this.cosX0 * cosX * Math.cos(dlon)));
      p.y = A * (this.cosX0 * sinX - this.sinX0 * cosX * Math.cos(dlon)) + this.y0;
    }
    p.x = A * cosX * Math.sin(dlon) + this.x0;
  }
  //trace(p.toString());
  return p;
};


//* Stereographic inverse equations--mapping x,y to lat/long
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var lon, lat, ts, ce, Chi;
  var rh = Math.sqrt(p.x * p.x + p.y * p.y);
  if (this.sphere) {
    var c = 2 * Math.atan(rh / (0.5 * this.a * this.k0));
    lon = this.long0;
    lat = this.lat0;
    if (rh <= EPSLN) {
      p.x = lon;
      p.y = lat;
      return p;
    }
    lat = Math.asin(Math.cos(c) * this.sinlat0 + p.y * Math.sin(c) * this.coslat0 / rh);
    if (Math.abs(this.coslat0) < EPSLN) {
      if (this.lat0 > 0) {
        lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));
      }
      else {
        lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));
      }
    }
    else {
      lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(c), rh * this.coslat0 * Math.cos(c) - p.y * this.sinlat0 * Math.sin(c)));
    }
    p.x = lon;
    p.y = lat;
    return p;
  }
  else {
    if (Math.abs(this.coslat0) <= EPSLN) {
      if (rh <= EPSLN) {
        lat = this.lat0;
        lon = this.long0;
        p.x = lon;
        p.y = lat;
        //trace(p.toString());
        return p;
      }
      p.x *= this.con;
      p.y *= this.con;
      ts = rh * this.cons / (2 * this.a * this.k0);
      lat = this.con * phi2z(this.e, ts);
      lon = this.con * adjust_lon(this.con * this.long0 + Math.atan2(p.x, - 1 * p.y));
    }
    else {
      ce = 2 * Math.atan(rh * this.cosX0 / (2 * this.a * this.k0 * this.ms1));
      lon = this.long0;
      if (rh <= EPSLN) {
        Chi = this.X0;
      }
      else {
        Chi = Math.asin(Math.cos(ce) * this.sinX0 + p.y * Math.sin(ce) * this.cosX0 / rh);
        lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(ce), rh * this.cosX0 * Math.cos(ce) - p.y * this.sinX0 * Math.sin(ce)));
      }
      lat = -1 * phi2z(this.e, Math.tan(0.5 * (HALF_PI + Chi)));
    }
  }
  p.x = lon;
  p.y = lat;

  //trace(p.toString());
  return p;

};
exports.names = ["stere", "Stereographic_South_Pole", "Polar Stereographic (variant B)"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/sterea.js":
/*!******************************************************!*\
  !*** ./node_modules/proj4/lib/projections/sterea.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var gauss = __webpack_require__(/*! ./gauss */ "./node_modules/proj4/lib/projections/gauss.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
exports.init = function() {
  gauss.init.apply(this);
  if (!this.rc) {
    return;
  }
  this.sinc0 = Math.sin(this.phic0);
  this.cosc0 = Math.cos(this.phic0);
  this.R2 = 2 * this.rc;
  if (!this.title) {
    this.title = "Oblique Stereographic Alternative";
  }
};

exports.forward = function(p) {
  var sinc, cosc, cosl, k;
  p.x = adjust_lon(p.x - this.long0);
  gauss.forward.apply(this, [p]);
  sinc = Math.sin(p.y);
  cosc = Math.cos(p.y);
  cosl = Math.cos(p.x);
  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);
  p.x = k * cosc * Math.sin(p.x);
  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);
  p.x = this.a * p.x + this.x0;
  p.y = this.a * p.y + this.y0;
  return p;
};

exports.inverse = function(p) {
  var sinc, cosc, lon, lat, rho;
  p.x = (p.x - this.x0) / this.a;
  p.y = (p.y - this.y0) / this.a;

  p.x /= this.k0;
  p.y /= this.k0;
  if ((rho = Math.sqrt(p.x * p.x + p.y * p.y))) {
    var c = 2 * Math.atan2(rho, this.R2);
    sinc = Math.sin(c);
    cosc = Math.cos(c);
    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);
    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);
  }
  else {
    lat = this.phic0;
    lon = 0;
  }

  p.x = lon;
  p.y = lat;
  gauss.inverse.apply(this, [p]);
  p.x = adjust_lon(p.x + this.long0);
  return p;
};

exports.names = ["Stereographic_North_Pole", "Oblique_Stereographic", "Polar_Stereographic", "sterea","Oblique Stereographic Alternative"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/tmerc.js":
/*!*****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/tmerc.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var e0fn = __webpack_require__(/*! ../common/e0fn */ "./node_modules/proj4/lib/common/e0fn.js");
var e1fn = __webpack_require__(/*! ../common/e1fn */ "./node_modules/proj4/lib/common/e1fn.js");
var e2fn = __webpack_require__(/*! ../common/e2fn */ "./node_modules/proj4/lib/common/e2fn.js");
var e3fn = __webpack_require__(/*! ../common/e3fn */ "./node_modules/proj4/lib/common/e3fn.js");
var mlfn = __webpack_require__(/*! ../common/mlfn */ "./node_modules/proj4/lib/common/mlfn.js");
var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var sign = __webpack_require__(/*! ../common/sign */ "./node_modules/proj4/lib/common/sign.js");
var asinz = __webpack_require__(/*! ../common/asinz */ "./node_modules/proj4/lib/common/asinz.js");

exports.init = function() {
  this.e0 = e0fn(this.es);
  this.e1 = e1fn(this.es);
  this.e2 = e2fn(this.es);
  this.e3 = e3fn(this.es);
  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
};

/**
    Transverse Mercator Forward  - long/lat to x/y
    long/lat in radians
  */
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;

  var delta_lon = adjust_lon(lon - this.long0);
  var con;
  var x, y;
  var sin_phi = Math.sin(lat);
  var cos_phi = Math.cos(lat);

  if (this.sphere) {
    var b = cos_phi * Math.sin(delta_lon);
    if ((Math.abs(Math.abs(b) - 1)) < 0.0000000001) {
      return (93);
    }
    else {
      x = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b));
      con = Math.acos(cos_phi * Math.cos(delta_lon) / Math.sqrt(1 - b * b));
      if (lat < 0) {
        con = -con;
      }
      y = this.a * this.k0 * (con - this.lat0);
    }
  }
  else {
    var al = cos_phi * delta_lon;
    var als = Math.pow(al, 2);
    var c = this.ep2 * Math.pow(cos_phi, 2);
    var tq = Math.tan(lat);
    var t = Math.pow(tq, 2);
    con = 1 - this.es * Math.pow(sin_phi, 2);
    var n = this.a / Math.sqrt(con);
    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat);

    x = this.k0 * n * al * (1 + als / 6 * (1 - t + c + als / 20 * (5 - 18 * t + Math.pow(t, 2) + 72 * c - 58 * this.ep2))) + this.x0;
    y = this.k0 * (ml - this.ml0 + n * tq * (als * (0.5 + als / 24 * (5 - t + 9 * c + 4 * Math.pow(c, 2) + als / 30 * (61 - 58 * t + Math.pow(t, 2) + 600 * c - 330 * this.ep2))))) + this.y0;

  }
  p.x = x;
  p.y = y;
  return p;
};

/**
    Transverse Mercator Inverse  -  x/y to long/lat
  */
exports.inverse = function(p) {
  var con, phi;
  var delta_phi;
  var i;
  var max_iter = 6;
  var lat, lon;

  if (this.sphere) {
    var f = Math.exp(p.x / (this.a * this.k0));
    var g = 0.5 * (f - 1 / f);
    var temp = this.lat0 + p.y / (this.a * this.k0);
    var h = Math.cos(temp);
    con = Math.sqrt((1 - h * h) / (1 + g * g));
    lat = asinz(con);
    if (temp < 0) {
      lat = -lat;
    }
    if ((g === 0) && (h === 0)) {
      lon = this.long0;
    }
    else {
      lon = adjust_lon(Math.atan2(g, h) + this.long0);
    }
  }
  else { // ellipsoidal form
    var x = p.x - this.x0;
    var y = p.y - this.y0;

    con = (this.ml0 + y / this.k0) / this.a;
    phi = con;
    for (i = 0; true; i++) {
      delta_phi = ((con + this.e1 * Math.sin(2 * phi) - this.e2 * Math.sin(4 * phi) + this.e3 * Math.sin(6 * phi)) / this.e0) - phi;
      phi += delta_phi;
      if (Math.abs(delta_phi) <= EPSLN) {
        break;
      }
      if (i >= max_iter) {
        return (95);
      }
    } // for()
    if (Math.abs(phi) < HALF_PI) {
      var sin_phi = Math.sin(phi);
      var cos_phi = Math.cos(phi);
      var tan_phi = Math.tan(phi);
      var c = this.ep2 * Math.pow(cos_phi, 2);
      var cs = Math.pow(c, 2);
      var t = Math.pow(tan_phi, 2);
      var ts = Math.pow(t, 2);
      con = 1 - this.es * Math.pow(sin_phi, 2);
      var n = this.a / Math.sqrt(con);
      var r = n * (1 - this.es) / con;
      var d = x / (n * this.k0);
      var ds = Math.pow(d, 2);
      lat = phi - (n * tan_phi * ds / r) * (0.5 - ds / 24 * (5 + 3 * t + 10 * c - 4 * cs - 9 * this.ep2 - ds / 30 * (61 + 90 * t + 298 * c + 45 * ts - 252 * this.ep2 - 3 * cs)));
      lon = adjust_lon(this.long0 + (d * (1 - ds / 6 * (1 + 2 * t + c - ds / 20 * (5 - 2 * c + 28 * t - 3 * cs + 8 * this.ep2 + 24 * ts))) / cos_phi));
    }
    else {
      lat = HALF_PI * sign(y);
      lon = this.long0;
    }
  }
  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Transverse_Mercator", "Transverse Mercator", "tmerc"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/utm.js":
/*!***************************************************!*\
  !*** ./node_modules/proj4/lib/projections/utm.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var D2R = 0.01745329251994329577;
var tmerc = __webpack_require__(/*! ./tmerc */ "./node_modules/proj4/lib/projections/tmerc.js");
exports.dependsOn = 'tmerc';
exports.init = function() {
  if (!this.zone) {
    return;
  }
  this.lat0 = 0;
  this.long0 = ((6 * Math.abs(this.zone)) - 183) * D2R;
  this.x0 = 500000;
  this.y0 = this.utmSouth ? 10000000 : 0;
  this.k0 = 0.9996;

  tmerc.init.apply(this);
  this.forward = tmerc.forward;
  this.inverse = tmerc.inverse;
};
exports.names = ["Universal Transverse Mercator System", "utm"];


/***/ }),

/***/ "./node_modules/proj4/lib/projections/vandg.js":
/*!*****************************************************!*\
  !*** ./node_modules/proj4/lib/projections/vandg.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var adjust_lon = __webpack_require__(/*! ../common/adjust_lon */ "./node_modules/proj4/lib/common/adjust_lon.js");
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var asinz = __webpack_require__(/*! ../common/asinz */ "./node_modules/proj4/lib/common/asinz.js");
/* Initialize the Van Der Grinten projection
  ----------------------------------------*/
exports.init = function() {
  //this.R = 6370997; //Radius of earth
  this.R = this.a;
};

exports.forward = function(p) {

  var lon = p.x;
  var lat = p.y;

  /* Forward equations
    -----------------*/
  var dlon = adjust_lon(lon - this.long0);
  var x, y;

  if (Math.abs(lat) <= EPSLN) {
    x = this.x0 + this.R * dlon;
    y = this.y0;
  }
  var theta = asinz(2 * Math.abs(lat / Math.PI));
  if ((Math.abs(dlon) <= EPSLN) || (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN)) {
    x = this.x0;
    if (lat >= 0) {
      y = this.y0 + Math.PI * this.R * Math.tan(0.5 * theta);
    }
    else {
      y = this.y0 + Math.PI * this.R * -Math.tan(0.5 * theta);
    }
    //  return(OK);
  }
  var al = 0.5 * Math.abs((Math.PI / dlon) - (dlon / Math.PI));
  var asq = al * al;
  var sinth = Math.sin(theta);
  var costh = Math.cos(theta);

  var g = costh / (sinth + costh - 1);
  var gsq = g * g;
  var m = g * (2 / sinth - 1);
  var msq = m * m;
  var con = Math.PI * this.R * (al * (g - msq) + Math.sqrt(asq * (g - msq) * (g - msq) - (msq + asq) * (gsq - msq))) / (msq + asq);
  if (dlon < 0) {
    con = -con;
  }
  x = this.x0 + con;
  //con = Math.abs(con / (Math.PI * this.R));
  var q = asq + g;
  con = Math.PI * this.R * (m * q - al * Math.sqrt((msq + asq) * (asq + 1) - q * q)) / (msq + asq);
  if (lat >= 0) {
    //y = this.y0 + Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);
    y = this.y0 + con;
  }
  else {
    //y = this.y0 - Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);
    y = this.y0 - con;
  }
  p.x = x;
  p.y = y;
  return p;
};

/* Van Der Grinten inverse equations--mapping x,y to lat/long
  ---------------------------------------------------------*/
exports.inverse = function(p) {
  var lon, lat;
  var xx, yy, xys, c1, c2, c3;
  var a1;
  var m1;
  var con;
  var th1;
  var d;

  /* inverse equations
    -----------------*/
  p.x -= this.x0;
  p.y -= this.y0;
  con = Math.PI * this.R;
  xx = p.x / con;
  yy = p.y / con;
  xys = xx * xx + yy * yy;
  c1 = -Math.abs(yy) * (1 + xys);
  c2 = c1 - 2 * yy * yy + xx * xx;
  c3 = -2 * c1 + 1 + 2 * yy * yy + xys * xys;
  d = yy * yy / c3 + (2 * c2 * c2 * c2 / c3 / c3 / c3 - 9 * c1 * c2 / c3 / c3) / 27;
  a1 = (c1 - c2 * c2 / 3 / c3) / c3;
  m1 = 2 * Math.sqrt(-a1 / 3);
  con = ((3 * d) / a1) / m1;
  if (Math.abs(con) > 1) {
    if (con >= 0) {
      con = 1;
    }
    else {
      con = -1;
    }
  }
  th1 = Math.acos(con) / 3;
  if (p.y >= 0) {
    lat = (-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;
  }
  else {
    lat = -(-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;
  }

  if (Math.abs(xx) < EPSLN) {
    lon = this.long0;
  }
  else {
    lon = adjust_lon(this.long0 + Math.PI * (xys - 1 + Math.sqrt(1 + 2 * (xx * xx - yy * yy) + xys * xys)) / 2 / xx);
  }

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Van_der_Grinten_I", "VanDerGrinten", "vandg"];

/***/ }),

/***/ "./node_modules/proj4/lib/transform.js":
/*!*********************************************!*\
  !*** ./node_modules/proj4/lib/transform.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var D2R = 0.01745329251994329577;
var R2D = 57.29577951308232088;
var PJD_3PARAM = 1;
var PJD_7PARAM = 2;
var datum_transform = __webpack_require__(/*! ./datum_transform */ "./node_modules/proj4/lib/datum_transform.js");
var adjust_axis = __webpack_require__(/*! ./adjust_axis */ "./node_modules/proj4/lib/adjust_axis.js");
var proj = __webpack_require__(/*! ./Proj */ "./node_modules/proj4/lib/Proj.js");
var toPoint = __webpack_require__(/*! ./common/toPoint */ "./node_modules/proj4/lib/common/toPoint.js");
module.exports = function transform(source, dest, point) {
  var wgs84;
  if (Array.isArray(point)) {
    point = toPoint(point);
  }
  function checkNotWGS(source, dest) {
    return ((source.datum.datum_type === PJD_3PARAM || source.datum.datum_type === PJD_7PARAM) && dest.datumCode !== "WGS84");
  }

  // Workaround for datum shifts towgs84, if either source or destination projection is not wgs84
  if (source.datum && dest.datum && (checkNotWGS(source, dest) || checkNotWGS(dest, source))) {
    wgs84 = new proj('WGS84');
    transform(source, wgs84, point);
    source = wgs84;
  }
  // DGR, 2010/11/12
  if (source.axis !== "enu") {
    adjust_axis(source, false, point);
  }
  // Transform source points to long/lat, if they aren't already.
  if (source.projName === "longlat") {
    point.x *= D2R; // convert degrees to radians
    point.y *= D2R;
  }
  else {
    if (source.to_meter) {
      point.x *= source.to_meter;
      point.y *= source.to_meter;
    }
    source.inverse(point); // Convert Cartesian to longlat
  }
  // Adjust for the prime meridian if necessary
  if (source.from_greenwich) {
    point.x += source.from_greenwich;
  }

  // Convert datums if needed, and if possible.
  point = datum_transform(source.datum, dest.datum, point);

  // Adjust for the prime meridian if necessary
  if (dest.from_greenwich) {
    point.x -= dest.from_greenwich;
  }

  if (dest.projName === "longlat") {
    // convert radians to decimal degrees
    point.x *= R2D;
    point.y *= R2D;
  }
  else { // else project
    dest.forward(point);
    if (dest.to_meter) {
      point.x /= dest.to_meter;
      point.y /= dest.to_meter;
    }
  }

  // DGR, 2010/11/12
  if (dest.axis !== "enu") {
    adjust_axis(dest, true, point);
  }

  return point;
};

/***/ }),

/***/ "./node_modules/proj4/lib/wkt.js":
/*!***************************************!*\
  !*** ./node_modules/proj4/lib/wkt.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var D2R = 0.01745329251994329577;
var extend = __webpack_require__(/*! ./extend */ "./node_modules/proj4/lib/extend.js");

function mapit(obj, key, v) {
  obj[key] = v.map(function(aa) {
    var o = {};
    sExpr(aa, o);
    return o;
  }).reduce(function(a, b) {
    return extend(a, b);
  }, {});
}

function sExpr(v, obj) {
  var key;
  if (!Array.isArray(v)) {
    obj[v] = true;
    return;
  }
  else {
    key = v.shift();
    if (key === 'PARAMETER') {
      key = v.shift();
    }
    if (v.length === 1) {
      if (Array.isArray(v[0])) {
        obj[key] = {};
        sExpr(v[0], obj[key]);
      }
      else {
        obj[key] = v[0];
      }
    }
    else if (!v.length) {
      obj[key] = true;
    }
    else if (key === 'TOWGS84') {
      obj[key] = v;
    }
    else {
      obj[key] = {};
      if (['UNIT', 'PRIMEM', 'VERT_DATUM'].indexOf(key) > -1) {
        obj[key] = {
          name: v[0].toLowerCase(),
          convert: v[1]
        };
        if (v.length === 3) {
          obj[key].auth = v[2];
        }
      }
      else if (key === 'SPHEROID') {
        obj[key] = {
          name: v[0],
          a: v[1],
          rf: v[2]
        };
        if (v.length === 4) {
          obj[key].auth = v[3];
        }
      }
      else if (['GEOGCS', 'GEOCCS', 'DATUM', 'VERT_CS', 'COMPD_CS', 'LOCAL_CS', 'FITTED_CS', 'LOCAL_DATUM'].indexOf(key) > -1) {
        v[0] = ['name', v[0]];
        mapit(obj, key, v);
      }
      else if (v.every(function(aa) {
        return Array.isArray(aa);
      })) {
        mapit(obj, key, v);
      }
      else {
        sExpr(v, obj[key]);
      }
    }
  }
}

function rename(obj, params) {
  var outName = params[0];
  var inName = params[1];
  if (!(outName in obj) && (inName in obj)) {
    obj[outName] = obj[inName];
    if (params.length === 3) {
      obj[outName] = params[2](obj[outName]);
    }
  }
}

function d2r(input) {
  return input * D2R;
}

function cleanWKT(wkt) {
  if (wkt.type === 'GEOGCS') {
    wkt.projName = 'longlat';
  }
  else if (wkt.type === 'LOCAL_CS') {
    wkt.projName = 'identity';
    wkt.local = true;
  }
  else {
    if (typeof wkt.PROJECTION === "object") {
      wkt.projName = Object.keys(wkt.PROJECTION)[0];
    }
    else {
      wkt.projName = wkt.PROJECTION;
    }
  }
  if (wkt.UNIT) {
    wkt.units = wkt.UNIT.name.toLowerCase();
    if (wkt.units === 'metre') {
      wkt.units = 'meter';
    }
    if (wkt.UNIT.convert) {
      if (wkt.type === 'GEOGCS') {
        if (wkt.DATUM && wkt.DATUM.SPHEROID) {
          wkt.to_meter = parseFloat(wkt.UNIT.convert, 10)*wkt.DATUM.SPHEROID.a;
        }
      } else {
        wkt.to_meter = parseFloat(wkt.UNIT.convert, 10);
      }
    }
  }

  if (wkt.GEOGCS) {
    //if(wkt.GEOGCS.PRIMEM&&wkt.GEOGCS.PRIMEM.convert){
    //  wkt.from_greenwich=wkt.GEOGCS.PRIMEM.convert*D2R;
    //}
    if (wkt.GEOGCS.DATUM) {
      wkt.datumCode = wkt.GEOGCS.DATUM.name.toLowerCase();
    }
    else {
      wkt.datumCode = wkt.GEOGCS.name.toLowerCase();
    }
    if (wkt.datumCode.slice(0, 2) === 'd_') {
      wkt.datumCode = wkt.datumCode.slice(2);
    }
    if (wkt.datumCode === 'new_zealand_geodetic_datum_1949' || wkt.datumCode === 'new_zealand_1949') {
      wkt.datumCode = 'nzgd49';
    }
    if (wkt.datumCode === "wgs_1984") {
      if (wkt.PROJECTION === 'Mercator_Auxiliary_Sphere') {
        wkt.sphere = true;
      }
      wkt.datumCode = 'wgs84';
    }
    if (wkt.datumCode.slice(-6) === '_ferro') {
      wkt.datumCode = wkt.datumCode.slice(0, - 6);
    }
    if (wkt.datumCode.slice(-8) === '_jakarta') {
      wkt.datumCode = wkt.datumCode.slice(0, - 8);
    }
    if (~wkt.datumCode.indexOf('belge')) {
      wkt.datumCode = "rnb72";
    }
    if (wkt.GEOGCS.DATUM && wkt.GEOGCS.DATUM.SPHEROID) {
      wkt.ellps = wkt.GEOGCS.DATUM.SPHEROID.name.replace('_19', '').replace(/[Cc]larke\_18/, 'clrk');
      if (wkt.ellps.toLowerCase().slice(0, 13) === "international") {
        wkt.ellps = 'intl';
      }

      wkt.a = wkt.GEOGCS.DATUM.SPHEROID.a;
      wkt.rf = parseFloat(wkt.GEOGCS.DATUM.SPHEROID.rf, 10);
    }
    if (~wkt.datumCode.indexOf('osgb_1936')) {
      wkt.datumCode = "osgb36";
    }
  }
  if (wkt.b && !isFinite(wkt.b)) {
    wkt.b = wkt.a;
  }

  function toMeter(input) {
    var ratio = wkt.to_meter || 1;
    return parseFloat(input, 10) * ratio;
  }
  var renamer = function(a) {
    return rename(wkt, a);
  };
  var list = [
    ['standard_parallel_1', 'Standard_Parallel_1'],
    ['standard_parallel_2', 'Standard_Parallel_2'],
    ['false_easting', 'False_Easting'],
    ['false_northing', 'False_Northing'],
    ['central_meridian', 'Central_Meridian'],
    ['latitude_of_origin', 'Latitude_Of_Origin'],
    ['latitude_of_origin', 'Central_Parallel'],
    ['scale_factor', 'Scale_Factor'],
    ['k0', 'scale_factor'],
    ['latitude_of_center', 'Latitude_of_center'],
    ['lat0', 'latitude_of_center', d2r],
    ['longitude_of_center', 'Longitude_Of_Center'],
    ['longc', 'longitude_of_center', d2r],
    ['x0', 'false_easting', toMeter],
    ['y0', 'false_northing', toMeter],
    ['long0', 'central_meridian', d2r],
    ['lat0', 'latitude_of_origin', d2r],
    ['lat0', 'standard_parallel_1', d2r],
    ['lat1', 'standard_parallel_1', d2r],
    ['lat2', 'standard_parallel_2', d2r],
    ['alpha', 'azimuth', d2r],
    ['srsCode', 'name']
  ];
  list.forEach(renamer);
  if (!wkt.long0 && wkt.longc && (wkt.projName === 'Albers_Conic_Equal_Area' || wkt.projName === "Lambert_Azimuthal_Equal_Area")) {
    wkt.long0 = wkt.longc;
  }
  if (!wkt.lat_ts && wkt.lat1 && (wkt.projName === 'Stereographic_South_Pole' || wkt.projName === 'Polar Stereographic (variant B)')) {
    wkt.lat0 = d2r(wkt.lat1 > 0 ? 90 : -90);
    wkt.lat_ts = wkt.lat1;
  }
}
module.exports = function(wkt, self) {
  var lisp = JSON.parse(("," + wkt).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g, ',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g, ',"$1"]').replace(/,\["VERTCS".+/,''));
  var type = lisp.shift();
  var name = lisp.shift();
  lisp.unshift(['name', name]);
  lisp.unshift(['type', type]);
  lisp.unshift('output');
  var obj = {};
  sExpr(lisp, obj);
  cleanWKT(obj.output);
  return extend(self, obj.output);
};


/***/ }),

/***/ "./node_modules/proj4/package.json":
/*!*****************************************!*\
  !*** ./node_modules/proj4/package.json ***!
  \*****************************************/
/*! exports provided: _args, _from, _id, _inCache, _location, _nodeVersion, _npmOperationalInternal, _npmUser, _npmVersion, _phantomChildren, _requested, _requiredBy, _resolved, _shasum, _shrinkwrap, _spec, _where, author, bugs, contributors, dependencies, description, devDependencies, directories, dist, gitHead, homepage, jam, license, main, maintainers, name, optionalDependencies, readme, repository, scripts, version, default */
/***/ (function(module) {

module.exports = {"_args":[[{"raw":"proj4@2.3.15","scope":null,"escapedName":"proj4","name":"proj4","rawSpec":"2.3.15","spec":"2.3.15","type":"version"},"F:\\os_leaf_webpack_v2"]],"_from":"proj4@2.3.15","_id":"proj4@2.3.15","_inCache":true,"_location":"/proj4","_nodeVersion":"6.1.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/proj4-2.3.15.tgz_1471808262546_0.6752060337457806"},"_npmUser":{"name":"ahocevar","email":"andreas.hocevar@gmail.com"},"_npmVersion":"3.8.6","_phantomChildren":{},"_requested":{"raw":"proj4@2.3.15","scope":null,"escapedName":"proj4","name":"proj4","rawSpec":"2.3.15","spec":"2.3.15","type":"version"},"_requiredBy":["#DEV:/"],"_resolved":"https://registry.npmjs.org/proj4/-/proj4-2.3.15.tgz","_shasum":"5ad06e8bca30be0ffa389a49e4565f51f06d089e","_shrinkwrap":null,"_spec":"proj4@2.3.15","_where":"F:\\os_leaf_webpack_v2","author":"","bugs":{"url":"https://github.com/proj4js/proj4js/issues"},"contributors":[{"name":"Mike Adair","email":"madair@dmsolutions.ca"},{"name":"Richard Greenwood","email":"rich@greenwoodmap.com"},{"name":"Calvin Metcalf","email":"calvin.metcalf@gmail.com"},{"name":"Richard Marsden","url":"http://www.winwaed.com"},{"name":"T. Mittan"},{"name":"D. Steinwand"},{"name":"S. Nelson"}],"dependencies":{"mgrs":"~0.0.2"},"description":"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.","devDependencies":{"browserify":"~12.0.1","chai":"~1.8.1","curl":"git://github.com/cujojs/curl.git","grunt":"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0","istanbul":"~0.2.4","mocha":"~1.17.1","tin":"~0.4.0"},"directories":{"test":"test","doc":"docs"},"dist":{"shasum":"5ad06e8bca30be0ffa389a49e4565f51f06d089e","tarball":"https://registry.npmjs.org/proj4/-/proj4-2.3.15.tgz"},"gitHead":"9fa5249c1f4183d5ddee3c4793dfd7b9f29f1886","homepage":"https://github.com/proj4js/proj4js#readme","jam":{"main":"dist/proj4.js","include":["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},"license":"MIT","main":"lib/index.js","maintainers":[{"name":"cwmma","email":"calvin.metcalf@gmail.com"},{"name":"ahocevar","email":"andreas.hocevar@gmail.com"}],"name":"proj4","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git://github.com/proj4js/proj4js.git"},"scripts":{"test":"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},"version":"2.3.15"};

/***/ }),

/***/ "./overlay/Bar.js":
/*!************************!*\
  !*** ./overlay/Bar.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Bar = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../service/common/Util */ "./service/common/Util.js");

var _ShapeFactory = __webpack_require__(/*! ./feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _Polygon = __webpack_require__(/*! ./feature/Polygon */ "./overlay/feature/Polygon.js");

var _Color = __webpack_require__(/*! ./levelRender/Color */ "./overlay/levelRender/Color.js");

var _Graph2 = __webpack_require__(/*! ./Graph */ "./overlay/Graph.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.Bar
 * @classdesc 柱状图 。
 * @description 图表 Bar 配置对象 chartsSetting（<Zondy.Layer.Graph::chartsSetting>） 可设属性如下：</br>
 *              width - {number} 专题要素（图表）宽度，必设参数。</br>
 *              height - {number} 专题要素（图表）高度，必设参数。</br>
 *              codomain - {Array<number>} 图表允许展示的数据值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。</br>
 *              XOffset - {number} 专题要素（图表）在 X 方向上的偏移值，单位像素。</br>
 *              YOffset - {number} 专题要素（图表）在 Y 方向上的偏移值，单位像素。</br>
 *              dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，它是指图表框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）
 *                                                     在左、下，右，上四个方向上的内偏距值。当使用坐标轴时 dataViewBoxParameter 的默认值为：[45, 15, 15, 15]；
 *                                                     不使用坐标轴时 dataViewBoxParameter 的默认值为：[5, 5, 5, 5]。</br>
 *              decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。</br>
 *              useBackground - {boolean} 是否使用图表背景框，默认使用。</br>
 *              backgroundStyle - {Object} 背景样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Rectangle::style>。</br>
 *              backgroundRadius - {Array<number>} 背景框矩形圆角半径，可以用数组分别指定四个角的圆角半径，设：左上、右上、右下、左下角的半径依次为 r1、r2、r3、r4 ,
 *                                         则 backgroundRadius 为 [r1、r2、r3、r4 ]，默认值[0, 0, 0, 0]。</br>
 *              xShapeBlank - {Array<number>} 水平方向上的图形空白间隔参数。长度为 3 的数组，第一元素表示第一个图形左端与数据视图框左端的空白间距，第二个元素表示图形间空白间距，
 *                                            第三个元素表示最后一个图形右端与数据视图框右端端的空白间距 。</br>
 *              showShadow - {boolean} 阴影开关 默认是打开。</br>
 *              barShadowStyle - {Object} 阴影样式,如：{shadowBlur : 8, shadowOffsetX: 2 , shadowOffsetY : 2,shadowColor : "rgba(100,100,100,0.8)"}</br>
 *              barLinearGradient - {Array<string>} 按字段设置柱条样式[渐变开始颜色,渐变终止颜色]  与 themeLayer.themeFields 中的字段一一对应），
 *                                                  如：[["#00FF00","#00CD00"],["#00CCFF","#5E87A2"],["#00FF66","#669985"],["#CCFF00","#94A25E"],["#FF9900","#A2945E"]]</br>
 *              useAxis - {boolean} 是否使用坐标轴，默认使用坐标轴。</br>
 *              axisStyle - {Object} 坐标轴样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style> 。</br>
 *              axisUseArrow - {boolean} 坐标轴是否使用箭头，默认值：false，不使用箭头。</br>
 *              axisYTick - {number} y 轴刻度数量，默认值：0 ，不使用刻度。</br>
 *              axisYLabels - {Array<string>} y 轴上的标签组内容，标签顺序沿着数据视图框左面条边自上而下，等距排布。例如：["1000", "750", "500", "250", "0"]。</br>
 *              axisYLabelsStyle - {Object} y 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。</br>
 *              axisYLabelsOffset - {Array<number>} y 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 y 轴标签组横向上的偏移量，向左为正，默认值：0；数组第二项表示 y 轴标签组纵向上的偏移量，向下为正，默认值：0。</br>
 *              axisXLabels - {Array<string>} x 轴上的标签组内容，标签顺序沿着数据视图框下面条边自左向右排布，例如：["92年", "95年", "99年"]。标签排布规则：当标签数量与 xShapeInfo 中的属性 xShapeCenter 数量相同（即标签个数与数据个数相等时）, 按照 xShapeCenter 提供的位置排布标签,否则沿数据视图框下面条边等距排布标签。</br>
 *              axisXLabelsStyle - {Object} x 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。</br>
 *              axisXLabelsOffset - {Array<number>} x 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 x 轴标签组横向上的偏移量，向左为正，默认值：0；数组第二项表示 x 轴标签组纵向上的偏移量，向下为正，默认值：0。</br>
 *              useXReferenceLine - {boolean) 是否使用水平参考线，如果为 true，在 axisYTick 大于 0 时有效，水平参考线是 y 轴刻度在数据视图框里的延伸。</br>
 *              xReferenceLineStyle - {Object) 水平参考线样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style> 。</br>
 *              barStyle - {Object} 柱状图柱条基础 style，此参数控制柱条基础样式，优先级低于 barStyleByFields 和 barStyleByCodomain。此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。</br>
 *              barStyleByFields - {Array<Object>} 按专题字段 themeFields（<Zondy.Layer.Graph::themeFields>）为柱条赋 style，此参数按字段控制柱条样式，优先级低于 barStyleByCodomain，高于 barStyle。此数组中的元素是样式对象，其可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。此参数中的 style 与 themeFields 中的字段一一对应 。例如： themeFields（<Zondy.Layer.Graph::themeFields>） 为 ["POP_1992", "POP_1995", "POP_1999"],barStyleByFields 为[style1, style2, style3]，则在图表中，字段 POP_1992 对应的柱条使用 style1，字段 POP_1995 对应的柱条使用 style2 ，字段 POP_1999 对应的柱条使用 style3。</br>
 *              barStyleByCodomain - {Array<Object>} 按柱条代表的数据值所在值域范围控制柱条样式，优先级高于 barStyle 和 barStyleByFields。</br>
 *              barHoverStyle - {Object} 柱条 hover 状态时的样式，barHoverAble 为 true 时有效。</br>
 *              barHoverAble - {Object} 是否允许柱条使用 hover 状态，默认允许。同时设置 barHoverAble 和 barClickAble 为 false，可以直接屏蔽柱条对专题图层事件的响应。</br>
 *              barClickAble - {Object} 是否允许柱条被点击，默认允许。同时设置 barHoverAble 和 barClickAble 为 false，可以直接屏蔽柱条对专题图层事件的响应。</br>
 * @example
 * // barStyleByCodomain参数用法如下：
 * // barStyleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
 * // start: 值域值下限（包含）;
 * // end: 值域值上限（不包含）;
 * // style: 数据可视化图形的 style，这个样式对象的可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。
 * // barStyleByCodomain 数组形如：
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 * @extends Zondy.Feature.Theme.Graph
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
 * @param layer - {Zondy.Layer.Graph} 此专题要素所在图层，必设参数。
 * @param fields - {Array<string>} data 属性中的参与此图表生成的属性字段名称，必设参数。
 * @param setting - {Object} 图表配置对象，必设参数。
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
 * @return {Zondy.Feature.Theme.Bar} 返回一个柱状图表对象。
 */
var Bar = function (_Graph) {
    (0, _inherits3.default)(Bar, _Graph);

    function Bar(data, layer, fields, setting, lonlat, option) {
        (0, _classCallCheck3.default)(this, Bar);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Bar.__proto__ || (0, _getPrototypeOf2.default)(Bar)).call(this, data, layer, fields, setting, lonlat, option));

        _this.CLASS_NAME = "Zondy.Feature.Theme.Bar";
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Bar.prototype.destroy
     * @override
     */


    (0, _createClass3.default)(Bar, [{
        key: 'destroy',
        value: function destroy() {
            (0, _get3.default)(Bar.prototype.__proto__ || (0, _getPrototypeOf2.default)(Bar.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.Bar.prototype.assembleShapes
         * @description 图表图形装配函数。
         */

    }, {
        key: 'assembleShapes',
        value: function assembleShapes() {
            //默认渐变颜色数组
            var deafaultColors = [["#00FF00", "#00CD00"], ["#00CCFF", "#5E87A2"], ["#00FF66", "#669985"], ["#CCFF00", "#94A25E"], ["#FF9900", "#A2945E"]];

            //默认阴影
            var deafaultShawdow = {
                showShadow: true,
                shadowBlur: 8,
                shadowColor: "rgba(100,100,100,0.8)",
                shadowOffsetX: 2,
                shadowOffsetY: 2
            };

            // 图表配置对象
            var sets = this.setting;

            if (typeof sets.barLinearGradient !== "undefined") {
                sets.barLinearGradient = deafaultColors;
            }

            // 默认数据视图框
            if (!sets.dataViewBoxParameter) {
                if (typeof sets.useAxis === "undefined" || sets.useAxis) {
                    sets.dataViewBoxParameter = [45, 15, 15, 15];
                } else {
                    sets.dataViewBoxParameter = [5, 5, 5, 5];
                }
            }

            // 重要步骤：初始化参数
            if (!this.initBaseParameter()) {
                return;
            }
            // 值域
            var codomain = this.DVBCodomain;
            // 重要步骤：定义图表 Bar 数据视图框中单位值的含义
            this.DVBUnitValue = (codomain[1] - codomain[0]) / this.DVBHeight;

            // 数据视图域
            var dvb = this.dataViewBox;
            // 用户数据值
            var fv = this.dataValues;
            if (fv.length < 1) {
                return;
            } // 没有数据

            // 数据溢出值域范围处理
            for (var _i = 0, fvLen = fv.length; _i < fvLen; _i++) {
                if (fv[_i] < codomain[0] || fv[_i] > codomain[1]) {
                    return;
                }
            }

            // 获取 x 轴上的图形信息
            var xShapeInfo = this.calculateXShapeInfo();
            if (!xShapeInfo) {
                return;
            }
            // 每个柱条 x 位置
            var xsLoc = xShapeInfo.xPositions;
            // 柱条宽度
            var xsWdith = xShapeInfo.width;

            // 背景框，默认启用
            if (typeof sets.useBackground === "undefined" || sets.useBackground) {
                // 将背景框图形添加到模型的 shapes 数组，注意添加顺序，后添加的图形在先添加的图形之上。
                this.shapes.push(_ShapeFactory.ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
            }

            // 坐标轴, 默认启用
            if (typeof sets.useAxis === "undefined" || sets.useAxis) {
                // 添加坐标轴图形数组
                this.shapes = this.shapes.concat(_ShapeFactory.ShapeFactory.GraphAxis(this.shapeFactory, dvb, sets, xShapeInfo));
            }

            for (var i = 0; i < fv.length; i++) {
                // 计算柱条 top 边的 y 轴坐标值
                var yPx = dvb[1] - (fv[i] - codomain[0]) / this.DVBUnitValue;

                // 柱条节点数组
                var poiLists = [[xsLoc[i] - xsWdith / 2, dvb[1] - 1], [xsLoc[i] + xsWdith / 2, dvb[1] - 1], [xsLoc[i] + xsWdith / 2, yPx], [xsLoc[i] - xsWdith / 2, yPx]];

                // 柱条参数对象（一个面参数对象）
                var barParams = new _Polygon.Polygon(poiLists);

                // 柱条 阴影 style
                if (typeof sets.showShadow === "undefined" || sets.showShadow) {
                    if (sets.barShadowStyle) {
                        var sss = sets.barShadowStyle;
                        if (sss.shadowBlur) {
                            deafaultShawdow.shadowBlur = sss.shadowBlur;
                        }
                        if (sss.shadowColor) {
                            deafaultShawdow.shadowColor = sss.shadowColor;
                        }
                        if (sss.shadowOffsetX) {
                            deafaultShawdow.shadowOffsetX = sss.shadowOffsetX;
                        }
                        if (sss.shadowOffsetY) {
                            deafaultShawdow.shadowOffsetY = sss.shadowOffsetY;
                        }
                    }
                    barParams.style = {};
                    (0, _Util.copyAttributesWithClip)(barParams.style, deafaultShawdow);
                }

                // 图形携带的数据信息
                barParams.refDataID = this.data.FID;
                barParams.dataInfo = {
                    field: this.fields[i],
                    value: fv[i]
                };

                // 柱条 hover click
                if (typeof sets.barHoverAble !== "undefined") {
                    barParams.hoverable = sets.barHoverAble;
                }
                if (typeof sets.barClickAble !== "undefined") {
                    barParams.clickable = sets.barClickAble;
                }

                // 创建柱条并添加到图表图形数组中
                this.shapes.push(this.shapeFactory.createShape(barParams));
            }

            // 重要步骤：将图形转为由相对坐标表示的图形，以便在地图平移缩放过程中快速重绘图形
            // （统计专题图模块从结构上要求使用相对坐标，assembleShapes() 函数必须在图形装配完成后调用 shapesConvertToRelativeCoordinate() 函数）
            this.shapesConvertToRelativeCoordinate();
        }

        /**
         * @function Zondy.Feature.Theme.Bar.prototype.calculateXShapeInfo
         * @description 计算 X 轴方向上的图形信息，此信息是一个对象，包含两个属性，
         *              属性 xPositions 是一个一维数组，该数组元素表示图形在 x 轴方向上的像素坐标值，
         *              如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。
         *              width 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         *              本函数中图形配置对象 setting 可设属性：
         *              xShapeBlank - {Array<number>} 水平方向上的图形空白间隔参数。
         *              长度为 3 的数组，第一元素表示第一个图形左端与数据视图框左端的空白间距，第二个元素表示图形间空白间距，
         *              第三个元素表示最后一个图形右端与数据视图框右端端的空白间距 。
         * @return {Object} 如果计算失败，返回 null；如果计算成功，返回 X 轴方向上的图形信息，此信息是一个对象，包含以下两个属性：
         *         xPositions - {Array<number>} 表示图形在 x 轴方向上的像素坐标值，如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。
         *         width - {number} 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         *
         */

    }, {
        key: 'calculateXShapeInfo',
        value: function calculateXShapeInfo() {
            var dvb = this.dataViewBox; // 数据视图框
            var sets = this.setting; // 图表配置对象
            var fvc = this.dataValues.length; // 数组值个数

            if (fvc < 1) {
                return null;
            }

            var xBlank; // x 轴空白间隔参数
            var xShapePositions = []; // x 轴上图形的位置
            var xShapeWidth = 0; // x 轴上图形宽度(自适应)
            var dvbWidth = this.DVBWidth; // 数据视图框宽度

            //  x 轴空白间隔参数处理
            if (sets.xShapeBlank && sets.xShapeBlank.length && sets.xShapeBlank.length == 3) {
                xBlank = sets.xShapeBlank;
                var xsLen = dvbWidth - (xBlank[0] + xBlank[2] + (fvc - 1) * xBlank[1]);
                if (xsLen <= fvc) {
                    return null;
                }
                xShapeWidth = xsLen / fvc;
            } else {
                // 默认使用等距离空白间隔，空白间隔为图形宽度
                xShapeWidth = dvbWidth / (2 * fvc + 1);
                xBlank = [xShapeWidth, xShapeWidth, xShapeWidth];
            }

            // 图形 x 轴上的位置计算
            var xOffset = 0;
            for (var i = 0; i < fvc; i++) {
                if (i == 0) {
                    xOffset = xBlank[0] + xShapeWidth / 2;
                } else {
                    xOffset += xShapeWidth + xBlank[1];
                }

                xShapePositions.push(dvb[0] + xOffset);
            }

            return {
                "xPositions": xShapePositions,
                "width": xShapeWidth
            };
        }

        /**
         * @function Zondy.Feature.Theme.Bar.prototype.resetLinearGradient
         * @description 图表的相对坐标存在的时候，重新计算渐变的颜色(目前用于二维柱状图 所以子类实现此方法)。
         */

    }, {
        key: 'resetLinearGradient',
        value: function resetLinearGradient() {
            if (this.RelativeCoordinate) {
                var shpelength = this.shapes.length;
                var barLinearGradient = this.setting.barLinearGradient;
                var index = -1;
                for (var i = 0; i < shpelength; i++) {
                    var shape = this.shapes[i];
                    if (shape.CLASS_NAME === "Zondy.LevelRenderer.Shape.SmicPolygon") {
                        var style = shape.style;
                        //计算出当前的绝对 x y
                        var x1 = this.location[0] + style.pointList[0][0];
                        var x2 = this.location[0] + style.pointList[1][0];

                        //渐变颜色
                        index++;
                        //以防定义的颜色数组不够用
                        if (index >= barLinearGradient.length) {
                            index = index % barLinearGradient.length;
                        }
                        var color1 = barLinearGradient[index][0];
                        var color2 = barLinearGradient[index][1];

                        //颜色
                        var zcolor = new _Color.Color();
                        var linearGradient = zcolor.getLinearGradient(x1, 0, x2, 0, [[0, color1], [1, color2]]);

                        //赋值
                        shape.style.color = linearGradient;
                    }
                }
            }
        }
    }]);
    return Bar;
}(_Graph2.Graph);

;
exports.Bar = Bar;

_Base.Zondy.Theme.Bar = Bar;
//Zondy.Client.Bar = Bar;

/***/ }),

/***/ "./overlay/Bar3D.js":
/*!**************************!*\
  !*** ./overlay/Bar3D.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Bar3D = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../service/common/Util */ "./service/common/Util.js");

var _ShapeFactory = __webpack_require__(/*! ./feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _Polygon = __webpack_require__(/*! ./feature/Polygon */ "./overlay/feature/Polygon.js");

var _Graph2 = __webpack_require__(/*! ./Graph */ "./overlay/Graph.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.Bar3D
 * @classdesc 三维柱状图 。
 * @extends Zondy.Feature.Theme.Graph
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
 * @param layer - {Zondy.Layer.Graph} 此专题要素所在图层，必设参数。
 * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。
 * @param setting - {Object} 图表配置对象，必设参数。
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
 * @return {Zondy.Feature.Theme.Bar3D} 返回一个三维柱状图表对象。
 *
 * @description 图表 Bar3D 配置对象 chartsSetting（<Zondy.Layer.Graph::chartsSetting>） 可设属性如下：</br>
 *              width - {number} 专题要素（图表）宽度，必设参数。</br>
 *              height - {number} 专题要素（图表）高度，必设参数。</br>
 *              codomain - {Array<number>} 图表允许展示的数据值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。</br>
 *              XOffset - {number} 专题要素（图表）在 X 方向上的偏移值，单位像素。</br>
 *              YOffset - {number} 专题要素（图表）在 Y 方向上的偏移值，单位像素。</br>
 *              dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，它是指图表框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。当使用坐标轴时 dataViewBoxParameter 的默认值为：[45, 25, 20, 20]；不使用坐标轴时 dataViewBoxParameter 的默认值为：[5, 5, 5, 5]。</br>
 *              decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。</br>
 *              useBackground - {boolean} 是否使用图表背景框，默认使用。</br>
 *              backgroundStyle - {Object} 背景样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Rectangle::style>。</br>
 *              backgroundRadius - {Array<number>} 背景框矩形圆角半径，可以用数组分别指定四个角的圆角半径，设：左上、右上、右下、左下角的半径依次为 r1、r2、r3、r4 ,则 backgroundRadius 为 [r1、r2、r3、r4 ]，默认值[0, 0, 0, 0]。</br>
 *              xShapeBlank - {Array<number>} 水平方向上的图形空白间隔参数。长度为 3 的数组，第一元素表示第一个图形左端与数据视图框左端的空白间距，第二个元素表示图形间空白间距，第三个元素表示最后一个图形右端与数据视图框右端端的空白间距 。</br>
 *              bar3DParameter - {number} 3D 柱状参数，3d柱形正面相对于背面向 x 轴和 y 轴负方向偏移的绝对值，默认值：10。</br>
 *              useAxis - {boolean} 是否使用坐标轴，默认使用坐标轴。</br>
 *              axisStyle - {Object} 坐标轴样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style> 。</br>
 *              axisUseArrow - {boolean} 坐标轴是否使用箭头，默认值：true，使用箭头。</br>
 *              axisYTick - {number} y 轴刻度数量，默认值：0 ，不使用刻度。</br>
 *              axisYLabels - {Array<string>} y 轴上的标签组内容，标签顺序沿着数据视图框左面条边自上而下，等距排布。例如：["1000", "750", "500", "250", "0"]。</br>
 *              axisYLabelsStyle - {Object} y 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。</br>
 *              axisYLabelsOffset - {Array<number>} y 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 y 轴标签组横向上的偏移量，向左为正，默认值：0；数组第二项表示 y 轴标签组纵向上的偏移量，向下为正，默认值：0。</br>
 *              axisXLabels - {Array<string>} x 轴上的标签组内容，标签顺序沿着数据视图框下面条边自左向右排布，例如：["92年", "95年", "99年"]。标签排布规则：当标签数量与 xShapeInfo 中的属性 xShapeCenter 数量相同（即标签个数与数据个数相等时）, 按照 xShapeCenter 提供的位置排布标签，否则沿数据视图框下面条边等距排布标签。</br>
 *              axisXLabelsStyle - {Object} x 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。</br>
 *              axisXLabelsOffset - {Array<number>} x 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 x 轴标签组横向上的偏移量，向左为正，默认值：-10；数组第二项表示 x 轴标签组纵向上的偏移量，向下为正，默认值：10。</br>
 *              useXReferenceLine - {boolean) 是否使用水平参考线，如果为 true，在 axisYTick 大于 0 时有效，水平参考线是 y 轴刻度在数据视图框里的延伸。</br>
 *              xReferenceLineStyle - {Object) 水平参考线样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style> 。</br>
 *              axis3DParameter - {number} 3D 坐标轴参数，此属性值在大于等于 15 时有效，默认值：20。</br>
 *              barFaceStyle - {Object} 3d 柱状图柱条正面基础 style，此参数控制柱条正面基础样式，优先级低于 barFaceStyleByFields 和 barFaceStyleByCodomain。此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Polygon::style>。</br>
 *              barFaceStyleByFields - {Array<Object>} 按专题字段 themeFields（<Zondy.Layer.Graph::themeFields>）为柱条正面赋 style，此参数按字段控制柱条正面样式，优先级低于 barFaceStyleByCodomain，高于 barFaceStyle。此数组中的元素是样式对象，其可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。此参数中的 style 与 themeFields 中的字段一一对应 。例如： themeFields（<Zondy.Layer.Graph::themeFields>） 为 ["POP_1992", "POP_1995", "POP_1999"],barFaceStyleByFields 为[style1, style2, style3]，则在图表中，字段 POP_1992 对应的柱条正面使用 style1，字段 POP_1995 对应的柱条正面使用 style2 ，字段 POP_1999 对应的柱条正面使用 style3。</br>
 *              barFaceStyleByCodomain - {Array<Object>} 按柱条正面代表的数据值所在值域范围控制柱条正面样式，优先级高于 barFaceStyle 和 barFaceStyleByFields。</br>
 *              barSideStyle - {Object} 3d 柱状图柱条侧面基础 style，此参数控制柱条侧面基础样式，优先级低于 barSideStyleByFields 和 barSideStyleByCodomain此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> ，默认值：barFaceStyle。</br>
 *              barSideStyleByFields - {Array<Object>} 按专题字段 themeFields（<Zondy.Layer.Graph::themeFields>）为柱条侧面赋style，此数按字段控制柱条侧面样式，优先级低于 barSideStyleByCodomain，高于 barSideStyle。此数组中的元素是样式对象，其可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。此参数中的 style 与 themeFields 中的字段一一对应 。例如： themeFields（<Zondy.Layer.Graph::themeFields>） 为 ["POP_1992", "POP_1995", "POP_1999"],barSideStyleByFields 为[style1, style2, style3]，则在图表中，字段 POP_1992 对应的柱条侧面使用 style1，字段 POP_1995对应的柱条侧面使用style2，字段POP_1999对应的柱条侧面使用style3。默认值：barFaceStyleByFields。</br>
 *              barSideStyleByCodomain - {Array<Object>} 按柱条侧面代表的数据值所在值域范围控制柱条侧面样式，优先级高于 barSideStyle 和 barSideStyleByFields。默认值：barFaceStyleByCodomain。</br>
 *              barFaceHoverStyle - {Object} 3d 柱条正面 hover 状态时的样式，barHoverAble 为 true 时有效。</br>
 *              barSideHoverStyle - {Object} 3d 柱条侧面 hover 状态时的样式，barHoverAble 为 true 时有效，默认值：barFaceHoverStyle。</br>
 *              barTopHoverStyle - {Object} 3d 柱条顶面 hover 状态时的样式，barHoverAble 为 true 时有效，默认值：barFaceHoverStyle。</br>
 *              barHoverAble - {Object} 是否允许柱条使用 hover 状态，默认允许。同时设置 barHoverAble 和 barClickAble 为 false，可以直接屏蔽柱条对专题图层事件的响应。</br>
 *              barClickAble - {Object} 是否允许柱条被点击，默认允许。同时设置 barHoverAble 和 barClickAble 为 false，可以直接屏蔽柱条对专题图层事件的响应。</br>
 *              barTopStyle - {Object} 3d 柱状图柱条顶面基础 style，此参数控制柱条顶面基础样式，优先级低于 barTopStyleByFields 和 barTopStyleByCodomain此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> ，默认值：barFaceStyle。</br>
 *              barTopStyleByFields - {Array<Object>} 按专题字段 themeFields（<Zondy.Layer.Graph::themeFields>）为柱条顶面赋 style，此参数按字段控制柱条顶面样式，优先级低于 barTopStyleByCodomain，高于 barTopStyle。此数组中的元素是样式对象，其可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。此参数中的 style 与 themeFields 中的字段一一对应 。例如： themeFields（<Zondy.Layer.Graph::themeFields>） 为 ["POP_1992", "POP_1995", "POP_1999"],barTopStyleByFields 为[style1, style2, style3]，则在图表中，字段 POP_1992 对应的柱条顶面使用 style1，字段 POP_1995 对应的柱条顶面使用 style2 ，字段 POP_1999 对应的柱条顶面使用 style3。默认值：barFaceStyleByFields。</br>
 *              barTopStyleByCodomain - {Array<Object>} 按柱条顶面代表的数据值所在值域范围控制柱条顶面样式，优先级高于 barTopStyle 和 barTopStyleByFields。默认值：barFaceStyleByCodomain。</br>
 *
 * @example
 * // barFaceStyleByCodomain 用法示例如下：
 * // barFaceStyleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
 * // start: 值域值下限（包含）;
 * // end: 值域值上限（不包含）;
 * // style: 数据可视化图形的 style，这个样式对象的可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。
 * // barFaceStyleByCodomain 数组形如：
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 *
 * @example
 * // barSideStyleByCodomain 用法示例如下：
 * // barSideStyleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
 * // start: 值域值下限（包含）;
 * // end: 值域值上限（不包含）;
 * // style: 数据可视化图形的 style，这个样式对象的可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。
 * // barSideStyleByCodomain 数组形如：
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 *
 * @example
 * // barTopStyleByCodomain 用法示例如下：
 * // barTopStyleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
 * // start: 值域值下限（包含）;
 * // end: 值域值上限（不包含）;
 * // style: 数据可视化图形的 style，这个样式对象的可设属性： <Zondy.Feature.ShapeParameters.Polygon::style> 。
 * // barTopStyleByCodomain 数组形如：
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 */

var Bar3D = function (_Graph) {
    (0, _inherits3.default)(Bar3D, _Graph);

    function Bar3D(data, layer, fields, setting, lonlat, option) {
        (0, _classCallCheck3.default)(this, Bar3D);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Bar3D.__proto__ || (0, _getPrototypeOf2.default)(Bar3D)).call(this, data, layer, fields, setting, lonlat, option));

        _this.CLASS_NAME = "Zondy.Feature.Theme.Bar3D";
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Bar3D.prototype.destroy
     * @override
     */


    (0, _createClass3.default)(Bar3D, [{
        key: 'destroy',
        value: function destroy() {
            (0, _get3.default)(Bar3D.prototype.__proto__ || (0, _getPrototypeOf2.default)(Bar3D.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.Bar3D.prototype.assembleShapes
         * @description 图形装配实现（扩展接口）。
         */

    }, {
        key: 'assembleShapes',
        value: function assembleShapes() {
            // 图表配置对象
            var sets = this.setting;

            // 默认数据视图框
            if (!sets.dataViewBoxParameter) {
                if (typeof sets.useAxis === "undefined" || sets.useAxis) {
                    sets.dataViewBoxParameter = [45, 25, 20, 20];
                } else {
                    sets.dataViewBoxParameter = [5, 5, 5, 5];
                }
            }

            // 3d 柱图的坐标轴默认使用坐标轴箭头
            sets.axisUseArrow = typeof sets.axisUseArrow !== "undefined" ? sets.axisUseArrow : true;
            sets.axisXLabelsOffset = typeof sets.axisXLabelsOffset !== "undefined" ? sets.axisXLabelsOffset : [-10, 10];

            // 重要步骤：初始化参数
            if (!this.initBaseParameter()) {
                return;
            }

            // 值域
            var codomain = this.DVBCodomain;
            // 重要步骤：定义图表 Bar 数据视图框中单位值的含义
            this.DVBUnitValue = (codomain[1] - codomain[0]) / this.DVBHeight;
            // 数据视图域
            var dvb = this.dataViewBox;
            // 用户数据值
            var fv = this.dataValues;
            if (fv.length < 1) {
                return;
            } // 没有数据

            // 数据溢出值域范围处理
            for (var i = 0, fvLen = fv.length; i < fvLen; i++) {
                if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                    return;
                }
            }

            // 获取 x 轴上的图形信息
            var xShapeInfo = this.calculateXShapeInfo();
            if (!xShapeInfo) {
                return;
            }
            // 每个柱条 x 位置
            var xsLoc = xShapeInfo.xPositions;
            // 柱条宽度
            var xsWdith = xShapeInfo.width;

            // 坐标轴, 默认启用
            if (typeof sets.useBackground === "undefined" || sets.useBackground) {
                this.shapes.push(_ShapeFactory.ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
            }

            // 坐标轴
            if (!sets.axis3DParameter || isNaN(sets.axis3DParameter) || sets.axis3DParameter < 15) {
                sets.axis3DParameter = 20;
            }
            if (typeof sets.useAxis === "undefined" || sets.useAxis) {
                this.shapes = this.shapes.concat(_ShapeFactory.ShapeFactory.GraphAxis(this.shapeFactory, dvb, sets, xShapeInfo));
            }

            // 3d 偏移量, 默认值 10;
            var offset3d = sets.bar3DParameter && !isNaN(sets.bar3DParameter) ? sets.bar3DParameter : 10;

            for (var _i = 0; _i < fv.length; _i++) {
                // 无 3d 偏移量时的柱面顶部 y 坐标
                var yPx = dvb[1] - (fv[_i] - codomain[0]) / this.DVBUnitValue;
                // 无 3d 偏移量时的柱面的左、右端 x 坐标
                var iPoiL = xsLoc[_i] - xsWdith / 2;
                var iPoiR = xsLoc[_i] + xsWdith / 2;

                // 3d 柱顶面节点
                var bar3DTopPois = [[iPoiL, yPx], [iPoiR, yPx], [iPoiR - offset3d, yPx + offset3d], [iPoiL - offset3d, yPx + offset3d]];

                // 3d 柱侧面节点
                var bar3DSidePois = [[iPoiR, yPx], [iPoiR - offset3d, yPx + offset3d], [iPoiR - offset3d, dvb[1] + offset3d], [iPoiR, dvb[1]]];

                // 3d 柱正面节点
                var bar3DFacePois = [[iPoiL - offset3d, dvb[1] + offset3d], [iPoiR - offset3d, dvb[1] + offset3d], [iPoiR - offset3d, yPx + offset3d], [iPoiL - offset3d, yPx + offset3d]];
                if (offset3d <= 0) {
                    // offset3d <= 0 时正面不偏移
                    bar3DFacePois = [[iPoiL, dvb[1]], [iPoiR, dvb[1]], [iPoiR, yPx], [iPoiL, yPx]];
                }

                // 新建 3d 柱面顶面、侧面、正面图形参数对象
                var polyTopSP = new _Polygon.Polygon(bar3DTopPois);
                var polySideSP = new _Polygon.Polygon(bar3DSidePois);
                var polyFaceSP = new _Polygon.Polygon(bar3DFacePois);

                // 侧面、正面图形 style 默认值
                sets.barSideStyle = sets.barSideStyle ? sets.barSideStyle : sets.barFaceStyle;
                sets.barSideStyleByFields = sets.barSideStyleByFields ? sets.barSideStyleByFields : sets.barFaceStyleByFields;
                sets.barSideStyleByCodomain = sets.barSideStyleByCodomain ? sets.barSideStyleByCodomain : sets.barFaceStyleByCodomain;
                sets.barTopStyle = sets.barTopStyle ? sets.barTopStyle : sets.barFaceStyle;
                sets.barTopStyleByFields = sets.barTopStyleByFields ? sets.barTopStyleByFields : sets.barFaceStyleByFields;
                sets.barTopStyleByCodomain = sets.barTopStyleByCodomain ? sets.barTopStyleByCodomain : sets.barFaceStyleByCodomain;
                // 顶面、侧面、正面图形 style
                polyFaceSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool({
                    stroke: true,
                    strokeColor: "#ffffff",
                    fillColor: "#ee9900"
                }, sets.barFaceStyle, sets.barFaceStyleByFields, sets.barFaceStyleByCodomain, _i, fv[_i]);
                polySideSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool({
                    stroke: true,
                    strokeColor: "#ffffff",
                    fillColor: "#ee9900"
                }, sets.barSideStyle, sets.barSideStyleByFields, sets.barSideStyleByCodomain, _i, fv[_i]);
                polyTopSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool({
                    stroke: true,
                    strokeColor: "#ffffff",
                    fillColor: "#ee9900"
                }, sets.barTopStyle, sets.barTopStyleByFields, sets.barTopStyleByCodomain, _i, fv[_i]);

                // 3d 柱条高亮样式
                sets.barSideHoverStyle = sets.barSideHoverStyle ? sets.barSideHoverStyle : sets.barFaceHoverStyle;
                sets.barTopHoverStyle = sets.barTopHoverStyle ? sets.barTopHoverStyle : sets.barFaceHoverStyle;
                polyFaceSP.highlightStyle = _ShapeFactory.ShapeFactory.ShapeStyleTool({ stroke: true }, sets.barFaceHoverStyle);
                polySideSP.highlightStyle = _ShapeFactory.ShapeFactory.ShapeStyleTool({ stroke: true }, sets.barSideHoverStyle);
                polyTopSP.highlightStyle = _ShapeFactory.ShapeFactory.ShapeStyleTool({ stroke: true }, sets.barTopHoverStyle);

                // 图形携带的数据 id 信息 & 高亮模式
                polyTopSP.refDataID = polySideSP.refDataID = polyFaceSP.refDataID = this.data.FID;
                // hover 模式（组合）
                polyTopSP.isHoverByRefDataID = polySideSP.isHoverByRefDataID = polyFaceSP.isHoverByRefDataID = true;
                // 高亮组(当鼠标 hover 到组内任何一个图形，整个组的图形都会高亮。refDataHoverGroup 在 isHoverByRefDataID 为 true 时有效)
                polyTopSP.refDataHoverGroup = polySideSP.refDataHoverGroup = polyFaceSP.refDataHoverGroup = (0, _Util.newGuid)();
                // 图形携带的数据信息
                polyTopSP.dataInfo = polySideSP.dataInfo = polyFaceSP.dataInfo = {
                    field: this.fields[_i],
                    value: fv[_i]
                };

                // 3d 柱条顶面、侧面、正面图形 hover click 设置
                if (typeof sets.barHoverAble !== "undefined") {
                    polyTopSP.hoverable = polySideSP.hoverable = polyFaceSP.hoverable = sets.barHoverAble;
                }
                if (typeof sets.barClickAble !== "undefined") {
                    polyTopSP.clickable = polySideSP.clickable = polyFaceSP.clickable = sets.barClickAble;
                }

                // 创建3d 柱条的顶面、侧面、正面图形并添加到图表的图形列表数组
                this.shapes.push(this.shapeFactory.createShape(polySideSP));
                this.shapes.push(this.shapeFactory.createShape(polyTopSP));
                this.shapes.push(this.shapeFactory.createShape(polyFaceSP));
            }

            // 重要步骤：将图形转为由相对坐标表示的图形，以便在地图平移缩放过程中快速重绘图形
            // （统计专题图模块从结构上要求使用相对坐标，assembleShapes() 函数必须在图形装配完成后调用 shapesConvertToRelativeCoordinate() 函数）
            this.shapesConvertToRelativeCoordinate();
        }

        /**
         * @function Zondy.Feature.Theme.Bar3D.prototype.calculateXShapeInfo
         * @description 计算 X 轴方向上的图形信息，此信息是一个对象，包含两个属性，
         *              属性 xPositions 是一个一维数组，该数组元素表示图形在 x 轴方向上的像素坐标值，
         *              如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。
         *              width 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         *              本函数中图形配置对象 setting 可设属性:</br>
         *              xShapeBlank - {Array<number>} 水平方向上的图形空白间隔参数。
         *              长度为 3 的数组，第一元素表示第一个图形左端与数据视图框左端的空白间距，第二个元素表示图形间空白间距，
         *              第三个元素表示最后一个图形右端与数据视图框右端端的空白间距 。
         * @return {Object} 如果计算失败，返回 null；如果计算成功，返回 X 轴方向上的图形信息，此信息是一个对象，包含以下两个属性:</br>
         *                  xPositions - {Array<number>} 表示图形在 x 轴方向上的像素坐标值，如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。</br>
         *                  width - {number} 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         */

    }, {
        key: 'calculateXShapeInfo',
        value: function calculateXShapeInfo() {
            var dvb = this.dataViewBox; // 数据视图框
            var sets = this.setting; // 图表配置对象
            var fvc = this.dataValues.length; // 数组值个数

            if (fvc < 1) {
                return null;
            }

            var xBlank; // x 轴空白间隔参数
            var xShapePositions = []; // x 轴上图形的位置
            var xShapeWidth = 0; // x 轴上图形宽度(自适应)
            var dvbWidth = this.DVBWidth; // 数据视图框宽度

            //  x 轴空白间隔参数处理
            if (sets.xShapeBlank && sets.xShapeBlank.length && sets.xShapeBlank.length == 3) {
                xBlank = sets.xShapeBlank;
                var xsLen = dvbWidth - (xBlank[0] + xBlank[2] + (fvc - 1) * xBlank[1]);
                if (xsLen <= fvc) {
                    return null;
                }
                xShapeWidth = xsLen / fvc;
            } else {
                // 默认使用等距离空白间隔，空白间隔为图形宽度
                xShapeWidth = dvbWidth / (2 * fvc + 1);
                xBlank = [xShapeWidth, xShapeWidth, xShapeWidth];
            }

            // 图形 x 轴上的位置计算
            var xOffset = 0;
            for (var i = 0; i < fvc; i++) {
                if (i == 0) {
                    xOffset = xBlank[0] + xShapeWidth / 2;
                } else {
                    xOffset += xShapeWidth + xBlank[1];
                }

                xShapePositions.push(dvb[0] + xOffset);
            }

            return {
                "xPositions": xShapePositions,
                "width": xShapeWidth
            };
        }
    }]);
    return Bar3D;
}(_Graph2.Graph);

;
exports.Bar3D = Bar3D;
//Zondy.Client.Bar3D = Bar3D;

_Base.Zondy.Theme.Bar3D = Bar3D;

/***/ }),

/***/ "./overlay/Circle.js":
/*!***************************!*\
  !*** ./overlay/Circle.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Circle = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _Theme = __webpack_require__(/*! ./feature/Theme */ "./overlay/feature/Theme.js");

var _Circle = __webpack_require__(/*! ./feature/Circle */ "./overlay/feature/Circle.js");

var _ShapeFactory = __webpack_require__(/*! ./feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _RankSymbol2 = __webpack_require__(/*! ./RankSymbol */ "./overlay/RankSymbol.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.Circle
 * @classdesc 圆类。
 * @description 符号 Circle 配置对象 symbolSetting（<Zondy.Layer.RankSymbol::setting>） 可设属性如下：<br>
 *            codomain - {Array<number>} 图表允许展示的数据值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。<br>
 *            maxR - {number} 圆形的最大半径。<br>
 *            minR - {number} 圆形的最小半径。<br>
 *            fillColor - {string} 圆形的填充色，如：fillColor: "#FFB980"。<br>
 *            circleStyle - {Object} 圆形的基础 style，此参数控制圆形基础样式，优先级低于 circleStyleByFields 和 circleStyleByCodomain。<br>
 *            decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。<br>
 *            circleHoverStyle - {Object} 圆形 hover 状态时的样式，circleHoverAble 为 true 时有效。<br>
 *            circleHoverAble - {Object} 是否允许圆形使用 hover 状态，默认允许。同时设置 circleHoverAble 和 circleClickAble 为 false，可以直接屏蔽图形对专题图层事件的响应。<br>
 *            circleClickAble - {Object} 是否允许圆形被点击，默认允许。同时设置 circleHoverAble 和 circleClickAble 为 false，可以直接屏蔽图形对专题图层事件的响应。
 * @extends Zondy.Feature.Theme.RankSymbol
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
 * @param layer - {Zondy.Layer.RankSymbol} 此专题要素所在图层，必设参数。
 * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。
 * @param setting - {Object} 图表配置对象，必设参数。
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
 * @return {Zondy.Feature.Theme.Circle} 返回一个圆图。
 */
var Circle = function (_RankSymbol) {
    (0, _inherits3.default)(Circle, _RankSymbol);

    function Circle(data, layer, fields, setting, lonlat, option) {
        (0, _classCallCheck3.default)(this, Circle);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Circle.__proto__ || (0, _getPrototypeOf2.default)(Circle)).call(this, data, layer, fields, setting, lonlat, option));

        _this.CLASS_NAME = "Zondy.Feature.Theme.Circle";
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Circle.prototype.destroy
     * @override
     */


    (0, _createClass3.default)(Circle, [{
        key: 'destroy',
        value: function destroy() {
            (0, _get3.default)(Circle.prototype.__proto__ || (0, _getPrototypeOf2.default)(Circle.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.Circle.prototype.assembleShapes
         * @description 装配图形（扩展接口）。
         */

    }, {
        key: 'assembleShapes',
        value: function assembleShapes() {
            //默认填充颜色
            var defaultFillColor = "#ff9277";

            // setting 属性是否已成功赋值
            if (!this.setting) {
                return false;
            }
            var sets = this.setting;
            // 检测 setting 的必设参数
            if (!sets.codomain) {
                return false;
            }

            // 数据
            var decimalNumber = typeof sets.decimalNumber !== "undefined" && !isNaN(sets.decimalNumber) ? sets.decimalNumber : -1;
            var dataEffective = _Theme.Theme.getDataValues(this.data, this.fields, decimalNumber);
            this.dataValues = dataEffective ? dataEffective : [];

            // 数据值数组
            var fv = this.dataValues;
            //if(fv.length != 1) return;       // 没有数据 或者数据不唯一
            //if(fv[0] < 0) return;            //数据为负值

            //用户应该定义最大 最小半径  默认最大半径MaxR:100 最小半径MinR:0;
            if (!sets.maxR) {
                sets.maxR = 100;
            }
            if (!sets.minR) {
                sets.minR = 0;
            }

            // 值域范围
            var codomain = this.DVBCodomain;

            // 重要步骤：定义Circle数据视图框中单位值的含义，单位值：1所代表的长度
            // 用户定义了值域范围
            if (codomain && codomain[1] - codomain[0] > 0) {
                this.DVBUnitValue = sets.maxR / (codomain[1] - codomain[0]);
            } else {
                //this.DVBUnitValue = sets.maxR / maxValue;
                this.DVBUnitValue = sets.maxR;
            }

            var uv = this.DVBUnitValue;
            //圆半径
            var r = fv[0] * uv + sets.minR;
            this.width = 2 * r;
            this.height = 2 * r;

            // 重要步骤：初始化参数
            if (!this.initBaseParameter()) {
                return;
            }

            //假如用户设置了值域范围 没有在值域范围直接返回
            if (codomain) {
                if (fv[0] < codomain[0] || fv[0] > codomain[1]) {
                    return;
                }
            }

            var dvbCenter = this.DVBCenterPoint; // 数据视图框中心作为圆心

            //圆形对象参数
            var circleSP = new _Circle.Circle(dvbCenter[0], dvbCenter[1], r);

            //circleSP.sytle 初始化
            circleSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.circleStyle, null, null, 0);
            //图形的填充颜色
            if (typeof sets.fillColor !== "undefined") {
                //用户自定义
                circleSP.style.fillColor = sets.fillColor;
            } else {
                //当前默认
                circleSP.style.fillColor = defaultFillColor;
            }
            //圆形 Hover样式
            circleSP.highlightStyle = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.circleHoverStyle);
            //圆形 Hover 与 click 设置
            if (typeof sets.circleHoverAble !== "undefined") {
                circleSP.hoverable = sets.circleHoverAble;
            }
            if (typeof sets.circleClickAble !== "undefined") {
                circleSP.clickable = sets.circleClickAble;
            }

            //图形携带的数据信息
            circleSP.refDataID = this.data.FID;
            circleSP.dataInfo = {
                field: this.fields[0],
                r: r,
                value: fv[0]
            };

            // 创建扇形并把此扇形添加到图表图形数组
            this.shapes.push(this.shapeFactory.createShape(circleSP));

            // 重要步骤：将图形转为由相对坐标表示的图形，以便在地图平移缩放过程中快速重绘图形
            // （统计专题图模块从结构上要求使用相对坐标，assembleShapes() 函数必须在图形装配完成后调用 shapesConvertToRelativeCoordinate() 函数）
            this.shapesConvertToRelativeCoordinate();
        }
    }]);
    return Circle;
}(_RankSymbol2.RankSymbol);

;
exports.Circle = Circle;
//Zondy.Client.Circle = Circle;

_Base.Zondy.Theme.Circle = Circle;

/***/ }),

/***/ "./overlay/Graph.js":
/*!**************************!*\
  !*** ./overlay/Graph.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Graph = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _Theme2 = __webpack_require__(/*! ./feature/Theme */ "./overlay/feature/Theme.js");

var _ShapeFactory = __webpack_require__(/*! ./feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _Rectangle = __webpack_require__(/*! ../service/common/Rectangle */ "./service/common/Rectangle.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.Graph
 * @classdesc 统计专题要素基类。
 * @description 此类定义了统计专题要素基础模型，具体的图表模型通过继承此类，在子类中实现 assembleShapes 方法。
 *              统计专题要素模型采用了可视化图形大小自适应策略，用较少的参数控制着图表诸多图形，图表配置对象 <Zondy.Feature.Theme.Graph::setting> 的基础属性只有 7 个，
 *              它们控制着图表结构、值域范围、数据小数位等基础图表形态。构成图表的图形必须在图表结构里自适应大小。
 *              此类不可实例化，此类的可实例化子类必须实现 assembleShapes() 方法。
 * @extends Zondy.Feature.Theme
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
 * @param layer - {Zondy.Layer.Theme} 此专题要素所在图层，必设参数。
 * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。
 * @param setting - {Object} 图表配置对象，必设参数。
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
 * @return {Zondy.Feature.Theme.Graph} 返回一个统计专题要素。
 */
var Graph = function (_Theme) {
    (0, _inherits3.default)(Graph, _Theme);

    function Graph(data, layer, fields, setting, lonlat, options) {
        (0, _classCallCheck3.default)(this, Graph);

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.shapeFactory -{Zondy.Feature.ShapeFactory}
         * @description 内置的图形工厂对象，调用其 createShape 方法创建图形。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (Graph.__proto__ || (0, _getPrototypeOf2.default)(Graph)).call(this, data, layer, fields, setting, lonlat, options));

        _this.shapeFactory = new _ShapeFactory.ShapeFactory();

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.shapeParameters -{Object}
         * @description 当前图形参数对象，<Zondy.Feature.ShapeParameters> 的子类对象。
         */
        _this.shapeParameters = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.RelativeCoordinate -{bool}
         * @description 图形是否已经计算了相对坐标。
         */
        _this.RelativeCoordinate = false;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.setting -{Object}
         * @description 图表配置对象，该对象控制着图表的可视化显示。<br>
         *              下面是此配置对象的 7 个基础可设属性：<br>
         *              Symbolizer properties:<br>
         *              width - {number}专题要素（图表）宽度，必设参数。<br>
         *              height - {number}专题要素（图表）高度，必设参数。<br>
         *              codomain - {Array<number>} 值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。<br>
         *              XOffset - {number}  专题要素（图表）在 X 方向上的偏移值，单位像素。<br>
         *              YOffset - {number}  专题要素（图表）在 Y 方向上的偏移值，单位像素。<br>
         *              dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，它是指图表框 chartBox
         *                                                    （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。<br>
         *              decimalNumber - {number}数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。
         *                                       如果不设置此参数，在取数据值时不对数据做小数位处理。<br>
         *              除了以上 7 个基础属性，此对象的可设属性在不同子类中有较大差异，不同子类中对同一属性的解释也可能不同。
         *              请在此类的子类中查看 setting 对象的可设属性和属性含义。
         */
        _this.setting = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.origonPoint - {Array<number>} {ReadOnly}
         * @description 专题要素（图表）原点，图表左上角点像素坐标，是长度为 2 的一维数组，第一个元素表示 x 坐标，第二个元素表示 y 坐标。
         */
        _this.origonPoint = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.chartBox - {Array<number>} {ReadOnly}
         * @description 专题要素（图表）区域，即图表框，长度为 4 的一维数组，数组的 4 个元素依次表示图表框左端 x 坐标值、
         *              下端 y坐标值、 右端 x坐标值、 上端 y 坐标值；[left, bottom, right, top]。
         */
        _this.chartBox = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.chartBounds - {Zondy.Bounds} {ReadOnly}
         * @description 图表 Bounds 随着 lonlat、XOffset、YOffset 更新，注意 chartBounds 是图表像素范围，不是地理范围。
         */
        _this.chartBounds = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.width - {number}{ReadOnly}
         * @description 专题要素（图表）宽度 ，必设属性。
         */
        _this.width = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.height - {number}{ReadOnly}
         * @description 专题要素（图表）高度 ，必设属性。
         */
        _this.height = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.XOffset - {number}{ReadOnly}
         * @description 专题要素（图表）在 X 方向上的偏移值，单位像素。
         */
        _this.XOffset = 0;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.YOffset - {number}{ReadOnly}
         * @description 专题要素（图表）在 Y 方向上的偏移值，单位像素。
         */
        _this.YOffset = 0;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.DVBParameter - {Array<number>} {ReadOnly}
         * @description 数据视图框参数，长度为 4 的一维数组（数组元素值 >= 0），[leftOffset, bottomOffset, rightOffset, topOffset]，chartBox 内偏距值。
         *               此属性用于指定数据视图框 dataViewBox 的范围。
         */
        _this.DVBParameter = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.dataViewBox - {Array<number>} {ReadOnly}
         * @description 数据视图框，长度为 4 的一维数组，[left, bottom, right, top]。
         *              dataViewBox 是统计专题要素最核心的内容，它负责解释数据在一个像素区域里的数据可视化含义，
         *              这种含义用可视化图形表达出来，这些表示数据的图形和一些辅助图形组合在一起构成统计专题图表。
         */
        _this.dataViewBox = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.DVBCodomain - {Array<number>} {ReadOnly}
         * @description 数据视图框的内允许展示的数据值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限。
         *              dataViewBox 中允许的数据范围，对数据溢出值域范围情况的处理需要在 assembleShapes 中进行。
         */
        _this.DVBCodomain = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.DVBCenterPoint - {Array<number>} {ReadOnly}
         * @description 数据视图框中心点，长度为 2 的一维数组，第一个元素表示 x 坐标，第二个元素表示 y 坐标。
         */
        _this.DVBCenterPoint = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.DVBUnitValue - {string} {ReadOnly}
         * @description 单位值。在 assembleShapes() 中初始化其具体意义，例如：饼图的 DVBUnitValue 可以定义为"360/数据总和"，
         *              折线图的 DVBUnitValue 可以定义为 "DVBCodomain/DVBHeight"。
         */
        _this.DVBUnitValue = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.DVBOrigonPoint - {Array<number>} {ReadOnly}
         * @description 数据视图框原点，数据视图框左上角点，长度为 2 的一维数组，第一个元素表示 x 坐标，第二个元素表示 y 坐标。
         */
        _this.DVBOrigonPoint = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.DVBWidth - {number}{ReadOnly}
         * @description 数据视图框宽度。
         */
        _this.DVBWidth = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.DVBHeight - {number}{ReadOnly}
         * @description 数据视图框高度。
         */
        _this.DVBHeight = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.origonPointOffset - {Array<number>} {ReadOnly}
         * @description 数据视图框原点相对于图表框的原点偏移量，长度为 2 的一维数组，第一个元素表示 x 偏移量，第二个元素表示 y 偏移量。
         */
        _this.origonPointOffset = null;

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.fields - {Array<string>}
         * @description 数据{Zondy.Feature.Vector}属性字段。
         */
        _this.fields = fields || [];

        /**
         * @member Zondy.Feature.Theme.Graph.prototype.dataValues {Array<number>}
         * @description 图表展示的数据值，通过 fields 从数据feature属性中获得。
         */
        _this.dataValues = null;
        // 图表位置
        if (lonlat) {
            _this.lonlat = lonlat;
        } else {
            // 默认使用 bounds 中心
            if (options && options.calGravity) {
                _this.lonlat = _this.getCenterOfGravityPoint(data);
            } else {
                var dataBounds = data.bound;
                _this.lonlat = [(dataBounds.xmin + dataBounds.xmax) / 2.0, (dataBounds.ymin + dataBounds.ymax) / 2.0];
            }
        }

        // 配置项检测与赋值
        if (setting && setting.width && setting.height && setting.codomain) {
            _this.setting = setting;
        }
        _this.CLASS_NAME = "Zondy.Feature.Theme.Graph";

        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Graph.prototype.destroy
     * @description 销毁专题要素。
     */


    (0, _createClass3.default)(Graph, [{
        key: 'destroy',
        value: function destroy() {
            this.shapeFactory = null;
            this.shapeParameters = null;
            this.width = null;
            this.height = null;
            this.origonPoint = null;
            this.chartBox = null;
            this.dataViewBox = null;
            this.chartBounds = null;
            this.DVBParameter = null;
            this.DVBOrigonPoint = null;
            this.DVBCenterPoint = null;
            this.DVBWidth = null;
            this.DVBHeight = null;
            this.DVBCodomain = null;
            this.DVBUnitValue = null;
            this.origonPointOffset = null;
            this.XOffset = null;
            this.YOffset = null;
            this.fields = null;
            this.dataValues = null;
            this.setting = null;
            (0, _get3.default)(Graph.prototype.__proto__ || (0, _getPrototypeOf2.default)(Graph.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.Graph.prototype.initBaseParameter
         * @description 初始化专题要素（图表）基础参数。在调用此方法前，此类的图表模型相关属性都是不可用的 ，此方法在 assembleShapes 函数中调用。<br>
         *              调用此函数关系到 setting 对象的以下属性。<br>
         *              width - {number} 专题要素（图表）宽度，必设参数。<br>
         *              height - {number} 专题要素（图表）高度，必设参数。<br>
         *              codomain - {Array<number>} 值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。<br>
         *              XOffset - {number} 专题要素（图表）在 X 方向上的偏移值，单位像素。<br>
         *              YOffset - {number} 专题要素（图表）在 Y 方向上的偏移值，单位像素。<br>
         *              dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，它是指图表框 chartBox。<br>
         *                                     （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。<br>
         *              decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。
         * @return {Boolean} 初始化参数是否成功。
         */

    }, {
        key: 'initBaseParameter',
        value: function initBaseParameter() {
            // 参数初始化是否成功
            var isSuccess = true;

            // setting 属性是否已成功赋值
            if (!this.setting) {
                return false;
            }
            var sets = this.setting;
            // 检测 setting 的必设参数
            if (!(sets.width && sets.height && sets.codomain)) {
                return false;
            }

            // 数据
            var decimalNumber = typeof sets.decimalNumber !== "undefined" && !isNaN(sets.decimalNumber) ? sets.decimalNumber : -1;
            var dataEffective = _Theme2.Theme.getDataValues(this.data, this.fields, decimalNumber);
            this.dataValues = dataEffective ? dataEffective : [];

            // 基础参数  width, height, codomain
            this.width = parseFloat(sets.width);
            this.height = parseFloat(sets.height);
            this.DVBCodomain = sets.codomain;

            // 图表偏移
            // if(sets.XOffset) {this.XOffset = sets.XOffset};
            // if(sets.YOffset) {this.YOffset = sets.YOffset};
            this.XOffset = sets.XOffset ? sets.XOffset : 0;
            this.YOffset = sets.YOffset ? sets.YOffset : 0;

            // 其他默认值
            this.origonPoint = [];
            this.chartBox = [];
            this.dataViewBox = [];

            this.DVBParameter = sets.dataViewBoxParameter ? sets.dataViewBoxParameter : [0, 0, 0, 0];

            this.DVBOrigonPoint = [];
            this.DVBCenterPoint = [];
            this.origonPointOffset = [];

            // 图表位置
            this.resetLocation();

            // 专题要素宽度 w
            var w = this.width;
            // 专题要素高度 h
            var h = this.height;
            // 专题要素像素位置 loc
            var loc = this.location;

            // 专题要素像素位置 loc
            this.origonPoint = [loc[0] - w / 2, loc[1] - h / 2];
            // 专题要素原点（左上角）
            var op = this.origonPoint;

            // 图表框（[left, bottom, right, top]）
            this.chartBox = [op[0], op[1] + h, op[0] + w, op[1]];
            // 图表框
            var cb = this.chartBox;

            // 数据视图框参数，它是图表框各方向对应的内偏距
            var dbbP = this.DVBParameter;
            // 数据视图框 （[left, bottom, right, top]）
            this.dataViewBox = [cb[0] + dbbP[0], cb[1] - dbbP[1], cb[2] - dbbP[2], cb[3] + dbbP[3]];
            // 数据视图框
            var dvb = this.dataViewBox;
            //检查数据视图框是否合法
            if (dvb[0] >= dvb[2] || dvb[1] <= dvb[3]) {
                return false;
            }

            // 数据视图框原点
            this.DVBOrigonPoint = [dvb[0], dvb[3]];
            // 数据视图框宽度
            this.DVBWidth = Math.abs(dvb[2] - dvb[0]);
            // 数据视图框高度
            this.DVBHeight = Math.abs(dvb[1] - dvb[3]);
            // 数据视图框中心点
            this.DVBCenterPoint = [this.DVBOrigonPoint[0] + this.DVBWidth / 2, this.DVBOrigonPoint[1] + this.DVBHeight / 2];

            // 数据视图框原点与图表框的原点偏移量
            this.origonPointOffset = [this.DVBOrigonPoint[0] - op[0], this.DVBOrigonPoint[1] - op[1]];

            return isSuccess;
        }

        /**
         * @function Zondy.Feature.Theme.Graph.prototype.resetLocation
         * @description 根据地理位置 lonlat 重置专题要素（图表）位置。
         * @param lonlat - {Zondy.LonLat} 专题要素新的像素中心位置。
         * @return {Array<number>} - 新专题要素像素参考位置。长度为 2 的数组，第一个元素表示 x 坐标，第二个元素表示 y 坐标。
         */

    }, {
        key: 'resetLocation',
        value: function resetLocation(lonlat) {
            if (lonlat) {
                this.lonlat = lonlat;
            }

            // 获取地理位置对应的像素坐标 newLocalLX
            var newLocalLX = this.getLocalXY(this.lonlat);
            // 处理偏移量 XOffset, YOffset
            newLocalLX[0] += this.XOffset;
            newLocalLX[1] += this.YOffset;
            // 将图形位置赋予  location 属性（注意 location 属性表示的是专题要素中心位置）
            this.location = newLocalLX;

            // 更新图表像素 Bounds
            var w = this.width;
            var h = this.height;
            var loc = this.location;
            //   this.chartBounds = new Bounds(loc[0] - w / 2, loc[1] + h / 2, loc[0] + w / 2, loc[1] - h / 2);
            this.chartBounds = new _Rectangle.Rectangle(loc[0] - w / 2, loc[1] - h / 2, loc[0] + w / 2, loc[1] + h / 2);

            //重新计算当前渐变色
            this.resetLinearGradient();

            return loc;
        }

        /**
         * @function Zondy.Feature.Theme.Graph.prototype.resetLinearGradient
         * @description resetLocation中调用 图表的相对坐标存在的时候，重新计算渐变的颜色。(目前用于二维柱状图渐变色 所以子类实现此方法)
         */

    }, {
        key: 'resetLinearGradient',
        value: function resetLinearGradient() {}
        //子类实现此方法


        /**
         * @function Zondy.Feature.Theme.Graph.prototype.shapesConvertToRelativeCoordinate
         * @description 将（构成图表）图形的节点转为相对坐标表示，此函数必须且只能在 assembleShapes() 结束时调用。
         */

    }, {
        key: 'shapesConvertToRelativeCoordinate',
        value: function shapesConvertToRelativeCoordinate() {
            var shapes = this.shapes;
            var shapeROP = this.location;
            for (var i = 0, len = shapes.length; i < len; i++) {
                shapes[i].refOriginalPosition = shapeROP;

                var style = shapes[i].style;

                for (var sty in style) {
                    switch (sty) {
                        case "pointList":
                            var pl = style[sty];
                            for (var j = 0, len2 = pl.length; j < len2; j++) {
                                pl[j][0] -= shapeROP[0];
                                pl[j][1] -= shapeROP[1];
                            }
                            break;
                        case "x":
                            style[sty] -= shapeROP[0];
                            break;
                        case "y":
                            style[sty] -= shapeROP[1];
                            break;
                        default:
                            break;
                    }
                }
            }
            this.RelativeCoordinate = true;
        }

        /**
         * @function Zondy.Feature.Theme.Graph.prototype.assembleShapes
         * @description 图形装配函数。抽象方法，可视化子类必须实现此方法。<br>
         *              重写此方法的步骤：<br>
         *              1. 图表的某些特殊配置项（setting）处理，例如多数图表模型需要重新指定 dataViewBoxParameter 的默认值。<br>
         *              2. 调用 initBaseParameter() 方法初始化模型属性值，此步骤必须执行，只有当 initBaseParameter 返回 true 时才可以允许进行后续步骤。<br>
         *              3. 计算图形参数，制作图形，图形组合。在组装图表过程中，应该特别注意数据视图框单位值的定义、数据值溢出值域范围的处理和图形大小自适应。<br>
         *              4. 调用 shapesConvertToRelativeCoordinate() 方法，将图形的坐标值转为相对坐标，此步骤必须执行。
         * @example
         *  //子类实现 assembleShapes() 接口的步骤示例：
         *  assembleShapes: function(){
         *    // 第一步：图表的某些特殊配置项（setting）处理，例如多数图表模型需要重新指定 dataViewBoxParameter 的默认值。此步骤是非必须过程。
         *
         *    // 图表配置对象
         *    var sets = this.setting;
         *    // 默认数据视图框，这里展示在使用坐标轴和不使用坐标轴情况下对数据视图框参数赋予不同的默认值
         *    if(!sets.dataViewBoxParameter){
         *          if(typeof(sets.useAxis) === "undefined" || sets.useAxis){
         *              sets.dataViewBoxParameter = [45, 15, 15, 15];
         *          }
         *          else{
         *                  sets.dataViewBoxParameter = [5, 5, 5, 5];
         *          }
         *    }
         *
         *    // 第二步：初始化图表模型基本参数，只有在图表模型基本参数初始化成功时才可模型相关属性，如 this.dataViewBox、 this.DVBCodomain等。此步骤是必须过程。
         *    if(!this.initBaseParameter()) return;
         *
         *    // 第三步：用图形组装图表，在组装图表过程中，应该特别注意数据视图框单位值的定义、数据值溢出值域范围的处理和图形大小自适应。
         *    // 定义图表数据视图框中单位值的含义，下面行代码表示将数据视图框单位值定义为数据视图框高度上每像素代表的数据值
         *    this.DVBUnitValue =  (this.codomain[1] - this.codomain[0])/this.DVBHeight;
         *    var uv = this.DVBUnitValue;
         *
         *    // 图形参数计算代码......
         *
         *    // 关于图形装配，实际上就是利用图形工程对象 this.shapeFactory 的 createShape() 方法通过图形参数对象创建可视化的图形对象，并把这些图形对象按序添加到模型的图形库（his.shapes）中。下面的代码演示创建一个面图形参数对象，并允许通过图形配置对象设置图形的 style 和 highlightStyle，
         *    var barParams = new Zondy.Feature.ShapeParameters.Polygon(poiLists);
         *    barParams.style = sets.barStyle? sets.barStyle:{fillColor: "lightblue"};
         *    barParams.highlightStyle = sets.barHoverStyle? sets.barHoverStyle:{fillColor: "blue"};
         *    // 图形携带数据ID信息
         *    barParams.refDataID = this.data.id;
         *    // 创建图形并添加到图表图形数组中
         *    this.shapes.push(this.shapeFactory.createShape(barParams));
         *
         *    // 第四步：调用 shapesConvertToRelativeCoordinate() 方法，将图形库（his.shapes）中的图形转为由相对坐标表示的图形，客户端统计专题图模块从结构上要求可视化图形使用相对坐标，assembleShapes() 函数必须在图形装配完成后调用 shapesConvertToRelativeCoordinate() 函数。此步骤是必须过程。
         *    this.shapesConvertToRelativeCoordinate();
         * },
         */

    }, {
        key: 'assembleShapes',
        value: function assembleShapes() {}
        //子类必须实现此方法


        /**
         * @function Zondy.Feature.Theme.Graph.prototype.getLocalXY
         * @description 地理坐标转为像素坐标。
         * @param lonlat - {Zondy.Lonlat} 带转换的地理坐标。
         * @return 屏幕像素坐标。
         */

    }, {
        key: 'getLocalXY',
        value: function getLocalXY(lonlat) {
            return this.layer.getLocalXY(lonlat);
        }
    }, {
        key: 'getCenterOfGravityPoint',
        value: function getCenterOfGravityPoint(fea) {
            var mPoints = [];
            var area = 0.0; //多边形面积  
            var Gx = 0.0,
                Gy = 0.0; // 重心的x、y  
            if (fea.ftype == _Base.Zondy.Enum.FeatureType.Reg) {
                var GRegs = fea.fGeom.RegGeom;
                for (var m = 0; m < GRegs.length; m++) {
                    var GReg = GRegs[m];
                    if (GReg == null || GReg.Rings == null) {
                        continue;
                    }
                    var GLines = GReg.Rings;

                    for (var i = 0; i < GLines.length; i++) {
                        var lin = GLines[i];
                        if (lin == null || lin.Arcs == null) {
                            continue;
                        }
                        var arcs = lin.Arcs;
                        for (var j = 0; j < arcs.length; j++) {
                            var arc = arcs[j];
                            if (arc == null || arc.Dots == null) {
                                continue;
                            }
                            var dots = arc.Dots;
                            for (var k = 0; k < dots.length; k++) {
                                mPoints.push(dots[k]);
                            }
                        }
                    }
                }
            }
            for (var i = 1; i <= mPoints.length; i++) {
                var iLat = mPoints[i % mPoints.length].x;
                var iLng = mPoints[i % mPoints.length].y;
                var nextLat = mPoints[i - 1].x;
                var nextLng = mPoints[i - 1].y;
                var temp = (iLat * nextLng - iLng * nextLat) / 2.0;
                area += temp;
                Gx += temp * (iLat + nextLat) / 3.0;
                Gy += temp * (iLng + nextLng) / 3.0;
            }
            Gx = Gx / area;
            Gy = Gy / area;

            return [Gx, Gy];
        }
    }]);
    return Graph;
}(_Theme2.Theme);

;

/**
 * @function Zondy.Feature.Theme.getDataValues
 * @description 根据字段名数组获取指定数据（feature）的属性值数组。属性值类型必须为 Number。
 * @param data - {Zondy.Feature.Vector} 数据。
 * @param fields - {Array<string>} 字段名数组。
 * @param decimalNumber - {number} 小数位处理参数，对获取到的属性数据值进行小数位处理。
 * @return {Array<string>} 字段名数组对应的属性数据值数组。
 */
_Theme2.Theme.getDataValues = function (data, fields, decimalNumber) {
    if (!data.attributes) {
        return false;
    }

    var fieldsValue = [];

    var attrs = data.attributes;
    for (var i = 0; i < fields.length; i++) {
        for (var field in attrs) {
            if (field !== fields[i]) {
                continue;
            }
            // 数字转换判断
            try {
                if (!isNaN(decimalNumber) && decimalNumber >= 0) {
                    fieldsValue.push(parseFloat(attrs[field].toString()).toFixed(decimalNumber));
                } else {
                    fieldsValue.push(parseFloat(attrs[field].toString()));
                }
            } catch (e) {
                throw new Error("not a number");
            }
        }
    }

    if (fieldsValue.length === fields.length) {
        return fieldsValue;
    } else {
        return false;
    }
};
exports.Graph = Graph;
//Zondy.Client.Graph = Graph;

_Base.Zondy.Theme.Graph = Graph;

/***/ }),

/***/ "./overlay/Line.js":
/*!*************************!*\
  !*** ./overlay/Line.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Line = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _ShapeFactory = __webpack_require__(/*! ./feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _Point = __webpack_require__(/*! ./feature/Point */ "./overlay/feature/Point.js");

var _Line = __webpack_require__(/*! ./feature/Line */ "./overlay/feature/Line.js");

var _Graph2 = __webpack_require__(/*! ./Graph */ "./overlay/Graph.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.Line
 * @classdesc 折线图。
 * @description 图表 Line 配置对象 chartsSetting（<Zondy.Layer.Graph::chartsSetting>）可设属性如下：<br>
 *              width - {number} 专题要素（图表）宽度，必设参数。<br>
 *              height - {number} 专题要素（图表）高度，必设参数。<br>
 *              codomain - {Array<number>} 图表允许展示的数据值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。<br>
 *              XOffset - {number} 专题要素（图表）在 X 方向上的偏移值，单位像素。<br>
 *              YOffset - {number} 专题要素（图表）在 Y 方向上的偏移值，单位像素。<br>
 *              dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，
 *                      它是指图表框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。
 *                      当使用坐标轴时 dataViewBoxParameter 的默认值为：[45, 15, 15, 15]；不使用坐标轴时 dataViewBoxParameter 的默认值为：[5, 5, 5, 5]。<br>
 *              decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。<br>
 *              useBackground - {boolean} 是否使用图表背景框。<br>
 *              backgroundStyle - {Object} 背景样式，此样式对象对象可设属性：<Zondy.Feature.ShapeParameters.Rectangle::style>。<br>
 *              backgroundRadius - {Array<number>} 背景框矩形圆角半径，可以用数组分别指定四个角的圆角半径，设：左上、右上、右下、左下角的半径依次为 r1、r2、r3、r4 ,
 *                      则 backgroundRadius 为 [r1、r2、r3、r4 ]，默认值[0, 0, 0, 0]。<br>
 *              xShapeBlank - {Array<number>} 水平方向上的图形空白间隔参数。长度为 2 的数组，第一元素表示折线左端点与数据视图框左端的空白间距，
 *                       第二个元素表示折线右端点右端与数据视图框右端端的空白间距。<br>
 *              axisStyle - {Object} 坐标轴样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style>。<br>
 *              axisUseArrow - {boolean} 坐标轴是否使用箭头，默认值：false，不使用箭头。<br>
 *              axisYTick - {number} y 轴刻度数量，默认值：0 ，不使用刻度。<br>
 *              axisYLabels - {Array<string>} y 轴上的标签组内容，标签顺序沿着数据视图框左面条边自上而下，等距排布。例如：["1000", "750", "500", "250", "0"]。<br>
 *              axisYLabelsStyle - {Object} y 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。<br>
 *              axisYLabelsOffset - {Array<number>} y 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 y 轴标签组横向上的偏移量，向左为正，默认值：0；
 *                       数组第二项表示 y 轴标签组纵向上的偏移量，向下为正，默认值：0。<br>
 *              axisXLabels - {Array<string>} x 轴上的标签组内容，标签顺序沿着数据视图框下面条边自左向右排布，例如：["92年", "95年", "99年"]。
 *                       标签排布规则：当标签数量与 xShapeInfo 中的属性 xShapeCenter 数量相同（即标签个数与数据个数相等时）, 按照 xShapeCenter 提供的位置排布标签，
 *                       否则沿数据视图框下面条边等距排布标签。<br>
 *              axisXLabelsStyle - {Object} x 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。<br>
 *              axisXLabelsOffset - {Array<number>} x 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 x 轴标签组横向上的偏移量，向左为正，默认值：0；
 *                       数组第二项表示 x 轴标签组纵向上的偏移量，向下为正，默认值：0。<br>
 *              useXReferenceLine - {Boolean} 是否使用水平参考线，如果为 true，在 axisYTick 大于 0 时有效，水平参考线是 y 轴刻度在数据视图框里的延伸。<br>
 *              xReferenceLineStyle - {Object} 水平参考线样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style>。<br>
 *              lineStyle - {Object} 折线图中折线 style，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style>。<br>
 *              pointStyle - {Object} 折线图中折线节点基础 style，此参数控制折线节点基础样式，优先级低于 pointStyleByFields 和 pointStyleByCodomain。
 *                       此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Point::style> 。<br>
 *              pointStyleByFields - {Array<Object>} 按专题字段 themeFields（<Zondy.Layer.Graph::themeFields>）为折线节点赋 style，此参数按字段控制折线节点样式，
 *                       优先级低于 pointStyleByCodomain，高于 pointStyle。此数组中的元素是样式对象，其可设属性： <Zondy.Feature.ShapeParameters.Point::style> 。
 *                       此参数中的 style 与 themeFields 中的字段一一对应 。例如： themeFields（<Zondy.Layer.Graph::themeFields>） 为 ["POP_1992", "POP_1995", "POP_1999"],
 *                       pointStyleByFields 为[style1, style2, style3]，则在图表中，字段 POP_1992 对应的折线节点使用 style1，字段 POP_1995 对应的折线节点使用 style2 ，字段 POP_1999 对应的折线节点使用 style3。<br>
 *              pointStyleByCodomain - {Array<Object>} 按折线节点代表的数据值所在值域范围控制折线节点样式，优先级高于 pointStyle 和 pointStyleByFields。<br>
 *              pointHoverStyle - {Object} 折线节点 hover 状态时的样式，pointHoverAble 为 true 时有效。<br>
 *              pointHoverAble - {Object} 是否允许折线节点使用 hover 状态，默认允许。同时设置 pointHoverAble 和 pointClickAble 为 false，可以直接屏蔽折线节点对专题图层事件的响应。<br>
 *              pointClickAble - {Object} 是否允许折线节点被点击，默认允许。同时设置 pointHoverAble 和 pointClickAble 为 false，可以直接屏蔽折线节点对专题图层事件的响应。
 * @example
 * // pointStyleByCodomain 参数用法示例
 * // pointStyleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
 * // start: 值域值下限（包含）;
 * // end: 值域值上限（不包含）;
 * // style: 数据可视化图形的 style，这个样式对象的可设属性： <Zondy.Feature.ShapeParameters.Point::style> 。
 * // pointStyleByCodomain 数组形如：
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 *
 * @extends Zondy.Feature.Theme.Graph
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
 * @param layer - {Zondy.Layer.Graph} 此专题要素所在图层，必设参数。
 * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。
 * @param setting - {Object} 图表配置对象，必设参数。
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
 * @return {Zondy.Feature.Theme.Line} 返回一个折线图。
 */
var Line = function (_Graph) {
    (0, _inherits3.default)(Line, _Graph);

    /*
     * @function Zondy.Feature.Theme.Line.prototype.Constructor
     * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
     * @param layer - {Zondy.Layer.Graph} 此专题要素所在图层，必设参数。
     * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。
     * @param setting - {Object} 图表配置对象，必设参数。
     * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
     * @return {Zondy.Feature.Theme.Line} 返回一个折线图。
     */
    function Line(data, layer, fields, setting, lonlat, options) {
        (0, _classCallCheck3.default)(this, Line);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Line.__proto__ || (0, _getPrototypeOf2.default)(Line)).call(this, data, layer, fields, setting, lonlat, options));

        _this.CLASS_NAME = "Zondy.Feature.Theme.Line";
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Line.prototype.destroy
     * @override
     */


    (0, _createClass3.default)(Line, [{
        key: 'destroy',
        value: function destroy() {
            (0, _get3.default)(Line.prototype.__proto__ || (0, _getPrototypeOf2.default)(Line.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.Line.prototype.assembleShapes
         * @description 装配图形（扩展接口）。
         */

    }, {
        key: 'assembleShapes',
        value: function assembleShapes() {
            // 图表配置对象
            var sets = this.setting;

            // 默认数据视图框
            if (!sets.dataViewBoxParameter) {
                if (typeof sets.useAxis === "undefined" || sets.useAxis) {
                    sets.dataViewBoxParameter = [45, 15, 15, 15];
                } else {
                    sets.dataViewBoxParameter = [5, 5, 5, 5];
                }
            }

            // 重要步骤：初始化参数
            if (!this.initBaseParameter()) {
                return;
            }

            var dvb = this.dataViewBox;

            // 值域
            var codomain = this.DVBCodomain;
            // 重要步骤：定义图表 Bar 数据视图框中单位值的含义
            this.DVBUnitValue = (codomain[1] - codomain[0]) / this.DVBHeight;
            var uv = this.DVBUnitValue;
            // 数据值数组
            var fv = this.dataValues;
            if (fv.length < 1) {
                return;
            } // 没有数据

            // 获取 x 轴上的图形信息
            var xShapeInfo = this.calculateXShapeInfo();
            if (!xShapeInfo) {
                return;
            }
            // 折线每个节点的 x 位置
            var xsLoc = xShapeInfo.xPositions;

            // 背景框，默认启用
            if (typeof sets.useBackground === "undefined" || sets.useBackground) {
                // 将背景框图形添加到模型的 shapes 数组，注意添加顺序，后添加的图形在先添加的图形之上。
                this.shapes.push(_ShapeFactory.ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
            }

            // 折线图必须使用坐标轴
            this.shapes = this.shapes.concat(_ShapeFactory.ShapeFactory.GraphAxis(this.shapeFactory, dvb, sets, xShapeInfo));

            // var isDataEffective = true;

            var xPx; // 折线节点 x 坐标
            var yPx; // 折线节点 y 坐标
            var poiLists = []; // 折线节点数组

            var shapePois = []; // 折线节点图形数组
            for (var i = 0, len = fv.length; i < len; i++) {
                // 数据溢出值域检查
                if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                    // isDataEffective = false;
                    return null;
                }

                xPx = xsLoc[i];
                yPx = dvb[1] - (fv[i] - codomain[0]) / uv;

                // 折线节点参数对象
                var poiSP = new _Point.Point(xPx, yPx);
                // 折线节点 style
                poiSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool({ fillColor: "#ee9900" }, sets.pointStyle, sets.pointStyleByFields, sets.pointStyleByCodomain, i, fv[i]);
                // 折线节点 hover 样式
                poiSP.highlightStyle = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.pointHoverStyle);

                // 折线节点 hover click
                if (typeof sets.pointHoverAble !== "undefined") {
                    poiSP.hoverable = sets.pointHoverAble;
                }
                if (typeof sets.pointClickAble !== "undefined") {
                    poiSP.clickable = sets.pointClickAble;
                }

                // 图形携带的数据信息
                poiSP.refDataID = this.data.FID;
                poiSP.dataInfo = {
                    field: this.fields[i],
                    value: fv[i]
                };

                // 创建图形并把此图形添加到折线节点图形数组
                shapePois.push(this.shapeFactory.createShape(poiSP));

                // 添加折线节点到折线节点数组
                var poi = [xPx, yPx];
                poiLists.push(poi);
            }

            // 折线参数对象
            var lineSP = new _Line.Line(poiLists);
            lineSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool({ strokeColor: "#ee9900" }, sets.lineStyle);
            // 禁止事件响应
            lineSP.clickable = false;
            lineSP.hoverable = false;
            var shapeLine = this.shapeFactory.createShape(lineSP);
            this.shapes.push(shapeLine);

            // 添加节点到图表图形数组
            this.shapes = this.shapes.concat(shapePois);

            // // 数据范围检测未通过，清空图形
            // if (isDataEffective === false) {
            //     this.shapes = [];
            // }

            // 重要步骤：将图形转为由相对坐标表示的图形，以便在地图平移缩放过程中快速重绘图形
            // （统计专题图模块从结构上要求使用相对坐标，assembleShapes() 函数必须在图形装配完成后调用 shapesConvertToRelativeCoordinate() 函数）
            this.shapesConvertToRelativeCoordinate();
        }

        /**
         * @function Zondy.Feature.Theme.Line.prototype.calculateXShapeInfo
         * @description 计算 X 轴方向上的图形信息，此信息是一个对象，包含两个属性，
         *              属性 xPositions 是一个一维数组，该数组元素表示图形在 x 轴方向上的像素坐标值，
         *              如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。
         *              width 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         *              本函数中图形配置对象 setting 可设属性：<br>
         *              xShapeBlank - {Array<number>} 水平方向上的图形空白间隔参数。
         *              长度为 2 的数组，第一元素表示第折线左端点与数据视图框左端的空白间距，第二个元素表示折线右端点右端与数据视图框右端端的空白间距 。
         * @return {Object} 如果计算失败，返回 null；如果计算成功，返回 X 轴方向上的图形信息，此信息是一个对象，包含以下两个属性：<br>
         *         xPositions - {Array<number>} 表示图形在 x 轴方向上的像素坐标值，如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。<br>
         *         width - {number} 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         */

    }, {
        key: 'calculateXShapeInfo',
        value: function calculateXShapeInfo() {
            var dvb = this.dataViewBox; // 数据视图框
            var sets = this.setting; // 图表配置对象
            var fvc = this.dataValues.length; // 数组值个数

            if (fvc < 1) {
                return null;
            }

            var xBlank; // x 轴空白间隔参数
            var xShapePositions = []; // x 轴上图形的位置
            var xShapeWidth = 0; // x 轴上图形宽度(自适应)
            var dvbWidth = this.DVBWidth; // 数据视图框宽度
            var unitOffset = 0; // 单位偏移量

            //  x 轴空白间隔参数处理
            if (sets.xShapeBlank && sets.xShapeBlank.length && sets.xShapeBlank.length == 2) {
                xBlank = sets.xShapeBlank;
                var xsLen = dvbWidth - (xBlank[0] + xBlank[1]);
                if (xsLen <= fvc) {
                    return null;
                }
                unitOffset = xsLen / (fvc - 1);
            } else {
                // 默认使用等距离空白间隔，空白间隔为图形宽度
                unitOffset = dvbWidth / (fvc + 1);
                xBlank = [unitOffset, unitOffset, unitOffset];
            }

            // 图形 x 轴上的位置计算
            var xOffset = 0;
            for (var i = 0; i < fvc; i++) {
                if (i == 0) {
                    xOffset = xBlank[0];
                } else {
                    xOffset += unitOffset;
                }

                xShapePositions.push(dvb[0] + xOffset);
            }

            return {
                "xPositions": xShapePositions,
                "width": xShapeWidth
            };
        }
    }]);
    return Line;
}(_Graph2.Graph);

;
exports.Line = Line;
//Zondy.Client.Line = Line;

_Base.Zondy.Theme.Line = Line;

/***/ }),

/***/ "./overlay/Pie.js":
/*!************************!*\
  !*** ./overlay/Pie.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Pie = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _ShapeFactory = __webpack_require__(/*! ./feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _Sector = __webpack_require__(/*! ./feature/Sector */ "./overlay/feature/Sector.js");

var _Graph2 = __webpack_require__(/*! ./Graph */ "./overlay/Graph.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.Pie
 * @classdesc 饼图。
 * @description 图表 Pie 配置对象 chartsSetting（<Zondy.Layer.Graph::chartsSetting>） 可设属性如下：</br>
 * width - {number} 专题要素（图表）宽度，必设参数。</br>
 * height - {number} 专题要素（图表）高度，必设参数。</br>
 * codomain - {Array<number>} 图表允许展示的数据值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。</br>
 * XOffset - {number} 专题要素（图表）在 X 方向上的偏移值，单位像素。</br>
 * YOffset - {number} 专题要素（图表）在 Y 方向上的偏移值，单位像素。</br>
 * dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，
 * 它是指图表框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。默认值为：[0, 0, 0, 0]。</br>
 * decimalNumber - {Array<number>}数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。</br>
 * useBackground - {boolean} 是否使用图表背景框，默认不使用。</br>
 * backgroundStyle - {Object} 背景样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Rectangle::style>。</br>
 * backgroundRadius - {Array<number>} 背景框矩形圆角半径，可以用数组分别指定四个角的圆角半径，设：左上、右上、右下、左下角的半径依次为 r1、r2、r3、r4 ,则 backgroundRadius 为 [r1、r2、r3、r4 ]，默认值[0, 0, 0, 0]。</br>
 * sectorStyle - {Object} 饼图中扇形的基础 style，此参数控制饼图扇形基础样式，优先级低于 sectorStyleByFields 和 sectorStyleByCodomain。
 * 此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Sector::style> 。</br>
 * sectorStyleByFields - {Array<Object>} 按专题字段 themeFields（<Zondy.Layer.Graph::themeFields>）为饼图扇形赋 style，此参数按字段控制饼图扇形样式，优先级低于 sectorStyleByCodomain，高于 sectorStyle。此数组中的元素是样式对象，其可设属性： <Zondy.Feature.ShapeParameters.Sector::style> 。此参数中的 style 与 themeFields 中的字段一一对应 。例如： themeFields（<Zondy.Layer.Graph::themeFields>） 为 ["POP_1992", "POP_1995", "POP_1999"],
 * sectorStyleByFields 为[style1, style2, style3]，则在图表中，字段 POP_1992 对应的饼图扇形使用 style1，字段 POP_1995 对应的饼图扇形使用 style2 ，字段 POP_1999 对应的饼图扇形使用 style3。</br>
 * sectorStyleByCodomain - {Array<Object>} 按饼图扇形代表的数据值所在值域范围控制饼图扇形样式，优先级高于 sectorStyle 和 sectorStyleByFields。
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
 * @param layer - {Zondy.Layer.Graph} 此专题要素所在图层，必设参数。
 * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。
 * @param setting - {Object} 图表配置对象，必设参数。
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
 *
 * @example
 * // sectorStyleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
 * // start: 值域值下限（包含）;
 * // end: 值域值上限（不包含）;
 * // style: 数据可视化图形的 style，这个样式对象的可设属性： <Zondy.Feature.ShapeParameters.Sector::style> 。
 * // sectorStyleByCodomain 数组形如：
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 * sectorHoverStyle - {Object} 饼图扇形 hover 状态时的样式，sectorHoverAble 为 true 时有效。</br>
 * sectorHoverAble - {Object} 是否允许饼图扇形使用 hover 状态，默认允许。同时设置 sectorHoverAble 和 sectorClickAble 为 false，可以直接屏蔽饼图扇形对专题图层事件的响应。</br>
 * sectorClickAble - {Object} 是否允许饼图扇形被点击，默认允许。同时设置 sectorHoverAble 和 sectorClickAble 为 false，可以直接屏蔽饼图扇形对专题图层事件的响应。
 * @extends {Zondy.Feature.Theme.Graph}
 */
var Pie = function (_Graph) {
    (0, _inherits3.default)(Pie, _Graph);

    function Pie(data, layer, fields, setting, lonlat, option) {
        (0, _classCallCheck3.default)(this, Pie);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Pie.__proto__ || (0, _getPrototypeOf2.default)(Pie)).call(this, data, layer, fields, setting, lonlat, option));

        _this.CLASS_NAME = "Zondy.Feature.Theme.Pie";
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Pie.prototype.destroy
     * @description 销毁此专题要素。调用 destroy 后此对象所以属性置为 null。
     */


    (0, _createClass3.default)(Pie, [{
        key: 'destroy',
        value: function destroy() {
            (0, _get3.default)(Pie.prototype.__proto__ || (0, _getPrototypeOf2.default)(Pie.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.Pie.prototype.assembleShapes
         * @description 装配图形（扩展接口）。
         */

    }, {
        key: 'assembleShapes',
        value: function assembleShapes() {
            // 图表配置对象
            var sets = this.setting;

            // 一个默认 style 组
            var defaultStyleGroup = [{ fillColor: "#ff9277" }, { fillColor: "#dddd00" }, { fillColor: "#ffc877" }, { fillColor: "#bbe3ff" }, { fillColor: "#d5ffbb" }, { fillColor: "#bbbbff" }, { fillColor: "#ddb000" }, { fillColor: "#b0dd00" }, { fillColor: "#e2bbff" }, { fillColor: "#ffbbe3" }, { fillColor: "#ff7777" }, { fillColor: "#ff9900" }, { fillColor: "#83dd00" }, { fillColor: "#77e3ff" }, { fillColor: "#778fff" }, { fillColor: "#c877ff" }, { fillColor: "#ff77ab" }, { fillColor: "#ff6600" }, { fillColor: "#aa8800" }, { fillColor: "#77c7ff" }, { fillColor: "#ad77ff" }, { fillColor: "#ff77ff" }, { fillColor: "#dd0083" }, { fillColor: "#777700" }, { fillColor: "#00aa00" }, { fillColor: "#0088aa" }, { fillColor: "#8400dd" }, { fillColor: "#aa0088" }, { fillColor: "#dd0000" }, { fillColor: "#772e00" }];

            // 重要步骤：初始化参数
            if (!this.initBaseParameter()) {
                return;
            }

            // 背景框，默认不启用
            if (sets.useBackground) {
                this.shapes.push(_ShapeFactory.ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
            }

            // 数据值数组
            var fv = this.dataValues;
            if (fv.length < 1) {
                return;
            } // 没有数据

            // 值域范围
            var codomain = this.DVBCodomain;
            // 值域范围检测
            for (var _i = 0; _i < fv.length; _i++) {
                if (fv[_i] < codomain[0] || fv[_i] > codomain[1]) {
                    return;
                }
            }

            // 值的绝对值总和
            var valueSum = 0;
            for (var _i2 = 0; _i2 < fv.length; _i2++) {
                valueSum += Math.abs(fv[_i2]);
            }

            // 重要步骤：定义图表 Pie 数据视图框中单位值的含义，单位值：每度代表的数值
            this.DVBUnitValue = 360 / valueSum;
            var uv = this.DVBUnitValue;

            var dvbCenter = this.DVBCenterPoint; // 数据视图框中心作为扇心

            var startAngle = 0; // 扇形起始边角度
            var endAngle = 0; // 扇形终止边角度
            var startAngleTmp = startAngle; // 扇形临时起始边角度
            // 扇形（自适应）半径
            var r = this.DVBHeight < this.DVBWidth ? this.DVBHeight / 2 : this.DVBWidth / 2;

            for (var i = 0; i < fv.length; i++) {
                var fvi = Math.abs(fv[i]);
                //计算终止角
                if (i === 0) {
                    endAngle = startAngle + fvi * uv;
                } else if (i === fvi.length - 1) {
                    endAngle = startAngleTmp;
                } else {
                    endAngle = startAngle + fvi * uv;
                }
                //矫正误差计算
                if (endAngle - startAngle >= 360) {
                    endAngle = 359.9999999;
                }

                // 扇形参数对象
                var sectorSP = new _Sector.Sector(dvbCenter[0], dvbCenter[1], r, startAngle, endAngle);
                // 扇形样式
                if (typeof sets.sectorStyleByFields === "undefined") {
                    // 使用默认 style 组
                    var colorIndex = i % defaultStyleGroup.length;
                    sectorSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.sectorStyle, defaultStyleGroup, null, colorIndex);
                } else {
                    sectorSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.sectorStyle, sets.sectorStyleByFields, sets.sectorStyleByCodomain, i, fv[i]);
                }

                // 扇形 hover 样式
                sectorSP.highlightStyle = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.sectorHoverStyle);
                // 扇形 hover 与 click 设置
                if (typeof sets.sectorHoverAble !== "undefined") {
                    sectorSP.hoverable = sets.sectorHoverAble;
                }
                if (typeof sets.sectorClickAble !== "undefined") {
                    sectorSP.clickable = sets.sectorClickAble;
                }
                // 图形携带的数据信息
                sectorSP.refDataID = this.data.FID;
                sectorSP.dataInfo = {
                    field: this.fields[i],
                    value: fv[i]
                };

                // 创建扇形并把此扇形添加到图表图形数组
                this.shapes.push(this.shapeFactory.createShape(sectorSP));

                // 把上一次的结束角度作为下一次的起始角度
                startAngle = endAngle;
            }

            // 重要步骤：将图形转为由相对坐标表示的图形，以便在地图平移缩放过程中快速重绘图形
            // （统计专题图模块从结构上要求使用相对坐标，assembleShapes() 函数必须在图形装配完成后调用 shapesConvertToRelativeCoordinate() 函数）
            this.shapesConvertToRelativeCoordinate();
        }
    }]);
    return Pie;
}(_Graph2.Graph);

;
exports.Pie = Pie;
//Zondy.Client.Pie = Pie;

_Base.Zondy.Theme.Pie = Pie;

/***/ }),

/***/ "./overlay/Point.js":
/*!**************************!*\
  !*** ./overlay/Point.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Point = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _ShapeFactory = __webpack_require__(/*! ./feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _Point = __webpack_require__(/*! ./feature/Point */ "./overlay/feature/Point.js");

var _Graph2 = __webpack_require__(/*! ./Graph */ "./overlay/Graph.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.Point
 * @classdesc 点状图。
 * @description 图表 Point 配置对象 chartsSetting(Zondy.Layer.Graph::chartsSetting) 可设属性如下：</br>
 * width - {number} 专题要素（图表）宽度，必设参数。</br>
 * height - {number} 专题要素（图表）高度，必设参数。</br>
 * codomain - {Array<number>} 图表允许展示的数据值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。</br>
 * XOffset - {number} 专题要素（图表）在 X 方向上的偏移值，单位像素。</br>
 * YOffset - {number} 专题要素（图表）在 Y 方向上的偏移值，单位像素。</br>
 * dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，
 *                     它是指图表框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。
 *                     当使用坐标轴时 dataViewBoxParameter 的默认值为：[45, 15, 15, 15]；不使用坐标轴时 dataViewBoxParameter 的默认值为：[5, 5, 5, 5]。</br>
 * decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。</br>
 * useBackground - {boolean} 是否使用图表背景框。</br>
 * backgroundStyle - {Object} 背景样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Rectangle::style>。</br>
 * backgroundRadius - {Array<number>} 背景框矩形圆角半径，可以用数组分别指定四个角的圆角半径，设：左上、右上、右下、左下角的半径依次为 r1、r2、r3、r4 ,
 *                 则 backgroundRadius 为 [r1、r2、r3、r4 ]，默认值[0, 0, 0, 0]。</br>
 * xShapeBlank - {Array<number>} 水平方向上的图形空白间隔参数。
 *                 长度为 2 的数组，第一个元素表示第一个（沿 x 轴方向）图形点与数据视图框左端的空白间距，第二个元素表示最后一个（沿 x 轴方向）图形点与数据视图框右端端的空白间距 。</br>
 * axisStyle - {Object} 坐标轴样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style> 。</br>
 * axisUseArrow - {boolean} 坐标轴是否使用箭头，默认值：false，不使用箭头。</br>
 * axisYTick - {number} y 轴刻度数量，默认值：0 ，不使用刻度。</br>
 * axisYLabels - {Array<string>} y 轴上的标签组内容，标签顺序沿着数据视图框左面条边自上而下，等距排布。例如：["1000", "750", "500", "250", "0"]。</br>
 * axisYLabelsStyle - {Object} y 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。</br>
 * axisYLabelsOffset - {Array<number>} y 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 y 轴标签组横向上的偏移量，向左为正，默认值：0；
 *                 数组第二项表示 y 轴标签组纵向上的偏移量，向下为正，默认值：0。</br>
 * axisXLabels - {Array<string>} x 轴上的标签组内容，标签顺序沿着数据视图框下面条边自左向右排布，例如：["92年", "95年", "99年"]。
 *                 标签排布规则：当标签数量与 xShapeInfo 中的属性 xShapeCenter 数量相同（即标签个数与数据个数相等时）, 按照 xShapeCenter 提供的位置排布标签，
 *                 否则沿数据视图框下面条边等距排布标签。</br>
 * axisXLabelsStyle - {Object} x 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。</br>
 * axisXLabelsOffset - {Array<number>} x 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 x 轴标签组横向上的偏移量，向左为正，默认值：0；
 *                 数组第二项表示 x 轴标签组纵向上的偏移量，向下为正，默认值：0。</br>
 * useXReferenceLine - {Boolean} 是否使用水平参考线，如果为 true，在 axisYTick 大于 0 时有效，水平参考线是 y 轴刻度在数据视图框里的延伸。</br>
 * xReferenceLineStyle - {Object} 水平参考线样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style> 。</br>
 * pointStyle - {Object} 点状图中图形点基础 style，此参数控制图形点基础样式，优先级低于 pointStyleByFields 和 pointStyleByCodomain。
 *               此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Point::style> 。</br>
 * pointStyleByFields - {Array<Object>} 按专题字段 themeFields（<Zondy.Layer.Graph::themeFields>）为图形点赋 style，此参数按字段控制图形点样式，
 *               优先级低于 pointStyleByCodomain，高于 pointStyle。此数组中的元素是样式对象，其可设属性： <Zondy.Feature.ShapeParameters.Point::style> 。
 *               此参数中的 style 与 themeFields 中的字段一一对应 。例如： themeFields（<Zondy.Layer.Graph::themeFields>） 为 ["POP_1992", "POP_1995", "POP_1999"],
 * pointStyleByFields 为[style1, style2, style3]，则在图表中，字段 POP_1992 对应的图形点使用 style1，字段 POP_1995 对应的图形点使用 style2 ，字段 POP_1999 对应的图形点使用 style3。</br>
 * pointStyleByCodomain - {Array<Object>} 按图形点代表的数据值所在值域范围控制图形点样式，优先级高于 pointStyle 和 pointStyleByFields。</br>
 *
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
 * @param layer - {Zondy.Layer.Graph} 此专题要素所在图层，必设参数。
 * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。
 * @param setting - {Object} 图表配置对象，必设参数。
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
 *
 * @example
 * // pointStyleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
 * // start: 值域值下限（包含）;
 * // end: 值域值上限（不包含）;
 * // style: 数据可视化图形的 style，这个样式对象的可设属性： <Zondy.Feature.ShapeParameters.Point::style> 。
 * // pointStyleByCodomain 数组形如：
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 * pointHoverStyle - {Object} 图形点 hover 状态时的样式，pointHoverAble 为 true 时有效。
 * pointHoverAble - {Object} 是否允许图形点使用 hover 状态，默认允许。同时设置 pointHoverAble 和 pointClickAble 为 false，可以直接屏蔽图形点对专题图层事件的响应。
 * pointClickAble - {Object} 是否允许图形点被点击，默认允许。同时设置 pointHoverAble 和 pointClickAble 为 false，可以直接屏蔽图形点对专题图层事件的响应。
 *@extends {Zondy.Feature.Theme.Graph}

 */
var Point = function (_Graph) {
    (0, _inherits3.default)(Point, _Graph);

    function Point(data, layer, fields, setting, lonlat, options) {
        (0, _classCallCheck3.default)(this, Point);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Point.__proto__ || (0, _getPrototypeOf2.default)(Point)).call(this, data, layer, fields, setting, lonlat, options));

        _this.CLASS_NAME = "Zondy.Feature.Theme.Point";
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Point.prototype.destroy
     * @description 销毁此专题要素。调用 destroy 后此对象所以属性置为 null。
     */


    (0, _createClass3.default)(Point, [{
        key: 'destroy',
        value: function destroy() {
            (0, _get3.default)(Point.prototype.__proto__ || (0, _getPrototypeOf2.default)(Point.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.prototype.Point.assembleShapes
         * @description 装配图形（扩展接口）。
         */

    }, {
        key: 'assembleShapes',
        value: function assembleShapes() {
            // 图表配置对象
            var sets = this.setting;

            // 默认数据视图框
            if (!sets.dataViewBoxParameter) {
                if (typeof sets.useAxis === "undefined" || sets.useAxis) {
                    sets.dataViewBoxParameter = [45, 15, 15, 15];
                } else {
                    sets.dataViewBoxParameter = [5, 5, 5, 5];
                }
            }

            // 重要步骤：初始化参数
            if (!this.initBaseParameter()) {
                return;
            }

            var dvb = this.dataViewBox;

            // 值域
            var codomain = this.DVBCodomain;
            // 重要步骤：定义图表 Bar 数据视图框中单位值的含义
            this.DVBUnitValue = (codomain[1] - codomain[0]) / this.DVBHeight;
            var uv = this.DVBUnitValue;
            var fv = this.dataValues;

            // 获取 x 轴上的图形信息
            var xShapeInfo = this.calculateXShapeInfo();
            if (!xShapeInfo) {
                return;
            }
            // 折线每个节点的 x 位置
            var xsLoc = xShapeInfo.xPositions;

            // 背景框，默认启用
            if (typeof sets.useBackground === "undefined" || sets.useBackground) {
                // 将背景框图形添加到模型的 shapes 数组，注意添加顺序，后添加的图形在先添加的图形之上。
                this.shapes.push(_ShapeFactory.ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
            }

            // 点状图必须使用坐标轴
            this.shapes = this.shapes.concat(_ShapeFactory.ShapeFactory.GraphAxis(this.shapeFactory, dvb, sets, xShapeInfo));

            var xPx; // 图形点 x 坐标
            var yPx; // 图形点 y 坐标
            for (var i = 0, len = fv.length; i < len; i++) {
                // 数据溢出值域检查
                if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                    //isDataEffective = false;
                    return null;
                }

                xPx = xsLoc[i];
                yPx = dvb[1] - (fv[i] - codomain[0]) / uv;

                // 图形点参数对象
                var poiSP = new _Point.Point(xPx, yPx);
                // 图形点 style
                poiSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool({ fillColor: "#ee9900" }, sets.pointStyle, sets.pointStyleByFields, sets.pointStyleByCodomain, i, fv[i]);
                // 图形点 hover 样式
                poiSP.highlightStyle = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.pointHoverStyle);

                // 图形点 hover click
                if (typeof sets.pointHoverAble !== "undefined") {
                    poiSP.hoverable = sets.pointHoverAble;
                }
                if (typeof sets.pointClickAble !== "undefined") {
                    poiSP.clickable = sets.pointClickAble;
                }

                // 图形携带的数据信息
                poiSP.refDataID = this.data.FID;
                poiSP.dataInfo = {
                    field: this.fields[i],
                    value: fv[i]
                };

                // 创建图形点并把此图形添加到图表图形数组
                this.shapes.push(this.shapeFactory.createShape(poiSP));
            }

            // 数据范围检测未通过，清空图形
            // if (isDataEffective === false) {
            //     this.shapes = [];
            // }

            // 重要步骤：将图形转为由相对坐标表示的图形，以便在地图平移缩放过程中快速重绘图形
            // （统计专题图模块从结构上要求使用相对坐标，assembleShapes() 函数必须在图形装配完成后调用 shapesConvertToRelativeCoordinate() 函数）
            this.shapesConvertToRelativeCoordinate();
        }

        /**
         * @function Zondy.Feature.Theme.Point.prototype.calculateXShapeInfo
         * @description 计算 X 轴方向上的图形信息，此信息是一个对象，包含两个属性，
         *              属性 xPositions 是一个一维数组，该数组元素表示图形在 x 轴方向上的像素坐标值，
         *              如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。
         *              width 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         *              本函数中图形配置对象 setting 可设属性：<br>
         *              xShapeBlank - {Array<number>} 水平方向上的图形空白间隔参数。
         *              长度为 2 的数组，第一元素表示第折线左端点与数据视图框左端的空白间距，第二个元素表示折线右端点右端与数据视图框右端端的空白间距 。
         * @return {Object} 如果计算失败，返回 null；如果计算成功，返回 X 轴方向上的图形信息，此信息是一个对象，包含以下两个属性：<br>
         *         xPositions - {Array<number>} 表示图形在 x 轴方向上的像素坐标值，如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。</br>
         *         width - {number}表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         */

    }, {
        key: 'calculateXShapeInfo',
        value: function calculateXShapeInfo() {
            var dvb = this.dataViewBox; // 数据视图框
            var sets = this.setting; // 图表配置对象
            var fvc = this.dataValues.length; // 数组值个数

            if (fvc < 1) {
                return null;
            }

            var xBlank; // x 轴空白间隔参数
            var xShapePositions = []; // x 轴上图形的位置
            var xShapeWidth = 0; // x 轴上图形宽度(自适应)
            var dvbWidth = this.DVBWidth; // 数据视图框宽度
            var unitOffset = 0; // 单位偏移量

            //  x 轴空白间隔参数处理
            if (sets.xShapeBlank && sets.xShapeBlank.length && sets.xShapeBlank.length == 2) {
                xBlank = sets.xShapeBlank;
                var xsLen = dvbWidth - (xBlank[0] + xBlank[1]);
                if (xsLen <= fvc) {
                    return null;
                }
                unitOffset = xsLen / (fvc - 1);
            } else {
                // 默认使用等距离空白间隔，空白间隔为图形宽度
                unitOffset = dvbWidth / (fvc + 1);
                xBlank = [unitOffset, unitOffset, unitOffset];
            }

            // 图形 x 轴上的位置计算
            var xOffset = 0;
            for (var i = 0; i < fvc; i++) {
                if (i == 0) {
                    xOffset = xBlank[0];
                } else {
                    xOffset += unitOffset;
                }

                xShapePositions.push(dvb[0] + xOffset);
            }

            return {
                "xPositions": xShapePositions,
                "width": xShapeWidth
            };
        }
    }]);
    return Point;
}(_Graph2.Graph);

;
exports.Point = Point;
//Zondy.Client.Point = Point;

_Base.Zondy.Theme.Point = Point;

/***/ }),

/***/ "./overlay/RankSymbol.js":
/*!*******************************!*\
  !*** ./overlay/RankSymbol.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.RankSymbol = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _Graph2 = __webpack_require__(/*! ./Graph */ "./overlay/Graph.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.RankSymbol
 * @classdesc 符号专题要素基类。
 * @description 此类定义了符号专题要素基础模型，具体的图表模型通过继承此类，在子类中实现 assembleShapes 方法。
 * 符号专题要素模型采用了可视化图形大小自适应策略，用较少的参数控制着图表诸多图形，图表配置对象 <Zondy.Feature.Theme.RankSymbol::setting> 的基础属性只有 5 个，
 * 它们控制着图表结构、值域范围、数据小数位等基础图表形态。构成图表的图形必须在图表结构里自适应大小。
 * 此类不可实例化，此类的可实例化子类必须实现 assembleShapes() 方法。
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。
 * @param layer - {Zondy.Layer.RankSymbol} 此专题要素所在图层，必设参数。
 * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。
 * @param setting - {Object} 图表配置对象，必设参数。
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。
 *
 * @extends Zondy.Feature.Theme.Graph
 *
 */
var RankSymbol = function (_Graph) {
    (0, _inherits3.default)(RankSymbol, _Graph);

    function RankSymbol(data, layer, fields, setting, lonlat, options) {
        (0, _classCallCheck3.default)(this, RankSymbol);

        /**
         * @member Zondy.Feature.Theme.RankSymbol.prototype.setting -{Object}
         * @description 符号配置对象，该对象控制着图表的可视化显示。
         * 下面是此配置对象的 5 个基础可设属性：</br>
         * codomain - {Array<number>} 值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。</br>
         * XOffset - {number} 专题要素（图表）在 X 方向上的偏移值，单位像素。</br>
         * YOffset - {number} 专题要素（图表）在 Y 方向上的偏移值，单位像素。</br>
         * dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，它是指图表框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。</br>
         * decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。</br>
         * 除了以上 5 个基础属性，此对象的可设属性在不同子类中有较大差异，不同子类中对同一属性的解释也可能不同。
         * 请在此类的子类中查看 setting 对象的可设属性和属性含义。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (RankSymbol.__proto__ || (0, _getPrototypeOf2.default)(RankSymbol)).call(this, data, layer, fields, setting, lonlat, options));

        _this.setting = null;
        // 配置项检测与赋值
        if (setting && setting.codomain) {
            _this.setting = setting;
            _this.DVBCodomain = _this.setting.codomain;
        }
        _this.CLASS_NAME = "Zondy.Feature.Theme.RankSymbol";
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.RankSymbol.prototype.destroy
     * @description 销毁专题要素。
     */


    (0, _createClass3.default)(RankSymbol, [{
        key: 'destroy',
        value: function destroy() {
            this.setting = null;
            (0, _get3.default)(RankSymbol.prototype.__proto__ || (0, _getPrototypeOf2.default)(RankSymbol.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.RankSymbol.prototype.initBaseParameter
         * @description 初始化专题要素（图形）基础参数。
         * 在调用此方法前，此类的图表模型相关属性都是不可用的 ，此方法在 assembleShapes 函数中调用。
         * 调用此函数关系到 setting 对象的以下属性</br>
         * codomain - {Array<number>} 值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。</br>
         * XOffset - {number} 专题要素（图形）在 X 方向上的偏移值，单位像素。</br>
         * YOffset - {number} 专题要素（图形）在 Y 方向上的偏移值，单位像素。</br>
         * dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，它是指图形框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。</br>
         * decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。</br>
         * @returns {boolean} 初始化参数是否成功。
         */

    }, {
        key: 'initBaseParameter',
        value: function initBaseParameter() {
            // 参数初始化是否成功
            var isSuccess = true;

            // setting 属性是否已成功赋值
            if (!this.setting) {
                return false;
            }
            var sets = this.setting;

            // 图表偏移
            if (sets.XOffset) {
                this.XOffset = sets.XOffset;
            }
            if (sets.YOffset) {
                this.YOffset = sets.YOffset;
            }
            this.XOffset = sets.XOffset ? sets.XOffset : 0;
            this.YOffset = sets.YOffset ? sets.YOffset : 0;

            // 其他默认值
            this.origonPoint = [];
            this.chartBox = [];
            this.dataViewBox = [];

            this.DVBParameter = sets.dataViewBoxParameter ? sets.dataViewBoxParameter : [0, 0, 0, 0];

            this.DVBOrigonPoint = [];
            this.DVBCenterPoint = [];
            this.origonPointOffset = [];

            // 图表位置
            this.resetLocation();

            // 专题要素宽度 w
            var w = this.width;
            // 专题要素高度 h
            var h = this.height;
            // 专题要素像素位置 loc
            var loc = this.location;

            // 专题要素像素位置 loc
            this.origonPoint = [loc[0] - w / 2, loc[1] - h / 2];
            // 专题要素原点（左上角）
            var op = this.origonPoint;

            // 图表框（[left, bottom, right, top]）
            this.chartBox = [op[0], op[1] + h, op[0] + w, op[1]];
            // 图表框
            var cb = this.chartBox;

            // 数据视图框参数，它是图表框各方向对应的内偏距
            var dbbP = this.DVBParameter;
            // 数据视图框 （[left, bottom, right, top]）
            this.dataViewBox = [cb[0] + dbbP[0], cb[1] - dbbP[1], cb[2] - dbbP[2], cb[3] + dbbP[3]];
            // 数据视图框
            var dvb = this.dataViewBox;
            //检查数据视图框是否合法
            if (dvb[0] >= dvb[2] || dvb[1] <= dvb[3]) {
                return false;
            }

            // 数据视图框原点
            this.DVBOrigonPoint = [dvb[0], dvb[3]];
            // 数据视图框宽度
            this.DVBWidth = Math.abs(dvb[2] - dvb[0]);
            // 数据视图框高度
            this.DVBHeight = Math.abs(dvb[1] - dvb[3]);
            // 数据视图框中心点
            this.DVBCenterPoint = [this.DVBOrigonPoint[0] + this.DVBWidth / 2, this.DVBOrigonPoint[1] + this.DVBHeight / 2];

            // 数据视图框原点与图表框的原点偏移量
            this.origonPointOffset = [this.DVBOrigonPoint[0] - op[0], this.DVBOrigonPoint[1] - op[1]];

            return isSuccess;
        }
    }]);
    return RankSymbol;
}(_Graph2.Graph);

;
exports.RankSymbol = RankSymbol;
//Zondy.Client.RankSymbol = RankSymbol;

_Base.Zondy.Theme.RankSymbol = RankSymbol;

/***/ }),

/***/ "./overlay/Ring.js":
/*!*************************!*\
  !*** ./overlay/Ring.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Ring = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _ShapeFactory = __webpack_require__(/*! ./feature/ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _Sector = __webpack_require__(/*! ./feature/Sector */ "./overlay/feature/Sector.js");

var _Graph2 = __webpack_require__(/*! ./Graph */ "./overlay/Graph.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @class Zondy.Feature.Theme.Ring
 * @classdesc 环状图。
 * @description 基于路由对象计算指定点M值操作的参数类。通过该类提供参数信息。
 * 图表 Ring 配置对象 chartsSetting（Zondy.Layer.Graph::chartsSetting） 可设属性如下：</br>
 * width - {number} 专题要素（图表）宽度，必设参数。</br>
 * height - {number} 专题要素（图表）高度，必设参数。</br>
 * codomain - {Array<number>} 图表允许展示的数据值域，长度为 2 的一维数组，第一个元素表示值域下限，第二个元素表示值域上限，必设参数。</br>
 * XOffset - {number} 专题要素（图表）在 X 方向上的偏移值，单位像素。</br>
 * YOffset - {number} 专题要素（图表）在 Y 方向上的偏移值，单位像素。</br>
 * dataViewBoxParameter - {Array<number>} 数据视图框 dataViewBox 参数，
 * 它是指图表框 chartBox （由图表位置、图表宽度、图表高度构成的图表范围框）在左、下，右，上四个方向上的内偏距值。默认值为：[0, 0, 0, 0]。</br>
 * decimalNumber - {number} 数据值数组 dataValues 元素值小数位数，数据的小数位处理参数，取值范围：[0, 16]。如果不设置此参数，在取数据值时不对数据做小数位处理。</br>
 * useBackground - {boolean} 是否使用图表背景框，默认不使用。</br>
 * backgroundStyle - {Object} 背景样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Rectangle::style>。</br>
 * backgroundRadius - {Array<number>} 背景框矩形圆角半径，可以用数组分别指定四个角的圆角半径，设：左上、右上、右下、左下角的半径依次为 r1、r2、r3、r4 ,则 backgroundRadius 为 [r1、r2、r3、r4 ]，默认值[0, 0, 0, 0]。</br>
 *innerRingRadius - {number} 环状图内环半径，默认值: 0，取值范围大于 0，小于外环半径（外环半径：数据视图框长和宽中较小值的二分之一）。</br>
 *sectorStyle - {Object} 环状图中扇形的基础 style，此参数控制环状图扇形基础样式，优先级低于 sectorStyleByFields 和 sectorStyleByCodomain。
 * 此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Sector::style> 。</br>
 * sectorStyleByFields - {Array<Object>} 按专题字段 themeFields（<Zondy.Layer.Graph::themeFields>）为环状图扇形赋 style，此参数按字段控制环状图扇形样式，优先级低于 sectorStyleByCodomain，高于 sectorStyle。此数组中的元素是样式对象，其可设属性： <Zondy.Feature.ShapeParameters.Sector::style> 。</br>
 * 此参数中的 style 与 themeFields 中的字段一一对应 。例如： themeFields（<Zondy.Layer.Graph::themeFields>） 为 ["POP_1992", "POP_1995", "POP_1999"],sectorStyleByFields 为[style1, style2, style3]，则在图表中，字段 POP_1992 对应的环状图扇形使用 style1，字段 POP_1995 对应的环状图扇形使用 style2 ，字段 POP_1999 对应的环状图扇形使用 style3。</br>
 * sectorStyleByCodomain - {Array<Object>} 按环状图扇形代表的数据值所在值域范围控制环状图扇形样式，优先级高于 sectorStyle 和 sectorStyleByFields。</br>
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数。</br>
 * @param layer - {Zondy.Layer.Graph} 此专题要素所在图层，必设参数。</br>
 * @param fields - {Array<string>} data 中的参与此图表生成的字段名称，必设参数。</br>
 * @param setting - {Object} 图表配置对象，必设参数。</br>
 * @param lonlat - {Zondy.LonLat} 专题要素地理位置。默认为 data 指代的地理要素 Bounds 中心。</br>
 *
 * @example
 * // sectorStyleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
 * // start: 值域值下限（包含）;
 * // end: 值域值上限（不包含）;
 * // style: 数据可视化图形的 style，这个样式对象的可设属性： <Zondy.Feature.ShapeParameters.Sector::style> 。
 * // sectorStyleByCodomain 数组形如：
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 * sectorHoverStyle - {Object} 环状图扇形 hover 状态时的样式，sectorHoverAble 为 true 时有效。
 * sectorHoverAble - {Object} 是否允许环状图扇形使用 hover 状态，默认允许。同时设置 sectorHoverAble 和 sectorClickAble 为 false，可以直接屏蔽环状图扇形对专题图层事件的响应。
 * sectorClickAble - {Object} 是否允许环状图扇形被点击，默认允许。同时设置 sectorHoverAble 和 sectorClickAble 为 false，可以直接屏蔽环状图扇形对专题图层事件的响应。
 *
 * @extends {Zondy.Feature.Theme.Graph}
 */
var Ring = function (_Graph) {
    (0, _inherits3.default)(Ring, _Graph);

    function Ring(data, layer, fields, setting, lonlat, option) {
        (0, _classCallCheck3.default)(this, Ring);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Ring.__proto__ || (0, _getPrototypeOf2.default)(Ring)).call(this, data, layer, fields, setting, lonlat, option));

        _this.CLASS_NAME = "Zondy.Feature.Theme.Ring";
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Ring.prototype.destroy
     * @description 销毁此专题要素。调用 destroy 后此对象所以属性置为 null。
     */


    (0, _createClass3.default)(Ring, [{
        key: 'destroy',
        value: function destroy() {
            (0, _get3.default)(Ring.prototype.__proto__ || (0, _getPrototypeOf2.default)(Ring.prototype), 'destroy', this).call(this);
        }

        /**
         * @function Zondy.Feature.Theme.Ring.prototype.assembleShapes
         * @description 装配图形（扩展接口）。
         */

    }, {
        key: 'assembleShapes',
        value: function assembleShapes() {
            // 重要步骤：初始化参数
            if (!this.initBaseParameter()) {
                return;
            }

            // 一个默认 style 组
            var defaultStyleGroup = [{ fillColor: "#ff9277" }, { fillColor: "#dddd00" }, { fillColor: "#ffc877" }, { fillColor: "#bbe3ff" }, { fillColor: "#d5ffbb" }, { fillColor: "#bbbbff" }, { fillColor: "#ddb000" }, { fillColor: "#b0dd00" }, { fillColor: "#e2bbff" }, { fillColor: "#ffbbe3" }, { fillColor: "#ff7777" }, { fillColor: "#ff9900" }, { fillColor: "#83dd00" }, { fillColor: "#77e3ff" }, { fillColor: "#778fff" }, { fillColor: "#c877ff" }, { fillColor: "#ff77ab" }, { fillColor: "#ff6600" }, { fillColor: "#aa8800" }, { fillColor: "#77c7ff" }, { fillColor: "#ad77ff" }, { fillColor: "#ff77ff" }, { fillColor: "#dd0083" }, { fillColor: "#777700" }, { fillColor: "#00aa00" }, { fillColor: "#0088aa" }, { fillColor: "#8400dd" }, { fillColor: "#aa0088" }, { fillColor: "#dd0000" }, { fillColor: "#772e00" }];

            // 图表配置对象
            var sets = this.setting;

            // 背景框，默认不启用
            if (sets.useBackground) {
                this.shapes.push(_ShapeFactory.ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
            }

            // 数据值数组
            var fv = this.dataValues;
            if (fv.length < 1) {
                return;
            } // 没有数据

            // 值域范围
            var codomain = this.DVBCodomain;
            // 值域范围检测
            for (var _i = 0; _i < fv.length; _i++) {
                if (fv[_i] < codomain[0] || fv[_i] > codomain[1]) {
                    return;
                }
            }

            // 值的绝对值总和
            var valueSum = 0;
            for (var _i2 = 0; _i2 < fv.length; _i2++) {
                valueSum += Math.abs(fv[_i2]);
            }

            // 重要步骤：定义图表 Ring 数据视图框中单位值的含义，单位值：每度代表的数值
            this.DVBUnitValue = 360 / valueSum;
            var uv = this.DVBUnitValue;

            var dvbCenter = this.DVBCenterPoint; // 数据视图框中心作为扇心

            var startAngle = 0; // 扇形起始边角度
            var endAngle = 0; // 扇形终止边角度
            var startAngleTmp = startAngle; // 扇形临时起始边角度
            // 扇形外环（自适应）半径
            var r = this.DVBHeight < this.DVBWidth ? this.DVBHeight / 2 : this.DVBWidth / 2;

            // 扇形内环（自适应）半径
            var isInRange = sets.innerRingRadius >= 0 && sets.innerRingRadius < r;
            var r0 = typeof sets.innerRingRadius !== "undefined" && !isNaN(sets.innerRingRadius) && isInRange ? sets.innerRingRadius : 0;

            for (var i = 0; i < fv.length; i++) {
                var fvi = Math.abs(fv[i]);

                // 计算结束角度
                if (i === 0) {
                    endAngle = startAngle + fvi * uv;
                } else if (i === fvi.length - 1) {
                    endAngle = startAngleTmp;
                } else {
                    endAngle = startAngle + fvi * uv;
                }

                // 扇形参数对象
                var sectorSP = new _Sector.Sector(dvbCenter[0], dvbCenter[1], r, startAngle, endAngle, r0);
                // 扇形样式
                if (typeof sets.sectorStyleByFields === "undefined") {
                    // 使用默认 style 组
                    var colorIndex = i % defaultStyleGroup.length;
                    sectorSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.sectorStyle, defaultStyleGroup, null, colorIndex);
                } else {
                    sectorSP.style = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.sectorStyle, sets.sectorStyleByFields, sets.sectorStyleByCodomain, i, fv[i]);
                }
                // 扇形 hover 样式
                sectorSP.highlightStyle = _ShapeFactory.ShapeFactory.ShapeStyleTool(null, sets.sectorHoverStyle);
                // 扇形 hover 与 click 设置
                if (typeof sets.sectorHoverAble !== "undefined") {
                    sectorSP.hoverable = sets.sectorHoverAble;
                }
                if (typeof sets.sectorClickAble !== "undefined") {
                    sectorSP.clickable = sets.sectorClickAble;
                }
                // 图形携带的数据信息
                sectorSP.refDataID = this.data.FID;
                sectorSP.dataInfo = {
                    field: this.fields[i],
                    value: fv[i]
                };

                // 创建扇形并把此扇形添加到图表图形数组
                this.shapes.push(this.shapeFactory.createShape(sectorSP));

                // 把上一次的结束角度作为下一次的起始角度
                startAngle = endAngle;
            }

            // 重要步骤：将图形转为由相对坐标表示的图形，以便在地图平移缩放过程中快速重绘图形
            // （统计专题图模块从结构上要求使用相对坐标，assembleShapes() 函数必须在图形装配完成后调用 shapesConvertToRelativeCoordinate() 函数）
            this.shapesConvertToRelativeCoordinate();
        }
    }]);
    return Ring;
}(_Graph2.Graph);

;
exports.Ring = Ring;
//Zondy.Client.Ring = Ring;

_Base.Zondy.Theme.Ring = Ring;

/***/ }),

/***/ "./overlay/ThemeVector.js":
/*!********************************!*\
  !*** ./overlay/ThemeVector.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ThemeVector = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../service/common/Util */ "./service/common/Util.js");

var _FeatureGeometry = __webpack_require__(/*! ../service/common/FeatureGeometry */ "./service/common/FeatureGeometry.js");

var _Theme = __webpack_require__(/*! ./feature/Theme */ "./overlay/feature/Theme.js");

var _SmicBrokenLine = __webpack_require__(/*! ./levelRender/SmicBrokenLine */ "./overlay/levelRender/SmicBrokenLine.js");

var _SmicPoint = __webpack_require__(/*! ./levelRender/SmicPoint */ "./overlay/levelRender/SmicPoint.js");

var _SmicPolygon = __webpack_require__(/*! ./levelRender/SmicPolygon */ "./overlay/levelRender/SmicPolygon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import {Rectangle as GeometryRectangle} from './geometry/Rectangle';
// import {Point as GeometryPoint} from './geometry/Point';
// import {Collection} from './geometry/Collection';
// import {MultiPoint} from './geometry/MultiPoint';
// import {LineString} from './geometry/LineString';
// import {MultiLineString} from './geometry/MultiLineString';
// import {LinearRing} from './geometry/LinearRing';
// import {Polygon as GeometryPolygon} from './geometry/Polygon';
// import {MultiPolygon as GeometryMultiPolygon} from './geometry/MultiPolygon';
// import {Curve} from './geometry/Curve';
// import {GeoText} from './geometry/GeoText';


/**
 * @class Zondy.Feature.Theme.Vector
 * @classdesc 矢量专题要素类。
 * @extends Zondy.Feature.Theme
 * @param data - {Zondy.Feature.Vector}  用户数据，必设参数, 矢量专题要素的类型为矢量数据 feature。
 * @param layer - {Zondy.Layer} 此专题要素所在图层，必设参数。
 * @param style - {Object} 样式。
 * @param options - {Object} 创建专题要素时的可选参数。<br>
 *        nodesClipPixel - {number}节点抽稀像素距离，默认值 2, 单位：像素。<br>
 *        isHoverAble - {boolean} 图形是否可 hover，默认 true。<br>
 *        isMultiHover - {boolean} 是否使用多图形高亮，isHoverAble 为 true 时生效 ，默认 true。<br>
 *        isClickAble - {boolean} 图形是否可点击，默认 true。<br>
 *        highlightStyle - {Object} 高亮样式。
 */

//data为 Zondy.Object.Feature,这个修改直接对应mapgis的相关数据，不再做对应的转换
var ThemeVector = function (_FeatureTheme) {
    (0, _inherits3.default)(ThemeVector, _FeatureTheme);

    function ThemeVector(data, layer, style, options, shapeOptions) {
        (0, _classCallCheck3.default)(this, ThemeVector);

        //数据的 geometry 属性必须存在且类型是 Zondy.Geometry 或其子类的类型
        var _this = (0, _possibleConstructorReturn3.default)(this, (ThemeVector.__proto__ || (0, _getPrototypeOf2.default)(ThemeVector)).call(this, data, layer));

        if (!data.fGeom) {
            return (0, _possibleConstructorReturn3.default)(_this);
        }
        /**
         * @member dataBounds - {Zondy.Object.Rectangle}
         * @description 用户数据的（feature）地理范围。
         */
        _this.dataBounds = data.bound;

        /**
         * @member nodesClipPixel - {number}
         * @description 节点抽稀像素距离，默认值 2。
         */
        _this.nodesClipPixel = 2;

        /**
         * @member isHoverAble - {boolean}
         * @description 图形是否可 hover，默认 true。
         */
        _this.isHoverAble = true;

        /**
         * @member isMultiHover - {boolean}
         * @description 是否使用多图形高亮，isHoverAble 为 true 时生效 ，默认 true。
         */
        _this.isMultiHover = true;

        /**
         * @member isClickAble - {boolean}
         * @description 图形是否可点击，默认 true。
         */
        _this.isClickAble = true;

        /**
         * @member highlightStyle - {Object}
         * @description 高亮样式。
         */
        _this.highlightStyle = null;

        /**
         * @member shapeOptions - {Object}
         * @description 添加到渲染器前修改 shape 的一些属性，非特殊情况通常不允许这么做。
         */
        _this.shapeOptions = {};

        /**
         * @member style - {Object}
         * @description 可视化图形的 style。在子类中规定其对象结构和默认属性值。
         */
        _this.style = style || {};

        _this.CLASS_NAME = "Zondy.Feature.Theme.Vector";
        _this.style = style ? style : {};
        if (options) {
            (0, _Util.copyAttributesWithClip)(_this, options, ["shapeOptions", "dataBounds"]);
        }
        if (shapeOptions) {
            (0, _Util.copyAttributesWithClip)(_this.shapeOptions, shapeOptions);
        }

        //设置基础参数 dataBounds、lonlat、location
        var geometry = data.fGeom;
        _this.lonlat = [(_this.dataBounds.xmin + _this.dataBounds.xmax) / 2.0, (_this.dataBounds.ymin + _this.dataBounds.ymax) / 2.0];
        _this.location = _this.getLocalXY(_this.lonlat);

        //将地理要素转为专题要素
        switch (data.ftype) {
            case 0:
                break;
            case 1:
                _this.pointsToTF(data.fGeom.PntGeom);
                break;
            case 2:
                _this.linesToTF(data.fGeom.LinGeom);
                break;
            case 3:
                _this.regsToTF(data.fGeom.RegGeom);
                break;
        }
        return _this;
    }

    /**
     * @function Zondy.Feature.Theme.Vector.prototype.destroy
     * @override
     */


    (0, _createClass3.default)(ThemeVector, [{
        key: 'destroy',
        value: function destroy() {
            this.style = null;
            this.dataBounds = null;
            this.nodesClipPixel = null;
            this.isHoverAble = null;
            this.isMultiHover = null;
            this.isClickAble = null;
            this.highlightStyle = null;
            this.shapeOptions = null;
            (0, _get3.default)(ThemeVector.prototype.__proto__ || (0, _getPrototypeOf2.default)(ThemeVector.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'pointsToTF',
        value: function pointsToTF(geometry) {
            if (geometry == null || geometry.length <= 0) {
                return;
            }
            var components = geometry.components;

            //节点像素坐标
            var localLX = [];
            //参考位置，参考中心为
            var refLocal = [];
            var location = this.location;
            var pointList = [];

            //节点抽稀距离
            var nCPx = this.nodesClipPixel;

            for (var i = 0; i < geometry.length; i++) {
                var components_i = geometry[i];
                refLocal = [];
                localLX = this.getLocalXY([components_i.Dot.x, components_i.Dot.y]);

                refLocal[0] = localLX[0] - location[0];
                refLocal[1] = localLX[1] - location[1];

                //抽稀
                if (pointList.length > 0) {
                    var lastLocalXY = pointList[pointList.length - 1];
                    if (Math.abs(lastLocalXY[0] - refLocal[0]) <= nCPx && Math.abs(lastLocalXY[1] - refLocal[1]) <= nCPx) {
                        continue;
                    }
                }

                //使用参考点
                pointList.push(refLocal);

                //赋 style
                var style = new Object();
                style.r = 6; //防止漏设此参数，默认 6 像素
                style = (0, _Util.copyAttributesWithClip)(style, this.style);
                style.x = refLocal[0];
                style.y = refLocal[1];

                //创建图形
                var shape = new _SmicPoint.SmicPoint({
                    style: style,
                    clickable: this.isClickAble,
                    hoverable: this.isHoverAble
                });

                //设置高亮样式
                if (this.highlightStyle) {
                    shape.highlightStyle = this.highlightStyle;
                }

                //设置参考中心，指定图形位置
                shape.refOriginalPosition = location;

                //储存数据 id 属性，用于事件
                shape.refDataID = this.data.FID;

                //储存数据 id 属性，用于事件-多图形同时高亮
                shape.isHoverByRefDataID = this.isMultiHover;

                //修改一些 shape 可选属性，通常不需要这么做
                if (this.shapeOptions) {
                    (0, _Util.copyAttributesWithClip)(shape, this.shapeOptions);
                }

                this.shapes.push(shape);
            }
        }
    }, {
        key: 'linesToTF',
        value: function linesToTF(geometry) {
            if (geometry == null || geometry.length <= 0) {
                return;
            }
            for (var i = 0; i < geometry.length; i++) {
                this.lineToTF(geometry[i]);
            }
        }
    }, {
        key: 'lineToTF',
        value: function lineToTF(geometry) {
            var components = [];
            if (geometry.line != null && geometry.Line.Arcs != null && geometry.Line.Arcs.length > 0) {
                var arcs = geometry.Line.Arcs;
                for (var i = 0; i < arcs.length; i++) {
                    var dots = arcs[i].Dots;
                    for (var j = 0; j < dots.length; j++) {
                        components.push([dots[j].x, dots[j].y]);
                    }
                }
            }
            if (components.length <= 0) {
                return;
            }

            //节点像素坐标
            var localLX = [];
            //参考位置，参考中心为
            var refLocal = [];
            var location = this.location;
            var pointList = [];

            //节点抽稀距离
            var nCPx = this.nodesClipPixel;

            for (var i = 0; i < components.length; i++) {
                var components_i = components[i];
                refLocal = [];
                localLX = this.getLocalXY(components_i);

                refLocal[0] = localLX[0] - location[0];
                refLocal[1] = localLX[1] - location[1];

                //抽稀 - 2 px
                if (pointList.length > 0) {
                    var lastLocalXY = pointList[pointList.length - 1];
                    if (Math.abs(lastLocalXY[0] - refLocal[0]) <= nCPx && Math.abs(lastLocalXY[1] - refLocal[1]) <= nCPx) {
                        continue;
                    }
                }

                //使用参考点
                pointList.push(refLocal);
            }

            if (pointList.length < 2) {
                return null;
            }

            //赋 style
            var style = new Object();
            style = (0, _Util.copyAttributesWithClip)(style, this.style, ['pointList']);
            style.pointList = pointList;

            //创建图形
            var shape = new _SmicBrokenLine.SmicBrokenLine({
                style: style,
                clickable: this.isClickAble,
                hoverable: this.isHoverAble
            });

            //设置高亮样式
            if (this.highlightStyle) {
                shape.highlightStyle = this.highlightStyle;
            }

            //设置参考中心，指定图形位置
            shape.refOriginalPosition = this.location;

            //储存数据 id 属性，用于事件
            shape.refDataID = this.data.FID;

            //储存数据 id 属性，用于事件-多图形同时高亮
            shape.isHoverByRefDataID = this.isMultiHover;

            //添加到渲染器前修改 shape 的一些属性，非特殊情况通常不允许这么做
            if (this.shapeOptions) {
                (0, _Util.copyAttributesWithClip)(shape, this.shapeOptions);
            }

            this.shapes.push(shape);
        }
    }, {
        key: 'regsToTF',
        value: function regsToTF(geometry) {
            if (geometry == null || geometry.length <= 0) {
                return;
            }
            for (var i = 0; i < geometry.length; i++) {
                this.regToTF(geometry[i]);
            }
        }
    }, {
        key: 'regToTF',
        value: function regToTF(geometry) {

            var components = geometry.Rings;
            if (components == null || components.length <= 0) {
                return;
            }

            //节点像素坐标
            var localLX = [];
            //参考位置，参考中心为
            var refLocal = [];
            var location = this.location;
            var pointList = [];

            //岛洞
            var holePolygonPointList = [];
            var holePolygonPointLists = [];

            //节点抽稀距离
            var nCPx = this.nodesClipPixel;

            for (var i = 0; i < components.length; i++) {
                if (i === 0) {
                    // 第一个 component 正常绘制
                    pointList = [];
                    if (components[i] != null && components[i].Arcs != null && components[i].Arcs.length > 0) {
                        var arcs = components[i].Arcs;
                        for (var j = 0; j < arcs.length; j++) {
                            var dots = arcs[j].Dots;
                            for (var k = 0; k < dots.length; k++) {
                                refLocal = [];
                                localLX = this.getLocalXY([dots[k].x, dots[k].y]);
                                refLocal[0] = localLX[0] - location[0];
                                refLocal[1] = localLX[1] - location[1];
                                //抽稀 - 2 px
                                if (pointList.length > 0) {
                                    var lastLocalXY = pointList[pointList.length - 1];
                                    if (Math.abs(lastLocalXY[0] - refLocal[0]) <= nCPx && Math.abs(lastLocalXY[1] - refLocal[1]) <= nCPx) {
                                        continue;
                                    }
                                }

                                //使用参考点
                                pointList.push(refLocal);
                            }
                        }
                    }
                } else {
                    // 其它 component 作为岛洞
                    holePolygonPointList = [];
                    if (components[i] != null && components[i].Arcs != null && components[i].Arcs.length > 0) {
                        var arcs = components[i].Arcs;
                        for (var j = 0; j < arcs.length; j++) {
                            var dots = arcs[j].Dots;
                            for (var k = 0; k < dots.length; k++) {
                                refLocal = [];
                                localLX = this.getLocalXY([dots[k].x, dots[k].y]);
                                refLocal[0] = localLX[0] - location[0];
                                refLocal[1] = localLX[1] - location[1];
                                //抽稀 - 2 px
                                if (holePolygonPointList.length > 0) {
                                    var lastXY = holePolygonPointList[holePolygonPointList.length - 1];
                                    if (Math.abs(lastXY[0] - refLocal[0]) <= nCPx && Math.abs(lastXY[1] - refLocal[1]) <= nCPx) {
                                        continue;
                                    }
                                }

                                //使用参考点
                                holePolygonPointList.push(refLocal);
                            }
                        }
                    }
                }

                if (holePolygonPointList.length < 2) {
                    continue;
                }

                holePolygonPointLists.push(holePolygonPointList);
            }

            if (pointList.length < 2) {
                return;
            }

            //赋 style
            var style = {};
            style = (0, _Util.copyAttributesWithClip)(style, this.style, ['pointList']);
            style.pointList = pointList;

            //创建图形
            var shape = new _SmicPolygon.SmicPolygon({
                style: style,
                clickable: this.isClickAble,
                hoverable: this.isHoverAble
            });

            //设置高亮样式
            if (this.highlightStyle) {
                shape.highlightStyle = this.highlightStyle;
            }

            //设置参考中心，指定图形位置
            shape.refOriginalPosition = this.location;

            //储存数据 id 属性，用于事件
            shape.refDataID = this.data.FID;

            //储存数据 id 属性，用于事件-多图形同时高亮
            shape.isHoverByRefDataID = this.isMultiHover;

            //岛洞面
            if (holePolygonPointLists.length > 0) {
                shape.holePolygonPointLists = holePolygonPointLists;
            }

            //修改一些 shape 可选属性，通常不需要这么做
            if (this.shapeOptions) {
                (0, _Util.copyAttributesWithClip)(shape, this.shapeOptions);
            }

            this.shapes.push(shape);
        }
        /**
         * @function Zondy.Feature.Theme.Vector.prototype.updateAndAddShapes
         * @description 修改位置，针对地图平移操作，地图漫游操作后调用此函数。
         */

    }, {
        key: 'updateAndAddShapes',
        value: function updateAndAddShapes() {
            var newLocalLX = this.getLocalXY(this.lonlat);
            this.location = newLocalLX;

            var render = this.layer.renderer;
            for (var i = 0, len = this.shapes.length; i < len; i++) {
                var shape = this.shapes[i];
                //设置参考中心，指定图形位置
                shape.refOriginalPosition = newLocalLX;
                render.addShape(shape);
            }
        }
        /**
         * @function Zondy.Feature.Theme.Vector.prototype.getShapesCount
         * @description 获得专题要素中可视化图形的数量。
         * @return {number} 可视化图形的数量。
         */

    }, {
        key: 'getShapesCount',
        value: function getShapesCount() {
            return this.shapes.length;
        }
        /**
         * @function Zondy.Feature.Theme.Vector.prototype.getLocalXY
         * @description 地理坐标转为像素坐标。
         * @param lonlat - {Zondy.LonLat} 专题要素地理位置。
         */

    }, {
        key: 'getLocalXY',
        value: function getLocalXY(lonlat) {
            return this.layer.getLocalXY(lonlat);
        }
    }]);
    return ThemeVector;
}(_Theme.Theme);

;
exports.ThemeVector = ThemeVector;

_Base.Zondy.Theme.ThemeVector = ThemeVector;

/***/ }),

/***/ "./overlay/feature/Circle.js":
/*!***********************************!*\
  !*** ./overlay/feature/Circle.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Circle = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _ShapeParameters2 = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters.Circle
 * 圆形参数对象。
 *
 * Inherits:
 *  - <Zondy.Feature.ShapeParameters>
 */

var Circle = function (_ShapeParameters) {
  (0, _inherits3.default)(Circle, _ShapeParameters);

  /**
   * Constructor: Zondy.Feature.ShapeParameters.Circle
   * 创建一个圆形参数对象。
   *
   * Parameters:
   * x - {Number} 圆心 x 坐标，必设参数。
   * y - {Number} 圆心 y 坐标，必设参数。
   * r - {Number} 圆半径，必设参数。
   *
   * Returns:
   * {<Zondy.Feature.ShapeParameters.Circle>} 圆形参数对象。
   */
  function Circle(x, y, r) {
    (0, _classCallCheck3.default)(this, Circle);

    /**
     * APIProperty: x
     * {Number} 圆心 x 坐标。
     */
    var _this = (0, _possibleConstructorReturn3.default)(this, (Circle.__proto__ || (0, _getPrototypeOf2.default)(Circle)).call(this, x, y, r));

    _this.x = !isNaN(x) ? x : 0;

    /**
     * APIProperty: y
     * {Number} 圆心 y 坐标。
     */
    _this.y = !isNaN(y) ? y : 0;

    /**
     * APIProperty: r
     * {Number} 圆半径。
     */
    _this.r = !isNaN(r) ? r : 0;

    _this.CLASS_NAME = "Zondy.Feature.ShapeParameters.Circle";
    /**
     * APIProperty: style
     * {Object} 圆形样式对象，可设属性如下：
     *
     * Symbolizer properties:
     * brushType - {string} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {string} 填充颜色,默认值"#000000"
     * strokeColor - {string} 描边颜色,默认值为'#000000'
     * lineCape — {string} 线帽样式，可以是 butt, round, square，默认是butt
     * lineWidth - {number} 描边宽度、默认是1
     * opacity - {number} 绘制透明度、默认是1，不透明
     * shadowBlur - {number} 阴影模糊度，大于0有效，默认是0
     * shadowColor - {string} 阴影颜色，默认是'#000000'
     * shadowOffsetX - {number} 阴影横向偏移，默认是0
     * shadowOffsetY - {number} 阴影纵向偏移，默认是0
     */

    return _this;
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(Circle, [{
    key: 'destroy',
    value: function destroy() {
      this.x = null;
      this.y = null;
      this.r = null;
      (0, _get3.default)(Circle.prototype.__proto__ || (0, _getPrototypeOf2.default)(Circle.prototype), 'destroy', this).call(this);
    }
  }]);
  return Circle;
}(_ShapeParameters2.ShapeParameters);

exports.Circle = Circle;

_Base.Zondy.Feature.ShapeParameters.Circle = Circle;

/***/ }),

/***/ "./overlay/feature/Image.js":
/*!**********************************!*\
  !*** ./overlay/feature/Image.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Image = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _ShapeParameters2 = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters.Image
 * 图片参数对象。
 *
 * Inherits:
 *  - <Zondy.Feature.ShapeParameters>
 */
var Image = function (_ShapeParameters) {
  (0, _inherits3.default)(Image, _ShapeParameters);

  /**
   * Constructor: Zondy.Feature.ShapeParameters.Image
   * 创建一个图片参数对象。
   *
   * Parameters:
   * x - {Number} 左上角横坐标，必设参数。
   * y - {Number} 左上角纵坐标，必设参数。
   * image - {String/Cavans} 图片地址或cavans对象，必设参数。
   * width - {Number} 绘制到画布上的宽度，默认为图片高度。
   * height - {Number} 绘制到画布上的高度，默认为图片高度。
   *
   * Returns:
   * {<Zondy.Feature.ShapeParameters.Image>} 图片参数对象。
   */
  //     * sx - {Number} 从图片中裁剪的左上角横坐标。
  //     * sy - {Number} 从图片中裁剪的左上角纵坐标。
  //     * sWidth - {Number} 从图片中裁剪的宽度，默认为图片高度。
  //     * sHeight - {Number} 绘制到画布上的高度，默认为图片高度。
  function Image(x, y, image, width, height, sx, sy, sWidth, sHeight) {
    (0, _classCallCheck3.default)(this, Image);

    /**
     * APIProperty: x
     * {Number} 图片左上角横坐标。
     */
    var _this = (0, _possibleConstructorReturn3.default)(this, (Image.__proto__ || (0, _getPrototypeOf2.default)(Image)).call(this, x, y, image, width, height, sx, sy, sWidth, sHeight));

    _this.x = x;

    /**
     * APIProperty: y
     * {Number} 左上角纵坐标。
     */
    _this.y = y;

    /**
     * APIProperty: image
     * {String} 图片地址。
     */
    _this.image = image;

    /**
     * APIProperty: width
     * {Number} 绘制到画布上的宽度，默认为图片高度。
     */
    _this.width = width;

    /**
     * APIProperty: height
     * {Number} 绘制到画布上的高度，默认为图片高度。
     */
    _this.height = height;

    /**
     * Property: sx
     * {Number} 从图片中裁剪的左上角横坐标。
     */
    _this.sx = sx;

    /**
     * Property: sy
     * {Number} 从图片中裁剪的左上角纵坐标。
     */
    _this.sy = sy;

    /**
     * Property: sWidth
     * {Number} 从图片中裁剪的宽度，默认为图片高度。
     */
    _this.sWidth = sWidth;

    /**
     * Property: sHeight
     * {Number} 绘制到画布上的高度，默认为图片高度。
     */
    _this.sHeight = sHeight;

    _this.CLASS_NAME = "Zondy.Feature.ShapeParameters.Image";

    return _this;
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(Image, [{
    key: 'destroy',
    value: function destroy() {
      this.x = null;
      this.y = null;
      this.image = null;
      this.width = null;
      this.height = null;
      this.sx = null;
      this.sy = null;
      this.sWidth = null;
      this.sHeight = null;
      (0, _get3.default)(Image.prototype.__proto__ || (0, _getPrototypeOf2.default)(Image.prototype), 'destroy', this).call(this);
    }
  }]);
  return Image;
}(_ShapeParameters2.ShapeParameters);

;
exports.Image = Image;

_Base.Zondy.Feature.ShapeParameters.Image = Image;

/***/ }),

/***/ "./overlay/feature/Label.js":
/*!**********************************!*\
  !*** ./overlay/feature/Label.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Label = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _ShapeParameters2 = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters.Label
 * 标签参数对象。
 *
 * Inherits:
 *  - <Zondy.Feature.ShapeParameters>
 */
var Label = function (_ShapeParameters) {
  (0, _inherits3.default)(Label, _ShapeParameters);

  /**
   * Constructor: Zondy.Feature.ShapeParameters.Label
   * 创建一个标签参数对象。
   *
   * Parameters:
   * x - {Number} 横坐标，必设参数。
   * y - {Number} 纵坐标，必设参数。
   * text - {String} 图形中的附加文本，必设参数。
   *
   * Returns:
   * {<Zondy.Feature.ShapeParameters.Label>} 标签参数对象。
   */
  function Label(x, y, text) {
    (0, _classCallCheck3.default)(this, Label);

    /**
     * APIProperty: x
     * {Number} 标签 x 坐标。
     */
    var _this = (0, _possibleConstructorReturn3.default)(this, (Label.__proto__ || (0, _getPrototypeOf2.default)(Label)).call(this, x, y, text));

    _this.x = x;

    /**
     * APIProperty: y
     * {Number} 标签 y 坐标。
     */
    _this.y = y;

    /**
     * APIProperty: text
     * {String} 标签的文本内容。
     */
    _this.text = text;

    _this.CLASS_NAME = "Zondy.Feature.ShapeParameters.Label";
    return _this;
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(Label, [{
    key: 'destroy',
    value: function destroy() {
      this.x = null;
      this.y = null;
      this.text = null;

      (0, _get3.default)(Label.prototype.__proto__ || (0, _getPrototypeOf2.default)(Label.prototype), 'destroy', this).call(this);
    }
  }]);
  return Label;
}(_ShapeParameters2.ShapeParameters);

;
exports.Label = Label;

_Base.Zondy.Feature.ShapeParameters.Label = Label;

/***/ }),

/***/ "./overlay/feature/Line.js":
/*!*********************************!*\
  !*** ./overlay/feature/Line.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Line = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _ShapeParameters2 = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters.Line
 * 线参数对象。
 *
 * Inherits:
 *  - <Zondy.Feature.ShapeParameters>
 */
var Line = function (_ShapeParameters) {
  (0, _inherits3.default)(Line, _ShapeParameters);

  /**
   * Constructor: Zondy.Feature.ShapeParameters.Line
   * 创建一个图形线参数对象。
   *
   * Parameters:
   * pointList - {Array} 线要素节点数组，二维数组，必设参数。
   *
   * Returns:
   * {<Zondy.Feature.ShapeParameters.Line>} 图形线参数对象。
   */
  function Line(pointList) {
    (0, _classCallCheck3.default)(this, Line);

    /**
     * APIProperty: pointList
     * {Array} 线要素节点数组，二维数组。
     *
     * 数组形如：
     * (start code)
     *  [
     *  [10, 20],         //节点
     *  [30, 40],
     *  [25, 30]         //最后一个节点和第一个节点不必相同，绘制时自动封闭
     *   ]
     * (end)
     */
    var _this = (0, _possibleConstructorReturn3.default)(this, (Line.__proto__ || (0, _getPrototypeOf2.default)(Line)).call(this, pointList));

    _this.pointList = pointList;

    _this.CLASS_NAME = "Zondy.Feature.ShapeParameters.Line";

    return _this;
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(Line, [{
    key: 'destroy',
    value: function destroy() {
      this.pointList = null;
      (0, _get3.default)(Line.prototype.__proto__ || (0, _getPrototypeOf2.default)(Line.prototype), 'destroy', this).call(this);
    }
  }]);
  return Line;
}(_ShapeParameters2.ShapeParameters);

;
exports.Line = Line;

_Base.Zondy.Feature.ShapeParameters.Line = Line;

/***/ }),

/***/ "./overlay/feature/Point.js":
/*!**********************************!*\
  !*** ./overlay/feature/Point.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Point = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _ShapeParameters2 = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters.Point
 * 点参数对象。
 *
 * Inherits:
 *  - <Zondy.Feature.ShapeParameters>
 */
var Point = function (_ShapeParameters) {
  (0, _inherits3.default)(Point, _ShapeParameters);

  /**
   * Constructor: Zondy.Feature.ShapeParameters.Point
   * 创建一个图形点参数对象。
   *
   * Parameters:
   * x - {Number} 点 x 坐标，必设参数
   * y - {Number} 点 y 坐标，必设参数。
   *
   * Returns:
   * {<Zondy.Feature.ShapeParameters.Point>} 图形点参数对象。
   */
  function Point(x, y) {
    (0, _classCallCheck3.default)(this, Point);

    /**
     * APIProperty: x
     * {Number} 点 x 坐标。
     */
    var _this = (0, _possibleConstructorReturn3.default)(this, (Point.__proto__ || (0, _getPrototypeOf2.default)(Point)).call(this, x, y));

    _this.x = !isNaN(x) ? x : 0;

    /**
     * APIProperty: y
     * {Number} 点 y 坐标。
     */
    _this.y = !isNaN(y) ? y : 0;

    /**
     * Property: y
     * {Number} 点的半径。style.pointRadius 默认值。
     */
    _this.r = 6;

    _this.CLASS_NAME = "Zondy.Feature.ShapeParameters.Point";
    return _this;
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(Point, [{
    key: 'destroy',
    value: function destroy() {
      this.x = null;
      this.y = null;
      this.r = null;

      (0, _get3.default)(Point.prototype.__proto__ || (0, _getPrototypeOf2.default)(Point.prototype), 'destroy', this).call(this);
    }
  }]);
  return Point;
}(_ShapeParameters2.ShapeParameters);

;
exports.Point = Point;

_Base.Zondy.Feature.ShapeParameters.Point = Point;

/***/ }),

/***/ "./overlay/feature/Polygon.js":
/*!************************************!*\
  !*** ./overlay/feature/Polygon.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Polygon = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _ShapeParameters2 = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters.Polygon
 * 面参数对象。
 *
 * Inherits:
 *  - <Zondy.Feature.ShapeParameters>
 */
var Polygon = function (_ShapeParameters) {
  (0, _inherits3.default)(Polygon, _ShapeParameters);

  /**
   * Constructor: Zondy.Feature.ShapeParameters.Polygon
   * 创建一个图形面参数对象。
   *
   * Parameters:
   * pointList - {Array} 面要素节点数组，二维数组，必设参数。
   *
   * Returns:
   * {<Zondy.Feature.ShapeParameters.Polygon>} 图形面参数对象。
   */
  function Polygon(pointList) {
    (0, _classCallCheck3.default)(this, Polygon);

    /**
     * APIProperty: pointList
     * {Array} 面要素节点数组，二维数组。
     *
     * 数组形如：
     * (start code)
     *  [
     *  [10, 20],         //节点
     *  [30, 40],
     *  [25, 30]         //最后一个节点和第一个节点不必相同，绘制时自动封闭
     *   ]
     * (end)
     */
    var _this = (0, _possibleConstructorReturn3.default)(this, (Polygon.__proto__ || (0, _getPrototypeOf2.default)(Polygon)).call(this, pointList));

    _this.pointList = pointList;

    /**
     * Property: holePolygonPointLists
     * {Array} 岛洞面多边形顶点数组（三维数组）
     */
    _this.holePolygonPointLists = null;

    _this.CLASS_NAME = "Zondy.Feature.ShapeParameters.Polygon";
    return _this;
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(Polygon, [{
    key: 'destroy',
    value: function destroy() {
      this.pointList = null;
      this.holePolygonPointLists = null;
      (0, _get3.default)(Polygon.prototype.__proto__ || (0, _getPrototypeOf2.default)(Polygon.prototype), 'destroy', this).call(this);
    }
  }]);
  return Polygon;
}(_ShapeParameters2.ShapeParameters);

;
exports.Polygon = Polygon;

_Base.Zondy.Feature.ShapeParameters.Polygon = Polygon;

/***/ }),

/***/ "./overlay/feature/Rectangle.js":
/*!**************************************!*\
  !*** ./overlay/feature/Rectangle.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Rectangle = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _ShapeParameters2 = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters.Rectangle
 * 矩形参数对象。
 *
 * Inherits:
 *  - <Zondy.Feature.ShapeParameters>
 */
var Rectangle = function (_ShapeParameters) {
  (0, _inherits3.default)(Rectangle, _ShapeParameters);

  /**
   * Constructor: Zondy.Feature.ShapeParameters.Rectangle
   * 创建一个图形矩形参数对象。
   *
   * Parameters:
   * x - {Number} 矩形 x 坐标，必设参数。
   * y - {Number} 矩形 y 坐标，必设参数。
   * width - {Number} 矩形 width 坐标，必设参数。
   * height - {Number} 矩形 height 坐标，必设参数。
   *
   * Returns:
   * {<Zondy.Feature.ShapeParameters.Rectangle>} 图形矩形参数对象。
   */
  function Rectangle(x, y, width, height) {
    (0, _classCallCheck3.default)(this, Rectangle);

    /**
     * APIProperty: x
     * {Number} 左上角 x 坐标。
     */
    var _this = (0, _possibleConstructorReturn3.default)(this, (Rectangle.__proto__ || (0, _getPrototypeOf2.default)(Rectangle)).call(this, x, y, width, height));

    _this.x = !isNaN(x) ? x : 0;

    /**
     * APIProperty: y
     * {Number} 左上角 y 坐标。
     */
    _this.y = !isNaN(x) ? y : 0;

    /**
     * APIProperty: width
     * {Number} 宽度。
     */
    _this.width = !isNaN(width) ? width : 0;

    /**
     * APIProperty: height
     * {Number} 高度。
     */
    _this.height = !isNaN(height) ? height : 0;

    _this.CLASS_NAME = "Zondy.Feature.ShapeParameters.Rectangle";
    return _this;
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(Rectangle, [{
    key: 'destroy',
    value: function destroy() {
      this.x = null;
      this.y = null;
      this.width = null;
      this.height = null;

      (0, _get3.default)(Rectangle.prototype.__proto__ || (0, _getPrototypeOf2.default)(Rectangle.prototype), 'destroy', this).call(this);
    }
  }]);
  return Rectangle;
}(_ShapeParameters2.ShapeParameters);

;
exports.Rectangle = Rectangle;

_Base.Zondy.Feature.ShapeParameters.Rectangle = Rectangle;

/***/ }),

/***/ "./overlay/feature/Sector.js":
/*!***********************************!*\
  !*** ./overlay/feature/Sector.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Sector = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _ShapeParameters2 = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters.Sector
 * 扇形参数对象。
 *
 * Inherits:
 *  - <Zondy.Feature.ShapeParameters>
 */
var Sector = function (_ShapeParameters) {
  (0, _inherits3.default)(Sector, _ShapeParameters);

  /**
   * Constructor: Zondy.Feature.ShapeParameters.Sector
   * 创建一个扇形参数对象。
   *
   * Parameters:
   * x - {Number} 圆心 x 坐标，必设参数。
   * y - {Number} 圆心 y 坐标，必设参数。
   * r - {Number} 外圆半径，必设参数。
   * startAngle - {Number} 起始角度，必设参数。取值范围[0, 360)。
   * endAngle - {Number} 结束角度，必设参数。取值范围(0, 360]。
   * r0 - {Number} 内圆半径，指定后将出现内弧，同时扇边长度为`r - r0`。取值范围[0, r)，默认值：0。
   *
   * Returns:
   * {<Zondy.Feature.ShapeParameters.Sector>} 扇形参数对象。
   */
  function Sector(x, y, r, startAngle, endAngle, r0, clockWise) {
    (0, _classCallCheck3.default)(this, Sector);

    /**
     * APIProperty: x
     * {Number} 圆心 x 坐标。
     */
    var _this = (0, _possibleConstructorReturn3.default)(this, (Sector.__proto__ || (0, _getPrototypeOf2.default)(Sector)).call(this, x, y, r, startAngle, endAngle, r0, clockWise));

    _this.x = !isNaN(x) ? x : 0;

    /**
     * APIProperty: y
     * {Number} 圆心 y 坐标。
     */
    _this.y = !isNaN(y) ? y : 0;

    /**
     * APIProperty: r
     * {Number} 外圆半径。
     */
    _this.r = !isNaN(r) ? r : 0;

    /**
     * APIProperty: startAngle
     * {Number} 起始角度。取值范围[0, 360)，默认值：null。
     */
    _this.startAngle = !isNaN(startAngle) ? startAngle : 0;

    /**
     * APIProperty: endAngle
     * {Number} 结束角度。取值范围(0, 360]，默认值：null。
     */
    _this.endAngle = !isNaN(endAngle) ? endAngle : 0;

    /**
     * APIProperty: r0
     * {Number} 内圆半径，指定后将出现内弧，同时扇边长度为 r 减 r0。取值范围[0, r)，默认值：0。
     */
    _this.r0 = !isNaN(r0) ? r0 : 0;

    /**
     * Property: clockWise
     * {Boolean} 是否是顺时针。默认值：false。
     */
    _this.clockWise = clockWise;

    _this.CLASS_NAME = "Zondy.Feature.ShapeParameters.Sector";
    return _this;
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(Sector, [{
    key: 'destroy',
    value: function destroy() {
      this.x = null;
      this.y = null;
      this.r = null;
      this.startAngle = null;
      this.endAngle = null;
      this.r0 = null;
      this.clockWise = null;

      (0, _get3.default)(Sector.prototype.__proto__ || (0, _getPrototypeOf2.default)(Sector.prototype), 'destroy', this).call(this);
    }
  }]);
  return Sector;
}(_ShapeParameters2.ShapeParameters);

;
exports.Sector = Sector;

_Base.Zondy.Feature.ShapeParameters.Sector = Sector;

/***/ }),

/***/ "./overlay/feature/ShapeFactory.js":
/*!*****************************************!*\
  !*** ./overlay/feature/ShapeFactory.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ShapeFactory = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Point = __webpack_require__(/*! ./Point */ "./overlay/feature/Point.js");

var _Line = __webpack_require__(/*! ./Line */ "./overlay/feature/Line.js");

var _Polygon = __webpack_require__(/*! ./Polygon */ "./overlay/feature/Polygon.js");

var _Rectangle = __webpack_require__(/*! ./Rectangle */ "./overlay/feature/Rectangle.js");

var _Sector = __webpack_require__(/*! ./Sector */ "./overlay/feature/Sector.js");

var _Label = __webpack_require__(/*! ./Label */ "./overlay/feature/Label.js");

var _Image = __webpack_require__(/*! ./Image */ "./overlay/feature/Image.js");

var _Circle = __webpack_require__(/*! ./Circle */ "./overlay/feature/Circle.js");

var _SmicPoint = __webpack_require__(/*! ../levelRender/SmicPoint */ "./overlay/levelRender/SmicPoint.js");

var _SmicText = __webpack_require__(/*! ../levelRender/SmicText */ "./overlay/levelRender/SmicText.js");

var _SmicCircle = __webpack_require__(/*! ../levelRender/SmicCircle */ "./overlay/levelRender/SmicCircle.js");

var _SmicBrokenLine = __webpack_require__(/*! ../levelRender/SmicBrokenLine */ "./overlay/levelRender/SmicBrokenLine.js");

var _SmicImage = __webpack_require__(/*! ../levelRender/SmicImage */ "./overlay/levelRender/SmicImage.js");

var _SmicPolygon = __webpack_require__(/*! ../levelRender/SmicPolygon */ "./overlay/levelRender/SmicPolygon.js");

var _SmicRectangle = __webpack_require__(/*! ../levelRender/SmicRectangle */ "./overlay/levelRender/SmicRectangle.js");

var _SmicSector = __webpack_require__(/*! ../levelRender/SmicSector */ "./overlay/levelRender/SmicSector.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeFactory
 * 图形工厂类。
 *
 * 目前支持创建的图形有：
 *
 * 用于统计专题图：
 * 点 - 参数对象： <Zondy.Feature.ShapeParameters.Point>
 *
 * 线 - 参数对象： <Zondy.Feature.ShapeParameters.Line>
 *
 * 面 - 参数对象： <Zondy.Feature.ShapeParameters.Polygon>
 *
 * 矩形 - 参数对象： <Zondy.Feature.ShapeParameters.Rectangle>
 *
 * 扇形 - 参数对象： <Zondy.Feature.ShapeParameters.Sector>
 *
 * 标签 - 参数对象： <Zondy.Feature.ShapeParameters.Label>
 *
 * 图片 - 参数对象： <Zondy.Feature.ShapeParameters.Image>
 *
 *
 * 用于符号专题图：
 * 圆形 -  参数对象：<Zondy.Feature.ShapeParameters.Cilcle>
 */
var ShapeFactory = function () {

    /**
     * Constructor: Zondy.Feature.ShapeFactory
     * 构建图形工厂对象。
     *
     * Parameters:
     * shapeParameters - {Object}  图形参数对象，<Zondy.Feature.ShapeParameters> 子类对象，可选参数。
     *
     * Returns:
     * {Object} 返回图形工厂类对象。
     */
    function ShapeFactory(shapeParameters) {
        (0, _classCallCheck3.default)(this, ShapeFactory);

        /**
         * APIProperty: shapeParameters
         * {Object} 图形参数对象， <Zondy.Feature.ShapeParameters> 子类对象。必设参数，默认值 null。
         */
        this.shapeParameters = shapeParameters;

        this.CLASS_NAME = "Zondy.Feature.ShapeFactory";
    }

    /**
     * APIMethod: destroy
     * 销毁图形工厂类对象。
     */


    (0, _createClass3.default)(ShapeFactory, [{
        key: 'destroy',
        value: function destroy() {
            this.shapeParameters = null;
        }

        /**
         * APIMethod: createShape
         * 创建一个图形。具体图形由 shapeParameters 决定。
         *
         * Parameters:
         * shapeParameters - {Object} 图形参数对象， <Zondy.Feature.ShapeParameters> 子类对象。
         * 此参数可选，如果使用此参数（不为 null），shapeParameters 属性值将被修改为参数的值，然后再使用 shapeParameters 属性值创建图形；
         * 如果不使用此参数，createShape 方法将直接使用 shapeParameters 属性创建图形。
         *
         * Returns:
         * {Object} - 图形对象（或 null - 图形创建失败）。
         */

    }, {
        key: 'createShape',
        value: function createShape(shapeParameters) {
            if (shapeParameters) {
                this.shapeParameters = shapeParameters;
            }

            if (!this.shapeParameters) {
                return null;
            }

            var sps = this.shapeParameters;

            if (sps instanceof _Point.Point) {
                // 点
                //设置style
                var style = new Object();
                style["x"] = sps.x;
                style["y"] = sps.y;
                style["r"] = sps.r;

                style = (0, _Util.copyAttributesWithClip)(style, sps.style, ['x', 'y']);

                //创建图形
                var shape = new _SmicPoint.SmicPoint();
                shape.style = ShapeFactory.transformStyle(style);
                shape.highlightStyle = ShapeFactory.transformStyle(sps.highlightStyle);
                (0, _Util.copyAttributesWithClip)(shape, sps, ['x', 'y', 'style', 'highlightStyle']);

                return shape;
            } else if (sps instanceof _Line.Line) {
                // 线
                //检查参数 pointList 是否存在
                if (!sps.pointList) {
                    return null;
                }

                // 设置style
                var _style = new Object();
                _style["pointList"] = sps.pointList;
                _style = (0, _Util.copyAttributesWithClip)(_style, sps.style, ['pointList']);

                // 创建图形
                var _shape = new _SmicBrokenLine.SmicBrokenLine();
                _shape.style = ShapeFactory.transformStyle(_style);
                _shape.highlightStyle = ShapeFactory.transformStyle(sps.highlightStyle);
                (0, _Util.copyAttributesWithClip)(_shape, sps, ['pointList', 'style', 'highlightStyle']);

                return _shape;
            } else if (sps instanceof _Polygon.Polygon) {
                // 面
                //检查参数 pointList 是否存在
                if (!sps.pointList) {
                    return null;
                }

                //设置style
                var _style2 = new Object();
                _style2["pointList"] = sps.pointList;
                _style2 = (0, _Util.copyAttributesWithClip)(_style2, sps.style, ['pointList']);

                //创建图形
                var _shape2 = new _SmicPolygon.SmicPolygon();
                _shape2.style = ShapeFactory.transformStyle(_style2);
                _shape2.highlightStyle = ShapeFactory.transformStyle(sps.highlightStyle);
                (0, _Util.copyAttributesWithClip)(_shape2, sps, ['pointList', 'style', "highlightStyle"]);

                return _shape2;
            } else if (sps instanceof _Rectangle.Rectangle) {
                // 矩形
                //检查参数 pointList 是否存在
                if (!sps.x && !sps.y & !sps.width & !sps.height) {
                    return null;
                }

                //设置style
                var _style3 = new Object();
                _style3["x"] = sps.x;
                _style3["y"] = sps.y;
                _style3["width"] = sps.width;
                _style3["height"] = sps.height;

                _style3 = (0, _Util.copyAttributesWithClip)(_style3, sps.style, ['x', 'y', 'width', 'height']);

                //创建图形
                var _shape3 = new _SmicRectangle.SmicRectangle();
                _shape3.style = ShapeFactory.transformStyle(_style3);
                _shape3.highlightStyle = ShapeFactory.transformStyle(sps.highlightStyle);
                (0, _Util.copyAttributesWithClip)(_shape3, sps, ['x', 'y', 'width', 'height', 'style', 'highlightStyle']);

                return _shape3;
            } else if (sps instanceof _Sector.Sector) {
                // 扇形
                //设置style
                var _style4 = new Object();
                _style4["x"] = sps.x;
                _style4["y"] = sps.y;
                _style4["r"] = sps.r;
                _style4["startAngle"] = sps.startAngle;
                _style4["endAngle"] = sps.endAngle;
                if (sps["r0"]) {
                    _style4["r0"] = sps.r0;
                }

                if (sps["clockWise"]) {
                    _style4["clockWise"] = sps.clockWise;
                }

                _style4 = (0, _Util.copyAttributesWithClip)(_style4, sps.style, ['x', 'y', 'r', 'startAngle', 'endAngle', 'r0', 'endAngle']);

                //创建图形
                var _shape4 = new _SmicSector.SmicSector();
                _shape4.style = ShapeFactory.transformStyle(_style4);
                _shape4.highlightStyle = ShapeFactory.transformStyle(sps.highlightStyle);
                (0, _Util.copyAttributesWithClip)(_shape4, sps, ['x', 'y', 'r', 'startAngle', 'endAngle', 'r0', 'endAngle', 'style', 'highlightStyle']);

                return _shape4;
            } else if (sps instanceof _Label.Label) {
                // 标签
                //设置style
                var _style5 = new Object();
                _style5["x"] = sps.x;
                _style5["y"] = sps.y;
                _style5["text"] = sps.text;

                _style5 = (0, _Util.copyAttributesWithClip)(_style5, sps.style, ['x', 'y', 'text']);

                //创建图形
                var _shape5 = new _SmicText.SmicText();
                _shape5.style = ShapeFactory.transformStyle(_style5);
                _shape5.highlightStyle = ShapeFactory.transformStyle(sps.highlightStyle);
                (0, _Util.copyAttributesWithClip)(_shape5, sps, ['x', 'y', 'text', 'style', 'highlightStyle']);

                return _shape5;
            } else if (sps instanceof _Image.Image) {
                // 图片
                //设置style
                var _style6 = new Object();
                _style6["x"] = sps.x;
                _style6["y"] = sps.y;
                if (sps["image"]) {
                    _style6["image"] = sps.image;
                }
                if (sps["width"]) {
                    _style6["width"] = sps.width;
                }
                if (sps["height"]) {
                    _style6["height"] = sps.height;
                }
                if (sps["sx"]) {
                    _style6["sx"] = sps.sx;
                }
                if (sps["sy"]) {
                    _style6["sy"] = sps.sy;
                }
                if (sps["sWidth"]) {
                    _style6["sWidth"] = sps.sWidth;
                }
                if (sps["sHeight"]) {
                    _style6["sHeight"] = sps.sHeight;
                }

                _style6 = (0, _Util.copyAttributesWithClip)(_style6, sps.style, ['x', 'y', 'image', 'width', 'height', 'sx', 'sy', 'sWidth', 'sHeight']);

                //创建图形
                var _shape6 = new _SmicImage.SmicImage();
                _shape6.style = ShapeFactory.transformStyle(_style6);
                _shape6.highlightStyle = ShapeFactory.transformStyle(sps.highlightStyle);
                (0, _Util.copyAttributesWithClip)(_shape6, sps, ['x', 'y', 'image', 'width', 'height', 'style', 'highlightStyle']);

                return _shape6;
            } else if (sps instanceof _Circle.Circle) {
                //圆形 用于符号专题图
                //设置stytle
                var _style7 = new Object();
                _style7["x"] = sps.x;
                _style7["r"] = sps.r;
                _style7["y"] = sps.y;

                _style7 = (0, _Util.copyAttributesWithClip)(_style7, sps.style, ['x', 'y', 'r']);

                //创建图形
                var _shape7 = new _SmicCircle.SmicCircle();
                _shape7.style = new ShapeFactory.transformStyle(_style7);
                _shape7.highlightStyle = new ShapeFactory.transformStyle(sps.highlightStyle);
                (0, _Util.copyAttributesWithClip)(_shape7, sps, ['x', 'y', 'r', 'style', 'highlightStyle', 'lineWidth', 'text', 'textPosition']);

                return _shape7;
            }

            return null;
        }

        /**
         * Function: ShapeFactory.transformStyle
         * 将用户 feature.style (类 Svg style 标准) 的样式，转换为 levelRenderer 的样式标准（类 CSS-Canvas 样式）
         *
         * Parameters:
         * style - {Object} 用户 style。
         *
         * Returns:
         * {Object} 符合 levelRenderer 的 tyle。
         */

    }], [{
        key: 'transformStyle',
        value: function transformStyle(style) {
            var newStyle = {};

            //字体 ["font-style", "font-variant", "font-weight", "font-size / line-height", "font-family"];
            var fontStr = ["normal", "normal", "normal", "12", "arial,sans-serif"];

            //画笔类型 ["fill", "stroke"];
            var brushType = [true, false];

            for (var ss in style) {
                switch (ss) {
                    case "fill":
                        brushType[0] = style[ss];
                        break;
                    case "fillColor":
                        newStyle["color"] = style[ss];
                        break;
                    case "stroke":
                        brushType[1] = style[ss];
                        break;
                    case "strokeWidth":
                        newStyle["lineWidth"] = style[ss];
                        break;
                    case "strokeLinecap":
                        newStyle["lineCap"] = style[ss];
                        break;
                    case "strokeLineJoin":
                        newStyle["lineJoin"] = style[ss];
                        break;
                    case "strokeDashstyle":
                        newStyle["lineType"] = style[ss];
                        break;
                    case "pointRadius":
                        newStyle["r"] = style[ss];
                        break;
                    case "label":
                        newStyle["text"] = style[ss];
                        break;
                    case "labelRect":
                        newStyle["labelRect"] = style[ss];
                        break;
                    case "fontColor":
                        newStyle["textColor"] = style[ss];
                        break;
                    case "fontStyle":
                        fontStr[0] = style[ss];
                        break;
                    case "fontVariant":
                        fontStr[1] = style[ss];
                        break;
                    case "fontWeight":
                        fontStr[2] = style[ss];
                        break;
                    case "fontSize":
                        var unit = "";
                        if (style[ss] && style[ss].toString().indexOf("px") < 0) {
                            unit = "px";
                        }
                        fontStr[3] = style[ss] + unit;
                        break;
                    case "fontFamily":
                        fontStr[4] = style[ss];
                        break;
                    case "fontOpacity":
                        newStyle["opacity"] = style[ss];
                        break;
                    case "labelPosition":
                        newStyle["textPosition"] = style[ss];
                        break;
                    case "labelAlign":
                        newStyle["textAlign"] = style[ss];
                        break;
                    case "labelBaseline":
                        newStyle["textBaseline"] = style[ss];
                        break;
                    case "labelRotation":
                        newStyle["textRotation"] = style[ss];
                        break;

                    default:
                        newStyle[ss] = style[ss];
                        break;
                }
            }

            //拼接字体字符串
            newStyle["textFont"] = fontStr.join(" ");

            //画笔类型
            if (brushType[0] === true && brushType[1] === false) {
                newStyle["brushType"] = "fill";
            } else if (brushType[0] === false && brushType[1] === true) {
                newStyle["brushType"] = "stroke";
            } else if (brushType[0] === true && brushType[1] === true) {
                newStyle["brushType"] = "both";
            } else {
                newStyle["brushType"] = "fill";
            }

            //默认线宽 1
            if (newStyle["lineWidth"] == null) {
                newStyle["lineWidth"] = 1;
            }

            return newStyle;
        }

        /**
         * APIFunction: ShapeFactory.Background
         * 创建一个矩形背景框图形对象。
         *
         * Parameters:
         * shapeFactory - {<Zondy.Feature.ShapeFactory>} 图形工厂对象，必设参数。
         * box - {Array{Number}} 框区域，长度为 4 的一维数组，像素坐标，[left, bottom, right, top]，必设参数。
         * setting - {Object} 图表配置参数，必设参数。
         *
         * 本函数中图形配置对象 setting 可设属性：
         *
         * Symbolizer properties:
         * backgroundStyle - {Object} 背景样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Rectangle::style>。
         * backgroundRadius - {Array} 背景框矩形圆角半径，可以用数组分别指定四个角的圆角半径，设：左上、右上、右下、左下角的半径依次为 r1、r2、r3、r4 ,
         * 则 backgroundRadius 为 [r1、r2、r3、r4 ]，默认值[0, 0, 0, 0]。
         *
         * Returns:
         * {Object} 背景框图形，一个可视化图形（矩形）对象。
         */

    }, {
        key: 'Background',
        value: function Background(shapeFactory, box, setting) {
            var sets = setting ? setting : {};

            // 背景框图形参数对象
            var bgSP = new _Rectangle.Rectangle(box[0], box[3], Math.abs(box[2] - box[0]), Math.abs(box[3] - box[1]));

            // 默认样式
            bgSP.style = {
                fillColor: "#f3f3f3"
            };

            // 设置用户 style
            if (sets.backgroundStyle) {
                (0, _Util.copyAttributesWithClip)(bgSP.style, sets.backgroundStyle);
            }

            // 设置背景框圆角参数
            if (sets.backgroundRadius) {
                bgSP.style["radius"] = sets.backgroundRadius;
            }

            // 禁止背景框响应事件
            bgSP.clickable = false;
            bgSP.hoverable = false;

            return shapeFactory.createShape(bgSP);
        }

        /**
         * APIFunction: ShapeFactory.GraphAxis
         * 创建一个统计图表坐标轴图形对象组。
         *
         * Parameters:
         * shapeFactory - {<Zondy.Feature.ShapeFactory>} 图形工厂对象，必设参数。
         * dataViewBox - {Array{Number}} 统计图表模型的数据视图框，长度为 4 的一维数组，像素坐标，[left, bottom, right, top]，必设参数。
         * setting - {Object} 图表配置参数，必设参数。
         * xShapeInfo - {Object} X 方向上的图形信息对象，包含两个属性，
         * 属性 xPositions 是一个一维数组，该数组元素表示图形在 x 轴方向上的像素坐标值，
         * 如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。
         * width 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         * xShapeInfo 包含两个属性
         *
         * Symbolizer properties:
         * xPositions - {Array{Number}} 表示图形在 x 轴方向上的像素坐标值，如果图形在 x 方向上有一定宽度，通常取图形在 x 方向上的中心点为图形在 x 方向上的坐标值。
         * width - {Number} 表示图形的宽度（特别注意：点的宽度始终为 0，而不是其直径）。
         *
         * 本函数中图形配置对象 setting 可设属性：
         *
         * Symbolizer properties:
         * axisStyle - {Object} 坐标轴样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style> 。
         * axisUseArrow - {Boolean} 坐标轴是否使用箭头，默认值：false，不使用箭头。
         * axisYTick - {Number} y 轴刻度数量，默认值：0 ，不使用刻度。
         * axisYLabels - {Array{String}} y 轴上的标签组内容，标签顺序沿着数据视图框左面条边自上而下，等距排布。例如：["1000", "750", "500", "250", "0"]。
         * axisYLabelsStyle - {Object} y 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。
         * axisYLabelsOffset - {Array{Number}} y 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 y 轴标签组横向上的偏移量，向左为正，默认值：0；
         * 数组第二项表示 y 轴标签组纵向上的偏移量，向下为正，默认值：0。
         * axisXLabels - {Array{String}} x 轴上的标签组内容，标签顺序沿着数据视图框下面条边自左向右排布，例如：["92年", "95年", "99年"]。
         * 标签排布规则：当标签数量与 xShapeInfo 中的属性 xPositions 数量相同（即标签个数与数据个数相等时）, 按照 xPositions 提供的位置在水平方向上排布标签，
         * 否则沿数据视图框下面条边等距排布标签。
         * axisXLabelsStyle - {Object} x 轴上的标签组样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Label::style> 。
         * axisXLabelsOffset - {Array{Number}} x 轴上的标签组偏移量。长度为 2 的数组，数组第一项表示 x 轴标签组横向上的偏移量，向左为正，默认值：0；
         * 数组第二项表示 x 轴标签组纵向上的偏移量，向下为正，默认值：0。
         * useXReferenceLine - {Boolean) 是否使用水平参考线，如果为 true，在 axisYTick 大于 0 时有效，水平参考线是 y 轴刻度在数据视图框里的延伸。
        * xReferenceLineStyle - {Object) 水平参考线样式，此样式对象对象可设属性： <Zondy.Feature.ShapeParameters.Line::style> 。
        * axis3DParameter - {Number} 3D 坐标轴参数，此属性值在大于等于 15 时有效，默认值：0。
        *
        * Returns:
        * {Array{Object}} 统计图表坐标轴图形对象数组。
        */

    }, {
        key: 'GraphAxis',
        value: function GraphAxis(shapeFactory, dataViewBox, setting, xShapeInfo) {
            var dvb = dataViewBox;
            var sets = setting ? setting : {};

            // 参考线图形对象组
            var refLines = [];
            //坐标轴箭头对象组
            var arrows = [];
            // 是否使用参水平考线，默认不使用
            var isAddRefLine = sets.useXReferenceLine ? sets.useXReferenceLine : false;
            // y 轴上的刻度
            var axisytick = sets.axisYTick && !isNaN(sets.axisYTick) ? sets.axisYTick : 0;
            // 坐标轴节点数组
            var pois = [];
            //z 轴箭头数组
            var zArrowPois = [];
            // x,y 轴主干节点数组
            var xMainPois = [];
            if (axisytick == 0) {
                xMainPois.push([dvb[0], dvb[3] - 5]);
                xMainPois.push([dvb[0], dvb[1]]);

                // 3D 坐标轴  第三象限平分线
                if (sets.axis3DParameter && !isNaN(sets.axis3DParameter) && sets.axis3DParameter >= 15) {
                    var axis3DParameter = parseInt(sets.axis3DParameter);
                    var axis3DPoi = [dvb[0] - axis3DParameter, dvb[1] + axis3DParameter];

                    // 添加 3D 轴节点
                    if (sets.axisUseArrow) {
                        // 添加 3D 轴箭头节点坐标
                        //箭头坐标
                        zArrowPois.push([axis3DPoi[0] + 1.5, axis3DPoi[1] - 7.5]);
                        zArrowPois.push([axis3DPoi[0] - 1, axis3DPoi[1] + 1]);
                        zArrowPois.push([axis3DPoi[0] + 7.5, axis3DPoi[1] - 1.5]);
                        //3D轴
                        xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                    } else {
                        xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                    }

                    xMainPois.push([dvb[0], dvb[1]]);
                }
                xMainPois.push([dvb[2] + 5, dvb[1]]);
            } else {
                // 单位刻度长度
                var unitTick = Math.abs(dvb[1] - dvb[3]) / axisytick;
                // 刻度 y 坐标
                var thckY = dvb[3];

                xMainPois.push([dvb[0], thckY - 5]);

                for (var i = 0; i < axisytick; i++) {
                    xMainPois.push([dvb[0], thckY]);
                    xMainPois.push([dvb[0] - 5, thckY]);
                    xMainPois.push([dvb[0], thckY]);

                    // 参考线
                    if (isAddRefLine) {
                        // 参考线参数对象
                        var refLineSP = new _Line.Line([[dvb[0], thckY], [dvb[2], thckY]]);
                        // 参考线默认样式对象
                        refLineSP.style = {
                            strokeColor: "#cfcfcf",
                            strokeLinecap: "butt",
                            strokeLineJoin: "round",
                            strokeWidth: 1
                        };
                        // 禁止事件
                        refLineSP.clickable = false;
                        refLineSP.hoverable = false;
                        // 用户style
                        if (sets.xReferenceLineStyle) {
                            (0, _Util.copyAttributesWithClip)(refLineSP.style, sets.xReferenceLineStyle);
                        }
                        // 生成参考线图形对象
                        refLines.push(shapeFactory.createShape(refLineSP));
                    }

                    // y 刻度增量
                    thckY += unitTick;
                }

                xMainPois.push([dvb[0], dvb[1]]);

                // 3D 坐标轴  第三象限平分线
                if (sets.axis3DParameter && !isNaN(sets.axis3DParameter) && sets.axis3DParameter >= 15) {
                    var _axis3DParameter = parseInt(sets.axis3DParameter);
                    var _axis3DPoi = [dvb[0] - _axis3DParameter, dvb[1] + _axis3DParameter];

                    // 添加 3D 轴节点
                    if (sets.axisUseArrow) {
                        // 添加 3D 轴和箭头坐标
                        //箭头坐标
                        zArrowPois.push([_axis3DPoi[0] + 1.5, _axis3DPoi[1] - 7.5]);
                        zArrowPois.push([_axis3DPoi[0] - 1, _axis3DPoi[1] + 1]);
                        zArrowPois.push([_axis3DPoi[0] + 7.5, _axis3DPoi[1] - 1.5]);
                        //3D轴
                        xMainPois.push([_axis3DPoi[0], _axis3DPoi[1]]);
                    } else {
                        xMainPois.push([_axis3DPoi[0], _axis3DPoi[1]]);
                    }

                    xMainPois.push([dvb[0], dvb[1]]);
                }

                xMainPois.push([dvb[2] + 5, dvb[1]]);
            }
            // 坐标轴箭头
            if (sets.axisUseArrow) {
                // x 轴箭头节点数组
                var xArrowPois = [[dvb[2] + 5, dvb[1] + 4], [dvb[2] + 13, dvb[1]], [dvb[2] + 5, dvb[1] - 4]];

                // y 轴箭头节点数组
                var yArrowPois = [[dvb[0] - 4, dvb[3] - 5], [dvb[0], dvb[3] - 13], [dvb[0] + 4, dvb[3] - 5]];

                //x轴箭头
                var xSP = new _Polygon.Polygon(xArrowPois);
                xSP.style = { fillColor: "#008acd" };
                (0, _Util.copyAttributesWithClip)(xSP.style, sets.axisStyle);
                arrows.push(shapeFactory.createShape(xSP));

                //y轴箭头
                var ySP = new _Polygon.Polygon(yArrowPois);
                ySP.style = { fillColor: "#008acd" };
                (0, _Util.copyAttributesWithClip)(ySP.style, sets.axisStyle);
                arrows.push(shapeFactory.createShape(ySP));

                // z轴箭头 坐标轴箭头是否要使用
                if (sets.axis3DParameter && !isNaN(sets.axis3DParameter) && sets.axis3DParameter >= 15) {
                    var zSP = new _Polygon.Polygon(zArrowPois);
                    zSP.style = { fillColor: "#008acd" };
                    (0, _Util.copyAttributesWithClip)(zSP.style, sets.axisStyle);
                    arrows.push(shapeFactory.createShape(zSP));
                }
            }
            //不带箭头的坐标轴
            pois = xMainPois;

            // 坐标轴参数对象
            var axisSP = new _Line.Line(pois);
            // 坐标轴默认style
            axisSP.style = {
                strokeLinecap: "butt",
                strokeLineJoin: "round",
                strokeColor: "#008acd",
                strokeWidth: 1
            };
            // 用户 style
            if (sets.axisStyle) {
                (0, _Util.copyAttributesWithClip)(axisSP.style, sets.axisStyle);
            }
            // 禁止事件
            axisSP.clickable = false;
            axisSP.hoverable = false;
            // 创建坐标轴图形对象
            var axisMain = [shapeFactory.createShape(axisSP)];

            // Y 轴标签
            var yLabels = [];
            if (sets.axisYLabels && sets.axisYLabels.length && sets.axisYLabels.length > 0) {
                var axisYLabels = sets.axisYLabels;
                var len = axisYLabels.length;

                // 标签偏移量
                var ylOffset = [0, 0];
                if (sets.axisYLabelsOffset && sets.axisYLabelsOffset.length) {
                    ylOffset = sets.axisYLabelsOffset;
                }

                if (len == 1) {
                    // 标签参数对象
                    var labelYSP = new _Label.Label(dvb[0] - 5 + ylOffset[0], dvb[3] + ylOffset[1], axisYLabels[0]);
                    labelYSP.style = {
                        labelAlign: "right"
                    };
                    // 用户 style
                    if (sets.axisYLabelsStyle) {
                        (0, _Util.copyAttributesWithClip)(labelYSP.style, sets.axisYLabelsStyle);
                    }
                    // 禁止事件
                    labelYSP.clickable = false;
                    labelYSP.hoverable = false;
                    // 制作标签
                    yLabels.push(shapeFactory.createShape(labelYSP));
                } else {
                    var labelY = dvb[3];
                    // y 轴标签单位距离
                    var yUnit = Math.abs(dvb[1] - dvb[3]) / (len - 1);

                    for (var j = 0; j < len; j++) {
                        // 标签参数对象
                        var _labelYSP = new _Label.Label(dvb[0] - 5 + ylOffset[0], labelY + ylOffset[1], axisYLabels[j]);
                        _labelYSP.style = {
                            labelAlign: "right"
                        };
                        // 用户 style
                        if (sets.axisYLabelsStyle) {
                            (0, _Util.copyAttributesWithClip)(_labelYSP.style, sets.axisYLabelsStyle);
                        }
                        // 禁止事件
                        _labelYSP.clickable = false;
                        _labelYSP.hoverable = false;
                        // 制作标签
                        yLabels.push(shapeFactory.createShape(_labelYSP));
                        // y 轴标签 y 方向增量
                        labelY += yUnit;
                    }
                }
            }

            // X 轴标签
            var xLabels = [];
            if (sets.axisXLabels && sets.axisXLabels.length && sets.axisXLabels.length > 0) {
                var axisXLabels = sets.axisXLabels;
                var _len = axisXLabels.length;

                // 标签偏移量
                var xlOffset = [0, 0];
                if (sets.axisXLabelsOffset && sets.axisXLabelsOffset.length) {
                    xlOffset = sets.axisXLabelsOffset;
                }

                // 标签个数与数据字段个数相等等时，标签在 x 轴均匀排列
                if (xShapeInfo && xShapeInfo.xPositions && xShapeInfo.xPositions.length && xShapeInfo.xPositions.length == _len) {
                    var xsCenter = xShapeInfo.xPositions;
                    for (var K = 0; K < _len; K++) {
                        // 标签参数对象
                        var labelXSP = new _Label.Label(xsCenter[K] + xlOffset[0], dvb[1] + xlOffset[1], axisXLabels[K]);
                        // 默认 style
                        labelXSP.style = {
                            labelAlign: "center",
                            labelBaseline: "top"
                        };
                        // 用户 style
                        if (sets.axisXLabelsStyle) {
                            (0, _Util.copyAttributesWithClip)(labelXSP.style, sets.axisXLabelsStyle);
                        }
                        // 禁止事件
                        labelXSP.clickable = false;
                        labelXSP.hoverable = false;
                        // 创建标签对象
                        xLabels.push(shapeFactory.createShape(labelXSP));
                    }
                } else {
                    if (_len == 1) {
                        // 标签参数对象
                        var _labelXSP = new _Label.Label(dvb[0] - 5 + xlOffset[0], dvb[1] + xlOffset[0], axisXLabels[0]);
                        // 默认 style
                        _labelXSP.style = {
                            labelAlign: "center",
                            labelBaseline: "top"
                        };
                        // 用户 style
                        if (sets.axisXLabelsStyle) {
                            (0, _Util.copyAttributesWithClip)(_labelXSP.style, sets.axisXLabelsStyle);
                        }
                        // 禁止事件
                        _labelXSP.clickable = false;
                        _labelXSP.hoverable = false;
                        // 创建标签对象
                        xLabels.push(shapeFactory.createShape(_labelXSP));
                    } else {
                        var labelX = dvb[0];
                        // x 轴标签单位距离
                        var xUnit = Math.abs(dvb[2] - dvb[0]) / (_len - 1);

                        for (var m = 0; m < _len; m++) {
                            // 标签参数对象
                            var _labelXSP2 = new _Label.Label(labelX + xlOffset[0], dvb[1] + xlOffset[1], axisXLabels[m]);
                            // 默认 style
                            _labelXSP2.style = {
                                labelAlign: "center",
                                labelBaseline: "top"
                            };
                            // 用户 style
                            if (sets.axisXLabelsStyle) {
                                (0, _Util.copyAttributesWithClip)(_labelXSP2.style, sets.axisXLabelsStyle);
                            }
                            // 禁止事件
                            _labelXSP2.clickable = false;
                            _labelXSP2.hoverable = false;
                            // 创建标签对象
                            xLabels.push(shapeFactory.createShape(_labelXSP2));
                            // x 轴标签 x 方向增量
                            labelX += xUnit;
                        }
                    }
                }
            }

            // 组装并返回构成坐标轴的图形
            return refLines.concat(axisMain).concat(yLabels).concat(xLabels).concat(arrows);
        }

        /**
         * APIFunction: ShapeFactory.ShapeStyleTool
         * 一个图形 style 处理工具。此工具将指定的默认 style，通用 style，按 styleGroup 取得的 style 和按数据值 value 范围取得的 style 进行合并，得到图形最终的 style。
         *
         * Parameters:
         * defaultStyle - {Object} 默认 style，此样式对象可设属性根据图形类型参考 <Zondy.Feature.ShapeParameters> 子类对象的 style 属性。
         * style - {Object} 图形对象基础 style，此参数控制图形的基础样式，
         * 可设属性根据图形类型参考 <Zondy.Feature.ShapeParameters> 子类对象的 style 属性。
         * 优先级低于 styleGroup，styleByCodomain。
         * styleGroup - {Array{Object}} 一个 style 数组，优先级低于 styleByCodomain，高于 style。
         * 此数组每个元素是样式对象，其可设属性根据图形类型参考 <Zondy.Feature.ShapeParameters> 子类对象的 style 属性。
         * 通过 index 参数从 styleGroup 中取 style。
         * styleByCodomain - {Array{Object}} 按数据（参数 value）所在值域范围控制数据的可视化对象样式。
         * (start code)
         * // styleByCodomain 的每个元素是个包含值域信息和与值域对应样式信息的对象，该对象（必须）有三个属性：
         * // start: 值域值下限（包含）;
         * // end: 值域值上限（不包含）;
         * // style: 数据可视化图形的 style，其可设属性根据图形类型参考 <Zondy.Feature.ShapeParameters> 子类对象的 style 属性。。
         * // dataStyleByCodomain 数组形如：
         * [
         *   {
        *     start:0,
        *     end:250,
        *     style:{
        *          fillColor:"#00CD00"
        *      }
        *  },
         *   {
        *     start:250,
        *     end:500,
        *     style:{
        *          fillColor:"#00EE00"
        *      }
        *  },
         *   {
        *     start:500,
        *     end:750,
        *     style:{
        *          fillColor:"#00FF7F"
        *      }
        *  },
         *   {
        *     start:750,
        *     end:1500,
        *     style:{
        *          fillColor:"#00FF00"
        *      }
        *  }
         * ]
         * (end)
         * index - {Number} styleGroup 的索引值，用于取出 styleGroup 指定的 style。
         * value - {Number} 数据值，用于取出 styleByCodomain 指定的 style。
         *
         * Returns:
         * {Object} 合并后的样式 （style） 对象。
         */

    }, {
        key: 'ShapeStyleTool',
        value: function ShapeStyleTool(defaultStyle, style, styleGroup, styleByCodomain, index, value) {
            // 用 defaultStyle 初始化 style 对象
            var finalStyle = defaultStyle ? defaultStyle : {};

            // 基础 style
            if (style) {
                (0, _Util.copyAttributesWithClip)(finalStyle, style);
            }

            // 按索引赋 style
            if (styleGroup && styleGroup.length && typeof index !== "undefined" && !isNaN(index) && index >= 0) {
                if (styleGroup[index]) {
                    (0, _Util.copyAttributesWithClip)(finalStyle, styleGroup[index]);
                }
            }

            // 按值域赋 style
            if (styleByCodomain && styleByCodomain.length && typeof value !== "undefined") {
                var dsc = styleByCodomain;
                var dscLen = dsc.length;
                var v = parseFloat(value);
                for (var i = 0; i < dscLen; i++) {
                    if (dsc[i].start <= v && v < dsc[i].end) {
                        (0, _Util.copyAttributesWithClip)(finalStyle, dsc[i].style);
                        break;
                    }
                }
            }

            return finalStyle;
        }
    }]);
    return ShapeFactory;
}();

;
exports.ShapeFactory = ShapeFactory;

_Base.Zondy.Feature.ShapeFactory = ShapeFactory;

/***/ }),

/***/ "./overlay/feature/ShapeParameters.js":
/*!********************************************!*\
  !*** ./overlay/feature/ShapeParameters.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ShapeParameters = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.ShapeParameters
 * 图形参数基类，此类不可实例化
 */
var ShapeParameters = function () {
  /**
   * Constructor: Zondy.Feature.ShapeParameters
   * 图形参数对象。
   *
   * Returns:
   * {Object} 图形参数对象。
   */
  function ShapeParameters() {
    (0, _classCallCheck3.default)(this, ShapeParameters);

    /**
     * APIProperty: refOriginalPosition
     * {Array} 图形参考原点位置，图形的参考中心位置。
     * refOriginalPosition 是长度为 2 的数组，第一个元素表示 x 坐标，第二个元素表示 y 坐标。
     *
     * refOriginalPosition 表示图形的参考中心，通常情况下，图形是使用 canvas 的原点位置作为位置参考，
     * 但 refOriginalPosition 可以改变图形的参考位置，例如： refOriginalPosition = [80, 80],
     * 图形圆的 style.x = 20, style.y = 20，那么圆在 canvas 中的实际位置是 [100, 100]。
     *
     * 图形（Shape） 的所有位置相关属性都是以 refOriginalPosition 为参考中心，
     * 也就是说图形的所有位置信息在 canvas 中都是以 refOriginalPosition 为参考的相对位置，只有
     * refOriginalPosition 的值为 [0, 0] 时，图形的位置信息才是 canvas 绝对位置。
     *
     * 图形的位置信息通常有：style.pointList，style.x，style.y。
     *
     * refOriginalPosition。默认值是： [0, 0]。
     */
    this.refOriginalPosition = [0, 0];

    /**
     * APIProperty: refDataID
     * {String} 图形所关联数据的 ID （ <Zondy.Feature.Vector> 的 id ）。
     */
    this.refDataID = null;

    /**
     * APIProperty: isHoverByRefDataID
     * {Boolean} 是否根据 refDataID 进行高亮。用于同时高亮所有 refDataID 相同的图形。
     */
    this.isHoverByRefDataID = false;

    /**
     * APIProperty: refDataHoverGroup
     * {String} 高亮图形组的组名。此属性在 refDataID 有效且 isHoverByRefDataID 为 true 时生效。
     * 一旦设置此属性，且属性值有效，只有关联同一个数据的图形且此属性相同的图形才会高亮。
     */
    this.refDataHoverGroup = null;

    /**
     * APIProperty: dataInfo
     * {Object} 图形携带的附加数据。
     */
    this.dataInfo = null;

    /**
     * APIProperty: clickable
     * {Boolean} 是否可点击。
     */
    this.clickable = true;

    /**
     * APIProperty: hoverable
     * {Boolean} 是否可 hover。
     */
    this.hoverable = true;

    /**
     * Property: style。
     * {Object} 图形样式对象，可设样式属性在子类中确定。
     */
    this.style = null;

    /**
     * Property: highlightStyle
     * {Object} 高亮样式对象，可设样式属性与 style 的可设样式属性相同。
     */
    this.highlightStyle = {};

    this.CLASS_NAME = "Zondy.Feature.ShapeParameters";
  }

  /**
   * APIMethod: destroy
   * 销毁对象。
   */


  (0, _createClass3.default)(ShapeParameters, [{
    key: "destroy",
    value: function destroy() {
      this.refOriginalPosition = null;
      this.refDataID = null;
      this.isHoverByRefDataID = null;
      this.refDataHoverGroup = null;
      this.dataInfo = null;
      this.clickable = null;
      this.hoverable = null;
      this.style = null;
      this.highlightStyle = null;
    }
  }]);
  return ShapeParameters;
}();

;

exports.ShapeParameters = ShapeParameters;

_Base.Zondy.Feature.ShapeParameters = ShapeParameters;

/***/ }),

/***/ "./overlay/feature/Theme.js":
/*!**********************************!*\
  !*** ./overlay/feature/Theme.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Theme = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.Feature.Theme
 * 专题要素基类，此类不可实例化。
 */
var Theme = function () {

  /**
   * Constructor: Zondy.Feature.Theme
   * 构造函数。
   *
   * Parameters:
   * data - {Object}  用户数据，用于生成可视化 shape，必设参数。
   * layer - {<Zondy.Layer.Theme>} 此专题要素所在图层，必设参数。
   *
   * Returns:
   * {<Zondy.Feature.Theme>} 返回一个专题要素。
   */
  function Theme(data, layer) {
    (0, _classCallCheck3.default)(this, Theme);


    if (!data) {
      return;
    }
    // layer 必须已经添加到地图, 且已初始化渲染器
    if (!layer || !layer.map || !layer.renderer) {
      return;
    }

    /**
     * Property: id
     * {String} 专题要素唯一标识。
     */
    this.id = (0, _Util.newGuid)();

    /**
     * APIProperty: lonlat
     * {<Zondy.LonLat>} 专题要素地理参考位置。子类中必须根据用户数据（或地理位置参数）对其赋值,长度为 2 的数组，第一个元素表示 x 坐标，第二个元素表示 y 。
     */
    this.lonlat = [];

    /**
     * APIProperty: location
     * {Array} 专题要素像素参考位置。通常由地理参考位置决定。长度为 2 的数组，第一个元素表示 x 坐标，第二个元素表示 y 坐标。
     */
    this.location = [];

    /**
     * APIProperty: data
     * {Object} {ReadOnly} 用户数据，用于生成可视化 shape，可在子类中规定数据格式或类型，如： <Zondy.Feature.Vector> 。
     */
    this.data = data;

    /**
     * APIProperty: shapes
     * {Array} {ReadOnly} 构成此专题要素的可视化图形对象数组，数组顺序控制渲染。
     */
    this.shapes = [];

    /**
     * APIProperty: layer
     * {<Zondy.Layer.Theme>} {ReadOnly} 此专题要素所在专题图层。
     */
    this.layer = layer;

    this.CLASS_NAME = "Zondy.Feature.Theme";
  }

  /**
   * APIMethod: destroy
   * 销毁专题要素。
   */


  (0, _createClass3.default)(Theme, [{
    key: 'destroy',
    value: function destroy() {
      this.data = null;
      this.id = null;
      this.lonlat = null;
      this.location = null;
      this.shapes = null;
      this.layer = null;
    }
  }]);
  return Theme;
}();

;
exports.Theme = Theme;

_Base.Zondy.Theme = Theme;

/***/ }),

/***/ "./overlay/feature/index.js":
/*!**********************************!*\
  !*** ./overlay/feature/index.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FeatureTheme = exports.Sector = exports.FeatureRectangle = exports.FeaturePolygon = exports.Point = exports.FeatureLine = exports.Label = exports.Image = exports.FeatureCircle = exports.ShapeParameters = exports.ShapeFactory = undefined;

var _ShapeFactory = __webpack_require__(/*! ./ShapeFactory */ "./overlay/feature/ShapeFactory.js");

var _ShapeParameters = __webpack_require__(/*! ./ShapeParameters */ "./overlay/feature/ShapeParameters.js");

var _Circle = __webpack_require__(/*! ./Circle */ "./overlay/feature/Circle.js");

var _Image = __webpack_require__(/*! ./Image */ "./overlay/feature/Image.js");

var _Label = __webpack_require__(/*! ./Label */ "./overlay/feature/Label.js");

var _Line = __webpack_require__(/*! ./Line */ "./overlay/feature/Line.js");

var _Point = __webpack_require__(/*! ./Point */ "./overlay/feature/Point.js");

var _Polygon = __webpack_require__(/*! ./Polygon */ "./overlay/feature/Polygon.js");

var _Rectangle = __webpack_require__(/*! ./Rectangle */ "./overlay/feature/Rectangle.js");

var _Sector = __webpack_require__(/*! ./Sector */ "./overlay/feature/Sector.js");

var _Theme = __webpack_require__(/*! ./Theme */ "./overlay/feature/Theme.js");

exports.ShapeFactory = _ShapeFactory.ShapeFactory;
exports.ShapeParameters = _ShapeParameters.ShapeParameters;
exports.FeatureCircle = _Circle.Circle;
exports.Image = _Image.Image;
exports.Label = _Label.Label;
exports.FeatureLine = _Line.Line;
exports.Point = _Point.Point;
exports.FeaturePolygon = _Polygon.Polygon;
exports.FeatureRectangle = _Rectangle.Rectangle;
exports.Sector = _Sector.Sector;
exports.FeatureTheme = _Theme.Theme;

/***/ }),

/***/ "./overlay/index.js":
/*!**************************!*\
  !*** ./overlay/index.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SUtil = exports.LevelRendererVector = exports.Util = exports.Transformable = exports.Storage = exports.SmicText = exports.SmicStar = exports.SmicSector = exports.SmicRing = exports.SmicRectangle = exports.SmicPolygon = exports.SmicPoint = exports.SmicIsogon = exports.SmicImage = exports.SmicEllipse = exports.SmicCircle = exports.SmicBrokenLine = exports.Shape = exports.PaintLayer = exports.Painter = exports.Matrix = exports.Math = exports.Http = exports.Handler = exports.Group = exports.Eventful = exports.LevelRendererEvent = exports.Env = exports.Easing = exports.LevelRendererCurve = exports.Config = exports.ComputeBoundingBox = exports.Color = exports.Clip = exports.Area = exports.Animator = exports.Animation = exports.Render = exports.LevelRenderer = exports.FeatureTheme = exports.Sector = exports.FeatureRectangle = exports.FeaturePolygon = exports.Point = exports.FeatureLine = exports.Label = exports.Image = exports.FeatureCircle = exports.ShapeParameters = exports.ShapeFactory = exports.ThemeVector = exports.Ring = exports.RankSymbol = exports.OverlayPoint = exports.Pie = exports.Line = exports.Graph = exports.OverlayCircle = exports.Bar3D = exports.Bar = undefined;

var _Bar = __webpack_require__(/*! ./Bar */ "./overlay/Bar.js");

var _Bar3D = __webpack_require__(/*! ./Bar3D */ "./overlay/Bar3D.js");

var _Circle = __webpack_require__(/*! ./Circle */ "./overlay/Circle.js");

var _Graph = __webpack_require__(/*! ./Graph */ "./overlay/Graph.js");

var _Line = __webpack_require__(/*! ./Line */ "./overlay/Line.js");

var _Pie = __webpack_require__(/*! ./Pie */ "./overlay/Pie.js");

var _Point = __webpack_require__(/*! ./Point */ "./overlay/Point.js");

var _RankSymbol = __webpack_require__(/*! ./RankSymbol */ "./overlay/RankSymbol.js");

var _Ring = __webpack_require__(/*! ./Ring */ "./overlay/Ring.js");

var _ThemeVector = __webpack_require__(/*! ./ThemeVector */ "./overlay/ThemeVector.js");

var _feature = __webpack_require__(/*! ./feature */ "./overlay/feature/index.js");

var _levelRender = __webpack_require__(/*! ./levelRender */ "./overlay/levelRender/index.js");

exports.Bar = _Bar.Bar;
exports.Bar3D = _Bar3D.Bar3D;
exports.OverlayCircle = _Circle.Circle;
exports.Graph = _Graph.Graph;
exports.Line = _Line.Line;
exports.Pie = _Pie.Pie;
exports.OverlayPoint = _Point.Point;
exports.RankSymbol = _RankSymbol.RankSymbol;
exports.Ring = _Ring.Ring;
exports.ThemeVector = _ThemeVector.ThemeVector;
exports.ShapeFactory = _feature.ShapeFactory;
exports.ShapeParameters = _feature.ShapeParameters;
exports.FeatureCircle = _feature.FeatureCircle;
exports.Image = _feature.Image;
exports.Label = _feature.Label;
exports.FeatureLine = _feature.FeatureLine;
exports.Point = _feature.Point;
exports.FeaturePolygon = _feature.FeaturePolygon;
exports.FeatureRectangle = _feature.FeatureRectangle;
exports.Sector = _feature.Sector;
exports.FeatureTheme = _feature.FeatureTheme;
exports.LevelRenderer = _levelRender.LevelRenderer;
exports.Render = _levelRender.Render;
exports.Animation = _levelRender.Animation;
exports.Animator = _levelRender.Animator;
exports.Area = _levelRender.Area;
exports.Clip = _levelRender.Clip;
exports.Color = _levelRender.Color;
exports.ComputeBoundingBox = _levelRender.ComputeBoundingBox;
exports.Config = _levelRender.Config;
exports.LevelRendererCurve = _levelRender.LevelRendererCurve;
exports.Easing = _levelRender.Easing;
exports.Env = _levelRender.Env;
exports.LevelRendererEvent = _levelRender.LevelRendererEvent;
exports.Eventful = _levelRender.Eventful;
exports.Group = _levelRender.Group;
exports.Handler = _levelRender.Handler;
exports.Http = _levelRender.Http;
exports.Math = _levelRender.Math;
exports.Matrix = _levelRender.Matrix;
exports.Painter = _levelRender.Painter;
exports.PaintLayer = _levelRender.PaintLayer;
exports.Shape = _levelRender.Shape;
exports.SmicBrokenLine = _levelRender.SmicBrokenLine;
exports.SmicCircle = _levelRender.SmicCircle;
exports.SmicEllipse = _levelRender.SmicEllipse;
exports.SmicImage = _levelRender.SmicImage;
exports.SmicIsogon = _levelRender.SmicIsogon;
exports.SmicPoint = _levelRender.SmicPoint;
exports.SmicPolygon = _levelRender.SmicPolygon;
exports.SmicRectangle = _levelRender.SmicRectangle;
exports.SmicRing = _levelRender.SmicRing;
exports.SmicSector = _levelRender.SmicSector;
exports.SmicStar = _levelRender.SmicStar;
exports.SmicText = _levelRender.SmicText;
exports.Storage = _levelRender.Storage;
exports.Transformable = _levelRender.Transformable;
exports.Util = _levelRender.Util;
exports.LevelRendererVector = _levelRender.LevelRendererVector;
exports.SUtil = _levelRender.SUtil;

/***/ }),

/***/ "./overlay/levelRender/Animation.js":
/*!******************************************!*\
  !*** ./overlay/levelRender/Animation.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Animator = exports.Animation = undefined;

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _Util2 = __webpack_require__(/*! ./Util */ "./overlay/levelRender/Util.js");

var _Eventful2 = __webpack_require__(/*! ./Eventful */ "./overlay/levelRender/Eventful.js");

var _Clip = __webpack_require__(/*! ./Clip */ "./overlay/levelRender/Clip.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class Zondy.LevelRenderer.Animation
 * @classdesc 动画主类, 调度和管理所有动画控制器。
 * @extends Zondy.LevelRenderer.Eventful
 */
var Animation = function (_Eventful) {
    (0, _inherits3.default)(Animation, _Eventful);

    /*
     * Constructor: Zondy.LevelRenderer.Animation
     * 构造函数。
     *
     * Parameters:
     * options - {Object} 动画参数选项，可设属性如下：
     *
     * Symbolizer properties:
     * onframe - {Object} onframe。
     * stage - {Object} stage。
     *
     * (code)
     *     var animation = new Zondy.LevelRenderer.Animation();
     *     var obj = {
     *         x: 100,
     *         y: 100
     *     };
     *     animation.animate(node.position)
     *         .when(1000, {
     *             x: 500,
     *             y: 500
     *         })
     *         .when(2000, {
     *             x: 100,
     *             y: 100
     *         })
     *         .start('spline');
     * (end)
     */
    function Animation(options) {
        (0, _classCallCheck3.default)(this, Animation);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Animation.__proto__ || (0, _getPrototypeOf2.default)(Animation)).call(this, options));

        options = options || {};
        /**
         * Property: stage
         * {Object}
         *
         */
        _this.stage = {};

        /**
         * Property: onframe
         * {Object}
         *
         */
        _this.onframe = function () {};

        /**
         * Property: _clips
         * {Array}
         *
         */
        _this._clips = [];

        /**
         * Property: _running
         * {Boolean}
         *
         */
        _this._running = false;

        /**
         * Property: _time
         * {Number}
         *
         */
        _this._time = 0;

        (0, _Util.extend)(_this, options);

        _this.CLASS_NAME = "Zondy.LevelRenderer.Animation";

        return _this;
    }

    /**
     * APIMethod: add
     * 添加动画片段
     *
     * Parameters:
     * clip - {<Zondy.LevelRenderer.Animation.Clip>} 动画片段
     *
     */


    (0, _createClass3.default)(Animation, [{
        key: 'add',
        value: function add(clip) {
            this._clips.push(clip);
        }

        /**
         * APIMethod: remove
         * 删除动画片段
         *
         * Parameters:
         * clip - {<Zondy.LevelRenderer.Animation.Clip>} 动画片段
         *
         */

    }, {
        key: 'remove',
        value: function remove(clip) {
            var idx = new _Util2.Util().indexOf(this._clips, clip);
            if (idx >= 0) {
                this._clips.splice(idx, 1);
            }
        }

        /**
         * Method: _update
         *
         */

    }, {
        key: '_update',
        value: function _update() {
            var time = new Date().getTime();
            var delta = time - this._time;
            var clips = this._clips;
            var len = clips.length;

            var deferredEvents = [];
            var deferredClips = [];
            for (var i = 0; i < len; i++) {
                var clip = clips[i];
                var e = clip.step(time);
                // Throw out the events need to be called after
                // stage.update, like destroy
                if (e) {
                    deferredEvents.push(e);
                    deferredClips.push(clip);
                }
            }
            if (this.stage.update) {
                this.stage.update();
            }

            // Remove the finished clip
            for (var _i = 0; _i < len;) {
                if (clips[_i]._needsRemove) {
                    clips[_i] = clips[len - 1];
                    clips.pop();
                    len--;
                } else {
                    _i++;
                }
            }

            len = deferredEvents.length;
            for (var _i2 = 0; _i2 < len; _i2++) {
                deferredClips[_i2].fire(deferredEvents[_i2]);
            }

            this._time = time;

            this.onframe(delta);

            this.dispatch('frame', delta);
        }

        /**
         * APIMethod: start
         * 开始运行动画
         *
         */

    }, {
        key: 'start',
        value: function start() {
            var requestAnimationFrame = window.requestAnimationFrame || window.msRequestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (func) {
                setTimeout(func, 16);
            };

            var self = this;

            this._running = true;

            function step() {
                if (self._running) {
                    self._update();
                    requestAnimationFrame(step);
                }
            }

            this._time = new Date().getTime();
            requestAnimationFrame(step);
        }

        /**
         * APIMethod: stop
         * 停止运行动画
         *
         */

    }, {
        key: 'stop',
        value: function stop() {
            this._running = false;
        }

        /**
         * APIMethod: clear
         * 清除所有动画片段
         *
         */

    }, {
        key: 'clear',
        value: function clear() {
            this._clips = [];
        }

        /**
         * Method: animate
         * 对一个目标创建一个animator对象，可以指定目标中的属性使用动画
         *
         * Parameters:
         * target - {Object} target
         * options - {Object} 动画参数选项，可设属性如下：
         *
         * Symbolizer properties:
         * loop - {Boolean} 是否循环播放动画。默认值：false。
         * getter - {Function} 如果指定getter函数，会通过getter函数取属性值。默认值：null。
         * setter - {Function} 如如果指定setter函数，会通过setter函数设置属性值。默认值：null。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Animation.Animator>} Animator
         */

    }, {
        key: 'animate',
        value: function animate(target, options) {
            options = options || {};
            var deferred = new Animator(target, options.loop, options.getter, options.setter);
            deferred.animation = this;
            return deferred;
        }
    }], [{
        key: '_interpolateNumber',
        value: function _interpolateNumber(p0, p1, percent) {
            return (p1 - p0) * percent + p0;
        }
    }, {
        key: '_interpolateArray',
        value: function _interpolateArray(p0, p1, percent, out, arrDim) {
            var len = p0.length;
            if (arrDim == 1) {
                for (var i = 0; i < len; i++) {
                    out[i] = Animation._interpolateNumber(p0[i], p1[i], percent);
                }
            } else {
                var len2 = p0[0].length;
                for (var _i3 = 0; _i3 < len; _i3++) {
                    for (var j = 0; j < len2; j++) {
                        out[_i3][j] = Animation._interpolateNumber(p0[_i3][j], p1[_i3][j], percent);
                    }
                }
            }
        }
    }, {
        key: '_isArrayLike',
        value: function _isArrayLike(data) {
            switch (typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) {
                case 'undefined':
                case 'string':
                    return false;
            }

            return typeof data.length !== 'undefined';
        }
    }, {
        key: '_catmullRomInterpolateArray',
        value: function _catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {
            var len = p0.length;
            if (arrDim == 1) {
                for (var i = 0; i < len; i++) {
                    out[i] = Animation._catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);
                }
            } else {
                var len2 = p0[0].length;
                for (var _i4 = 0; _i4 < len; _i4++) {
                    for (var j = 0; j < len2; j++) {
                        out[_i4][j] = Animation._catmullRomInterpolate(p0[_i4][j], p1[_i4][j], p2[_i4][j], p3[_i4][j], t, t2, t3);
                    }
                }
            }
        }
    }, {
        key: '_catmullRomInterpolate',
        value: function _catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {
            var v0 = (p2 - p0) * 0.5;
            var v1 = (p3 - p1) * 0.5;
            return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;
        }
    }, {
        key: '_cloneValue',
        value: function _cloneValue(value) {
            var arraySlice = Array.prototype.slice;

            if (Animation._isArrayLike(value)) {
                var len = value.length;
                if (Animation._isArrayLike(value[0])) {
                    var ret = [];
                    for (var i = 0; i < len; i++) {
                        ret.push(arraySlice.call(value[i]));
                    }
                    return ret;
                } else {
                    return arraySlice.call(value);
                }
            } else {
                return value;
            }
        }
    }, {
        key: 'rgba2String',
        value: function rgba2String(rgba) {
            rgba[0] = Math.floor(rgba[0]);
            rgba[1] = Math.floor(rgba[1]);
            rgba[2] = Math.floor(rgba[2]);

            return 'rgba(' + rgba.join(',') + ')';
        }
    }]);
    return Animation;
}(_Eventful2.Eventful);

;

/**
 * @private
 * @class Zondy.LevelRenderer.Animation.Animator
 */

var Animator = function () {

    /*
     * Constructor: Zondy.LevelRenderer.Animation.Animator
     * 构造函数。
     *
     * Parameters:
     * target - {Object} target
     * loop - {Boolean} 是否循环播放动画。默认值：false。
     * getter - {Function} 如果指定getter函数，会通过getter函数取属性值。默认值：null。
     * setter - {Function} 如如果指定setter函数，会通过setter函数设置属性值。默认值：null。
     *
     */
    function Animator(target, loop, getter, setter) {
        (0, _classCallCheck3.default)(this, Animator);

        /**
         * Property: _tracks
         * {Object}
         */
        this._tracks = {};

        /**
         * Property: _target
         * {Object}
         */
        this._target = target;

        /**
         * Property: _loop
         * {Boolean}
         */
        this._loop = loop || false;

        /**
         * Property: _getter
         * {Function}
         */
        this._getter = getter || _defaultGetter;

        /**
         * Property: _setter
         * {Function}
         */
        this._setter = setter || _defaultSetter;

        /**
         * Property: _clipCount
         * {Number}
         */
        this._clipCount = 0;

        /**
         * Property: _delay
         * {Number}
         */
        this._delay = 0;

        /**
         * Property: _doneList
         * {Array}
         */
        this._doneList = [];

        /**
         * Property: _onframeList
         * {Array}
         */
        this._onframeList = [];

        /**
         * Property: _clipList
         * {Array}
         */
        this._clipList = [];
        this.CLASS_NAME = "Zondy.LevelRenderer.Animation.Animator";
        //Function
        function _defaultGetter(target, key) {
            return target[key];
        }

        function _defaultSetter(target, key, value) {
            target[key] = value;
        }
    }

    /**
     * Method: when
     * 设置动画关键帧
     *
     * Parameters:
     * time - {Number} 关键帧时间，单位是ms
     * props - {Object} 关键帧的属性值，key-value表示
     *
     * Returns:
     * {<Zondy.LevelRenderer.Animation.Animator>} Animator
     */


    (0, _createClass3.default)(Animator, [{
        key: 'when',
        value: function when(time /* ms */, props) {
            for (var propName in props) {
                if (!this._tracks[propName]) {
                    this._tracks[propName] = [];
                    // If time is 0
                    //  Then props is given initialize value
                    // Else
                    //  Initialize value from current prop value
                    if (time !== 0) {
                        this._tracks[propName].push({
                            time: 0,
                            value: Animation._cloneValue(this._getter(this._target, propName))
                        });
                    }
                }
                this._tracks[propName].push({
                    time: parseInt(time, 10),
                    value: props[propName]
                });
            }
            return this;
        }

        /**
         * Method: during
         * 添加动画每一帧的回调函数
         *
         * Parameters:
         * callback - {Function} callback
         *
         * Returns:
         * {<Zondy.LevelRenderer.Animation.Animator>} Animator
         */

    }, {
        key: 'during',
        value: function during(callback) {
            this._onframeList.push(callback);
            return this;
        }

        /**
         * Method: start
         * 开始执行动画
         *
         * Parameters:
         * easing - {String|Function} 动画缓动函数。详见：<Zondy.LevelRenderer.Animation.easing>。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Animation.Animator>} Animator
         */

    }, {
        key: 'start',
        value: function start(easing) {
            var self = this;
            var setter = this._setter;
            var getter = this._getter;
            var onFrameListLen = self._onframeList.length;
            var useSpline = easing === 'spline';

            var ondestroy = function ondestroy() {
                self._clipCount--;
                if (self._clipCount === 0) {
                    // Clear all tracks
                    self._tracks = {};

                    var len = self._doneList.length;
                    for (var i = 0; i < len; i++) {
                        self._doneList[i].call(self);
                    }
                }
            };

            var createTrackClip = function createTrackClip(keyframes, propName) {
                var trackLen = keyframes.length;
                if (!trackLen) {
                    return;
                }
                // Guess data type
                var firstVal = keyframes[0].value;
                var isValueArray = Animation._isArrayLike(firstVal);
                var isValueColor = false;

                // For vertices morphing
                var arrDim = isValueArray && Animation._isArrayLike(firstVal[0]) ? 2 : 1;
                // Sort keyframe as ascending
                keyframes.sort(function (a, b) {
                    return a.time - b.time;
                });
                var trackMaxTime = keyframes[trackLen - 1].time;
                // Percents of each keyframe
                var kfPercents = [];
                // Value of each keyframe
                var kfValues = [];
                for (var _i5 = 0; _i5 < trackLen; _i5++) {
                    kfPercents.push(keyframes[_i5].time / trackMaxTime);
                    // Assume value is a color when it is a string
                    var value = keyframes[_i5].value;
                    if (typeof value == 'string') {
                        value = _SUtil.SUtil.Util_color.toArray(value);
                        if (value.length === 0) {
                            // Invalid color
                            value[0] = value[1] = value[2] = 0;
                            value[3] = 1;
                        }
                        isValueColor = true;
                    }
                    kfValues.push(value);
                }

                // Cache the key of last frame to speed up when
                // animation playback is sequency
                var cacheKey = 0;
                var cachePercent = 0;
                var start;
                var i;
                var w;
                var p0;
                var p1;
                var p2;
                var p3;

                if (isValueColor) {
                    var rgba = [0, 0, 0, 0];
                }

                var onframe = function onframe(target, percent) {
                    // Find the range keyframes
                    // kf1-----kf2---------current--------kf3
                    // find kf2 and kf3 and do interpolation
                    if (percent < cachePercent) {
                        // Start from next key
                        start = Math.min(cacheKey + 1, trackLen - 1);
                        for (i = start; i >= 0; i--) {
                            if (kfPercents[i] <= percent) {
                                break;
                            }
                        }
                        i = Math.min(i, trackLen - 2);
                    } else {
                        for (i = cacheKey; i < trackLen; i++) {
                            if (kfPercents[i] > percent) {
                                break;
                            }
                        }
                        i = Math.min(i - 1, trackLen - 2);
                    }
                    cacheKey = i;
                    cachePercent = percent;

                    var range = kfPercents[i + 1] - kfPercents[i];
                    if (range === 0) {
                        return;
                    } else {
                        w = (percent - kfPercents[i]) / range;
                    }
                    if (useSpline) {
                        p1 = kfValues[i];
                        p0 = kfValues[i === 0 ? i : i - 1];
                        p2 = kfValues[i > trackLen - 2 ? trackLen - 1 : i + 1];
                        p3 = kfValues[i > trackLen - 3 ? trackLen - 1 : i + 2];
                        if (isValueArray) {
                            Animation._catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);
                        } else {
                            var _value = void 0;
                            if (isValueColor) {
                                // value = Zondy.LevelRenderer.Animation._catmullRomInterpolateArray(
                                //     p0, p1, p2, p3, w, w * w, w * w * w,
                                //     rgba, 1
                                // );
                                _value = Animation.rgba2String(rgba);
                            } else {
                                _value = Animation._catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);
                            }
                            setter(target, propName, _value);
                        }
                    } else {
                        if (isValueArray) {
                            Animation._interpolateArray(kfValues[i], kfValues[i + 1], w, getter(target, propName), arrDim);
                        } else {
                            var _value2 = void 0;
                            if (isValueColor) {
                                Animation._interpolateArray(kfValues[i], kfValues[i + 1], w, rgba, 1);
                                _value2 = Animation.rgba2String(rgba);
                            } else {
                                _value2 = Animation._interpolateNumber(kfValues[i], kfValues[i + 1], w);
                            }
                            setter(target, propName, _value2);
                        }
                    }

                    for (i = 0; i < onFrameListLen; i++) {
                        self._onframeList[i](target, percent);
                    }
                };

                var clip = new _Clip.Clip({
                    target: self._target,
                    life: trackMaxTime,
                    loop: self._loop,
                    delay: self._delay,
                    onframe: onframe,
                    ondestroy: ondestroy
                });

                if (easing && easing !== 'spline') {
                    clip.easing = easing;
                }
                self._clipList.push(clip);
                self._clipCount++;
                self.animation.add(clip);
            };

            for (var propName in this._tracks) {
                createTrackClip(this._tracks[propName], propName);
            }
            return this;
        }

        /**
         * Method: stop
         * 停止动画
         */

    }, {
        key: 'stop',
        value: function stop() {
            for (var i = 0; i < this._clipList.length; i++) {
                var clip = this._clipList[i];
                this.animation.remove(clip);
            }
            this._clipList = [];
        }

        /**
         * Method: delay
         * 设置动画延迟开始的时间
         *
         * Parameters:
         * time - {Number} time 单位ms
         *
         * Returns:
         * {<Zondy.LevelRenderer.Animation.Animator>} Animator
         */

    }, {
        key: 'delay',
        value: function delay(time) {
            this._delay = time;
            return this;
        }

        /**
         * Method: done
         * 添加动画结束的回调
         *
         * Parameters:
         * cb - {Function} Function
         *
         * Returns:
         * {<Zondy.LevelRenderer.Animation.Animator>} Animator
         */

    }, {
        key: 'done',
        value: function done(cb) {
            if (cb) {
                this._doneList.push(cb);
            }
            return this;
        }
    }]);
    return Animator;
}();

;

exports.Animation = Animation;

_Base.Zondy.LevelRenderer.Animation = Animation;

exports.Animator = Animator;

_Base.Zondy.LevelRenderer.Animation.Animator = Animator;

/***/ }),

/***/ "./overlay/levelRender/Area.js":
/*!*************************************!*\
  !*** ./overlay/levelRender/Area.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Area = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./overlay/levelRender/Util.js");

var _Curve = __webpack_require__(/*! ./Curve */ "./overlay/levelRender/Curve.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Area
 * LevelRenderer 工具-图形范围判断
 *
 */
var Area = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Tool.Area
     * 构造函数。
     *
     */
    function Area() {
        (0, _classCallCheck3.default)(this, Area);

        /**
         * Property: util
         * {<Zondy.LevelRenderer.Tool.Util>} 基础工具对象
         */
        this.util = new _Util.Util();

        /**
         * Property: curve
         * {<Zondy.LevelRenderer.Tool.Curve>} 曲线工具对象
         */
        this.curve = new _Curve.Curve();

        /**
         * Property: _ctx
         * {Object} Cavans2D 渲染上下文
         */
        this._ctx = null;

        /**
         * Property: _textWidthCache
         * {Object} 文本宽度缓存
         */
        this._textWidthCache = {};

        /**
         * Property: _textHeightCache
         * {Object} 文本高度缓存
         */
        this._textHeightCache = {};

        /**
         * Property: _textWidthCacheCounter
         * {Object} 文本宽度缓存数量
         */
        this._textWidthCacheCounter = 0;

        /**
         * Property: _textHeightCacheCounter
         * {Object} 文本高度缓存数量
         */
        this._textHeightCacheCounter = 0;

        /**
         * Property: TEXT_CACHE_MAX
         * {Object} 文本最大缓存数量
         */
        this.TEXT_CACHE_MAX = 5000;

        /**
         * Property: PI2
         * {Object} 2*PI 的值
         */
        this.PI2 = Math.PI * 2;

        /**
         * Property: roots
         * {Array} 临时数组
         */
        this.roots = [-1, -1, -1];

        /**
         * Property: extrema
         * {Array} 临时数组
         */
        this.extrema = [-1, -1];

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Area";
    }

    /**
     * Method: normalizeRadian
     * 弧度标准化函数。
     *
     * Parameters:
     * angle - {Number} 弧度值。
     *
     * Returns:
     * {Number} 标准化后的弧度值。
     */


    (0, _createClass3.default)(Area, [{
        key: 'normalizeRadian',
        value: function normalizeRadian(angle) {
            angle %= this.PI2;
            if (angle < 0) {
                angle += this.PI2;
            }
            return angle;
        }

        /**
         * APIMethod: normalizeRadian
         * 包含判断。
         *
         * Parameters:
         * shape - {Object} 图形。
         * area - {Number} 目标区域。
         * x - {Number} 横坐标。
         * y - {Number} 纵坐标。
         *
         * Returns:
         * {Boolean} 图形是否包含鼠标位置。
         */

    }, {
        key: 'isInside',
        value: function isInside(shape, area, x, y) {
            if (!area || !shape) {
                // 无参数或不支持类型
                return false;
            }
            var zoneType = shape.type;

            this._ctx = this._ctx || this.util.getContext();

            // 未实现或不可用时则数学运算，主要是line，brokenLine，ring
            var _mathReturn = this._mathMethod(shape, area, x, y);
            if (typeof _mathReturn != 'undefined') {
                return _mathReturn;
            }

            if (shape.buildPath && this._ctx.isPointInPath) {
                return this._buildPathMethod(shape, this._ctx, area, x, y);
            }

            // 上面的方法都行不通时
            switch (zoneType) {
                case 'ellipse': // Todo，不精确
                case 'smicellipse':
                    // Todo，不精确
                    return true;
                // 旋轮曲线  不准确
                case 'trochoid':
                    var _r = area.location == 'out' ? area.r1 + area.r2 + area.d : area.r1 - area.r2 + area.d;
                    return this.isInsideCircle(area, x, y, _r);
                // 玫瑰线 不准确
                case 'rose':
                    return this.isInsideCircle(area, x, y, area.maxr);
                // 路径，椭圆，曲线等-----------------13
                default:
                    return false; // Todo，暂不支持
            }
        }

        /**
         * Method: _mathMethod
         * 用数学方法判断，三个方法中最快，但是支持的shape少。
         *
         * Parameters:
         * shape - {Object} 图形。
         * area - {Number} 目标区域。
         * x - {Number} 横坐标。
         * y - {Number} 纵坐标。
         *
         * Returns:
         * {Boolean} 图形是否包含鼠标位置，true表示坐标处在图形中。
         */

    }, {
        key: '_mathMethod',
        value: function _mathMethod(shape, area, x, y) {
            var zoneType = shape.type;
            // 在矩形内则部分图形需要进一步判断
            switch (zoneType) {
                // 贝塞尔曲线
                case 'bezier-curve':
                    if (typeof area.cpX2 === 'undefined') {
                        return this.isInsideQuadraticStroke(area.xStart, area.yStart, area.cpX1, area.cpY1, area.xEnd, area.yEnd, area.lineWidth, x, y);
                    }
                    return this.isInsideCubicStroke(area.xStart, area.yStart, area.cpX1, area.cpY1, area.cpX2, area.cpY2, area.xEnd, area.yEnd, area.lineWidth, x, y);
                // 线
                case 'line':
                    return this.isInsideLine(area.xStart, area.yStart, area.xEnd, area.yEnd, area.lineWidth, x, y);
                // 折线
                case 'broken-line':
                    return this.isInsideBrokenLine(area.pointList, area.lineWidth, x, y);
                // 扩展折线
                case 'smicbroken-line':
                    {
                        // SMIC-修改 - start
                        var icX = x;
                        var icY = y;
                        if (shape.refOriginalPosition) {
                            icX = x - shape.refOriginalPosition[0];
                            icY = y - shape.refOriginalPosition[1];
                        }
                        return this.isInsideBrokenLine(area.pointList, area.lineWidth, icX, icY);
                    }
                //初始代码：
                //      return isInsideBrokenLine(
                //          area.pointList, area.lineWidth, x, y
                //      );
                // SMIC-修改 - end
                // 圆环
                case 'ring':
                    return this.isInsideRing(area.x, area.y, area.r0, area.r, x, y);
                case 'smicring':
                    {
                        var areaX = area.x;
                        var areaY = area.y;
                        if (shape.refOriginalPosition) {
                            areaX = area.x + shape.refOriginalPosition[0];
                            areaY = area.y + shape.refOriginalPosition[1];
                        }
                        return this.isInsideRing(areaX, areaY, area.r0, area.r, x, y);
                    }
                // 圆形
                case 'circle':
                    return this.isInsideCircle(area.x, area.y, area.r, x, y);
                // 扩展-点
                case 'smicpoint':
                    {
                        // SMIC-修改 - start
                        var _icX = x;
                        var _icY = y;
                        if (shape.refOriginalPosition) {
                            _icX = x - shape.refOriginalPosition[0];
                            _icY = y - shape.refOriginalPosition[1];
                        }
                        return this.isInsideCircle(area.x, area.y, area.r, _icX, _icY);
                    }
                //初始代码：
                //  无
                // SMIC-修改 - end
                // 扇形
                case 'sector':
                    {
                        var startAngle = area.startAngle * Math.PI / 180;
                        var endAngle = area.endAngle * Math.PI / 180;
                        if (!area.clockWise) {
                            startAngle = -startAngle;
                            endAngle = -endAngle;
                        }
                        return this.isInsideSector(area.x, area.y, area.r0, area.r, startAngle, endAngle, !area.clockWise, x, y);
                    }
                //初始代码：
                //  无
                // SMIC-增加 - end
                // 扇形
                case 'smicsector':
                    {
                        var _startAngle = area.startAngle * Math.PI / 180;
                        var _endAngle = area.endAngle * Math.PI / 180;
                        if (!area.clockWise) {
                            _startAngle = -_startAngle;
                            _endAngle = -_endAngle;
                        }

                        var _areaX = area.x;
                        var _areaY = area.y;
                        if (shape.refOriginalPosition) {
                            _areaX = area.x + shape.refOriginalPosition[0];
                            _areaY = area.y + shape.refOriginalPosition[1];
                        }

                        return this.isInsideSector(_areaX, _areaY, area.r0, area.r, _startAngle, _endAngle, !area.clockWise, x, y);
                    }
                // 多边形
                case 'path':
                    return this.isInsidePath(area.pathArray, Math.max(area.lineWidth, 5), area.brushType, x, y);
                case 'polygon':
                case 'star':
                case 'smicstar':
                case 'isogon':
                case 'smicisogon':
                    return this.isInsidePolygon(area.pointList, x, y);
                // 扩展多边形
                case 'smicpolygon':
                    {
                        // SMIC-修改 - start
                        var _icX2 = x;
                        var _icY2 = y;
                        if (shape.refOriginalPosition) {
                            _icX2 = x - shape.refOriginalPosition[0];
                            _icY2 = y - shape.refOriginalPosition[1];
                        }

                        //岛洞面
                        if (shape.holePolygonPointLists && shape.holePolygonPointLists.length > 0) {
                            var isOnBase = this.isInsidePolygon(area.pointList, _icX2, _icY2);

                            // 遍历岛洞子面
                            var holePLS = shape.holePolygonPointLists;
                            var isOnHole = false;
                            for (var i = 0, holePLSen = holePLS.length; i < holePLSen; i++) {
                                var holePL = holePLS[i];
                                var isOnSubHole = this.isInsidePolygon(holePL, _icX2, _icY2);
                                if (isOnSubHole === true) {
                                    isOnHole = true;
                                }
                            }

                            // 捕获判断
                            if (isOnBase === true && isOnHole === false) {
                                return true;
                            } else {
                                return false;
                            }
                        } else {
                            return this.isInsidePolygon(area.pointList, _icX2, _icY2);
                        }
                    }
                // 初始代码：
                //  无
                // SMIC-修改 - end
                // 文本
                case 'text':
                    var rect = area.__rect || shape.getRect(area);
                    return this.isInsideRect(rect.x, rect.y, rect.width, rect.height, x, y);
                // 扩展文本
                case 'smictext':
                    //用文本背景矩形判断
                    var textBg = shape.getTextBackground(area);
                    return this.isInsidePolygon(textBg, x, y);
                //初始代码：
                //  无
                // SMIC-修改 - end
                // 矩形
                case 'rectangle':
                case 'image':
                    // 图片
                    return this.isInsideRect(area.x, area.y, area.width, area.height, x, y);
                case 'smicimage':
                    {
                        var _areaX2 = area.x;
                        var _areaY2 = area.y;
                        if (shape.refOriginalPosition) {
                            _areaX2 = area.x + shape.refOriginalPosition[0];
                            _areaY2 = area.y + shape.refOriginalPosition[1];
                        }
                        return this.isInsideRect(_areaX2, _areaY2, area.width, area.height, x, y);
                    }
                //// 扩展矩形
                //case 'smicpolygon':
                //    // SMIC-修改 - start
                //    var icX = x;
                //    var icY = y;
                //    if(shape.refOriginalPosition) {
                //        icX = x - shape.refOriginalPosition[0];
                //        icY = y - shape.refOriginalPosition[1];
                //    }
                //    return this.isInsideRect(
                //        area.x, area.y, area.width, area.height, icX, icY
                //    );
                //初始代码：
                //  无
                // SMIC-修改 - end
            }
        }

        /**
         * Method: _buildPathMethod
         * 通过buildPath方法来判断，三个方法中较快，但是不支持线条类型的 shape
         *
         * Parameters:
         * shape - {Object} 图形。
         * context - {Object} 上下文。
         * area - {Number} 目标区域。
         * x - {Number} 横坐标。
         * y - {Number} 纵坐标。
         *
         * Returns:
         * {Boolean} 图形是否包含鼠标位置, true表示坐标处在图形中。
         */

    }, {
        key: '_buildPathMethod',
        value: function _buildPathMethod(shape, context, area, x, y) {
            // 图形类实现路径创建了则用类的path
            context.beginPath();
            shape.buildPath(context, area);
            context.closePath();
            return context.isPointInPath(x, y);
        }

        /**
         * APIMethod: isOutside
         * 图形是否不包含鼠标位置。
         *
         * Parameters:
         * shape - {Object} 图形。
         * area - {Number} 目标区域。
         * x - {Number} 横坐标。
         * y - {Number} 纵坐标。
         *
         * Returns:
         * {Boolean} 图形是否不包含鼠标位置, true表示坐标处在图形外。
         */

    }, {
        key: 'isOutside',
        value: function isOutside(shape, area, x, y) {
            return !this.isInside(shape, area, x, y);
        }

        /**
         * APIMethod: isInsideLine
         * 线段包含判断。
         *
         * Parameters:
         * x0 - {Number}
         * y0 - {Number}
         * x1 - {Number}
         * y1 - {Number}
         * lineWidth - {Number}
         * x - {Number}
         * y - {Number}
         *
         * Returns:
         * {Boolean} 图形是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideLine',
        value: function isInsideLine(x0, y0, x1, y1, lineWidth, x, y) {
            if (lineWidth === 0) {
                return false;
            }
            var _l = Math.max(lineWidth, 5);
            var _a = 0;
            var _b = 0;
            // Quick reject
            if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {
                return false;
            }

            if (x0 !== x1) {
                _a = (y0 - y1) / (x0 - x1);
                _b = (x0 * y1 - x1 * y0) / (x0 - x1);
            } else {
                return Math.abs(x - x0) <= _l / 2;
            }
            var tmp = _a * x - y + _b;
            var _s = tmp * tmp / (_a * _a + 1);
            return _s <= _l / 2 * _l / 2;
        }

        /**
         * Method: isInsideCubicStroke
         * 三次贝塞尔曲线描边包含判断。
         *
         * Parameters:
         * x0 - {Number}
         * y0 - {Number}
         * x1 - {Number}
         * y1 - {Number}
         * x2 - {Number}
         * y2 - {Number}
         * x3 - {Number}
         * y3 - {Number}
         * lineWidth - {Number}
         * x - {Number}
         * y - {Number}
         *
         * Returns:
         * {Boolean} 图形是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideCubicStroke',
        value: function isInsideCubicStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {
            if (lineWidth === 0) {
                return false;
            }
            var _l = Math.max(lineWidth, 5);
            // Quick reject
            if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {
                return false;
            }
            var d = this.curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);
            return d <= _l / 2;
        }

        /**
         * Method: isInsideQuadraticStroke
         * 二次贝塞尔曲线描边包含判断。
         *
         * Parameters:
         * x0 - {Number}
         * y0 - {Number}
         * x1 - {Number}
         * y1 - {Number}
         * x2 - {Number}
         * y2 - {Number}
         * lineWidth - {Number} 纵坐标。
         * x - {Number}
         * y - {Number}
         *
         * Returns:
         * {Boolean} 图形是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideQuadraticStroke',
        value: function isInsideQuadraticStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {
            if (lineWidth === 0) {
                return false;
            }
            var _l = Math.max(lineWidth, 5);
            // Quick reject
            if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {
                return false;
            }
            var d = this.curve.quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);
            return d <= _l / 2;
        }

        /**
         * Method: isInsideArcStroke
         * 圆弧描边包含判断。
         *
         * Parameters:
         * cx - {Number}
         * cy - {Number}
         * r - {Number}
         * startAngle - {Number}
         * endAngle - {Number}
         * anticlockwise - {Number}
         * lineWidth - {Number}
         * x - {Number}
         * y - {Number}
         *
         * Returns:
         * {Boolean} 图形是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideArcStroke',
        value: function isInsideArcStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {
            var PI2 = this.PI2;

            if (lineWidth === 0) {
                return false;
            }
            var _l = Math.max(lineWidth, 5);

            x -= cx;
            y -= cy;
            var d = Math.sqrt(x * x + y * y);
            if (d - _l > r || d + _l < r) {
                return false;
            }
            if (Math.abs(startAngle - endAngle) >= PI2) {
                // Is a circle
                return true;
            }
            if (anticlockwise) {
                var tmp = startAngle;
                startAngle = this.normalizeRadian(endAngle);
                endAngle = this.normalizeRadian(tmp);
            } else {
                startAngle = this.normalizeRadian(startAngle);
                endAngle = this.normalizeRadian(endAngle);
            }
            if (startAngle > endAngle) {
                endAngle += PI2;
            }

            var angle = Math.atan2(y, x);
            if (angle < 0) {
                angle += PI2;
            }
            return angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle;
        }

        /**
         * APIMethod: isInsideBrokenLine
         * 图形 BrokenLine 是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideBrokenLine',
        value: function isInsideBrokenLine(points, lineWidth, x, y) {
            var _lineWidth = Math.max(lineWidth, 10);
            for (var i = 0, l = points.length - 1; i < l; i++) {
                var x0 = points[i][0];
                var y0 = points[i][1];
                var x1 = points[i + 1][0];
                var y1 = points[i + 1][1];

                if (this.isInsideLine(x0, y0, x1, y1, _lineWidth, x, y)) {
                    return true;
                }
            }

            return false;
        }

        /**
         * Method: isInsideRing
         * 图形 Ring 是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideRing',
        value: function isInsideRing(cx, cy, r0, r, x, y) {
            var d = (x - cx) * (x - cx) + (y - cy) * (y - cy);
            return d < r * r && d > r0 * r0;
        }

        /**
         * APIMethod: isInsideRect
         * 图形 Rect 是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideRect',
        value: function isInsideRect(x0, y0, width, height, x, y) {
            return x >= x0 && x <= x0 + width && y >= y0 && y <= y0 + height;
        }

        /**
         * APIMethod: isInsideCircle
         * 图形 Circle 是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideCircle',
        value: function isInsideCircle(x0, y0, r, x, y) {
            return (x - x0) * (x - x0) + (y - y0) * (y - y0) < r * r;
        }

        /**
         * APIMethod: isInsideSector
         * 图形 Sector 是否包含鼠标位置, true表示坐标处在图形内。
         */

    }, {
        key: 'isInsideSector',
        value: function isInsideSector(cx, cy, r0, r, startAngle, endAngle, anticlockwise, x, y) {
            return this.isInsideArcStroke(cx, cy, (r0 + r) / 2, startAngle, endAngle, anticlockwise, r - r0, x, y);
        }

        /**
         * APIMethod: isInsidePolygon
         * 图形 Polygon 是否包含鼠标位置, true表示坐标处在图形内。与 canvas 一样采用 non-zero winding rule
         */

    }, {
        key: 'isInsidePolygon',
        value: function isInsidePolygon(points, x, y) {
            var N = points.length;
            var w = 0;

            for (var i = 0, j = N - 1; i < N; i++) {
                var x0 = points[j][0];
                var y0 = points[j][1];
                var x1 = points[i][0];
                var y1 = points[i][1];
                w += this.windingLine(x0, y0, x1, y1, x, y);
                j = i;
            }
            return w !== 0;
        }

        /**
         * Method: windingLine
         */

    }, {
        key: 'windingLine',
        value: function windingLine(x0, y0, x1, y1, x, y) {
            if (y > y0 && y > y1 || y < y0 && y < y1) {
                return 0;
            }
            if (y1 == y0) {
                return 0;
            }
            var dir = y1 < y0 ? 1 : -1;
            var t = (y - y0) / (y1 - y0);
            var x_ = t * (x1 - x0) + x0;

            return x_ > x ? dir : 0;
        }

        /**
         * Method: swapExtrema
         */

    }, {
        key: 'swapExtrema',
        value: function swapExtrema() {
            var tmp = this.extrema[0];
            this.extrema[0] = this.extrema[1];
            this.extrema[1] = tmp;
        }

        /**
         * Method: windingCubic
         */

    }, {
        key: 'windingCubic',
        value: function windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {
            var curve = this.curve;
            var roots = this.roots;
            var extrema = this.extrema;

            // Quick reject
            if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {
                return 0;
            }
            var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);
            if (nRoots === 0) {
                return 0;
            } else {
                var w = 0;
                var nExtrema = -1;
                var y0_, y1_;
                for (var i = 0; i < nRoots; i++) {
                    var t = roots[i];
                    var x_ = curve.cubicAt(x0, x1, x2, x3, t);
                    if (x_ < x) {
                        // Quick reject
                        continue;
                    }
                    if (nExtrema < 0) {
                        nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);
                        if (extrema[1] < extrema[0] && nExtrema > 1) {
                            this.swapExtrema();
                        }
                        y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);
                        if (nExtrema > 1) {
                            y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);
                        }
                    }
                    if (nExtrema == 2) {
                        // 分成三段单调函数
                        if (t < extrema[0]) {
                            w += y0_ < y0 ? 1 : -1;
                        } else if (t < extrema[1]) {
                            w += y1_ < y0_ ? 1 : -1;
                        } else {
                            w += y3 < y1_ ? 1 : -1;
                        }
                    } else {
                        // 分成两段单调函数
                        if (t < extrema[0]) {
                            w += y0_ < y0 ? 1 : -1;
                        } else {
                            w += y3 < y0_ ? 1 : -1;
                        }
                    }
                }
                return w;
            }
        }

        /**
         * Method: windingQuadratic
         */

    }, {
        key: 'windingQuadratic',
        value: function windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {
            var curve = this.curve;
            var roots = this.roots;

            // Quick reject
            if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {
                return 0;
            }
            var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);
            if (nRoots === 0) {
                return 0;
            } else {
                var t = curve.quadraticExtremum(y0, y1, y2);
                if (t >= 0 && t <= 1) {
                    var w = 0;
                    var y_ = curve.quadraticAt(y0, y1, y2, t);
                    for (var i = 0; i < nRoots; i++) {
                        var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);
                        if (x_ > x) {
                            continue;
                        }
                        if (roots[i] < t) {
                            w += y_ < y0 ? 1 : -1;
                        } else {
                            w += y2 < y_ ? 1 : -1;
                        }
                    }
                    return w;
                } else {
                    var _x_ = curve.quadraticAt(x0, x1, x2, roots[0]);
                    if (_x_ > x) {
                        return 0;
                    }
                    return y2 < y0 ? 1 : -1;
                }
            }
        }

        /**
         * Method: windingArc
         *     // TODO   Arc 旋转
         */

    }, {
        key: 'windingArc',
        value: function windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {
            var roots = this.roots;
            var PI2 = this.PI2;

            y -= cy;
            if (y > r || y < -r) {
                return 0;
            }
            var tmp = Math.sqrt(r * r - y * y);
            roots[0] = -tmp;
            roots[1] = tmp;

            if (Math.abs(startAngle - endAngle) >= PI2) {
                // Is a circle
                startAngle = 0;
                endAngle = PI2;
                var dir = anticlockwise ? 1 : -1;
                if (x >= roots[0] + cx && x <= roots[1] + cx) {
                    return dir;
                } else {
                    return 0;
                }
            }

            if (anticlockwise) {
                var _tmp = startAngle;
                startAngle = this.normalizeRadian(endAngle);
                endAngle = this.normalizeRadian(_tmp);
            } else {
                startAngle = this.normalizeRadian(startAngle);
                endAngle = this.normalizeRadian(endAngle);
            }
            if (startAngle > endAngle) {
                endAngle += PI2;
            }

            var w = 0;
            for (var i = 0; i < 2; i++) {
                var x_ = roots[i];
                if (x_ + cx > x) {
                    var angle = Math.atan2(y, x_);
                    var _dir = anticlockwise ? 1 : -1;
                    if (angle < 0) {
                        angle = PI2 + angle;
                    }
                    if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {
                        if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {
                            _dir = -_dir;
                        }
                        w += _dir;
                    }
                }
            }
            return w;
        }

        /**
         * APIMethod: isInsidePath
         * 与 canvas 一样采用 non-zero winding rule
         */

    }, {
        key: 'isInsidePath',
        value: function isInsidePath(pathArray, lineWidth, brushType, x, y) {
            var w = 0;
            var xi = 0;
            var yi = 0;
            var x0 = 0;
            var y0 = 0;
            var beginSubpath = true;
            var firstCmd = true;

            brushType = brushType || 'fill';

            var hasStroke = brushType === 'stroke' || brushType === 'both';
            var hasFill = brushType === 'fill' || brushType === 'both';

            // var roots = [-1, -1, -1];
            for (var i = 0; i < pathArray.length; i++) {
                var seg = pathArray[i];
                var p = seg.points;
                // Begin a new subpath
                if (beginSubpath || seg.command === 'M') {
                    if (i > 0) {
                        // Close previous subpath
                        if (hasFill) {
                            w += this.windingLine(xi, yi, x0, y0, x, y);
                        }
                        if (w !== 0) {
                            return true;
                        }
                    }
                    x0 = p[p.length - 2];
                    y0 = p[p.length - 1];
                    beginSubpath = false;
                    if (firstCmd && seg.command !== 'A') {
                        // 如果第一个命令不是M, 是lineTo, bezierCurveTo
                        // 等绘制命令的话，是会从该绘制的起点开始算的
                        // Arc 会在之后做单独处理所以这里忽略
                        firstCmd = false;
                        xi = x0;
                        yi = y0;
                    }
                }
                switch (seg.command) {
                    case 'M':
                        xi = p[0];
                        yi = p[1];
                        break;
                    case 'L':
                        if (hasStroke) {
                            if (this.isInsideLine(xi, yi, p[0], p[1], lineWidth, x, y)) {
                                return true;
                            }
                        }
                        if (hasFill) {
                            w += this.windingLine(xi, yi, p[0], p[1], x, y);
                        }
                        xi = p[0];
                        yi = p[1];
                        break;
                    case 'C':
                        if (hasStroke) {
                            if (this.isInsideCubicStroke(xi, yi, p[0], p[1], p[2], p[3], p[4], p[5], lineWidth, x, y)) {
                                return true;
                            }
                        }
                        if (hasFill) {
                            w += this.windingCubic(xi, yi, p[0], p[1], p[2], p[3], p[4], p[5], x, y);
                        }
                        xi = p[4];
                        yi = p[5];
                        break;
                    case 'Q':
                        if (hasStroke) {
                            if (this.isInsideQuadraticStroke(xi, yi, p[0], p[1], p[2], p[3], lineWidth, x, y)) {
                                return true;
                            }
                        }
                        if (hasFill) {
                            w += this.windingQuadratic(xi, yi, p[0], p[1], p[2], p[3], x, y);
                        }
                        xi = p[2];
                        yi = p[3];
                        break;
                    case 'A':
                        // TODO Arc 旋转
                        // TODO Arc 判断的开销比较大
                        var cx = p[0];
                        var cy = p[1];
                        var rx = p[2];
                        var ry = p[3];
                        var theta = p[4];
                        var dTheta = p[5];
                        var x1 = Math.cos(theta) * rx + cx;
                        var y1 = Math.sin(theta) * ry + cy;
                        // 不是直接使用 arc 命令
                        if (!firstCmd) {
                            w += this.windingLine(xi, yi, x1, y1);
                        } else {
                            firstCmd = false;
                            // 第一个命令起点还未定义
                            x0 = x1;
                            y0 = y1;
                        }
                        // zr 使用scale来模拟椭圆, 这里也对x做一定的缩放
                        var _x = (x - cx) * ry / rx + cx;
                        if (hasStroke) {
                            if (this.isInsideArcStroke(cx, cy, ry, theta, theta + dTheta, 1 - p[7], lineWidth, _x, y)) {
                                return true;
                            }
                        }
                        if (hasFill) {
                            w += this.windingArc(cx, cy, ry, theta, theta + dTheta, 1 - p[7], _x, y);
                        }
                        xi = Math.cos(theta + dTheta) * rx + cx;
                        yi = Math.sin(theta + dTheta) * ry + cy;
                        break;
                    case 'z':
                        if (hasStroke) {
                            if (this.isInsideLine(xi, yi, x0, y0, lineWidth, x, y)) {
                                return true;
                            }
                        }
                        beginSubpath = true;
                        break;
                }
            }
            if (hasFill) {
                w += this.windingLine(xi, yi, x0, y0, x, y);
            }
            return w !== 0;
        }

        /**
         * APIMethod: getTextWidth
         * 测算多行文本宽度
         */

    }, {
        key: 'getTextWidth',
        value: function getTextWidth(text, textFont) {
            var key = text + ':' + textFont;
            if (this._textWidthCache[key]) {
                return this._textWidthCache[key];
            }
            this._ctx = this._ctx || this.util.getContext();
            this._ctx.save();

            if (textFont) {
                this._ctx.font = textFont;
            }

            text = (text + '').split('\n');
            var width = 0;
            for (var i = 0, l = text.length; i < l; i++) {
                width = Math.max(this._ctx.measureText(text[i]).width, width);
            }
            this._ctx.restore();

            this._textWidthCache[key] = width;
            if (++this._textWidthCacheCounter > this.TEXT_CACHE_MAX) {
                // 内存释放
                this._textWidthCacheCounter = 0;
                this._textWidthCache = {};
            }

            return width;
        }

        /**
         * APIMethod: getTextHeight
         * 测算多行文本高度
         */

    }, {
        key: 'getTextHeight',
        value: function getTextHeight(text, textFont) {
            var key = text + ':' + textFont;
            if (this._textHeightCache[key]) {
                return this._textHeightCache[key];
            }

            this._ctx = this._ctx || this.util.getContext();

            this._ctx.save();
            if (textFont) {
                this._ctx.font = textFont;
            }

            text = (text + '').split('\n');
            // 比较粗暴
            //var height = (this._ctx.measureText('国').width + 2) * text.length;  //打包不支持中文，替换掉
            var height = (this._ctx.measureText('ZH').width + 2) * text.length;

            this._ctx.restore();

            this._textHeightCache[key] = height;
            if (++this._textHeightCacheCounter > this.TEXT_CACHE_MAX) {
                // 内存释放
                this._textHeightCacheCounter = 0;
                this._textHeightCache = {};
            }
            return height;
        }
    }]);
    return Area;
}();

;
exports.Area = Area;

_Base.Zondy.LevelRenderer.Tool.Area = Area;

/***/ }),

/***/ "./overlay/levelRender/Clip.js":
/*!*************************************!*\
  !*** ./overlay/levelRender/Clip.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Clip = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Easing = __webpack_require__(/*! ./Easing */ "./overlay/levelRender/Easing.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Animation.Clip
 * 动画片段
 *
 */
var Clip = function () {

    /**
     * 动画主控制器
     * @config target
     * @config life(1000)
     * @config delay(0)
     * @config loop(true)
     * @config gap(0)
     * @config onframe
     * @config easing(optional)
     * @config ondestroy(optional)
     * @config onrestart(optional)
     */

    /**
     * Constructor: Zondy.LevelRenderer.Animation.Clip
     * 构造函数。
     *
     *
     * Parameters:
     * options - {Object} 可选参数：
     *
     * Symbolizer properties:
     * target - {Object} 动画对象，可以是数组，如果是数组的话会批量分发 onframe 等事件。
     * life - {Number} 动画时长，默认值：1000。
     * delay - {Number}  动画延迟时间。默认值：0。
     * loop - {Boolean}  是否循环，默认值：true。
     * gap - {Number}  循环的间隔时间。默认值：0。
     * onframe - {Object}  帧。
     * easing - {Boolean}
     * ondestroy - {Boolean}
     * onrestart - {Boolean}
     *
     */
    function Clip(options) {
        (0, _classCallCheck3.default)(this, Clip);

        this._targetPool = options.target || {};
        if (!(this._targetPool instanceof Array)) {
            this._targetPool = [this._targetPool];
        }

        // 生命周期
        this._life = options.life || 1000;
        // 延时
        this._delay = options.delay || 0;
        // 开始时间
        this._startTime = new Date().getTime() + this._delay; // 单位毫秒

        // 结束时间
        this._endTime = this._startTime + this._life * 1000;

        // 是否循环
        this.loop = typeof options.loop == 'undefined' ? false : options.loop;

        this.gap = options.gap || 0;

        this.easing = options.easing || 'Linear';

        this.onframe = options.onframe;
        this.ondestroy = options.ondestroy;
        this.onrestart = options.onrestart;
        this.CLASS_NAME = "Zondy.LevelRenderer.Animation.Clip";
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Clip, [{
        key: 'destroy',
        value: function destroy() {}
    }, {
        key: 'step',
        value: function step(time) {
            var easing = new _Easing.Easing();
            var percent = (time - this._startTime) / this._life;

            // 还没开始
            if (percent < 0) {
                return;
            }

            percent = Math.min(percent, 1);

            var easingFunc = typeof this.easing == 'string' ? easing[this.easing] : this.easing;
            var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;

            this.fire('frame', schedule);

            // 结束
            if (percent == 1) {
                if (this.loop) {
                    this.restart();
                    // 重新开始周期
                    // 抛出而不是直接调用事件直到 stage.update 后再统一调用这些事件
                    return 'restart';
                }

                // 动画完成将这个控制器标识为待删除
                // 在Animation.update中进行批量删除
                this._needsRemove = true;
                return 'destroy';
            }

            return null;
        }
    }, {
        key: 'restart',
        value: function restart() {
            var time = new Date().getTime();
            var remainder = (time - this._startTime) % this._life;
            this._startTime = new Date().getTime() - remainder + this.gap;
        }
    }, {
        key: 'fire',
        value: function fire(eventType, arg) {
            for (var i = 0, len = this._targetPool.length; i < len; i++) {
                if (this['on' + eventType]) {
                    this['on' + eventType](this._targetPool[i], arg);
                }
            }
        }
    }]);
    return Clip;
}();

;
exports.Clip = Clip;

_Base.Zondy.LevelRenderer.Animation.Clip = Clip;

/***/ }),

/***/ "./overlay/levelRender/Color.js":
/*!**************************************!*\
  !*** ./overlay/levelRender/Color.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Color = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./overlay/levelRender/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Color
 * LevelRenderer 工具-颜色辅助类
 *
 */
var Color = function () {
    function Color() {
        (0, _classCallCheck3.default)(this, Color);

        /**
         * Property: util
         * {<Zondy.LevelRenderer.Tool.Util>} LevelRenderer 基础工具对象
         */
        this.util = new _Util.Util();

        /**
         * Property: _ctx
         * {Object} _ctx
         */
        this._ctx = null;

        /**
         * Property: palette
         * {Array} 默认色板
         * 色板是一个包含图表默认颜色系列的数组，当色板中所有颜色被使用过后，又将从新回到色板中的第一个颜色。
         *
         * [
         * '#ff9277', '#dddd00', '#ffc877', '#bbe3ff', '#d5ffbb', '#bbbbff', '#ddb000', '#b0dd00', '#e2bbff', '#ffbbe3',
         * '#ff7777', '#ff9900', '#83dd00', '#77e3ff', '#778fff', '#c877ff', '#ff77ab', '#ff6600', '#aa8800', '#77c7ff',  '
         * #ad77ff', '#ff77ff', '#dd0083', '#777700', '#00aa00', '#0088aa', '#8400dd', '#aa0088', '#dd0000', '#772e00'
         * ];
         */
        this.palette = ['#ff9277', ' #dddd00', ' #ffc877', ' #bbe3ff', ' #d5ffbb', '#bbbbff', ' #ddb000', ' #b0dd00', ' #e2bbff', ' #ffbbe3', '#ff7777', ' #ff9900', ' #83dd00', ' #77e3ff', ' #778fff', '#c877ff', ' #ff77ab', ' #ff6600', ' #aa8800', ' #77c7ff', '#ad77ff', ' #ff77ff', ' #dd0083', ' #777700', ' #00aa00', '#0088aa', ' #8400dd', ' #aa0088', ' #dd0000', ' #772e00'];

        /**
         * Property: _palette
         * {Array} 复位色板，用于复位  palette
         */
        this._palette = this.palette;

        /**
         * Property: highlightColor
         * {String} 高亮色
         */
        this.highlightColor = 'rgba(0,0,255,1)';

        /**
         * Property: _highlightColor
         * {String} 复位高亮色
         */
        this._highlightColor = this.highlightColor;

        /**
         * Property: colorRegExp
         * {String} 颜色格式，正则表达式。
         */
        this.colorRegExp = /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i;

        /**
         * Property: _nameColors
         * {String} 颜色名。
         */
        this._nameColors = {
            aliceblue: '#f0f8ff',
            antiquewhite: '#faebd7',
            aqua: '#0ff',
            aquamarine: '#7fffd4',
            azure: '#f0ffff',
            beige: '#f5f5dc',
            bisque: '#ffe4c4',
            black: '#000',
            blanchedalmond: '#ffebcd',
            blue: '#00f',
            blueviolet: '#8a2be2',
            brown: '#a52a2a',
            burlywood: '#deb887',
            cadetblue: '#5f9ea0',
            chartreuse: '#7fff00',
            chocolate: '#d2691e',
            coral: '#ff7f50',
            cornflowerblue: '#6495ed',
            cornsilk: '#fff8dc',
            crimson: '#dc143c',
            cyan: '#0ff',
            darkblue: '#00008b',
            darkcyan: '#008b8b',
            darkgoldenrod: '#b8860b',
            darkgray: '#a9a9a9',
            darkgrey: '#a9a9a9',
            darkgreen: '#006400',
            darkkhaki: '#bdb76b',
            darkmagenta: '#8b008b',
            darkolivegreen: '#556b2f',
            darkorange: '#ff8c00',
            darkorchid: '#9932cc',
            darkred: '#8b0000',
            darksalmon: '#e9967a',
            darkseagreen: '#8fbc8f',
            darkslateblue: '#483d8b',
            darkslategray: '#2f4f4f',
            darkslategrey: '#2f4f4f',
            darkturquoise: '#00ced1',
            darkviolet: '#9400d3',
            deeppink: '#ff1493',
            deepskyblue: '#00bfff',
            dimgray: '#696969',
            dimgrey: '#696969',
            dodgerblue: '#1e90ff',
            firebrick: '#b22222',
            floralwhite: '#fffaf0',
            forestgreen: '#228b22',
            fuchsia: '#f0f',
            gainsboro: '#dcdcdc',
            ghostwhite: '#f8f8ff',
            gold: '#ffd700',
            goldenrod: '#daa520',
            gray: '#808080',
            grey: '#808080',
            green: '#008000',
            greenyellow: '#adff2f',
            honeydew: '#f0fff0',
            hotpink: '#ff69b4',
            indianred: '#cd5c5c',
            indigo: '#4b0082',
            ivory: '#fffff0',
            khaki: '#f0e68c',
            lavender: '#e6e6fa',
            lavenderblush: '#fff0f5',
            lawngreen: '#7cfc00',
            lemonchiffon: '#fffacd',
            lightblue: '#add8e6',
            lightcoral: '#f08080',
            lightcyan: '#e0ffff',
            lightgoldenrodyellow: '#fafad2',
            lightgray: '#d3d3d3',
            lightgrey: '#d3d3d3',
            lightgreen: '#90ee90',
            lightpink: '#ffb6c1',
            lightsalmon: '#ffa07a',
            lightseagreen: '#20b2aa',
            lightskyblue: '#87cefa',
            lightslategray: '#789',
            lightslategrey: '#789',
            lightsteelblue: '#b0c4de',
            lightyellow: '#ffffe0',
            lime: '#0f0',
            limegreen: '#32cd32',
            linen: '#faf0e6',
            magenta: '#f0f',
            maroon: '#800000',
            mediumaquamarine: '#66cdaa',
            mediumblue: '#0000cd',
            mediumorchid: '#ba55d3',
            mediumpurple: '#9370d8',
            mediumseagreen: '#3cb371',
            mediumslateblue: '#7b68ee',
            mediumspringgreen: '#00fa9a',
            mediumturquoise: '#48d1cc',
            mediumvioletred: '#c71585',
            midnightblue: '#191970',
            mintcream: '#f5fffa',
            mistyrose: '#ffe4e1',
            moccasin: '#ffe4b5',
            navajowhite: '#ffdead',
            navy: '#000080',
            oldlace: '#fdf5e6',
            olive: '#808000',
            olivedrab: '#6b8e23',
            orange: '#ffa500',
            orangered: '#ff4500',
            orchid: '#da70d6',
            palegoldenrod: '#eee8aa',
            palegreen: '#98fb98',
            paleturquoise: '#afeeee',
            palevioletred: '#d87093',
            papayawhip: '#ffefd5',
            peachpuff: '#ffdab9',
            peru: '#cd853f',
            pink: '#ffc0cb',
            plum: '#dda0dd',
            powderblue: '#b0e0e6',
            purple: '#800080',
            red: '#f00',
            rosybrown: '#bc8f8f',
            royalblue: '#4169e1',
            saddlebrown: '#8b4513',
            salmon: '#fa8072',
            sandybrown: '#f4a460',
            seagreen: '#2e8b57',
            seashell: '#fff5ee',
            sienna: '#a0522d',
            silver: '#c0c0c0',
            skyblue: '#87ceeb',
            slateblue: '#6a5acd',
            slategray: '#708090',
            slategrey: '#708090',
            snow: '#fffafa',
            springgreen: '#00ff7f',
            steelblue: '#4682b4',
            tan: '#d2b48c',
            teal: '#008080',
            thistle: '#d8bfd8',
            tomato: '#ff6347',
            turquoise: '#40e0d0',
            violet: '#ee82ee',
            wheat: '#f5deb3',
            white: '#fff',
            whitesmoke: '#f5f5f5',
            yellow: '#ff0',
            yellowgreen: '#9acd32'
        };

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Color";
    }

    /**
     * APIMethod: customPalette
     * 自定义调色板。
     *
     * Parameters:
     * userPalete - {Array} 颜色板。
     */


    (0, _createClass3.default)(Color, [{
        key: 'customPalette',
        value: function customPalette(userPalete) {
            this.palette = userPalete;
        }

        /**
         * APIMethod: resetPalette
         * 复位默认色板。
         *
         */

    }, {
        key: 'resetPalette',
        value: function resetPalette() {
            this.palette = this._palette;
        }

        /**
         * APIMethod: getColor
         * 获取色板颜色。
         *
         * Parameters:
         * idx - {Number} 色板位置。
         * userPalete - {Array} 色板。
         *
         * Returns:
         * {String} 颜色值。
         */

    }, {
        key: 'getColor',
        value: function getColor(idx, userPalete) {
            idx = idx | 0;
            userPalete = userPalete || this.palette;
            return userPalete[idx % userPalete.length];
        }

        /**
         * APIMethod: customHighlight
         * 自定义默认高亮颜色。
         *
         * Parameters:
         * userHighlightColor - {String} 自定义高亮色。
         */

    }, {
        key: 'customHighlight',
        value: function customHighlight(userHighlightColor) {
            this.highlightColor = userHighlightColor;
        }

        /**
         * APIMethod: resetHighlight
         * 重置默认高亮颜色。将当前的高亮色作为默认高亮颜色
         *
         */

    }, {
        key: 'resetHighlight',
        value: function resetHighlight() {
            this.highlightColor = this._highlightColor;
        }

        /**
         * APIMethod: getHighlightColor
         * 获取默认高亮颜色
         *
         * Returns:
         * {String} 颜色值。
         */

    }, {
        key: 'getHighlightColor',
        value: function getHighlightColor() {
            return this.highlightColor;
        }

        /**
         * APIMethod: getRadialGradient
         * 径向渐变。
         *
         * Parameters:
         * x0 - {Number} 渐变起点。
         * y0 - {Number}
         * r0 - {Number}
         * x1 - {Number} 渐变终点。
         * y1 - {Number}
         * r1 - {Number}
         * colorList - {Array} 颜色列表。
         *
         * Returns:
         * {CanvasGradient} Cavans 渐变颜色。
         */

    }, {
        key: 'getRadialGradient',
        value: function getRadialGradient(x0, y0, r0, x1, y1, r1, colorList) {
            var util = this.util;

            if (!this._ctx) {
                this._ctx = util.getContext();
            }
            var gradient = this._ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);
            for (var i = 0, l = colorList.length; i < l; i++) {

                gradient.addColorStop(colorList[i][0], colorList[i][1]);
            }
            gradient.__nonRecursion = true;
            return gradient;
        }

        /**
         * APIMethod: getLinearGradient
         * 线性渐变。
         *
         * Parameters:
         * x0 - {Number} 渐变起点。
         * y0 - {Number}
         * x1 - {Number} 渐变终点。
         * y1 - {Number}
         * colorList - {Array} 颜色列表。
         *
         * Returns:
         * {CanvasGradient} Cavans 渐变颜色。
         */

    }, {
        key: 'getLinearGradient',
        value: function getLinearGradient(x0, y0, x1, y1, colorList) {
            var util = this.util;

            if (!this._ctx) {
                this._ctx = util.getContext();
            }
            var gradient = this._ctx.createLinearGradient(x0, y0, x1, y1);
            for (var i = 0, l = colorList.length; i < l; i++) {
                gradient.addColorStop(colorList[i][0], colorList[i][1]);
            }
            gradient.__nonRecursion = true;
            return gradient;
        }

        /**
         * APIMethod: getStepColors
         * 获取两种颜色之间渐变颜色数组。
         *
         * Parameters:
         * start - {color} 起始颜色。
         * end - {color} 结束颜色。
         * step - {Number} 渐变级数。
         * colorList - {Array} 颜色列表。
         *
         * Returns:
         * {Array} 颜色数组。
         */

    }, {
        key: 'getStepColors',
        value: function getStepColors(start, end, step) {
            start = this.toRGBA(start);
            end = this.toRGBA(end);
            start = this.getData(start);
            end = this.getData(end);

            var colors = [];
            var stepR = (end[0] - start[0]) / step;
            var stepG = (end[1] - start[1]) / step;
            var stepB = (end[2] - start[2]) / step;
            var stepA = (end[3] - start[3]) / step;
            // 生成颜色集合
            // fix by linfeng 颜色堆积
            for (var i = 0, r = start[0], g = start[1], b = start[2], a = start[3]; i < step; i++) {
                colors[i] = this.toColor([this.adjust(Math.floor(r), [0, 255]), this.adjust(Math.floor(g), [0, 255]), this.adjust(Math.floor(b), [0, 255]), a.toFixed(4) - 0], 'rgba');
                r += stepR;
                g += stepG;
                b += stepB;
                a += stepA;
            }
            r = end[0];
            g = end[1];
            b = end[2];
            a = end[3];
            colors[i] = this.toColor([r, g, b, a], 'rgba');
            return colors;
        }

        /**
         * APIMethod: getGradientColors
         * 获取指定级数的渐变颜色数组。
         *
         * Parameters:
         * colors - {Array{String}} 颜色组。
         * step - {Number}  渐变级数，默认值 20。
         *
         * Returns:
         * {Array{String}} 颜色数组。
         */

    }, {
        key: 'getGradientColors',
        value: function getGradientColors(colors, step) {
            var ret = [];
            var len = colors.length;
            if (step === undefined) {
                step = 20;
            }
            if (len === 1) {
                ret = this.getStepColors(colors[0], colors[0], step);
            } else if (len > 1) {
                for (var i = 0, n = len - 1; i < n; i++) {
                    var steps = this.getStepColors(colors[i], colors[i + 1], step);
                    if (i < n - 1) {
                        steps.pop();
                    }
                    ret = ret.concat(steps);
                }
            }
            return ret;
        }

        /**
         * APIMethod: toColor
         *  颜色值数组转为指定格式颜色。
         *
         * Parameters:
         * data - {Array} 颜色值数组。
         * format - {String}  格式，默认rgb
         *
         * Returns:
         * {String} 颜色。
         */

    }, {
        key: 'toColor',
        value: function toColor(data, format) {
            format = format || 'rgb';
            if (data && (data.length === 3 || data.length === 4)) {
                data = this.map(data, function (c) {
                    return c > 1 ? Math.ceil(c) : c;
                });

                if (format.indexOf('hex') > -1) {
                    return '#' + ((1 << 24) + (data[0] << 16) + (data[1] << 8) + +data[2]).toString(16).slice(1);
                } else if (format.indexOf('hs') > -1) {
                    var sx = this.map(data.slice(1, 3), function (c) {
                        return c + '%';
                    });
                    data[1] = sx[0];
                    data[2] = sx[1];
                }

                if (format.indexOf('a') > -1) {
                    if (data.length === 3) {
                        data.push(1);
                    }
                    data[3] = this.adjust(data[3], [0, 1]);
                    return format + '(' + data.slice(0, 4).join(',') + ')';
                }

                return format + '(' + data.slice(0, 3).join(',') + ')';
            }
        }

        /**
         * APIMethod: toArray
         *  颜色字符串转换为rgba数组。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {Array{Number}} 颜色值数组。
         */

    }, {
        key: 'toArray',
        value: function toArray(color) {
            color = this.trim(color);
            if (color.indexOf('rgba') < 0) {
                color = this.toRGBA(color);
            }

            var data = [];
            var i = 0;
            color.replace(/[\d.]+/g, function (n) {
                if (i < 3) {
                    n = n | 0;
                } else {
                    // Alpha
                    n = +n;
                }
                data[i++] = n;
            });
            return data;
        }

        /**
         * APIMethod: convert
         *  颜色格式转化。
         *
         * Parameters:
         * color - {String} 颜色值数组。
         * format - {String} 格式，默认rgb
         *
         * Returns:
         * {String} 颜色。
         */

    }, {
        key: 'convert',
        value: function convert(color, format) {
            if (!this.isCalculableColor(color)) {
                return color;
            }
            var data = this.getData(color);
            var alpha = data[3];
            if (typeof alpha === 'undefined') {
                alpha = 1;
            }

            if (color.indexOf('hsb') > -1) {
                data = this._HSV_2_RGB(data);
            } else if (color.indexOf('hsl') > -1) {
                data = this._HSL_2_RGB(data);
            }

            if (format.indexOf('hsb') > -1 || format.indexOf('hsv') > -1) {
                data = this._RGB_2_HSB(data);
            } else if (format.indexOf('hsl') > -1) {
                data = this._RGB_2_HSL(data);
            }

            data[3] = alpha;

            return this.toColor(data, format);
        }

        /**
         * APIMethod: toRGBA
         *  转换为rgba格式的颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} rgba颜色，rgba(r,g,b,a)。
         */

    }, {
        key: 'toRGBA',
        value: function toRGBA(color) {
            return this.convert(color, 'rgba');
        }

        /**
         * APIMethod: toRGB
         *  转换为rgb数字格式的颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} rgb颜色，rgb(0,0,0)格式
         */

    }, {
        key: 'toRGB',
        value: function toRGB(color) {
            return this.convert(color, 'rgb');
        }

        /**
         * APIMethod: toHex
         *  转换为16进制颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} 16进制颜色，#rrggbb格式
         */

    }, {
        key: 'toHex',
        value: function toHex(color) {
            return this.convert(color, 'hex');
        }

        /**
         * APIMethod: toHSVA
         *  转换为HSV颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} HSVA颜色，hsva(h,s,v,a)
         */

    }, {
        key: 'toHSVA',
        value: function toHSVA(color) {
            return this.convert(color, 'hsva');
        }

        /**
         * APIMethod: toHSV
         *  转换为HSV颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} HSV颜色，hsv(h,s,v)
         */

    }, {
        key: 'toHSV',
        value: function toHSV(color) {
            return this.convert(color, 'hsv');
        }

        /**
         * APIMethod: toHSBA
         *  转换为HSBA颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} HSBA颜色，hsba(h,s,b,a)
         */

    }, {
        key: 'toHSBA',
        value: function toHSBA(color) {
            return this.convert(color, 'hsba');
        }

        /**
         * APIMethod: toHSB
         *  转换为HSB颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} HSB颜色，hsb(h,s,b)
         */

    }, {
        key: 'toHSB',
        value: function toHSB(color) {
            return this.convert(color, 'hsb');
        }

        /**
         * APIMethod: toHSLA
         *  转换为HSLA颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} HSLA颜色，hsla(h,s,l,a)
         */

    }, {
        key: 'toHSLA',
        value: function toHSLA(color) {
            return this.convert(color, 'hsla');
        }

        /**
         * APIMethod: toHSL
         *  转换为HSL颜色。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} HSL颜色，hsl(h,s,l)
         */

    }, {
        key: 'toHSL',
        value: function toHSL(color) {
            return this.convert(color, 'hsl');
        }

        /**
         * APIMethod: toName
         * 转换颜色名。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} 颜色名
         */

    }, {
        key: 'toName',
        value: function toName(color) {
            for (var key in this._nameColors) {
                if (this.toHex(this._nameColors[key]) === this.toHex(color)) {
                    return key;
                }
            }
            return null;
        }

        /**
         * APIMethod: trim
         * 移除颜色中多余空格。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} 无空格颜色
         */

    }, {
        key: 'trim',
        value: function trim(color) {
            return String(color).replace(/\s+/g, '');
        }

        /**
         * APIMethod: normalize
         * 颜色规范化。
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} 规范化后的颜色
         */

    }, {
        key: 'normalize',
        value: function normalize(color) {
            // 颜色名
            if (this._nameColors[color]) {
                color = this._nameColors[color];
            }
            // 去掉空格
            color = this.trim(color);
            // hsv与hsb等价
            color = color.replace(/hsv/i, 'hsb');
            // rgb转为rrggbb
            if (/^#[\da-f]{3}$/i.test(color)) {
                color = parseInt(color.slice(1), 16);
                var r = (color & 0xf00) << 8;
                var g = (color & 0xf0) << 4;
                var b = color & 0xf;

                color = '#' + ((1 << 24) + (r << 4) + r + (g << 4) + g + (b << 4) + b).toString(16).slice(1);
            }
            // 或者使用以下正则替换，不过 chrome 下性能相对差点
            // color = color.replace(/^#([\da-f])([\da-f])([\da-f])$/i, '#$1$1$2$2$3$3');
            return color;
        }

        /**
         * APIMethod: lift
         * 颜色加深或减淡，当level>0加深，当level<0减淡。
         *
         * Parameters:
         * color - {String} 颜色。
         * level - {Number} 升降程度,取值区间[-1,1]。
         *
         * Returns:
         * {String} 加深或减淡后颜色值
         */

    }, {
        key: 'lift',
        value: function lift(color, level) {
            if (!this.isCalculableColor(color)) {
                return color;
            }
            var direct = level > 0 ? 1 : -1;
            if (typeof level === 'undefined') {
                level = 0;
            }
            level = Math.abs(level) > 1 ? 1 : Math.abs(level);
            color = this.toRGB(color);
            var data = this.getData(color);
            for (var i = 0; i < 3; i++) {
                if (direct === 1) {
                    data[i] = data[i] * (1 - level) | 0;
                } else {
                    data[i] = (255 - data[i]) * level + data[i] | 0;
                }
            }
            return 'rgb(' + data.join(',') + ')';
        }

        /**
         * APIMethod: reverse
         * 颜色翻转,[255-r,255-g,255-b,1-a]
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {String} 翻转颜色
         */

    }, {
        key: 'reverse',
        value: function reverse(color) {
            if (!this.isCalculableColor(color)) {
                return color;
            }
            var data = this.getData(this.toRGBA(color));
            data = this.map(data, function (c) {
                return 255 - c;
            });
            return this.toColor(data, 'rgb');
        }

        /**
         * APIMethod: mix
         * 简单两种颜色混合
         *
         * Parameters:
         * color1 - {String} 第一种颜色。
         * color2 - {String} 第二种颜色。
         * weight - {Number} 混合权重[0-1]。
         *
         * Returns:
         * {String} 结果色,rgb(r,g,b)或rgba(r,g,b,a)
         */

    }, {
        key: 'mix',
        value: function mix(color1, color2, weight) {
            if (!this.isCalculableColor(color1) || !this.isCalculableColor(color2)) {
                return color1;
            }

            if (typeof weight === 'undefined') {
                weight = 0.5;
            }
            weight = 1 - this.adjust(weight, [0, 1]);

            var w = weight * 2 - 1;
            var data1 = this.getData(this.toRGBA(color1));
            var data2 = this.getData(this.toRGBA(color2));

            var d = data1[3] - data2[3];

            var weight1 = ((w * d === -1 ? w : (w + d) / (1 + w * d)) + 1) / 2;
            var weight2 = 1 - weight1;

            var data = [];

            for (var i = 0; i < 3; i++) {
                data[i] = data1[i] * weight1 + data2[i] * weight2;
            }

            var alpha = data1[3] * weight + data2[3] * (1 - weight);
            alpha = Math.max(0, Math.min(1, alpha));

            if (data1[3] === 1 && data2[3] === 1) {
                // 不考虑透明度
                return this.toColor(data, 'rgb');
            }
            data[3] = alpha;
            return this.toColor(data, 'rgba');
        }

        /**
         * APIMethod: random
         * 随机颜色
         *
         * Returns:
         * {String} 颜色值，#rrggbb格式
         */

    }, {
        key: 'random',
        value: function random() {
            return '#' + Math.random().toString(16).slice(2, 8);
        }

        /**
         * APIMethod: getData
         * 获取颜色值数组,返回值范围:
         *
         * RGB 范围[0-255]
         *
         * HSL/HSV/HSB 范围[0-1]
         *
         * A透明度范围[0-1]
         *
         * 支持格式：
         *
         * #rgb
         *
         * #rrggbb
         *
         * rgb(r,g,b)
         *
         * rgb(r%,g%,b%)
         *
         * rgba(r,g,b,a)
         *
         * hsb(h,s,b) // hsv与hsb等价
         *
         * hsb(h%,s%,b%)
         *
         * hsba(h,s,b,a)
         *
         * hsl(h,s,l)
         *
         * hsl(h%,s%,l%)
         *
         * hsla(h,s,l,a)
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {Array{Number}} 颜色值数组或null
         */

    }, {
        key: 'getData',
        value: function getData(color) {
            color = this.normalize(color);
            var r = color.match(this.colorRegExp);
            if (r === null) {
                throw new Error('The color format error'); // 颜色格式错误
            }
            var d;
            var a;
            var data = [];
            var rgb;

            if (r[2]) {
                // #rrggbb
                d = r[2].replace('#', '').split('');
                rgb = [d[0] + d[1], d[2] + d[3], d[4] + d[5]];
                data = this.map(rgb, function (c) {
                    return Color.prototype.adjust.call(this, parseInt(c, 16), [0, 255]);
                });
            } else if (r[4]) {
                // rgb rgba
                var rgba = r[4].split(',');
                a = rgba[3];
                rgb = rgba.slice(0, 3);
                data = this.map(rgb, function (c) {
                    c = Math.floor(c.indexOf('%') > 0 ? parseInt(c, 0) * 2.55 : c);
                    return Color.prototype.adjust.call(this, c, [0, 255]);
                });

                if (typeof a !== 'undefined') {
                    data.push(this.adjust(parseFloat(a), [0, 1]));
                }
            } else if (r[5] || r[6]) {
                // hsb hsba hsl hsla
                var hsxa = (r[5] || r[6]).split(',');
                var h = parseInt(hsxa[0], 0) / 360;
                var s = hsxa[1];
                var x = hsxa[2];
                a = hsxa[3];
                data = this.map([s, x], function (c) {
                    return Color.prototype.adjust.call(this, parseFloat(c) / 100, [0, 1]);
                });
                data.unshift(h);
                if (typeof a !== 'undefined') {
                    data.push(this.adjust(parseFloat(a), [0, 1]));
                }
            }
            return data;
        }

        /**
         * APIMethod: alpha
         * 设置颜色透明度
         *
         * Parameters:
         * color - {String} 颜色。
         * a - {Number} 透明度,区间[0,1]。
         *
         * Returns:
         * {String} rgba颜色值
         */

    }, {
        key: 'alpha',
        value: function alpha(color, a) {
            if (!this.isCalculableColor(color)) {
                return color;
            }
            if (a === null) {
                a = 1;
            }
            var data = this.getData(this.toRGBA(color));
            data[3] = this.adjust(Number(a).toFixed(4), [0, 1]);

            return this.toColor(data, 'rgba');
        }

        /**
         * APIMethod: map
         * 数组映射
         *
         * Parameters:
         * array - {String} 数组。
         * fun - {Number} 函数。
         *
         * Returns:
         * {String} 数组映射结果
         */

    }, {
        key: 'map',
        value: function map(array, fun) {
            if (typeof fun !== 'function') {
                throw new TypeError();
            }
            var len = array ? array.length : 0;
            for (var i = 0; i < len; i++) {
                array[i] = fun(array[i]);
            }
            return array;
        }

        /**
         * APIMethod: adjust
         * 调整值区间
         *
         * Parameters:
         * value - {Number} 数组。
         * region - {Array(Number)} 区间。
         *
         * Returns:
         * {Number} 调整后的值
         */

    }, {
        key: 'adjust',
        value: function adjust(value, region) {
            // < to <= & > to >=
            // modify by linzhifeng 2014-05-25 because -0 == 0
            if (value <= region[0]) {
                value = region[0];
            } else if (value >= region[1]) {
                value = region[1];
            }
            return value;
        }

        /**
         * APIMethod: isCalculableColor
         * 判断是否是可计算的颜色
         *
         * Parameters:
         * color - {String} 颜色。
         *
         * Returns:
         * {Boolean} 是否是可计算的颜色
         */

    }, {
        key: 'isCalculableColor',
        value: function isCalculableColor(color) {
            return color instanceof Array || typeof color === 'string';
        }

        /**
         * APIMethod: _HSV_2_RGB
         * 参见 http:// www.easyrgb.com/index.php?X=MATH
         */

    }, {
        key: '_HSV_2_RGB',
        value: function _HSV_2_RGB(data) {
            var H = data[0];
            var S = data[1];
            var V = data[2];
            // HSV from 0 to 1
            var R;
            var G;
            var B;
            if (S === 0) {
                R = V * 255;
                G = V * 255;
                B = V * 255;
            } else {
                var h = H * 6;
                if (h === 6) {
                    h = 0;
                }
                var i = h | 0;
                var v1 = V * (1 - S);
                var v2 = V * (1 - S * (h - i));
                var v3 = V * (1 - S * (1 - (h - i)));
                var r = 0;
                var g = 0;
                var b = 0;

                if (i === 0) {
                    r = V;
                    g = v3;
                    b = v1;
                } else if (i === 1) {
                    r = v2;
                    g = V;
                    b = v1;
                } else if (i === 2) {
                    r = v1;
                    g = V;
                    b = v3;
                } else if (i === 3) {
                    r = v1;
                    g = v2;
                    b = V;
                } else if (i === 4) {
                    r = v3;
                    g = v1;
                    b = V;
                } else {
                    r = V;
                    g = v1;
                    b = v2;
                }

                // RGB results from 0 to 255
                R = r * 255;
                G = g * 255;
                B = b * 255;
            }
            return [R, G, B];
        }

        /**
         * APIMethod: _HSL_2_RGB
         * 参见 http:// www.easyrgb.com/index.php?X=MATH
         */

    }, {
        key: '_HSL_2_RGB',
        value: function _HSL_2_RGB(data) {
            var H = data[0];
            var S = data[1];
            var L = data[2];
            // HSL from 0 to 1
            var R;
            var G;
            var B;
            if (S === 0) {
                R = L * 255;
                G = L * 255;
                B = L * 255;
            } else {
                var v2;
                if (L < 0.5) {
                    v2 = L * (1 + S);
                } else {
                    v2 = L + S - S * L;
                }

                var v1 = 2 * L - v2;

                R = 255 * this._HUE_2_RGB(v1, v2, H + 1 / 3);
                G = 255 * this._HUE_2_RGB(v1, v2, H);
                B = 255 * this._HUE_2_RGB(v1, v2, H - 1 / 3);
            }
            return [R, G, B];
        }

        /**
         * APIMethod: _HUE_2_RGB
         * 参见 http:// www.easyrgb.com/index.php?X=MATH
         */

    }, {
        key: '_HUE_2_RGB',
        value: function _HUE_2_RGB(v1, v2, vH) {
            if (vH < 0) {
                vH += 1;
            }
            if (vH > 1) {
                vH -= 1;
            }
            if (6 * vH < 1) {
                return v1 + (v2 - v1) * 6 * vH;
            }
            if (2 * vH < 1) {
                return v2;
            }
            if (3 * vH < 2) {
                return v1 + (v2 - v1) * (2 / 3 - vH) * 6;
            }
            return v1;
        }

        /**
         * APIMethod: _RGB_2_HSB
         * 参见 http:// www.easyrgb.com/index.php?X=MATH
         */

    }, {
        key: '_RGB_2_HSB',
        value: function _RGB_2_HSB(data) {
            // RGB from 0 to 255
            var R = data[0] / 255;
            var G = data[1] / 255;
            var B = data[2] / 255;

            var vMin = Math.min(R, G, B); // Min. value of RGB
            var vMax = Math.max(R, G, B); // Max. value of RGB
            var delta = vMax - vMin; // Delta RGB value
            var V = vMax;
            var H;
            var S;

            // HSV results from 0 to 1
            if (delta === 0) {
                H = 0;
                S = 0;
            } else {
                S = delta / vMax;

                var deltaR = ((vMax - R) / 6 + delta / 2) / delta;
                var deltaG = ((vMax - G) / 6 + delta / 2) / delta;
                var deltaB = ((vMax - B) / 6 + delta / 2) / delta;

                if (R === vMax) {
                    H = deltaB - deltaG;
                } else if (G === vMax) {
                    H = 1 / 3 + deltaR - deltaB;
                } else if (B === vMax) {
                    H = 2 / 3 + deltaG - deltaR;
                }

                if (H < 0) {
                    H += 1;
                }
                if (H > 1) {
                    H -= 1;
                }
            }
            H = H * 360;
            S = S * 100;
            V = V * 100;
            return [H, S, V];
        }

        /**
         * APIMethod: _RGB_2_HSL
         * 参见 http:// www.easyrgb.com/index.php?X=MATH
         */

    }, {
        key: '_RGB_2_HSL',
        value: function _RGB_2_HSL(data) {

            // RGB from 0 to 255
            var R = data[0] / 255;
            var G = data[1] / 255;
            var B = data[2] / 255;

            var vMin = Math.min(R, G, B); // Min. value of RGB
            var vMax = Math.max(R, G, B); // Max. value of RGB
            var delta = vMax - vMin; // Delta RGB value

            var L = (vMax + vMin) / 2;
            var H;
            var S;
            // HSL results from 0 to 1
            if (delta === 0) {
                H = 0;
                S = 0;
            } else {
                if (L < 0.5) {
                    S = delta / (vMax + vMin);
                } else {
                    S = delta / (2 - vMax - vMin);
                }

                var deltaR = ((vMax - R) / 6 + delta / 2) / delta;
                var deltaG = ((vMax - G) / 6 + delta / 2) / delta;
                var deltaB = ((vMax - B) / 6 + delta / 2) / delta;

                if (R === vMax) {
                    H = deltaB - deltaG;
                } else if (G === vMax) {
                    H = 1 / 3 + deltaR - deltaB;
                } else if (B === vMax) {
                    H = 2 / 3 + deltaG - deltaR;
                }

                if (H < 0) {
                    H += 1;
                }

                if (H > 1) {
                    H -= 1;
                }
            }

            H = H * 360;
            S = S * 100;
            L = L * 100;

            return [H, S, L];
        }
    }]);
    return Color;
}();

;
exports.Color = Color;

_Base.Zondy.LevelRenderer.Tool.Color = Color;

/***/ }),

/***/ "./overlay/levelRender/ComputeBoundingBox.js":
/*!***************************************************!*\
  !*** ./overlay/levelRender/ComputeBoundingBox.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ComputeBoundingBox = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Curve = __webpack_require__(/*! ./Curve */ "./overlay/levelRender/Curve.js");

var _Vector = __webpack_require__(/*! ./Vector */ "./overlay/levelRender/Vector.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.ComputeBoundingBox
 * LevelRenderer 工具-图形 Bounds 计算
 *
 */
var ComputeBoundingBox = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Tool.ComputeBoundingBox
     * 构造函数。
     *
     */
    function ComputeBoundingBox() {
        (0, _classCallCheck3.default)(this, ComputeBoundingBox);

        if (arguments.length === 3) {
            this.computeBoundingBox(arguments);
        }

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.ComputeBoundingBox";
    }

    /**
     * APIMethod: computeBoundingBox
     * 从顶点数组中计算出最小包围盒，写入`min`和`max`中。
     *
     * Parameters:
     * points - {Array{Object}} 顶点数组。
     * min - {Number}
     * max - {Number}
     *
     */


    (0, _createClass3.default)(ComputeBoundingBox, [{
        key: 'computeBoundingBox',
        value: function computeBoundingBox(points, min, max) {
            if (points.length === 0) {
                return;
            }
            var left = points[0][0];
            var right = points[0][0];
            var top = points[0][1];
            var bottom = points[0][1];

            for (var i = 1; i < points.length; i++) {
                var p = points[i];
                if (p[0] < left) {
                    left = p[0];
                }
                if (p[0] > right) {
                    right = p[0];
                }
                if (p[1] < top) {
                    top = p[1];
                }
                if (p[1] > bottom) {
                    bottom = p[1];
                }
            }

            min[0] = left;
            min[1] = top;
            max[0] = right;
            max[1] = bottom;
        }

        /**
         * APIMethod: cubeBezier
         * 从三阶贝塞尔曲线(p0, p1, p2, p3)中计算出最小包围盒，写入`min`和`max`中。
         *
         * 原：computeCubeBezierBoundingBox
         *
         * Parameters:
         * p0 - {Array{Number}}
         * p1 - {Array{Number}}
         * p2 - {Array{Number}}
         * p3 - {Array{Number}}
         * min - {Array{Number}}
         * max - {Array{Number}}
         *
         */

    }, {
        key: 'cubeBezier',
        value: function cubeBezier(p0, p1, p2, p3, min, max) {
            var curve = new _Curve.Curve();

            var xDim = [];
            curve.cubicExtrema(p0[0], p1[0], p2[0], p3[0], xDim);
            for (var i = 0; i < xDim.length; i++) {
                xDim[i] = curve.cubicAt(p0[0], p1[0], p2[0], p3[0], xDim[i]);
            }
            var yDim = [];
            curve.cubicExtrema(p0[1], p1[1], p2[1], p3[1], yDim);
            for (var _i = 0; _i < yDim.length; _i++) {
                yDim[_i] = curve.cubicAt(p0[1], p1[1], p2[1], p3[1], yDim[_i]);
            }

            xDim.push(p0[0], p3[0]);
            yDim.push(p0[1], p3[1]);

            var left = Math.min.apply(null, xDim);
            var right = Math.max.apply(null, xDim);
            var top = Math.min.apply(null, yDim);
            var bottom = Math.max.apply(null, yDim);

            min[0] = left;
            min[1] = top;
            max[0] = right;
            max[1] = bottom;
        }

        /**
         * APIMethod: quadraticBezier
         * 从二阶贝塞尔曲线(p0, p1, p2)中计算出最小包围盒，写入`min`和`max`中
         *
         * 原：computeQuadraticBezierBoundingBox
         *
         * Parameters:
         * p0 - {Array{Number}}
         * p1 - {Array{Number}}
         * p2 - {Array{Number}}
         * min - {Array{Number}}
         * max - {Array{Number}}
         *
         */

    }, {
        key: 'quadraticBezier',
        value: function quadraticBezier(p0, p1, p2, min, max) {
            var curve = new _Curve.Curve();

            // Find extremities, where derivative in x dim or y dim is zero
            var t1 = curve.quadraticExtremum(p0[0], p1[0], p2[0]);
            var t2 = curve.quadraticExtremum(p0[1], p1[1], p2[1]);

            t1 = Math.max(Math.min(t1, 1), 0);
            t2 = Math.max(Math.min(t2, 1), 0);

            var ct1 = 1 - t1;
            var ct2 = 1 - t2;

            var x1 = ct1 * ct1 * p0[0] + 2 * ct1 * t1 * p1[0] + t1 * t1 * p2[0];
            var y1 = ct1 * ct1 * p0[1] + 2 * ct1 * t1 * p1[1] + t1 * t1 * p2[1];

            var x2 = ct2 * ct2 * p0[0] + 2 * ct2 * t2 * p1[0] + t2 * t2 * p2[0];
            var y2 = ct2 * ct2 * p0[1] + 2 * ct2 * t2 * p1[1] + t2 * t2 * p2[1];
            min[0] = Math.min(p0[0], p2[0], x1, x2);
            min[1] = Math.min(p0[1], p2[1], y1, y2);
            max[0] = Math.max(p0[0], p2[0], x1, x2);
            max[1] = Math.max(p0[1], p2[1], y1, y2);
        }

        /**
         * APIMethod: arc
         * 从圆弧中计算出最小包围盒，写入`min`和`max`中
         *
         * 原：computeArcBoundingBox
         *
         * Parameters:
         * x - {Number}  圆弧中心点 x
         * y - {Number}  圆弧中心点 y
         * r - {Number}  圆弧半径
         * startAngle - {Number}  圆弧开始角度
         * endAngle - {Number}  圆弧结束角度
         * anticlockwise - {Number}  是否是顺时针
         * min - {Number}
         * max - {Number}
         */

    }, {
        key: 'arc',
        value: function arc(x, y, r, startAngle, endAngle, anticlockwise, min, max) {
            var vec2 = new _Vector.Vector();

            var start = vec2.create();
            var end = vec2.create();
            var extremity = vec2.create();

            start[0] = Math.cos(startAngle) * r + x;
            start[1] = Math.sin(startAngle) * r + y;

            end[0] = Math.cos(endAngle) * r + x;
            end[1] = Math.sin(endAngle) * r + y;

            vec2.min(min, start, end);
            vec2.max(max, start, end);

            // Thresh to [0, Math.PI * 2]
            startAngle = startAngle % (Math.PI * 2);
            if (startAngle < 0) {
                startAngle = startAngle + Math.PI * 2;
            }
            endAngle = endAngle % (Math.PI * 2);
            if (endAngle < 0) {
                endAngle = endAngle + Math.PI * 2;
            }

            if (startAngle > endAngle && !anticlockwise) {
                endAngle += Math.PI * 2;
            } else if (startAngle < endAngle && anticlockwise) {
                startAngle += Math.PI * 2;
            }
            if (anticlockwise) {
                var tmp = endAngle;
                endAngle = startAngle;
                startAngle = tmp;
            }

            // var number = 0;
            // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;
            for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {
                if (angle > startAngle) {
                    extremity[0] = Math.cos(angle) * r + x;
                    extremity[1] = Math.sin(angle) * r + y;

                    vec2.min(min, extremity, min);
                    vec2.max(max, extremity, max);
                }
            }
        }
    }]);
    return ComputeBoundingBox;
}();

;
exports.ComputeBoundingBox = ComputeBoundingBox;

_Base.Zondy.LevelRenderer.Tool.ComputeBoundingBox = ComputeBoundingBox;

/***/ }),

/***/ "./overlay/levelRender/Config.js":
/*!***************************************!*\
  !*** ./overlay/levelRender/Config.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Config = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Config = function Config() {
  (0, _classCallCheck3.default)(this, Config);
};
/**
 * APIProperty: EVENT
 * {Object} 事件
 */


Config.EVENT = {
  //窗口大小变化
  RESIZE: 'resize',

  //鼠标按钮被（手指）按下，事件对象是：目标图形元素或空
  CLICK: 'click',

  //双击事件
  DBLCLICK: 'dblclick',

  //鼠标滚轮变化，事件对象是：目标图形元素或空
  MOUSEWHEEL: 'mousewheel',

  //鼠标（手指）被移动，事件对象是：目标图形元素或空
  MOUSEMOVE: 'mousemove',

  //鼠标移到某图形元素之上，事件对象是：目标图形元素
  MOUSEOVER: 'mouseover',

  //鼠标从某图形元素移开，事件对象是：目标图形元素
  MOUSEOUT: 'mouseout',

  //鼠标按钮（手指）被按下，事件对象是：目标图形元素或空
  MOUSEDOWN: 'mousedown',

  //鼠标按键（手指）被松开，事件对象是：目标图形元素或空
  MOUSEUP: 'mouseup',

  //全局离开，MOUSEOUT触发比较频繁，一次离开优化绑定
  GLOBALOUT: 'globalout',

  // 一次成功元素拖拽的行为事件过程是：
  // dragstart > dragenter > dragover [> dragleave] > drop > dragend

  //开始拖拽时触发，事件对象是：被拖拽图形元素
  DRAGSTART: 'dragstart',

  //拖拽完毕时触发（在drop之后触发），事件对象是：被拖拽图形元素
  DRAGEND: 'dragend',

  //拖拽图形元素进入目标图形元素时触发，事件对象是：目标图形元素
  DRAGENTER: 'dragenter',

  //拖拽图形元素在目标图形元素上移动时触发，事件对象是：目标图形元素
  DRAGOVER: 'dragover',

  //拖拽图形元素离开目标图形元素时触发，事件对象是：目标图形元素
  DRAGLEAVE: 'dragleave',

  //拖拽图形元素放在目标图形元素内时触发，事件对象是：目标图形元素
  DROP: 'drop',

  //touch end - start < delay is click
  touchClickDelay: 300
};

/**
 * APIProperty: catchBrushException
 * {Boolean} 是否异常捕获
 */
Config.catchBrushException = false;

/**
 * APIProperty: debugMode
 * {Boolean} debug 日志选项：catchBrushException 为 true 下有效
 *
 * 0 : 不生成debug数据，发布用
 * 1 : 异常抛出，调试用
 * 2 : 控制台输出，调试用
 */
Config.debugMode = 0;

exports.Config = Config;

_Base.Zondy.LevelRenderer.Config = Config;

/***/ }),

/***/ "./overlay/levelRender/Curve.js":
/*!**************************************!*\
  !*** ./overlay/levelRender/Curve.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Curve = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Vector = __webpack_require__(/*! ./Vector */ "./overlay/levelRender/Vector.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Curve
 * LevelRenderer 工具-曲线
 *
 */
var Curve = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Tool.Curve
     * 构造函数。
     *
     */
    function Curve() {
        (0, _classCallCheck3.default)(this, Curve);

        /**
         * Property: vector
         * {<Zondy.LevelRenderer.Tool.Vector>} 矢量工具
         */
        this.vector = new _Vector.Vector();

        /**
         * Property: EPSILON
         * {Number} e
         */
        this.EPSILON = 1e-4;

        /**
         * Property: THREE_SQRT
         * {Number} 3 的平方根
         */
        this.THREE_SQRT = Math.sqrt(3);

        /**
         * Property: ONE_THIRD
         * {Number} 1/3
         */
        this.ONE_THIRD = 1 / 3;

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Curve";
    }

    /**
     * Method: evalCubicCoeff
     *
     * Parameters:
     * a - {Number} 值。
     * b - {Number} 值。
     * c - {Number} 值。
     * d - {Number} 值。
     * t - {Number} 值。
     *
     * Returns:
     * {Number}
     */

    /*
     evalCubicCoeff: function(a, b, c, d, t){
     return ((a * t + b) * t + c) * t + d;
     },
     */

    /**
     * Method: isAroundZero
     * 判断一个值是否趋于0，判断参考值：1e-4。
     *
     * Parameters:
     * val - {Number} 值。
     *
     * Returns:
     * {Boolean} 值是否趋于0。
     */


    (0, _createClass3.default)(Curve, [{
        key: 'isAroundZero',
        value: function isAroundZero(val) {
            return val > -this.EPSILON && val < this.EPSILON;
        }

        /**
         * Method: isNotAroundZero
         * 判断一个值是否不趋于0，判断参考值：1e-4。
         *
         * Parameters:
         * val - {Number} 值。
         *
         * Returns:
         * {Boolean} 值是否不趋于0。
         */

    }, {
        key: 'isNotAroundZero',
        value: function isNotAroundZero(val) {
            return val > this.EPSILON || val < -this.EPSILON;
        }

        /**
         * APIMethod: cubicAt
         * 计算三次贝塞尔值
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         * p3 - {Number}
         * t - {Number}
         *
         * Returns:
         * {number} 三次贝塞尔值
         */

    }, {
        key: 'cubicAt',
        value: function cubicAt(p0, p1, p2, p3, t) {
            var onet = 1 - t;
            return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);
        }

        /**
         * APIMethod: cubicDerivativeAt
         * 计算三次贝塞尔导数值
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         * p3 - {Number}
         * t - {Number}
         *
         * Returns:
         * {number} 三次贝塞尔导数值
         */

    }, {
        key: 'cubicDerivativeAt',
        value: function cubicDerivativeAt(p0, p1, p2, p3, t) {
            var onet = 1 - t;
            return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);
        }

        /**
         * APIMethod: cubicRootAt
         * 计算三次贝塞尔方程根，使用盛金公式
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         * p3 - {Number}
         * val - {Number}
         * roots -{Array<number>} 有效根数目
         *
         * Returns:
         * {number} 有效根
         */

    }, {
        key: 'cubicRootAt',
        value: function cubicRootAt(p0, p1, p2, p3, val, roots) {
            // Evaluate roots of cubic functions
            var a = p3 + 3 * (p1 - p2) - p0;
            var b = 3 * (p2 - p1 * 2 + p0);
            var c = 3 * (p1 - p0);
            var d = p0 - val;

            var A = b * b - 3 * a * c;
            var B = b * c - 9 * a * d;
            var C = c * c - 3 * b * d;

            var n = 0;

            if (this.isAroundZero(A) && this.isAroundZero(B)) {
                if (this.isAroundZero(b)) {
                    roots[0] = 0;
                } else {
                    var t1 = -c / b; //t1, t2, t3, b is not zero
                    if (t1 >= 0 && t1 <= 1) {
                        roots[n++] = t1;
                    }
                }
            } else {
                var disc = B * B - 4 * A * C;

                if (this.isAroundZero(disc)) {
                    var K = B / A;
                    var _t2 = -b / a + K; // t1, a is not zero
                    var t2 = -K / 2; // t2, t3
                    if (_t2 >= 0 && _t2 <= 1) {
                        roots[n++] = _t2;
                    }
                    if (t2 >= 0 && t2 <= 1) {
                        roots[n++] = t2;
                    }
                } else if (disc > 0) {
                    var discSqrt = Math.sqrt(disc);
                    var Y1 = A * b + 1.5 * a * (-B + discSqrt);
                    var Y2 = A * b + 1.5 * a * (-B - discSqrt);
                    if (Y1 < 0) {
                        Y1 = -Math.pow(-Y1, this.ONE_THIRD);
                    } else {
                        Y1 = Math.pow(Y1, this.ONE_THIRD);
                    }
                    if (Y2 < 0) {
                        Y2 = -Math.pow(-Y2, this.ONE_THIRD);
                    } else {
                        Y2 = Math.pow(Y2, this.ONE_THIRD);
                    }
                    var _t3 = (-b - (Y1 + Y2)) / (3 * a);
                    if (_t3 >= 0 && _t3 <= 1) {
                        roots[n++] = _t3;
                    }
                } else {
                    var T = (2 * A * b - 3 * a * B) / (2 * Math.sqrt(A * A * A));
                    var theta = Math.acos(T) / 3;
                    var ASqrt = Math.sqrt(A);
                    var tmp = Math.cos(theta);

                    var _t4 = (-b - 2 * ASqrt * tmp) / (3 * a);
                    var _t5 = (-b + ASqrt * (tmp + this.THREE_SQRT * Math.sin(theta))) / (3 * a);
                    var t3 = (-b + ASqrt * (tmp - this.THREE_SQRT * Math.sin(theta))) / (3 * a);
                    if (_t4 >= 0 && _t4 <= 1) {
                        roots[n++] = _t4;
                    }
                    if (_t5 >= 0 && _t5 <= 1) {
                        roots[n++] = _t5;
                    }
                    if (t3 >= 0 && t3 <= 1) {
                        roots[n++] = t3;
                    }
                }
            }
            return n;
        }

        /**
         * APIMethod: cubicExtrema
         * 计算三次贝塞尔方程极限值的位置
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         * p3 - {Number}
         * extrema - {Array<number>}
         *
         * Returns:
         * {number} 有效数目
         */

    }, {
        key: 'cubicExtrema',
        value: function cubicExtrema(p0, p1, p2, p3, extrema) {
            var b = 6 * p2 - 12 * p1 + 6 * p0;
            var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;
            var c = 3 * p1 - 3 * p0;

            var n = 0;
            if (this.isAroundZero(a)) {
                if (this.isNotAroundZero(b)) {
                    var t1 = -c / b;
                    if (t1 >= 0 && t1 <= 1) {
                        extrema[n++] = t1;
                    }
                }
            } else {
                var disc = b * b - 4 * a * c;
                if (this.isAroundZero(disc)) {
                    extrema[0] = -b / (2 * a);
                } else if (disc > 0) {
                    var discSqrt = Math.sqrt(disc);
                    var _t6 = (-b + discSqrt) / (2 * a);
                    var t2 = (-b - discSqrt) / (2 * a);
                    if (_t6 >= 0 && _t6 <= 1) {
                        extrema[n++] = _t6;
                    }
                    if (t2 >= 0 && t2 <= 1) {
                        extrema[n++] = t2;
                    }
                }
            }
            return n;
        }

        /**
         * APIMethod cubicSubdivide
         * 细分三次贝塞尔曲线
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         * p3 - {Number}
         * t - {Number}
         * out - {Array{Number}}
         *
         * Returns:
         * {number} out
         */

    }, {
        key: 'cubicSubdivide',
        value: function cubicSubdivide(p0, p1, p2, p3, t, out) {
            var p01 = (p1 - p0) * t + p0;
            var p12 = (p2 - p1) * t + p1;
            var p23 = (p3 - p2) * t + p2;

            var p012 = (p12 - p01) * t + p01;
            var p123 = (p23 - p12) * t + p12;

            var p0123 = (p123 - p012) * t + p012;
            // Seg0
            out[0] = p0;
            out[1] = p01;
            out[2] = p012;
            out[3] = p0123;
            // Seg1
            out[4] = p0123;
            out[5] = p123;
            out[6] = p23;
            out[7] = p3;
        }

        /**
         * APIMethod: cubicProjectPoint
         * 投射点到三次贝塞尔曲线上，返回投射距离。投射点有可能会有一个或者多个，这里只返回其中距离最短的一个。
         *
         * Parameters:
         * x0 - {Number}
         * y0 - {Number}
         * x1 - {Number}
         * y1 - {Number}
         * x2 - {Number}
         * y2 - {Number}
         * x3 - {Number}
         * y3 - {Number}
         * x - {Number}
         * y - {Number}
         * out - {Array{Number}}  投射点
         *
         * Returns:
         * {number} out
         */

    }, {
        key: 'cubicProjectPoint',
        value: function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {
            // 临时变量
            var _v0 = this.vector.create();
            var _v1 = this.vector.create();
            var _v2 = this.vector.create();
            // var _v3 = vector.create();

            // http://pomax.github.io/bezierinfo/#projections
            var t;
            var interval = 0.005;
            var d = Infinity;

            _v0[0] = x;
            _v0[1] = y;

            // 先粗略估计一下可能的最小距离的 t 值
            // PENDING
            for (var _t = 0; _t < 1; _t += 0.05) {
                _v1[0] = this.cubicAt(x0, x1, x2, x3, _t);
                _v1[1] = this.cubicAt(y0, y1, y2, y3, _t);
                var d1 = this.vector.distSquare(_v0, _v1);
                if (d1 < d) {
                    t = _t;
                    d = d1;
                }
            }
            d = Infinity;

            // At most 32 iteration
            for (var i = 0; i < 32; i++) {
                if (interval < this.EPSILON) {
                    break;
                }
                var prev = t - interval;
                var next = t + interval;
                // t - interval
                _v1[0] = this.cubicAt(x0, x1, x2, x3, prev);
                _v1[1] = this.cubicAt(y0, y1, y2, y3, prev);

                var _d = this.vector.distSquare(_v1, _v0);

                if (prev >= 0 && _d < d) {
                    t = prev;
                    d = _d;
                } else {
                    // t + interval
                    _v2[0] = this.cubicAt(x0, x1, x2, x3, next);
                    _v2[1] = this.cubicAt(y0, y1, y2, y3, next);
                    var d2 = this.vector.distSquare(_v2, _v0);

                    if (next <= 1 && d2 < d) {
                        t = next;
                        d = d2;
                    } else {
                        interval *= 0.5;
                    }
                }
            }
            // t
            if (out) {
                out[0] = this.cubicAt(x0, x1, x2, x3, t);
                out[1] = this.cubicAt(y0, y1, y2, y3, t);
            }
            // console.log(interval, i);
            return Math.sqrt(d);
        }

        /**
         * APIMethod: quadraticAt
         * 计算二次方贝塞尔值
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         * t - {Number}
         *
         * Returns:
         * {number} 二次方贝塞尔值
         */

    }, {
        key: 'quadraticAt',
        value: function quadraticAt(p0, p1, p2, t) {
            var onet = 1 - t;
            return onet * (onet * p0 + 2 * t * p1) + t * t * p2;
        }

        /**
         * APIMethod: quadraticDerivativeAt
         * 计算二次方贝塞尔导数值
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         * t - {Number}
         *
         * Returns:
         * {number} 二次方贝塞尔导数值
         */

    }, {
        key: 'quadraticDerivativeAt',
        value: function quadraticDerivativeAt(p0, p1, p2, t) {
            return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));
        }

        /**
         * APIMethod: quadraticRootAt
         * 计算二次方贝塞尔方程根
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         * val - {Number}
         * roots - {Array{Number}}
         *
         * Returns:
         * {number} 有效根数目
         */

    }, {
        key: 'quadraticRootAt',
        value: function quadraticRootAt(p0, p1, p2, val, roots) {
            var a = p0 - 2 * p1 + p2;
            var b = 2 * (p1 - p0);
            var c = p0 - val;

            var n = 0;
            if (this.isAroundZero(a)) {
                if (this.isNotAroundZero(b)) {
                    var t1 = -c / b;
                    if (t1 >= 0 && t1 <= 1) {
                        roots[n++] = t1;
                    }
                }
            } else {
                var disc = b * b - 4 * a * c;
                if (this.isAroundZero(disc)) {
                    var _t7 = -b / (2 * a);
                    if (_t7 >= 0 && _t7 <= 1) {
                        roots[n++] = _t7;
                    }
                } else if (disc > 0) {
                    var discSqrt = Math.sqrt(disc);
                    var _t8 = (-b + discSqrt) / (2 * a);
                    var t2 = (-b - discSqrt) / (2 * a);
                    if (_t8 >= 0 && _t8 <= 1) {
                        roots[n++] = _t8;
                    }
                    if (t2 >= 0 && t2 <= 1) {
                        roots[n++] = t2;
                    }
                }
            }
            return n;
        }

        /**
         * APIMethod: quadraticExtremum
         * 计算二次贝塞尔方程极限值
         *
         * Parameters:
         * p0 - {Number}
         * p1 - {Number}
         * p2 - {Number}
         *
         * Returns:
         * {number}  二次贝塞尔方程极限值
         */

    }, {
        key: 'quadraticExtremum',
        value: function quadraticExtremum(p0, p1, p2) {
            var divider = p0 + p2 - 2 * p1;
            if (divider === 0) {
                // p1 is center of p0 and p2
                return 0.5;
            } else {
                return (p0 - p1) / divider;
            }
        }

        /**
         * APIMethod: quadraticProjectPoint
         * 投射点到二次贝塞尔曲线上，返回投射距离。投射点有可能会有一个或者多个，这里只返回其中距离最短的一个。
         *
         * Parameters:
         * x0 - {Number}
         * y0 - {Number}
         * x1 - {Number}
         * y1 - {Number}
         * x2 - {Number}
         * y2 - {Number}
         * x - {Number}
         * y - {Number}
         * out - {Array{Number}}  投射点
         *
         * Returns:
         * {number} 投射距离
         */

    }, {
        key: 'quadraticProjectPoint',
        value: function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {
            // 临时变量
            var _v0 = this.vector.create();
            var _v1 = this.vector.create();
            var _v2 = this.vector.create();

            // http://pomax.github.io/bezierinfo/#projections
            var t;
            var interval = 0.005;
            var d = Infinity;

            _v0[0] = x;
            _v0[1] = y;

            // 先粗略估计一下可能的最小距离的 t 值
            // PENDING
            for (var _t = 0; _t < 1; _t += 0.05) {
                _v1[0] = this.quadraticAt(x0, x1, x2, _t);
                _v1[1] = this.quadraticAt(y0, y1, y2, _t);
                var d1 = this.vector.distSquare(_v0, _v1);
                if (d1 < d) {
                    t = _t;
                    d = d1;
                }
            }
            d = Infinity;

            // At most 32 iteration
            for (var i = 0; i < 32; i++) {
                if (interval < this.EPSILON) {
                    break;
                }
                var prev = t - interval;
                var next = t + interval;
                // t - interval
                _v1[0] = this.quadraticAt(x0, x1, x2, prev);
                _v1[1] = this.quadraticAt(y0, y1, y2, prev);

                var _d2 = this.vector.distSquare(_v1, _v0);

                if (prev >= 0 && _d2 < d) {
                    t = prev;
                    d = _d2;
                } else {
                    // t + interval
                    _v2[0] = this.quadraticAt(x0, x1, x2, next);
                    _v2[1] = this.quadraticAt(y0, y1, y2, next);
                    var d2 = this.vector.distSquare(_v2, _v0);
                    if (next <= 1 && d2 < d) {
                        t = next;
                        d = d2;
                    } else {
                        interval *= 0.5;
                    }
                }
            }
            // t
            if (out) {
                out[0] = this.quadraticAt(x0, x1, x2, t);
                out[1] = this.quadraticAt(y0, y1, y2, t);
            }
            // console.log(interval, i);
            return Math.sqrt(d);
        }
    }]);
    return Curve;
}();

;
exports.Curve = Curve;

_Base.Zondy.LevelRenderer.Tool.Curve = Curve;

/***/ }),

/***/ "./overlay/levelRender/Easing.js":
/*!***************************************!*\
  !*** ./overlay/levelRender/Easing.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Easing = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Animation.easing
 * 缓动
 */
var Easing = function () {

    /*
     * Constructor: Zondy.LevelRenderer.Animation.easing
     * 构造函数。
     *
     */
    function Easing() {
        (0, _classCallCheck3.default)(this, Easing);

        this.CLASS_NAME = "Zondy.LevelRenderer.Animation.easing";
    }

    /*
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Easing, [{
        key: "destroy",
        value: function destroy() {}

        // 线性
        /*
         * @param {number} k
         * @return {number} 返回输入值
         */

    }, {
        key: "Linear",
        value: function Linear(k) {
            return k;
        }

        // 二次方的缓动（t^2）
        /*
         * @param {number} k
         * @return {number} 返回二次方的缓动的值
         */

    }, {
        key: "QuadraticIn",
        value: function QuadraticIn(k) {
            return k * k;
        }

        /*
         * @param {number} k
         * @return {number} 返回按二次方缓动退出的值
         */

    }, {
        key: "QuadraticOut",
        value: function QuadraticOut(k) {
            return k * (2 - k);
        }

        /*
         * @param {number} k
         * @return {number} 返回按二次方缓动进入和退出的值
         */

    }, {
        key: "QuadraticInOut",
        value: function QuadraticInOut(k) {
            if ((k *= 2) < 1) {
                return 0.5 * k * k;
            }
            return -0.5 * (--k * (k - 2) - 1);
        }

        // 三次方的缓动（t^3）
        /*
         * @param {number} k
         * @return {number} 返回按三次方缓动的值
         */

    }, {
        key: "CubicIn",
        value: function CubicIn(k) {
            return k * k * k;
        }

        /*
         * @param {number} k
         * @return {number} 返回按三次方缓动退出的值
         */

    }, {
        key: "CubicOut",
        value: function CubicOut(k) {
            return --k * k * k + 1;
        }

        /*
         * @param {number} k
         * @return {number} 返回按三次方缓动进入退出的值
         */

    }, {
        key: "CubicInOut",
        value: function CubicInOut(k) {
            if ((k *= 2) < 1) {
                return 0.5 * k * k * k;
            }
            return 0.5 * ((k -= 2) * k * k + 2);
        }

        // 四次方的缓动（t^4）
        /*
         * @param {number} k
         * @return {number} 返回按四次方缓动进入的值
         */

    }, {
        key: "QuarticIn",
        value: function QuarticIn(k) {
            return k * k * k * k;
        }

        /*
         * @param {number} k
         * @return {number} 返回按四次方缓动退出的值
         */

    }, {
        key: "QuarticOut",
        value: function QuarticOut(k) {
            return 1 - --k * k * k * k;
        }

        /*
         * @param {number} k
         * @return {number} 返回按四次方缓动进入退出的值
         */

    }, {
        key: "QuarticInOut",
        value: function QuarticInOut(k) {
            if ((k *= 2) < 1) {
                return 0.5 * k * k * k * k;
            }
            return -0.5 * ((k -= 2) * k * k * k - 2);
        }

        // 五次方的缓动（t^5）
        /*
         * @param {number} k
         * @return {number} 返回按五次方缓动的值
         */

    }, {
        key: "QuinticIn",
        value: function QuinticIn(k) {
            return k * k * k * k * k;
        }

        /*
         * @param {number} k
         * @return {number} 返回按五次方缓动退出的值
         */

    }, {
        key: "QuinticOut",
        value: function QuinticOut(k) {
            return --k * k * k * k * k + 1;
        }

        /*
         * @param {number} k
         * @return {number} 返回按五次方缓动进入退出的值
         */

    }, {
        key: "QuinticInOut",
        value: function QuinticInOut(k) {
            if ((k *= 2) < 1) {
                return 0.5 * k * k * k * k * k;
            }
            return 0.5 * ((k -= 2) * k * k * k * k + 2);
        }

        // 正弦曲线的缓动（sin(t)）
        /*
         * @param {number} k
         * @return {number} 返回按正弦曲线的缓动进入的值
         */

    }, {
        key: "SinusoidalIn",
        value: function SinusoidalIn(k) {
            return 1 - Math.cos(k * Math.PI / 2);
        }

        /*
         * @param {number} k
         * @return {number} 返回按正弦曲线的缓动退出的值
         */

    }, {
        key: "SinusoidalOut",
        value: function SinusoidalOut(k) {
            return Math.sin(k * Math.PI / 2);
        }

        /*
         * @param {number} k
         * @return {number} 返回按正弦曲线的缓动进入退出的值
         */

    }, {
        key: "SinusoidalInOut",
        value: function SinusoidalInOut(k) {
            return 0.5 * (1 - Math.cos(Math.PI * k));
        }

        // 指数曲线的缓动（2^t）
        /*
         * @param {number} k
         * @return {number} 返回按指数曲线的缓动进入的值
         */

    }, {
        key: "ExponentialIn",
        value: function ExponentialIn(k) {
            return k === 0 ? 0 : Math.pow(1024, k - 1);
        }

        /*
         * @param {number} k
         * @return {number} 返回按指数曲线的缓动退出的值
         */

    }, {
        key: "ExponentialOut",
        value: function ExponentialOut(k) {
            return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);
        }

        /*
         * @param {number} k
         * @return {number} 返回按指数曲线的缓动进入退出的值
         */

    }, {
        key: "ExponentialInOut",
        value: function ExponentialInOut(k) {
            if (k === 0) {
                return 0;
            }
            if (k === 1) {
                return 1;
            }
            if ((k *= 2) < 1) {
                return 0.5 * Math.pow(1024, k - 1);
            }
            return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);
        }

        // 圆形曲线的缓动（sqrt(1-t^2)）
        /*
         * @param {number} k
         * @return {number} 返回按圆形曲线的缓动进入的值
         */

    }, {
        key: "CircularIn",
        value: function CircularIn(k) {
            return 1 - Math.sqrt(1 - k * k);
        }

        /*
         * @param {number} k
         * @return {number} 返回按圆形曲线的缓动退出的值
         */

    }, {
        key: "CircularOut",
        value: function CircularOut(k) {
            return Math.sqrt(1 - --k * k);
        }

        /*
         * @param {number} k
         * @return {number} 返回按圆形曲线的缓动进入退出的值
         */

    }, {
        key: "CircularInOut",
        value: function CircularInOut(k) {
            if ((k *= 2) < 1) {
                return -0.5 * (Math.sqrt(1 - k * k) - 1);
            }
            return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);
        }

        // 创建类似于弹簧在停止前来回振荡的动画
        /*
         * @param {number} k
         * @return {number} 返回按类似于弹簧在停止前来回振荡的动画的缓动进入的值
         */

    }, {
        key: "ElasticIn",
        value: function ElasticIn(k) {
            var s;
            var a = 0.1;
            var p = 0.4;
            if (k === 0) {
                return 0;
            }
            if (k === 1) {
                return 1;
            }
            if (!a || a < 1) {
                a = 1;
                s = p / 4;
            } else {
                s = p * Math.asin(1 / a) / (2 * Math.PI);
            }
            return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
        }

        /*
         * @param {number} k
         * @return {number} 返回按类似于弹簧在停止前来回振荡的动画的缓动退出的值
         */

    }, {
        key: "ElasticOut",
        value: function ElasticOut(k) {
            var s;
            var a = 0.1;
            var p = 0.4;
            if (k === 0) {
                return 0;
            }
            if (k === 1) {
                return 1;
            }
            if (!a || a < 1) {
                a = 1;
                s = p / 4;
            } else {
                s = p * Math.asin(1 / a) / (2 * Math.PI);
            }
            return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;
        }

        /*
         * @param {number} k
         * @return {number} 返回按类似于弹簧在停止前来回振荡的动画的缓动进入退出的值
         */

    }, {
        key: "ElasticInOut",
        value: function ElasticInOut(k) {
            var s;
            var a = 0.1;
            var p = 0.4;
            if (k === 0) {
                return 0;
            }
            if (k === 1) {
                return 1;
            }
            if (!a || a < 1) {
                a = 1;
                s = p / 4;
            } else {
                s = p * Math.asin(1 / a) / (2 * Math.PI);
            }
            if ((k *= 2) < 1) {
                return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
            }
            return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;
        }

        // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动
        /*
         * @param {number} k
         * @return {number} 返回按在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动的缓动进入的值
         */

    }, {
        key: "BackIn",
        value: function BackIn(k) {
            var s = 1.70158;
            return k * k * ((s + 1) * k - s);
        }

        /*
         * @param {number} k
         * @return {number} 返回按在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动的缓动退出的值
         */

    }, {
        key: "BackOut",
        value: function BackOut(k) {
            var s = 1.70158;
            return --k * k * ((s + 1) * k + s) + 1;
        }

        /*
         * @param {number} k
         * @return {number} 返回按在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动的缓动进入退出的值
         */

    }, {
        key: "BackInOut",
        value: function BackInOut(k) {
            var s = 1.70158 * 1.525;
            if ((k *= 2) < 1) {
                return 0.5 * (k * k * ((s + 1) * k - s));
            }
            return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);
        }

        // 创建弹跳效果
        /*
         * @param {number} k
         * @return {number} 返回按弹跳效果的缓动进入的值
         */

    }, {
        key: "BounceIn",
        value: function BounceIn(k) {
            return 1 - this.BounceOut(1 - k);
        }

        /*
         * @param {number} k
         * @return {number} 返回按弹跳效果的缓动退出的值
         */

    }, {
        key: "BounceOut",
        value: function BounceOut(k) {
            if (k < 1 / 2.75) {
                return 7.5625 * k * k;
            } else if (k < 2 / 2.75) {
                return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;
            } else if (k < 2.5 / 2.75) {
                return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;
            } else {
                return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;
            }
        }

        /*
         * @param {number} k
         * @return {number} 返回按弹跳效果的缓动进入退出的值
         */

    }, {
        key: "BounceInOut",
        value: function BounceInOut(k) {
            if (k < 0.5) {
                return this.BounceIn(k * 2) * 0.5;
            }
            return this.BounceOut(k * 2 - 1) * 0.5 + 0.5;
        }
    }]);
    return Easing;
}();

;
exports.Easing = Easing;

_Base.Zondy.LevelRenderer.Animation.Easing = Easing;

/***/ }),

/***/ "./overlay/levelRender/Env.js":
/*!************************************!*\
  !*** ./overlay/levelRender/Env.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Env = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Env
 * 环境识别
 *
 */
var Env = function () {
    function Env() {
        (0, _classCallCheck3.default)(this, Env);

        // Zepto.js
        // (c) 2010-2013 Thomas Fuchs
        // Zepto.js may be freely distributed under the MIT license.
        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Env";
        var me = this;
        function detect(ua) {
            var os = me.os = {};
            var browser = me.browser = {};
            var webkit = ua.match(/Web[kK]it[\/]{0,1}([\d.]+)/);
            var android = ua.match(/(Android);?[\s\/]+([\d.]+)?/);
            var ipad = ua.match(/(iPad).*OS\s([\d_]+)/);
            var ipod = ua.match(/(iPod)(.*OS\s([\d_]+))?/);
            var iphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/);
            var webos = ua.match(/(webOS|hpwOS)[\s\/]([\d.]+)/);
            var touchpad = webos && ua.match(/TouchPad/);
            var kindle = ua.match(/Kindle\/([\d.]+)/);
            var silk = ua.match(/Silk\/([\d._]+)/);
            var blackberry = ua.match(/(BlackBerry).*Version\/([\d.]+)/);
            var bb10 = ua.match(/(BB10).*Version\/([\d.]+)/);
            var rimtabletos = ua.match(/(RIM\sTablet\sOS)\s([\d.]+)/);
            var playbook = ua.match(/PlayBook/);
            var chrome = ua.match(/Chrome\/([\d.]+)/) || ua.match(/CriOS\/([\d.]+)/);
            var firefox = ua.match(/Firefox\/([\d.]+)/);
            var ie = ua.match(/MSIE ([\d.]+)/);
            var safari = webkit && ua.match(/Mobile\//) && !chrome;
            var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;

            // Todo: clean this up with a better OS/browser seperation:
            // - discern (more) between multiple browsers on android
            // - decide if kindle fire in silk mode is android or not
            // - Firefox on Android doesn't specify the Android version
            // - possibly devide in os, device and browser hashes

            /*eslint-disable*/
            if (browser.webkit = !!webkit) {
                browser.version = webkit[1];
            }

            if (android) {
                os.android = true, os.version = android[2];
            }
            if (iphone && !ipod) {
                os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');
            }
            if (ipad) {
                os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');
            }
            if (ipod) {
                os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;
            }
            if (webos) {
                os.webos = true, os.version = webos[2];
            }
            if (touchpad) {
                os.touchpad = true;
            }
            if (blackberry) {
                os.blackberry = true, os.version = blackberry[2];
            }
            if (bb10) {
                os.bb10 = true, os.version = bb10[2];
            }
            if (rimtabletos) {
                os.rimtabletos = true, os.version = rimtabletos[2];
            }
            if (playbook) {
                browser.playbook = true;
            }
            if (kindle) {
                os.kindle = true, os.version = kindle[1];
            }
            if (silk) {
                browser.silk = true, browser.version = silk[1];
            }
            if (!silk && os.android && ua.match(/Kindle Fire/)) {
                browser.silk = true;
            }
            if (chrome) {
                browser.chrome = true, browser.version = chrome[1];
            }
            if (firefox) {
                browser.firefox = true, browser.version = firefox[1];
            }
            if (ie) {
                browser.ie = true, browser.version = ie[1];
            }
            if (safari && (ua.match(/Safari/) || !!os.ios)) {
                browser.safari = true;
            }
            if (webview) {
                browser.webview = true;
            }
            if (ie) {
                browser.ie = true, browser.version = ie[1];
            }

            os.tablet = !!(ipad || playbook || android && !ua.match(/Mobile/) || firefox && ua.match(/Tablet/) || ie && !ua.match(/Phone/) && ua.match(/Touch/));
            os.phone = !!(!os.tablet && !os.ipod && (android || iphone || webos || blackberry || bb10 || chrome && ua.match(/Android/) || chrome && ua.match(/CriOS\/([\d.]+)/) || firefox && ua.match(/Mobile/) || ie && ua.match(/Touch/)));

            return {
                browser: browser,
                os: os,
                // 原生canvas支持
                canvasSupported: document.createElement('canvas').getContext ? true : false
            };
        }

        return detect(navigator.userAgent);
    }

    (0, _createClass3.default)(Env, [{
        key: 'destory',
        value: function destory() {
            return true;
        }
    }]);
    return Env;
}();

;
exports.Env = Env;

_Base.Zondy.LevelRenderer.Tool.Env = Env;

/***/ }),

/***/ "./overlay/levelRender/Event.js":
/*!**************************************!*\
  !*** ./overlay/levelRender/Event.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Event = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Event
 * LevelRenderer 工具-事件辅助类
 *
 */
var Event = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Tool.Event
     * 构造函数。
     *
     */
    function Event() {
        (0, _classCallCheck3.default)(this, Event);

        /**
         * Property: stop
         * {Function} 停止冒泡和阻止默认行为
         */
        this.stop = typeof window.addEventListener === 'function' ? function (e) {
            e.preventDefault();
            e.stopPropagation();
            e.cancelBubble = true;
        } : function (e) {
            e.returnValue = false;
            e.cancelBubble = true;
        };

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Event";
    }

    /**
     * APIMethod: getX
     * 提取鼠标（手指）x坐标。
     *
     * Parameters:
     * e - {Event} 事件。
     *
     * Returns:
     * {Number} 鼠标（手指）x坐标。
     */


    (0, _createClass3.default)(Event, [{
        key: 'getX',
        value: function getX(e) {
            return typeof e.zrenderX != 'undefined' && e.zrenderX || typeof e.offsetX != 'undefined' && e.offsetX || typeof e.layerX != 'undefined' && e.layerX || typeof e.clientX != 'undefined' && e.clientX;
        }

        /**
         * APIMethod: getY
         * 提取鼠标y坐标。
         *
         * Parameters:
         * e - {Event} 事件。
         *
         * Returns:
         * {Number} 鼠标（手指）y坐标。
         */

    }, {
        key: 'getY',
        value: function getY(e) {
            return typeof e.zrenderY != 'undefined' && e.zrenderY || typeof e.offsetY != 'undefined' && e.offsetY || typeof e.layerY != 'undefined' && e.layerY || typeof e.clientY != 'undefined' && e.clientY;
        }

        /**
         * APIMethod: getDelta
         * 提取鼠标滚轮变化。
         *
         * Parameters:
         * e - {Event} 事件。
         *
         * Returns:
         * {Number} 滚轮变化，正值说明滚轮是向上滚动，如果是负值说明滚轮是向下滚动。
         */

    }, {
        key: 'getDelta',
        value: function getDelta(e) {
            return typeof e.zrenderDelta != 'undefined' && e.zrenderDelta || typeof e.wheelDelta != 'undefined' && e.wheelDelta || typeof e.detail != 'undefined' && -e.detail;
        }
    }]);
    return Event;
}();

;
exports.Event = Event;

_Base.Zondy.LevelRenderer.Tool.Event = Event;

/***/ }),

/***/ "./overlay/levelRender/Eventful.js":
/*!*****************************************!*\
  !*** ./overlay/levelRender/Eventful.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Eventful = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Eventful
 * 事件分发器超类，所有支持事件处理的类均是此类的子类。
 *
 * 此类不可实例化。
 *
 */
var Eventful = function () {

    /*
     * Constructor: Zondy.LevelRenderer.Eventful
     * 构造函数。
     *
     * 对象可以通过 onxxxx 绑定事件。
     *
     * 支持的事件：
     * Symbolizer properties:
     * onclick - {Function} 默认值：null。
     * onmouseover - {Function} 默认值：null。
     * onmouseout - {Function} 默认值：null。
     * onmousemove - {Function} 默认值：null。
     * onmousewheel - {Function} 默认值：null。
     * onmousedown - {Function} 默认值：null。
     * onmouseup - {Function} 默认值：null。
     * ondragstart - {Function} 默认值：null。
     * ondragend - {Function} 默认值：null。
     * ondragenter - {Function} 默认值：null。
     * ondragleave - {Function} 默认值：null。
     * ondragover - {Function} 默认值：null。
     * ondrop - {Function} 默认值：null。
     */
    function Eventful() {
        (0, _classCallCheck3.default)(this, Eventful);

        /**
         * Property: _handlers
         * {Object} 事件处理对象（事件分发器）。
         */
        this._handlers = {};
        this.CLASS_NAME = "Zondy.LevelRenderer.Eventful";
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Eventful, [{
        key: 'destroy',
        value: function destroy() {
            this._handlers = null;
        }

        /**
         * APIMethod: one
         * 单次触发绑定，dispatch后销毁。
         *
         * Parameters:
         * event - {String} 事件名。
         * handler - {Boolean} 响应函数。
         * context - {Object} context。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Eventful>} this。
         */

    }, {
        key: 'one',
        value: function one(event, handler, context) {
            var _h = this._handlers;

            if (!handler || !event) {
                return this;
            }

            if (!_h[event]) {
                _h[event] = [];
            }

            _h[event].push({
                h: handler,
                one: true,
                ctx: context || this
            });

            return this;
        }

        /**
         * APIMethod: bind
         * 绑定事件。
         *
         * Parameters:
         * event - {String} 事件名。
         * handler - {Boolean} 事件处理函数。
         * context - {Object} context。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Eventful>} this。
         */

    }, {
        key: 'bind',
        value: function bind(event, handler, context) {
            var _h = this._handlers;

            if (!handler || !event) {
                return this;
            }

            if (!_h[event]) {
                _h[event] = [];
            }

            _h[event].push({
                h: handler,
                one: false,
                ctx: context || this
            });

            return this;
        }

        /**
         * APIMethod: unbind
         * 解绑事件。
         *
         * Parameters:
         * event - {String} 事件名。
         * handler - {Boolean} 事件处理函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Eventful>} this。
         */

    }, {
        key: 'unbind',
        value: function unbind(event, handler) {
            var _h = this._handlers;

            if (!event) {
                this._handlers = {};
                return this;
            }

            if (handler) {
                if (_h[event]) {
                    var newList = [];
                    for (var i = 0, l = _h[event].length; i < l; i++) {
                        if (_h[event][i]['h'] != handler) {
                            newList.push(_h[event][i]);
                        }
                    }
                    _h[event] = newList;
                }

                if (_h[event] && _h[event].length === 0) {
                    delete _h[event];
                }
            } else {
                delete _h[event];
            }

            return this;
        }

        /**
         * APIMethod: dispatch
         * 事件分发。
         *
         * Parameters:
         * type - {String} 事件类型。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Eventful>} this。
         */

    }, {
        key: 'dispatch',
        value: function dispatch(type) {
            if (this._handlers[type]) {
                var args = arguments;
                var argLen = args.length;

                if (argLen > 3) {
                    args = Array.prototype.slice.call(args, 1);
                }

                var _h = this._handlers[type];
                var len = _h.length;
                for (var i = 0; i < len;) {
                    // Optimize advise from backbone
                    switch (argLen) {
                        case 1:
                            _h[i]['h'].call(_h[i]['ctx']);
                            break;
                        case 2:
                            _h[i]['h'].call(_h[i]['ctx'], args[1]);
                            break;
                        case 3:
                            _h[i]['h'].call(_h[i]['ctx'], args[1], args[2]);
                            break;
                        default:
                            // have more than 2 given arguments
                            _h[i]['h'].apply(_h[i]['ctx'], args);
                            break;
                    }

                    if (_h[i]['one']) {
                        _h.splice(i, 1);
                        len--;
                    } else {
                        i++;
                    }
                }
            }

            return this;
        }

        /**
         * APIMethod: dispatchWithContext
         * 带有context的事件分发, 最后一个参数是事件回调的 context。
         *
         * Parameters:
         * type - {String} 事件类型。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Eventful>} this。
         */

    }, {
        key: 'dispatchWithContext',
        value: function dispatchWithContext(type) {
            if (this._handlers[type]) {
                var args = arguments;
                var argLen = args.length;

                if (argLen > 4) {
                    args = Array.prototype.slice.call(args, 1, args.length - 1);
                }
                var ctx = args[args.length - 1];

                var _h = this._handlers[type];
                var len = _h.length;
                for (var i = 0; i < len;) {
                    // Optimize advise from backbone
                    switch (argLen) {
                        case 1:
                            _h[i]['h'].call(ctx);
                            break;
                        case 2:
                            _h[i]['h'].call(ctx, args[1]);
                            break;
                        case 3:
                            _h[i]['h'].call(ctx, args[1], args[2]);
                            break;
                        default:
                            // have more than 2 given arguments
                            _h[i]['h'].apply(ctx, args);
                            break;
                    }

                    if (_h[i]['one']) {
                        _h.splice(i, 1);
                        len--;
                    } else {
                        i++;
                    }
                }
            }

            return this;
        }
    }]);
    return Eventful;
}();

;
exports.Eventful = Eventful;

_Base.Zondy.LevelRenderer.Eventful = Eventful;

/***/ }),

/***/ "./overlay/levelRender/Group.js":
/*!**************************************!*\
  !*** ./overlay/levelRender/Group.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Group = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _Eventful = __webpack_require__(/*! ./Eventful */ "./overlay/levelRender/Eventful.js");

var _Transformable = __webpack_require__(/*! ./Transformable */ "./overlay/levelRender/Transformable.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Group
 * Group 是一个容器，可以插入子节点，Group 的变换也会被应用到子节点上。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Transformable>
 *
 * (code)
 *     var g = new Zondy.LevelRenderer.Group();
 *     var Circle = new Zondy.LevelRenderer.Shape.Circle();
 *     g.position[0] = 100;
 *     g.position[1] = 100;
 *     g.addChild(new Circle({
 *         style: {
 *             x: 100,
 *             y: 100,
 *             r: 20,
 *             brushType: 'fill'
 *         }
 *     }));
 *     LR.addGroup(g);
 * (end)
 */

var Group = function (_mixin) {
    (0, _inherits3.default)(Group, _mixin);

    /**
     * Constructor: Zondy.LevelRenderer.Group
     * 构造函数。
     *
     * Parameters:
     * options - {Array} Group 的配置（options）项，可以是 Group 的自有属性，也可以是自定义的属性。
     *
     */
    function Group(options) {
        (0, _classCallCheck3.default)(this, Group);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Group.__proto__ || (0, _getPrototypeOf2.default)(Group)).call(this, options));

        options = options || {};
        /**
         * APIProperty: id
         * {String} Group 的唯一标识。
         */
        _this.id = null;

        /**
         * APIProperty: type
         * {Readonly{String}} 类型，默认值：'group'。
         */
        _this.type = 'group';

        //http://www.w3.org/TR/2dcontext/#clipping-region
        /**
         * APIProperty: clipShape
         * {String} 用于裁剪的图形(shape)，所有 Group 内的图形在绘制时都会被这个图形裁剪，该图形会继承 Group 的变换。
         *
         */
        _this.clipShape = null;

        /**
         * Property: _children
         * {Array}
         *
         */
        _this._children = [];

        /**
         * Property: _storage
         * {Array}
         *
         */
        _this._storage = null;

        /**
         * Property: __dirty
         * {Boolean} 默认值：true。
         *
         */
        _this.__dirty = true;

        /**
         * APIProperty: ignore
         * {Boolean} 是否忽略该 Group 及其所有子节点。默认值：false。
         *
         */
        _this.ignore = false;
        (0, _Util.extend)(_this, options);
        _this.id = _this.id || (0, _Util.newGuid)();
        _this.CLASS_NAME = "Zondy.LevelRenderer.Group";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Group, [{
        key: 'destroy',
        value: function destroy() {
            this.id = null;
            this.type = null;
            this.clipShape = null;
            this._children = null;
            this._storage = null;
            this.__dirty = null;
            this.ignore = null;

            (0, _get3.default)(Group.prototype.__proto__ || (0, _getPrototypeOf2.default)(Group.prototype), 'destroy', this).call(this);
        }

        /**
         * Method: children
         * 复制并返回一份新的包含所有儿子节点的数组。
         *
         * Returns:
         * {Array<Zondy.LevelRenderer.Shape>} 图形数组。
         */

    }, {
        key: 'children',
        value: function children() {
            return this._children.slice();
        }

        /**
         * APIMethod: childAt
         * 获取指定 index 的儿子节点。
         *
         * Parameters:
         * idx - {Number} 节点索引。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Shape>} 图形。
         */

    }, {
        key: 'childAt',
        value: function childAt(idx) {
            return this._children[idx];
        }

        /**
         * APIMethod: addChild
         * 添加子节点，可以是 Shape 或者 Group。
         *
         * Parameters:
         * child - {<Zondy.LevelRenderer.Shape>/<Zondy.LevelRenderer.Group>} 节点图形。
         *
         */
        // TODO Type Check

    }, {
        key: 'addChild',
        value: function addChild(child) {
            if (child == this) {
                return;
            }

            if (child.parent == this) {
                return;
            }
            if (child.parent) {
                child.parent.removeChild(child);
            }

            this._children.push(child);
            child.parent = this;

            if (this._storage && this._storage !== child._storage) {

                this._storage.addToMap(child);

                if (child instanceof Group) {
                    child.addChildrenToStorage(this._storage);
                }
            }
        }

        /**
         * APIMethod: removeChild
         * 移除子节点。
         *
         * Parameters:
         * child - {<Zondy.LevelRenderer.Shape>} 需要移除的子节点图形。
         *
         */

    }, {
        key: 'removeChild',
        value: function removeChild(child) {
            var idx = (0, _Util.indexOf)(this._children, child);

            this._children.splice(idx, 1);
            child.parent = null;

            if (this._storage) {

                this._storage.delFromMap(child.id);

                if (child instanceof Group) {
                    child.delChildrenFromStorage(this._storage);
                }
            }
        }

        /**
         * APIMethod: eachChild
         * 遍历所有子节点。
         *
         * Parameters:
         * cb - {Function} 回调函数。
         * context - {Object} 上下文。
         *
         */

    }, {
        key: 'eachChild',
        value: function eachChild(cb, context) {
            var haveContext = !!context;
            for (var i = 0; i < this._children.length; i++) {
                var child = this._children[i];
                if (haveContext) {
                    cb.call(context, child);
                } else {
                    cb(child);
                }
            }
        }

        /**
         * APIMethod: traverse
         * 深度优先遍历所有子孙节点。
         *
         * Parameters:
         * cb - {Function} 回调函数。
         * context - {Object} 上下文。
         *
         */

    }, {
        key: 'traverse',
        value: function traverse(cb, context) {
            var haveContext = !!context;
            for (var i = 0; i < this._children.length; i++) {
                var child = this._children[i];
                if (haveContext) {
                    cb.call(context, child);
                } else {
                    cb(child);
                }

                if (child.type === 'group') {
                    child.traverse(cb, context);
                }
            }
        }

        /**
         * Method: addChildrenToStorage
         * 把子图形添加到仓库。
         *
         * Parameters:
         * storage - {<Zondy.LevelRenderer.Storage>} 图形仓库。
         *
         */

    }, {
        key: 'addChildrenToStorage',
        value: function addChildrenToStorage(storage) {
            for (var i = 0; i < this._children.length; i++) {
                var child = this._children[i];
                storage.addToMap(child);
                if (child.type === 'group') {
                    child.addChildrenToStorage(storage);
                }
            }
        }

        /**
         * Method: delChildrenFromStorage
         * 从仓库把子图形删除。
         *
         * Parameters:
         * storage - {<Zondy.LevelRenderer.Storage>} 图形仓库。
         *
         */

    }, {
        key: 'delChildrenFromStorage',
        value: function delChildrenFromStorage(storage) {
            for (var i = 0; i < this._children.length; i++) {
                var child = this._children[i];
                storage.delFromMap(child.id);
                if (child.type === 'group') {
                    child.delChildrenFromStorage(storage);
                }
            }
        }

        /**
         * Method: modSelf。
         * 是否  修改。
         *
         */

    }, {
        key: 'modSelf',
        value: function modSelf() {
            this.__dirty = true;
        }
    }]);
    return Group;
}((0, _Util.mixin)(_Eventful.Eventful, _Transformable.Transformable));

;
exports.Group = Group;

_Base.Zondy.LevelRenderer.Group = Group;

/***/ }),

/***/ "./overlay/levelRender/Handler.js":
/*!****************************************!*\
  !*** ./overlay/levelRender/Handler.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Handler = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Eventful2 = __webpack_require__(/*! ./Eventful */ "./overlay/levelRender/Eventful.js");

var _Config = __webpack_require__(/*! ./Config */ "./overlay/levelRender/Config.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Handler
 * Handler 控制模块。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Eventful>
 */
var Handler = function (_Eventful) {
    (0, _inherits3.default)(Handler, _Eventful);

    /**
     * Constructor: Zondy.LevelRenderer.Handler
     * 构造函数。
     *
     * Parameters:
     * root - {HTMLElement} 绘图区域。
     * storage - {<Zondy.LevelRenderer.Storage>} Storage 实例。
     * painter - {<Zondy.LevelRenderer.Painter>} Painter 实例。
     *
     */
    function Handler(root, storage, painter) {
        (0, _classCallCheck3.default)(this, Handler);

        /**
         * Property: root
         * {HTMLElement} 绘图区域。
         *
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (Handler.__proto__ || (0, _getPrototypeOf2.default)(Handler)).call(this, root, storage, painter));

        _this.root = root;

        /**
         * Property: storage
         * {<Zondy.LevelRenderer.Storage>} Storage 实例。
         *
         */
        _this.storage = storage;

        /**
         * Property: painter
         * {<Zondy.LevelRenderer.Painter>} Painter 实例。
         *
         */
        _this.painter = painter;

        /**
         * Property: _lastX
         * {Number} 默认值：0。
         *
         */
        _this._lastX = 0;

        /**
         * Property: _lastY
         * {Number} 默认值：0。
         *
         */
        _this._lastY = 0;

        /**
         * Property: _mouseX
         * {Number} 默认值：0。
         *
         */
        _this._mouseX = 0;

        /**
         * Property: _mouseY
         * {Number} 默认值：0。
         *
         */
        _this._mouseY = 0;

        /**
         * Property: _findHover
         * {Function} 查找 Hover 图形。
         *
         */
        _this._findHover = null;

        /**
         * Property: _domHover
         * {Object} 高亮 DOM。
         *
         */
        _this._domHover = null;

        // 各种事件标识的私有变量
        // this._hasfound = false;              // 是否找到 hover 图形元素
        // this._lastHover = null;              // 最后一个 hover 图形元素
        // this._mouseDownTarget = null;
        // this._draggingTarget = null;         // 当前被拖拽的图形元素
        // this._isMouseDown = false;
        // this._isDragging = false;
        // this._lastMouseDownMoment;
        // this._lastTouchMoment;
        // this._lastDownButton;

        _this._findHover = bind3Arg(findHover, _this);
        _this._domHover = painter.getDomHover();

        _this.CLASS_NAME = "Zondy.LevelRenderer.Handler";
        var domHandlers = {
            /**
             * Method: resize
             * 窗口大小改变响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            resize: function resize(event) {
                event = event || window.event;
                this._lastHover = null;
                this._isMouseDown = 0;

                // 分发Zondy.LevelRenderer.Config.EVENT.RESIZE事件，global
                this.dispatch(_Config.Config.EVENT.RESIZE, event);
            },

            /**
             * Method: click
             * 点击响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            click: function click(event) {
                event = this._zrenderEventFixed(event);

                // 分发Zondy.LevelRenderer.Config.EVENT.CLICK事件
                var _lastHover = this._lastHover;
                if (_lastHover && _lastHover.clickable || !_lastHover) {

                    // 判断没有发生拖拽才触发click事件
                    if (this._clickThreshold < 10) {
                        this._dispatchAgency(_lastHover, _Config.Config.EVENT.CLICK, event);
                    }
                }

                this._mousemoveHandler(event);
            },

            /**
             * Method: dblclick
             * 双击响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            dblclick: function dblclick(event) {
                event = event || window.event;
                event = this._zrenderEventFixed(event);

                // 分发Zondy.LevelRenderer.Config.EVENT.DBLCLICK事件
                var _lastHover = this._lastHover;
                if (_lastHover && _lastHover.clickable || !_lastHover) {

                    // 判断没有发生拖拽才触发dblclick事件
                    if (this._clickThreshold < 5) {
                        this._dispatchAgency(_lastHover, _Config.Config.EVENT.DBLCLICK, event);
                    }
                }

                this._mousemoveHandler(event);
            },

            /**
             * Method: mousewheel
             * 鼠标滚轮响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            mousewheel: function mousewheel(event) {
                event = this._zrenderEventFixed(event);

                // http://www.sitepoint.com/html5-javascript-mouse-wheel/
                // https://developer.mozilla.org/en-US/docs/DOM/DOM_event_reference/mousewheel
                var delta = event.wheelDelta // Webkit
                || -event.detail; // Firefox
                var scale = delta > 0 ? 1.1 : 1 / 1.1;

                var layers = this.painter.getLayers();

                var needsRefresh = false;
                for (var z in layers) {
                    if (z !== 'hover') {
                        var layer = layers[z];
                        var pos = layer.position;
                        if (layer.zoomable) {
                            layer.__zoom = layer.__zoom || 1;
                            var newZoom = layer.__zoom;
                            newZoom *= scale;
                            newZoom = Math.max(Math.min(layer.maxZoom, newZoom), layer.minZoom);
                            scale = newZoom / layer.__zoom;
                            layer.__zoom = newZoom;
                            // Keep the mouse center when scaling
                            pos[0] -= (this._mouseX - pos[0]) * (scale - 1);
                            pos[1] -= (this._mouseY - pos[1]) * (scale - 1);
                            layer.scale[0] *= scale;
                            layer.scale[1] *= scale;
                            layer.dirty = true;
                            needsRefresh = true;
                        }
                    }
                }
                if (needsRefresh) {
                    this.painter.refresh();
                }

                // 分发Zondy.LevelRenderer.Config.EVENT.MOUSEWHEEL事件
                this._dispatchAgency(this._lastHover, _Config.Config.EVENT.MOUSEWHEEL, event);
                this._mousemoveHandler(event);
            },

            /**
             * Method: mousemove
             * 鼠标（手指）移动响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            mousemove: function mousemove(event) {
                // 拖拽不触发click事件
                this._clickThreshold++;

                event = this._zrenderEventFixed(event);
                this._lastX = this._mouseX;
                this._lastY = this._mouseY;
                this._mouseX = _SUtil.SUtil.Util_event.getX(event);
                this._mouseY = _SUtil.SUtil.Util_event.getY(event);
                var dx = this._mouseX - this._lastX;
                var dy = this._mouseY - this._lastY;

                // 避免手抖点击误认为拖拽
                // if (this._mouseX - this._lastX > 1 || this._mouseY - this._lastY > 1) {
                this._processDragStart(event);
                // }
                this._hasfound = 0;
                this._event = event;

                this._iterateAndFindHover();

                // 找到的在迭代函数里做了处理，没找到得在迭代完后处理
                if (!this._hasfound) {
                    // 过滤首次拖拽产生的mouseout和dragLeave
                    if (!this._draggingTarget || this._lastHover && this._lastHover != this._draggingTarget) {

                        this._processOutShape(event);
                        this._processDragLeave(event);
                    }

                    this._lastHover = null;
                    this.storage.delHover();
                    this.painter.clearHover();
                }

                // set cursor for root element
                var cursor = '';

                // 如果存在拖拽中元素，被拖拽的图形元素最后addHover
                if (this._draggingTarget) {
                    this.storage.drift(this._draggingTarget.id, dx, dy);
                    this._draggingTarget.modSelf();
                    this.storage.addHover(this._draggingTarget);
                } else if (this._isMouseDown) {
                    // Layer dragging
                    var layers = this.painter.getLayers();

                    var needsRefresh = false;
                    for (var z in layers) {
                        if (z !== 'hover') {
                            var layer = layers[z];
                            if (layer.panable) {
                                // PENDING
                                cursor = 'move';
                                // Keep the mouse center when scaling
                                layer.position[0] += dx;
                                layer.position[1] += dy;
                                needsRefresh = true;
                                layer.dirty = true;
                            }
                        }
                    }
                    if (needsRefresh) {
                        this.painter.refresh();
                    }
                }

                if (this._draggingTarget || this._hasfound && this._lastHover.draggable) {
                    cursor = 'move';
                } else if (this._hasfound && this._lastHover.clickable) {
                    cursor = 'pointer';
                }
                this.root.style.cursor = cursor;

                // 分发Zondy.LevelRenderer.Config.EVENT.MOUSEMOVE事件
                this._dispatchAgency(this._lastHover, _Config.Config.EVENT.MOUSEMOVE, event);

                if (this._draggingTarget || this._hasfound || this.storage.hasHoverShape()) {
                    this.painter.refreshHover();
                }
            },

            /**
             * Method: mouseout
             * 鼠标（手指）离开响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            mouseout: function mouseout(event) {
                event = this._zrenderEventFixed(event);

                var element = event.toElement || event.relatedTarget;
                if (element != this.root) {
                    while (element && element.nodeType != 9) {
                        // 忽略包含在root中的dom引起的mouseOut
                        if (element == this.root) {
                            this._mousemoveHandler(event);
                            return;
                        }

                        element = element.parentNode;
                    }
                }

                event.zrenderX = this._lastX;
                event.zrenderY = this._lastY;
                this.root.style.cursor = '';
                this._isMouseDown = 0;

                this._processOutShape(event);
                this._processDrop(event);
                this._processDragEnd(event);

                this.painter.refreshHover();

                this.dispatch(_Config.Config.EVENT.GLOBALOUT, event);
            },

            /**
             * Method: mousedown
             * 鼠标（手指）按下响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            mousedown: function mousedown(event) {
                // 重置 clickThreshold
                this._clickThreshold = 0;

                if (this._lastDownButton == 2) {
                    this._lastDownButton = event.button;
                    this._mouseDownTarget = null;
                    // 仅作为关闭右键菜单使用
                    return;
                }

                this._lastMouseDownMoment = new Date();
                event = this._zrenderEventFixed(event);
                this._isMouseDown = 1;

                // 分发Zondy.LevelRenderer.Config.EVENT.MOUSEDOWN事件
                this._mouseDownTarget = this._lastHover;
                this._dispatchAgency(this._lastHover, _Config.Config.EVENT.MOUSEDOWN, event);
                this._lastDownButton = event.button;
            },

            /**
             * Method: mouseup
             * 鼠标（手指）抬起响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            mouseup: function mouseup(event) {
                event = this._zrenderEventFixed(event);
                this.root.style.cursor = '';
                this._isMouseDown = 0;
                this._mouseDownTarget = null;

                // 分发Zondy.LevelRenderer.Config.EVENT.MOUSEUP事件
                this._dispatchAgency(this._lastHover, _Config.Config.EVENT.MOUSEUP, event);
                this._processDrop(event);
                this._processDragEnd(event);
            },

            /**
             * Method: touchstart
             * Touch 开始响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            touchstart: function touchstart(event) {
                // SUtil.Util_event.stop(event);// 阻止浏览器默认事件，重要
                event = this._zrenderEventFixed(event, true);
                this._lastTouchMoment = new Date();

                // 平板补充一次findHover
                this._mobildFindFixed(event);
                this._mousedownHandler(event);
            },

            /**
             * Method: touchmove
             * Touch 移动响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            touchmove: function touchmove(event) {
                event = this._zrenderEventFixed(event, true);
                this._mousemoveHandler(event);
                if (this._isDragging) {
                    _SUtil.SUtil.Util_event.stop(event); // 阻止浏览器默认事件，重要
                }
            },

            /**
             * Method: touchend
             * Touch 结束响应函数。
             *
             * Parameters:
             * event - {Event} event。
             *
             */
            touchend: function touchend(event) {
                // SUtil.Util_event.stop(event);// 阻止浏览器默认事件，重要
                event = this._zrenderEventFixed(event, true);
                this._mouseupHandler(event);

                var now = new Date();
                if (now - this._lastTouchMoment < _Config.Config.EVENT.touchClickDelay) {
                    this._mobildFindFixed(event);
                    this._clickHandler(event);
                    if (now - this._lastClickMoment < _Config.Config.EVENT.touchClickDelay / 2) {
                        this._dblclickHandler(event);
                        if (this._lastHover && this._lastHover.clickable) {
                            _SUtil.SUtil.Util_event.stop(event); // 阻止浏览器默认事件，重要
                        }
                    }
                    this._lastClickMoment = now;
                }
                this.painter.clearHover();
            }
        };

        initDomHandler(_this);

        // 初始化，事件绑定，支持的所有事件都由如下原生事件计算得来
        if (window.addEventListener) {
            window.addEventListener('resize', _this._resizeHandler);

            if (_SUtil.SUtil.Util_env.os.tablet || _SUtil.SUtil.Util_env.os.phone) {
                // mobile支持
                root.addEventListener('touchstart', _this._touchstartHandler);
                root.addEventListener('touchmove', _this._touchmoveHandler);
                root.addEventListener('touchend', _this._touchendHandler);
            } else {
                // mobile的click/move/up/down自己模拟
                root.addEventListener('click', _this._clickHandler);
                root.addEventListener('dblclick', _this._dblclickHandler);
                root.addEventListener('mousewheel', _this._mousewheelHandler);
                root.addEventListener('mousemove', _this._mousemoveHandler);
                root.addEventListener('mousedown', _this._mousedownHandler);
                root.addEventListener('mouseup', _this._mouseupHandler);
            }
            root.addEventListener('DOMMouseScroll', _this._mousewheelHandler);
            root.addEventListener('mouseout', _this._mouseoutHandler);
        } else {
            window.attachEvent('onresize', _this._resizeHandler);

            root.attachEvent('onclick', _this._clickHandler);
            //root.attachEvent('ondblclick ', this._dblclickHandler);
            root.ondblclick = _this._dblclickHandler;
            root.attachEvent('onmousewheel', _this._mousewheelHandler);
            root.attachEvent('onmousemove', _this._mousemoveHandler);
            root.attachEvent('onmouseout', _this._mouseoutHandler);
            root.attachEvent('onmousedown', _this._mousedownHandler);
            root.attachEvent('onmouseup', _this._mouseupHandler);
        }

        // 辅助函数 start
        /**
         * Method: bind1Arg
         * bind 一个参数的 function。
         *
         * Parameters:
         * handler - {Function} 要 bind 的 function。
         * context - {Object} 运行时 this 环境。
         *
         * Returns:
         * {Function}
         */
        function bind1Arg(handler, context) {
            return function (e) {
                return handler.call(context, e);
            };
        }

        /*
         // bind 两个参数的 function
         function bind2Arg(handler, context) {
         return function (arg1, arg2) {
         return handler.call(context, arg1, arg2);
         };
         }
         */

        // bind 三个参数的 function
        function bind3Arg(handler, context) {
            return function (arg1, arg2, arg3) {
                return handler.call(context, arg1, arg2, arg3);
            };
        }

        /**
         * Method: initDomHandler
         * 为控制类实例初始化 dom 事件处理函数。
         *
         * Parameters:
         * instance - {<Zondy.LevelRenderer.Handler>} 控制类实例 。
         *
         * Returns:
         * {Function}
         */
        function initDomHandler(instance) {
            var domHandlerNames = ['resize', 'click', 'dblclick', 'mousewheel', 'mousemove', 'mouseout', 'mouseup', 'mousedown', 'touchstart', 'touchend', 'touchmove'];

            var len = domHandlerNames.length;
            while (len--) {
                var name = domHandlerNames[len];
                instance['_' + name + 'Handler'] = bind1Arg(domHandlers[name], instance);
            }
        }

        /**
         * Method: findHover
         * 迭代函数，查找 hover 到的图形元素并即时做些事件分发。
         *
         * Parameters:
         * shape - {Object} 图形。
         * x - {Number} 鼠标 x。
         * y - {Number} 鼠标 y。
         *
         * Returns:
         * {Boolean} 是否找到图形。
         *
         */
        function findHover(shape, x, y) {
            var me = this;
            if (me._draggingTarget && me._draggingTarget.id == shape.id || // 迭代到当前拖拽的图形上
            shape.isSilent() // 打酱油的路过，啥都不响应的shape~
            ) {
                    return false;
                }

            var event = me._event;
            if (shape.isCover(x, y)) {
                if (shape.hoverable) {
                    // SMIC-修改 - start
                    if (shape.isHoverByRefDataID && shape.isHoverByRefDataID === true) {
                        if (shape.refDataID) {
                            var fid = shape.refDataID;
                            //me.painter.clearHover();
                            //me.storage.delHover();

                            var hoverGroup = null;
                            if (shape.refDataHoverGroup) {
                                hoverGroup = shape.refDataHoverGroup;
                            }

                            //查找同一个用户数据 feature 的所有图形
                            var shapeList = me.storage._shapeList;
                            for (var i = 0, len = shapeList.length; i < len; i++) {
                                var si = shapeList[i];
                                if (si.refDataID && fid === si.refDataID) {
                                    if (hoverGroup) {
                                        if (si.refDataHoverGroup && hoverGroup === si.refDataHoverGroup) {
                                            me.storage.addHover(si);
                                        }
                                    } else {
                                        me.storage.addHover(si);
                                    }
                                }
                            }
                        }
                    } else {
                        me.storage.addHover(shape);
                    }
                    //初始代码：
                    //  me.storage.addHover(shape);
                    // SMIC-修改 - end
                }
                // 查找是否在 clipShape 中
                var p = shape.parent;
                while (p) {
                    if (p.clipShape && !p.clipShape.isCover(me._mouseX, me._mouseY)) {
                        // 已经被祖先 clip 掉了
                        return false;
                    }
                    p = p.parent;
                }

                if (me._lastHover != shape) {
                    me._processOutShape(event);
                    me._processDragLeave(event);
                    me._lastHover = shape;
                    me._processDragEnter(event);
                }

                me._processOverShape(event);
                me._processDragOver(event);

                me._hasfound = 1;

                return true; // 找到则中断迭代查找
            }

            return false;
        }

        // 辅助函数 end
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Handler, [{
        key: 'destroy',
        value: function destroy() {
            this.dispose();
            this._lastX = null;
            this._lastY = null;
            this._mouseX = null;
            this._mouseY = null;
            this._findHover = null;

            _Eventful2.Eventful.prototype.destroy.apply(this, arguments);
        }

        /**
         * APIMethod: on
         * 自定义事件绑定。
         *
         * Parameters:
         * eventName - {string} 事件名称，resize、hover、drag 等。
         * handler - {Function} 响应函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Handler>} this。
         */

    }, {
        key: 'on',
        value: function on(eventName, handler) {
            this.bind(eventName, handler);
            return this;
        }

        /**
         * APIMethod: un
         * 自定义事件解除绑定。
         *
         * Parameters:
         * eventName - {string} 事件名称，resize、hover、drag 等。
         * handler - {Function} 响应函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Handler>} this。
         */

    }, {
        key: 'un',
        value: function un(eventName, handler) {
            this.unbind(eventName, handler);
            return this;
        }

        /**
         * APIMethod: trigger
         * 事件触发。
         *
         * Parameters:
         * eventName - {string} 事件名称，resize、hover、drag 等。
         * eventArgs - {event} dom事件对象。
         *
         */

    }, {
        key: 'trigger',
        value: function trigger(eventName, eventArgs) {
            var EVENT = _Config.Config.EVENT;
            switch (eventName) {
                case EVENT.RESIZE:
                case EVENT.CLICK:
                case EVENT.DBLCLICK:
                case EVENT.MOUSEWHEEL:
                case EVENT.MOUSEMOVE:
                case EVENT.MOUSEDOWN:
                case EVENT.MOUSEUP:
                case EVENT.MOUSEOUT:
                    this['_' + eventName + 'Handler'](eventArgs);
                    break;
            }
        }

        /**
         * APIMethod: dispose
         * 释放，解绑所有事件。
         */

    }, {
        key: 'dispose',
        value: function dispose() {
            var root = this.root;

            if (window.removeEventListener) {
                window.removeEventListener('resize', this._resizeHandler);

                if (_SUtil.SUtil.Util_env.os.tablet || _SUtil.SUtil.Util_env.os.phone) {
                    // mobile支持
                    root.removeEventListener('touchstart', this._touchstartHandler);
                    root.removeEventListener('touchmove', this._touchmoveHandler);
                    root.removeEventListener('touchend', this._touchendHandler);
                } else {
                    // mobile的click自己模拟
                    root.removeEventListener('click', this._clickHandler);
                    root.removeEventListener('dblclick', this._dblclickHandler);
                    root.removeEventListener('mousewheel', this._mousewheelHandler);
                    root.removeEventListener('mousemove', this._mousemoveHandler);
                    root.removeEventListener('mousedown', this._mousedownHandler);
                    root.removeEventListener('mouseup', this._mouseupHandler);
                }
                root.removeEventListener('DOMMouseScroll', this._mousewheelHandler);
                root.removeEventListener('mouseout', this._mouseoutHandler);
            } else {
                window.detachEvent('onresize', this._resizeHandler);

                root.detachEvent('onclick', this._clickHandler);
                root.detachEvent('dblclick', this._dblclickHandler);
                root.detachEvent('onmousewheel', this._mousewheelHandler);
                root.detachEvent('onmousemove', this._mousemoveHandler);
                root.detachEvent('onmouseout', this._mouseoutHandler);
                root.detachEvent('onmousedown', this._mousedownHandler);
                root.detachEvent('onmouseup', this._mouseupHandler);
            }

            this.root = null;
            this._domHover = null;
            this.storage = null;
            this.painter = null;

            this.un();
        }

        /**
         * Method: _processDragStart
         * 拖拽开始。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_processDragStart',
        value: function _processDragStart(event) {
            var _lastHover = this._lastHover;

            if (this._isMouseDown && _lastHover && _lastHover.draggable && !this._draggingTarget && this._mouseDownTarget == _lastHover) {
                // 拖拽点击生效时长阀门，某些场景需要降低拖拽敏感度
                if (_lastHover.dragEnableTime && new Date() - this._lastMouseDownMoment < _lastHover.dragEnableTime) {
                    return;
                }

                var _draggingTarget = _lastHover;
                this._draggingTarget = _draggingTarget;
                this._isDragging = 1;

                _draggingTarget.invisible = true;
                this.storage.mod(_draggingTarget.id);

                // 分发 Config.EVENT.DRAGSTART事件
                this._dispatchAgency(_draggingTarget, _Config.Config.EVENT.DRAGSTART, event);
                this.painter.refresh();
            }
        }

        /**
         * Method: _processDragEnter
         * 拖拽进入目标元素。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_processDragEnter',
        value: function _processDragEnter(event) {
            if (this._draggingTarget) {
                // 分发Zondy.LevelRenderer.Config.EVENT.DRAGENTER事件
                this._dispatchAgency(this._lastHover, _Config.Config.EVENT.DRAGENTER, event, this._draggingTarget);
            }
        }

        /**
         * Method: _processDragOver
         * 拖拽在目标元素上移动。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_processDragOver',
        value: function _processDragOver(event) {
            if (this._draggingTarget) {
                // 分发Zondy.LevelRenderer.Config.EVENT.DRAGOVER事件
                this._dispatchAgency(this._lastHover, _Config.Config.EVENT.DRAGOVER, event, this._draggingTarget);
            }
        }

        /**
         * Method: _processDragLeave
         * 拖拽离开目标元素。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_processDragLeave',
        value: function _processDragLeave(event) {
            if (this._draggingTarget) {
                // 分发Zondy.LevelRenderer.Config.EVENT.DRAGLEAVE事件
                this._dispatchAgency(this._lastHover, _Config.Config.EVENT.DRAGLEAVE, event, this._draggingTarget);
            }
        }

        /**
         * Method: _processDrop
         * 拖拽在目标元素上完成。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_processDrop',
        value: function _processDrop(event) {
            if (this._draggingTarget) {
                this._draggingTarget.invisible = false;
                this.storage.mod(this._draggingTarget.id);
                this.painter.refresh();

                // 分发Zondy.LevelRenderer.Config.EVENT.DROP事件
                this._dispatchAgency(this._lastHover, _Config.Config.EVENT.DROP, event, this._draggingTarget);
            }
        }

        /**
         * Method: _processDragEnd
         * 拖拽结束。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_processDragEnd',
        value: function _processDragEnd(event) {
            if (this._draggingTarget) {
                // 分发Zondy.LevelRenderer.Config.EVENT.DRAGEND事件
                this._dispatchAgency(this._draggingTarget, _Config.Config.EVENT.DRAGEND, event);

                this._lastHover = null;
            }

            this._isDragging = 0;
            this._draggingTarget = null;
        }

        /**
         * Method: _processOverShape
         * 鼠标在某个图形元素上移动。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_processOverShape',
        value: function _processOverShape(event) {
            // 分发Zondy.LevelRenderer.Config.EVENT.MOUSEOVER事件
            this._dispatchAgency(this._lastHover, _Config.Config.EVENT.MOUSEOVER, event);
        }

        /**
         * Method: _processOutShape
         * 鼠标离开某个图形元素。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_processOutShape',
        value: function _processOutShape(event) {
            // 分发Zondy.LevelRenderer.Config.EVENT.MOUSEOUT事件
            this._dispatchAgency(this._lastHover, _Config.Config.EVENT.MOUSEOUT, event);
        }

        /**
         * Method: _dispatchAgency
         * 鼠标离开某个图形元素。
         *
         * Parameters:
         * targetShape - {Object} 目标图形元素。
         * eventName - {Object} 事件名称。
         * event - {Object} 事件对象。
         * draggedShape - {Object} 拖拽事件特有，当前被拖拽图形元素。
         *
         */

    }, {
        key: '_dispatchAgency',
        value: function _dispatchAgency(targetShape, eventName, event, draggedShape) {
            var eventHandler = 'on' + eventName;
            var eventPacket = {
                type: eventName,
                event: event,
                target: targetShape,
                cancelBubble: false
            };

            var el = targetShape;

            if (draggedShape) {
                eventPacket.dragged = draggedShape;
            }

            while (el) {
                el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler](eventPacket));
                el.dispatch(eventName, eventPacket);

                el = el.parent;

                if (eventPacket.cancelBubble) {
                    break;
                }
            }

            if (targetShape) {
                // 冒泡到顶级 zrender 对象
                if (!eventPacket.cancelBubble) {
                    this.dispatch(eventName, eventPacket);
                }
            } else if (!draggedShape) {
                // 无hover目标，无拖拽对象，原生事件分发
                this.dispatch(eventName, {
                    type: eventName,
                    event: event
                });
            }
        }

        /**
         * Method: _iterateAndFindHover
         * 迭代寻找 hover shape。
         *
         */

    }, {
        key: '_iterateAndFindHover',
        value: function _iterateAndFindHover() {
            var invTransform = _SUtil.SUtil.Util_matrix.create();

            var list = this.storage.getShapeList();
            var currentZLevel;
            var currentLayer;
            var tmp = [0, 0];
            for (var i = list.length - 1; i >= 0; i--) {
                var shape = list[i];

                if (currentZLevel !== shape.zlevel) {
                    currentLayer = this.painter.getLayer(shape.zlevel, currentLayer);
                    tmp[0] = this._mouseX;
                    tmp[1] = this._mouseY;

                    if (currentLayer.needTransform) {
                        _SUtil.SUtil.Util_matrix.invert(invTransform, currentLayer.transform);
                        _SUtil.SUtil.Util_vector.applyTransform(tmp, tmp, invTransform);
                    }
                }

                if (this._findHover(shape, tmp[0], tmp[1])) {
                    break;
                }
            }
        }

        /**
         * Method: _mobildFindFixed
         * touch 有指尖错觉，四向尝试，让touch上的点击更好触发事件。
         *
         * Parameters:
         * event - {Object} 事件对象。
         *
         */

    }, {
        key: '_mobildFindFixed',
        value: function _mobildFindFixed(event) {
            // touch指尖错觉的尝试偏移量配置
            var MOBILE_TOUCH_OFFSETS = [{ x: 10 }, { x: -20 }, { x: 10, y: 10 }, { y: -20 }];

            this._lastHover = null;
            this._mouseX = event.zrenderX;
            this._mouseY = event.zrenderY;

            this._event = event;

            this._iterateAndFindHover();

            for (var i = 0; !this._lastHover && i < MOBILE_TOUCH_OFFSETS.length; i++) {
                var offset = MOBILE_TOUCH_OFFSETS[i];
                offset.x && (this._mouseX += offset.x);
                offset.y && (this._mouseX += offset.y);

                this._iterateAndFindHover();
            }

            if (this._lastHover) {
                event.zrenderX = this._mouseX;
                event.zrenderY = this._mouseY;
            }
        }

        /**
         * Method: _zrenderEventFixed
         * 如果存在第三方嵌入的一些dom触发的事件，或touch事件，需要转换一下事件坐标 。
         *
         * Parameters:
         * event - {Object} 事件。
         * isTouch - {Boolean} 是否触摸。
         *
         */

    }, {
        key: '_zrenderEventFixed',
        value: function _zrenderEventFixed(event, isTouch) {
            if (event.zrenderFixed) {
                return event;
            }

            if (!isTouch) {
                event = event || window.event;
                // 进入对象优先~
                var target = event.toElement || event.relatedTarget || event.srcElement || event.target;

                if (target && target != this._domHover) {
                    event.zrenderX = (typeof event.offsetX != 'undefined' ? event.offsetX : event.layerX) + target.offsetLeft;
                    event.zrenderY = (typeof event.offsetY != 'undefined' ? event.offsetY : event.layerY) + target.offsetTop;
                }
            } else {
                var touch = event.type != 'touchend' ? event.targetTouches[0] : event.changedTouches[0];
                if (touch) {
                    var rBounding = this.root.getBoundingClientRect();
                    // touch事件坐标是全屏的~
                    event.zrenderX = touch.clientX - rBounding.left;
                    event.zrenderY = touch.clientY - rBounding.top;
                }
            }

            event.zrenderFixed = 1;
            return event;
        }

        // SMIC-方法扩展 - start
        /**
         * Method: getLastHoverOne
         * 获取单个高亮图形。
         *
         */

    }, {
        key: 'getLastHoverOne',
        value: function getLastHoverOne() {
            if (this._lastHover) {
                return this._lastHover;
            }
            return null;
        }

        // SMIC-方法扩展 - end

    }]);
    return Handler;
}(_Eventful2.Eventful);

;
exports.Handler = Handler;

_Base.Zondy.LevelRenderer.Handler = Handler;

/***/ }),

/***/ "./overlay/levelRender/Http.js":
/*!*************************************!*\
  !*** ./overlay/levelRender/Http.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Http = undefined;

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Http
 * LevelRenderer 工具-Http
 *
 */
var Http = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Tool.Http
     * 构造函数。
     *
     */
    function Http() {
        (0, _classCallCheck3.default)(this, Http);

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Http";
    }

    /**
     * Method: get
     * get请求。
     *
     * Parameters:
     * url - {string|IHTTPGetOption}
     * onsuccess - {Function}
     * onerror - {Function}
     * opts - {Object} 额外参数
     *
     * Returns:
     * {Number} cos 值。
     */


    (0, _createClass3.default)(Http, [{
        key: 'get',
        value: function get(url, onsuccess, onerror) {
            if ((typeof url === 'undefined' ? 'undefined' : (0, _typeof3.default)(url)) === 'object') {
                var obj = url;
                url = obj.url;
                onsuccess = obj.onsuccess;
                onerror = obj.onerror;
            }
            var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new window.ActiveXObject('Microsoft.XMLHTTP');
            xhr.open('GET', url, true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) {
                        onsuccess && onsuccess(xhr.responseText);
                    } else {
                        onerror && onerror();
                    }
                    xhr.onreadystatechange = new Function();
                    xhr = null;
                }
            };

            xhr.send(null);
        }
    }]);
    return Http;
}();

;
exports.Http = Http;

_Base.Zondy.LevelRenderer.Tool.Http = Http;

/***/ }),

/***/ "./overlay/levelRender/LevelRenderer.js":
/*!**********************************************!*\
  !*** ./overlay/levelRender/LevelRenderer.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LevelRenderer = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _Render = __webpack_require__(/*! ./Render */ "./overlay/levelRender/Render.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * LevelRenderer 渲染器。
 *
 */
var LevelRenderer = function () {
    function LevelRenderer() {
        (0, _classCallCheck3.default)(this, LevelRenderer);

        /**
         * Property: _instances
         * {Object} LevelRenderer 实例 map 索引。
         */
        LevelRenderer._instances = {};
        LevelRenderer.Tool = {};
        this.CLASS_NAME = "Zondy.LevelRenderer";
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(LevelRenderer, [{
        key: 'destroy',
        value: function destroy() {
            this.dispose();
        }

        /**
         * APIMethod: init
         * 创建 LevelRenderer 实例。
         * Parameters:
         * dom - {HTMLElement} 绘图容器。
         *
         * Returns:
         * {<Render>} Render实例。
         */

    }, {
        key: 'init',
        value: function init(dom) {
            var zr = new _Render.Render((0, _Util.newGuid)(), dom);
            LevelRenderer._instances[zr.id] = zr;
            return zr;
        }

        /**
         * APIMethod: dispose
         * LevelRenderer 实例销毁。
         *
         *
         * Parameters:
         * zr - {<Render>} ZRender对象，不传则销毁全部。
         *
         * Returns:
         * {<Zondy.LevelRenderer>} this。
         */

    }, {
        key: 'dispose',
        value: function dispose(zr) {
            if (zr) {
                zr.dispose();
                this.delInstance(zr.id);
            } else {
                for (var key in LevelRenderer._instances) {
                    LevelRenderer._instances[key].dispose();
                }
                LevelRenderer._instances = {};
            }

            return this;
        }

        /**
         * APIMethod: getInstance
         * 获取 Render 实例。
         *
         * Parameters:
         * id - {String} ZRender对象索引。
         * Returns:
         * {<Render>} Render 实例。
         */

    }, {
        key: 'getInstance',
        value: function getInstance(id) {
            return LevelRenderer._instances[id];
        }

        /**
         * Parameters:
         * id - {String} Render 对象索引。
         * Returns:
         * {<Zondy.LevelRenderer>} this。
         */

    }, {
        key: 'delInstance',
        value: function delInstance(id) {
            delete LevelRenderer._instances[id];
            return this;
        }
    }]);
    return LevelRenderer;
}();

;
exports.LevelRenderer = LevelRenderer;

_Base.Zondy.LevelRenderer = LevelRenderer;

/***/ }),

/***/ "./overlay/levelRender/Math.js":
/*!*************************************!*\
  !*** ./overlay/levelRender/Math.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Math = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Math
 * LevelRenderer 工具-数学辅助类
 *
 */
var Math = function () {

  /**
   * Constructor: Zondy.LevelRenderer.Tool.Math
   * 构造函数。
   *
   */
  function Math() {
    (0, _classCallCheck3.default)(this, Math);

    /**
     * Property: _radians
     * {Number} 角度与弧度转化参数
     */
    this._radians = window.Math.PI / 180;

    this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Math";
  }

  /**
   * APIMethod: sin
   * 正弦函数。
   *
   * Parameters:
   * angle - {Number} 弧度（角度）参数。
   * isDegrees - {Boolean} angle参数是否为角度计算，默认为false，angle为以弧度计量的角度。
   *
   * Returns:
   * {Number} sin 值。
   */


  (0, _createClass3.default)(Math, [{
    key: "sin",
    value: function sin(angle, isDegrees) {
      return window.Math.sin(isDegrees ? angle * this._radians : angle);
    }

    /**
     * APIMethod: cos
     * 正弦函数。
     *
     * Parameters:
     * angle - {Number} 弧度（角度）参数。
     * isDegrees - {Boolean} angle参数是否为角度计算，默认为false，angle为以弧度计量的角度。
     *
     * Returns:
     * {Number} cos 值。
     */

  }, {
    key: "cos",
    value: function cos(angle, isDegrees) {
      return window.Math.cos(isDegrees ? angle * this._radians : angle);
    }

    /**
     * APIMethod: degreeToRadian
     * 角度转弧度。
     *
     * Parameters:
     * angle - {Number} 角度参数。
     *
     * Returns:
     * {Number} 弧度值。
     */

  }, {
    key: "degreeToRadian",
    value: function degreeToRadian(angle) {
      return angle * this._radians;
    }

    /**
     * APIMethod: radianToDegree
     * 弧度转角度。
     *
     * Parameters:
     * angle - {Number} 弧度参数。
     *
     * Returns:
     * {Number} 角度。
     */

  }, {
    key: "radianToDegree",
    value: function radianToDegree(angle) {
      return angle / this._radians;
    }
  }]);
  return Math;
}();

;
exports.Math = Math;

_Base.Zondy.LevelRenderer.Tool.Math = Math;

/***/ }),

/***/ "./overlay/levelRender/Matrix.js":
/*!***************************************!*\
  !*** ./overlay/levelRender/Matrix.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Matrix = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Matrix
 * LevelRenderer 工具-3x2矩阵操作类
 *
 */
var Matrix = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Tool.Matrix
     * 构造函数。
     *
     */
    function Matrix() {
        (0, _classCallCheck3.default)(this, Matrix);

        /**
         * Property: ArrayCtor
         * {Object} 数组类型控制
         */
        this.ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Matrix";
    }

    /**
     * APIMethod: create
     * 创建一个单位矩阵。
     *
     * Returns:
     * {Float32Array|Array.<Number>} 单位矩阵。
     */


    (0, _createClass3.default)(Matrix, [{
        key: 'create',
        value: function create() {
            var ArrayCtor = this.ArrayCtor;

            var out = new ArrayCtor(6);
            this.identity(out);

            return out;
        }

        /**
         * APIMethod: identity
         * 设置矩阵为单位矩阵。
         *
         * Parameters:
         * out - {Float32Array|Array.<Number>} 单位矩阵。
         *
         * Returns:
         * {Float32Array|Array.<Number>} 单位矩阵。
         */

    }, {
        key: 'identity',
        value: function identity(out) {
            out[0] = 1;
            out[1] = 0;
            out[2] = 0;
            out[3] = 1;
            out[4] = 0;
            out[5] = 0;
            return out;
        }

        /**
         * APIMethod: copy
         * 复制矩阵。
         *
         * Parameters:
         * out - {Float32Array|Array.<Number>} 单位矩阵。
         * m - {Float32Array|Array.<Number>} 原始矩阵。
         *
         * Returns:
         * {Float32Array|Array.<Number>} 克隆矩阵。
         */

    }, {
        key: 'copy',
        value: function copy(out, m) {
            out[0] = m[0];
            out[1] = m[1];
            out[2] = m[2];
            out[3] = m[3];
            out[4] = m[4];
            out[5] = m[5];
            return out;
        }

        /**
         * APIMethod: mul
         * 矩阵相乘。
         *
         * Parameters:
         * out - {Float32Array|Array.<Number>} 单位矩阵。
         * m1 - {Float32Array|Array.<Number>} 矩阵m1。
         * m2- {Float32Array|Array.<Number>} 矩阵m2。
         *
         * Returns:
         * {Float32Array|Array.<Number>} 结果矩阵。
         */

    }, {
        key: 'mul',
        value: function mul(out, m1, m2) {
            out[0] = m1[0] * m2[0] + m1[2] * m2[1];
            out[1] = m1[1] * m2[0] + m1[3] * m2[1];
            out[2] = m1[0] * m2[2] + m1[2] * m2[3];
            out[3] = m1[1] * m2[2] + m1[3] * m2[3];
            out[4] = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];
            out[5] = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];
            return out;
        }

        /**
         * APIMethod: translate
         * 平移变换。
         *
         * Parameters:
         * out - {Float32Array|Array.<Number>} 单位矩阵。
         * a - {Float32Array|Array.<Number>} 矩阵。
         * v- {Float32Array|Array.<Number>} 平移参数。
         *
         * Returns:
         * {Float32Array|Array.<Number>} 结果矩阵。
         */

    }, {
        key: 'translate',
        value: function translate(out, a, v) {
            out[0] = a[0];
            out[1] = a[1];
            out[2] = a[2];
            out[3] = a[3];
            out[4] = a[4] + v[0];
            out[5] = a[5] + v[1];
            return out;
        }

        /**
         * APIMethod: rotate
         * 旋转变换。
         *
         * Parameters:
         * out - {Float32Array|Array.<Number>} 单位矩阵。
         * a - {Float32Array|Array.<Number>} 矩阵。
         * rad- {Float32Array|Array.<Number>} 旋转参数。
         *
         * Returns:
         * {Float32Array|Array.<Number>} 结果矩阵。
         */

    }, {
        key: 'rotate',
        value: function rotate(out, a, rad) {
            var aa = a[0];
            var ac = a[2];
            var atx = a[4];
            var ab = a[1];
            var ad = a[3];
            var aty = a[5];
            var st = Math.sin(rad);
            var ct = Math.cos(rad);

            out[0] = aa * ct + ab * st;
            out[1] = -aa * st + ab * ct;
            out[2] = ac * ct + ad * st;
            out[3] = -ac * st + ct * ad;
            out[4] = ct * atx + st * aty;
            out[5] = ct * aty - st * atx;
            return out;
        }

        /**
         * APIMethod: scale
         * 缩放变换。
         *
         * Parameters:
         * out - {Float32Array|Array.<Number>} 单位矩阵。
         * a - {Float32Array|Array.<Number>} 矩阵。
         * v- {Float32Array|Array.<Number>} 缩放参数。
         *
         * Returns:
         * {Float32Array|Array.<Number>} 结果矩阵。
         */

    }, {
        key: 'scale',
        value: function scale(out, a, v) {
            var vx = v[0];
            var vy = v[1];
            out[0] = a[0] * vx;
            out[1] = a[1] * vy;
            out[2] = a[2] * vx;
            out[3] = a[3] * vy;
            out[4] = a[4] * vx;
            out[5] = a[5] * vy;
            return out;
        }

        /**
         * APIMethod: invert
         * 求逆矩阵。
         *
         * Parameters:
         * out - {Float32Array|Array.<Number>} 单位矩阵。
         * a - {Float32Array|Array.<Number>} 矩阵。
         *
         * Returns:
         * {Float32Array|Array.<Number>} 结果矩阵。
         */

    }, {
        key: 'invert',
        value: function invert(out, a) {
            var aa = a[0];
            var ac = a[2];
            var atx = a[4];
            var ab = a[1];
            var ad = a[3];
            var aty = a[5];

            var det = aa * ad - ab * ac;
            if (!det) {
                return null;
            }
            det = 1.0 / det;

            out[0] = ad * det;
            out[1] = -ab * det;
            out[2] = -ac * det;
            out[3] = aa * det;
            out[4] = (ac * aty - ad * atx) * det;
            out[5] = (ab * atx - aa * aty) * det;
            return out;
        }

        /**
         * APIMethod: mulVector
         * 矩阵左乘向量。
         *
         * Parameters:
         * out - {Float32Array|Array.<Number>} 单位矩阵。
         * a - {Float32Array|Array.<Number>} 矩阵。
         * v- {Float32Array|Array.<Number>} 缩放参数。
         *
         * Returns:
         * {Float32Array|Array.<Number>} 结果矩阵。
         */

    }, {
        key: 'mulVector',
        value: function mulVector(out, a, v) {
            var aa = a[0];
            var ac = a[2];
            var atx = a[4];
            var ab = a[1];
            var ad = a[3];
            var aty = a[5];

            out[0] = v[0] * aa + v[1] * ac + atx;
            out[1] = v[0] * ab + v[1] * ad + aty;

            return out;
        }
    }]);
    return Matrix;
}();

;
exports.Matrix = Matrix;

_Base.Zondy.LevelRenderer.Tool.Matrix = Matrix;

/***/ }),

/***/ "./overlay/levelRender/Painter.js":
/*!****************************************!*\
  !*** ./overlay/levelRender/Painter.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.PaintLayer = exports.Painter = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _Util2 = __webpack_require__(/*! ./Util */ "./overlay/levelRender/Util.js");

var _Transformable2 = __webpack_require__(/*! ./Transformable */ "./overlay/levelRender/Transformable.js");

var _Config = __webpack_require__(/*! ./Config */ "./overlay/levelRender/Config.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

var _SmicImage = __webpack_require__(/*! ./SmicImage */ "./overlay/levelRender/SmicImage.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Painter
 * Painter 绘图模块。
 */
var Painter = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Painter
     * 构造函数。
     *
     * Parameters:
     * root - {HTMLElement} 绘图区域（DIV）。
     * storage - {<Zondy.LevelRenderer.Storage>} Storage 实例。
     *
     */
    function Painter(root, storage) {
        (0, _classCallCheck3.default)(this, Painter);

        /**
         * APIProperty: root
         * {HTMLElement} 绘图容器。
         *
         */
        this.root = root;

        /**
         * APIProperty: storage
         * {Array} 图形仓库。
         *
         */
        this.storage = storage;

        /**
         * Property: _domRoot
         * {HTMLElement} 容器根 dom 对象。
         *
         */
        this._domRoot = null;

        /**
         * Property: _layers
         * {Object} 绘制层对象。
         *
         */
        this._layers = {};

        /**
         * Property: _zlevelList
         * {Array} 层列表。
         *
         */
        this._zlevelList = [];

        /**
         * Property: _layerConfig
         * {Object} 绘制层配置对象。
         *
         */
        this._layerConfig = {};

        /**
         * Property: _bgDom
         * {Object} 背景层 Canvas （Dom）。
         *
         */
        this._bgDom = null;

        /**
         * Property: shapeToImage
         * {Function} 形状转图像函数。
         *
         */
        this.shapeToImage = null;
        // retina 屏幕优化
        Painter.devicePixelRatio = Math.max(window.devicePixelRatio || 1, 1);

        this.CLASS_NAME = "Zondy.LevelRenderer.Painter";
        this.root.innerHTML = '';
        this._width = this._getWidth(); // 宽，缓存记录
        this._height = this._getHeight(); // 高，缓存记录

        var domRoot = document.createElement('div');
        this._domRoot = domRoot;

        // domRoot.onselectstart = returnFalse; // 避免页面选中的尴尬
        domRoot.style.position = 'relative';
        domRoot.style.overflow = 'hidden';
        domRoot.style.width = this._width + 'px';
        domRoot.style.height = this._height + 'px';
        this.root.appendChild(domRoot);

        this.shapeToImage = this._createShapeToImageProcessor();

        // 创建各层canvas
        // 背景
        //this._bgDom = Painter.createDom('bg', 'div', this);
        this._bgDom = Painter.createDom((0, _Util.newGuid)(), 'div', this);
        domRoot.appendChild(this._bgDom);
        this._bgDom.onselectstart = returnFalse;
        this._bgDom.style['-webkit-user-select'] = 'none';
        this._bgDom.style['user-select'] = 'none';
        this._bgDom.style['-webkit-touch-callout'] = 'none';

        // 高亮
        //var hoverLayer = new PaintLayer('_hoverLayer_', this);
        var hoverLayer = new PaintLayer((0, _Util.newGuid)(), this);
        this._layers['hover'] = hoverLayer;
        domRoot.appendChild(hoverLayer.dom);
        hoverLayer.initContext();

        hoverLayer.dom.onselectstart = returnFalse;
        hoverLayer.dom.style['-webkit-user-select'] = 'none';
        hoverLayer.dom.style['user-select'] = 'none';
        hoverLayer.dom.style['-webkit-touch-callout'] = 'none';

        var me = this;
        this.updatePainter = function (shapeList, callback) {
            me.refreshShapes(shapeList, callback);
        };

        // 返回false的方法，用于避免页面被选中
        function returnFalse() {
            return false;
        }

        /* eslint-disable */
        // 什么都不干的空方法
        function doNothing() {} //NOSONAR

        /* eslint-enable */
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Painter, [{
        key: 'destroy',
        value: function destroy() {
            this.dispose();
            this._zlevelList = null;
            this._layerConfig = null;
            this._bgDom = null;
            this.shapeToImage = null;
        }

        /**
         * APIMethod: render
         * 渲染。
         *
         * 首次绘图，创建各种 dom 和 context。
         *
         * Parameters:
         * callback - {Function} 绘画结束后的回调函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Painter>} this。
         */

    }, {
        key: 'render',
        value: function render(callback) {
            // TODO
            this.refresh(callback, true);

            return this;
        }

        /**
         * APIMethod: refresh
         * 刷新。
         *
         * Parameters:
         * callback - {Function} 刷新结束后的回调函数。
         * paintAll - {Boolean} 强制绘制所有 shape。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Painter>} this。
         */

    }, {
        key: 'refresh',
        value: function refresh(callback, paintAll) {
            var list = this.storage.getShapeList(true);
            this._paintList(list, paintAll);

            if (typeof callback == 'function') {
                callback();
            }

            return this;
        }

        /**
         * Method: _paintList
         * 按列表绘制图形。
         */

    }, {
        key: '_paintList',
        value: function _paintList(list, paintAll) {
            if (typeof paintAll == 'undefined') {
                paintAll = false;
            }

            this._updateLayerStatus(list);

            var currentLayer;
            var currentZLevel;
            var ctx;

            for (var id in this._layers) {
                if (id !== 'hover') {
                    this._layers[id].unusedCount++;
                    this._layers[id].updateTransform();
                }
            }

            var invTransform = [];

            for (var i = 0, l = list.length; i < l; i++) {
                var shape = list[i];

                if (currentZLevel !== shape.zlevel) {
                    if (currentLayer && currentLayer.needTransform) {
                        ctx.restore();
                    }

                    currentLayer = this.getLayer(shape.zlevel);
                    ctx = currentLayer.ctx;
                    currentZLevel = shape.zlevel;

                    // Reset the count
                    currentLayer.unusedCount = 0;

                    if (currentLayer.dirty || paintAll) {
                        currentLayer.clear();
                    }

                    if (currentLayer.needTransform) {
                        ctx.save();
                        currentLayer.setTransform(ctx);
                    }
                }

                // Start group clipping
                if (ctx && shape.__startClip) {
                    var clipShape = shape.__startClip;
                    ctx.save();
                    // Set transform
                    if (clipShape.needTransform) {
                        var m = clipShape.transform;
                        _SUtil.SUtil.Util_matrix.invert(invTransform, m);
                        ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
                    }

                    ctx.beginPath();
                    clipShape.buildPath(ctx, clipShape.style);
                    ctx.clip();

                    // Transform back
                    if (clipShape.needTransform) {
                        var _m = invTransform;
                        ctx.transform(_m[0], _m[1], _m[2], _m[3], _m[4], _m[5]);
                    }
                }

                if ((currentLayer && currentLayer.dirty || paintAll) && !shape.invisible) {
                    if (!shape.onbrush || shape.onbrush && !shape.onbrush(ctx, false)) {
                        if (_Config.Config.catchBrushException) {
                            try {
                                shape.brush(ctx, false, this.updatePainter);
                            } catch (error) {}
                        } else {
                            shape.brush(ctx, false, this.updatePainter);
                        }
                    }
                }

                // Stop group clipping
                if (ctx && shape.__stopClip) {
                    ctx.restore();
                }

                shape.__dirty = false;
            }

            if (ctx && currentLayer && currentLayer.needTransform) {
                ctx.restore();
            }

            for (var _id in this._layers) {
                if (_id !== 'hover') {
                    var layer = this._layers[_id];
                    layer.dirty = false;
                    // 删除过期的层
                    // PENDING
                    // if (layer.unusedCount >= 500) {
                    //     this.delLayer(id);
                    // }
                    if (layer.unusedCount == 1) {
                        layer.clear();
                    }
                }
            }
        }

        /**
         * APIMethod: getLayer
         * 获取 zlevel 所在层，如果不存在则会创建一个新的层。
         *
         * Parameters:
         * zlevel - {Number} zlevel。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Painter>} this。
         */

    }, {
        key: 'getLayer',
        value: function getLayer(zlevel) {
            // Change draw layer
            var currentLayer = this._layers[zlevel];
            if (!currentLayer) {
                var len = this._zlevelList.length;
                var prevLayer = null;
                var i = -1;
                if (len > 0 && zlevel > this._zlevelList[0]) {
                    for (i = 0; i < len - 1; i++) {
                        if (this._zlevelList[i] < zlevel && this._zlevelList[i + 1] > zlevel) {
                            break;
                        }
                    }
                    prevLayer = this._layers[this._zlevelList[i]];
                }
                this._zlevelList.splice(i + 1, 0, zlevel);

                // Create a new layer
                //currentLayer = new PaintLayer(zlevel, this);
                currentLayer = new PaintLayer((0, _Util.newGuid)(), this);
                var prevDom = prevLayer ? prevLayer.dom : this._bgDom;
                if (prevDom.nextSibling) {
                    prevDom.parentNode.insertBefore(currentLayer.dom, prevDom.nextSibling);
                } else {
                    prevDom.parentNode.appendChild(currentLayer.dom);
                }
                currentLayer.initContext();

                this._layers[zlevel] = currentLayer;

                if (this._layerConfig[zlevel]) {
                    new _Util2.Util().merge(currentLayer, this._layerConfig[zlevel], true);
                }

                currentLayer.updateTransform();
            }

            return currentLayer;
        }

        /**
         * Method: getLayers
         * 获取所有已创建的层。
         *
         * Returns:
         * {Array{<Painter.Layer>}} 已创建的层
         */

    }, {
        key: 'getLayers',
        value: function getLayers() {
            return this._layers;
        }

        /**
         * Method: _updateLayerStatus
         * 更新绘制层状态。
         */

    }, {
        key: '_updateLayerStatus',
        value: function _updateLayerStatus(list) {
            var layers = this._layers;

            var elCounts = {};
            for (var z in layers) {
                if (z !== 'hover') {
                    elCounts[z] = layers[z].elCount;
                    layers[z].elCount = 0;
                }
            }

            for (var i = 0; i < list.length; i++) {
                var shape = list[i];
                var zlevel = shape.zlevel;
                var layer = layers[zlevel];
                if (layer) {
                    layer.elCount++;
                    // 已经被标记为需要刷新
                    if (layer.dirty) {
                        continue;
                    }
                    layer.dirty = shape.__dirty;
                }
            }

            // 层中的元素数量有发生变化
            for (var _z in layers) {
                if (_z !== 'hover') {
                    if (elCounts[_z] !== layers[_z].elCount) {
                        layers[_z].dirty = true;
                    }
                }
            }
        }

        /**
         * APIMethod: refreshShapes
         * 更新的图形元素列表。
         *
         * Parameters:
         * shapeList - {Number} 需要更新的图形元素列表。
         * callback - {Number} 视图更新后回调函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Painter>} this。
         */

    }, {
        key: 'refreshShapes',
        value: function refreshShapes(shapeList, callback) {
            for (var i = 0, l = shapeList.length; i < l; i++) {
                var shape = shapeList[i];
                this.storage.mod(shape.id);
            }

            this.refresh(callback);
            return this;
        }

        /**
         * APIMethod: clear
         * 清除 hover 层外所有内容。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Painter>} this。
         */

    }, {
        key: 'clear',
        value: function clear() {
            for (var k in this._layers) {
                if (k == 'hover') {
                    continue;
                }
                this._layers[k].clear();
            }

            return this;
        }

        /**
         * APIMethod: modLayer
         * 修改指定 zlevel 的绘制参数。
         *
         * Parameters:
         * zlevel - {String} zlevel。
         * config - {Object} 配置对象。可用属性如下：
         *
         * Symbolizer properties:
         * clearColor - {String} 每次清空画布的颜色。默认值：0。
         * motionBlur - {Boolean} 是否开启动态模糊。默认值：false。
         * lastFrameAlpha - {Number}  在开启动态模糊的时候使用，与上一帧混合的alpha值，值越大尾迹越明显。默认值：0.7。
         * position - {Array{Number}}  层的平移。
         * rotation - {Array{Number}}  层的旋转。
         * scale - {Array{Number}}  层的缩放。
         * zoomable - {Boolean} 层是否支持鼠标缩放操作。默认值：false。
         * panable - {Boolean} 层是否支持鼠标平移操作。默认值：false。
         *
         */

    }, {
        key: 'modLayer',
        value: function modLayer(zlevel, config) {
            if (config) {
                if (!this._layerConfig[zlevel]) {
                    this._layerConfig[zlevel] = config;
                } else {
                    new _Util2.Util().merge(this._layerConfig[zlevel], config, true);
                }

                var layer = this._layers[zlevel];

                if (layer) {
                    new _Util2.Util().merge(layer, this._layerConfig[zlevel], true);
                }
            }
        }

        /**
         * APIMethod: delLayer
         * 删除指定层。
         *
         * Parameters:
         * zlevel - {Ntring} 层所在的 zlevel。
         *
         */

    }, {
        key: 'delLayer',
        value: function delLayer(zlevel) {
            var layer = this._layers[zlevel];
            if (!layer) {
                return;
            }
            // Save config
            this.modLayer(zlevel, {
                position: layer.position,
                rotation: layer.rotation,
                scale: layer.scale
            });
            layer.dom.parentNode.removeChild(layer.dom);
            delete this._layers[zlevel];

            this._zlevelList.splice(new _Util2.Util().indexOf(this._zlevelList, zlevel), 1);
        }

        /**
         * APIMethod: refreshHover
         * 刷新 hover 层。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Painter>} this。
         */

    }, {
        key: 'refreshHover',
        value: function refreshHover() {
            this.clearHover();
            var list = this.storage.getHoverShapes(true);
            for (var i = 0, l = list.length; i < l; i++) {
                this._brushHover(list[i]);
            }
            this.storage.delHover();

            return this;
        }

        /**
         * APIMethod: clearHover
         * 清除 hover 层所有内容。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Painter>} this。
         */

    }, {
        key: 'clearHover',
        value: function clearHover() {
            var hover = this._layers.hover;
            hover && hover.clear();

            return this;
        }

        /**
         * APIMethod: resize
         * 区域大小变化后重绘。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Painter>} this。
         */

    }, {
        key: 'resize',
        value: function resize() {
            var domRoot = this._domRoot;
            domRoot.style.display = 'none';

            var width = this._getWidth();
            var height = this._getHeight();

            domRoot.style.display = '';

            // 优化没有实际改变的resize
            if (this._width != width || height != this._height) {
                this._width = width;
                this._height = height;

                domRoot.style.width = width + 'px';
                domRoot.style.height = height + 'px';

                for (var id in this._layers) {

                    this._layers[id].resize(width, height);
                }

                this.refresh(null, true);
            }

            return this;
        }

        /**
         * APIMethod: clearLayer
         * 清除指定的一个层。
         *
         * Parameters:
         * zLevel - {Number} 层。
         */

    }, {
        key: 'clearLayer',
        value: function clearLayer(zLevel) {
            var layer = this._layers[zLevel];
            if (layer) {
                layer.clear();
            }
        }

        /**
         * APIMethod: dispose
         * 释放。
         *
         */

    }, {
        key: 'dispose',
        value: function dispose() {
            this.root.innerHTML = '';

            this.root = null;
            this.storage = null;
            this._domRoot = null;
            this._layers = null;
        }

        /**
         * Method: getDomHover
         * 获取 Hover 层的 Dom。
         *
         */

    }, {
        key: 'getDomHover',
        value: function getDomHover() {
            return this._layers.hover.dom;
        }

        /**
         * APIMethod: toDataURL
         * 图像导出。
         *
         * Parameters:
         * type - {String} 图片类型。
         * backgroundColor - {String} 背景色。默认值：'#fff'。
         * args - {Object}。
         *
         * Returns:
         * {String} 图片的Base64 url。
         */

    }, {
        key: 'toDataURL',
        value: function toDataURL(type, backgroundColor, args) {
            //var imageDom = Painter.createDom('image', 'canvas', this);
            var imageDom = Painter.createDom((0, _Util.newGuid)(), 'canvas', this);
            this._bgDom.appendChild(imageDom);
            var ctx = imageDom.getContext('2d');
            Painter.devicePixelRatio != 1 && ctx.scale(Painter.devicePixelRatio, Painter.devicePixelRatio);

            ctx.fillStyle = backgroundColor || '#fff';
            ctx.rect(0, 0, this._width * Painter.devicePixelRatio, this._height * Painter.devicePixelRatio);
            ctx.fill();

            var self = this;
            // 升序遍历，shape上的zlevel指定绘画图层的z轴层叠

            this.storage.iterShape(function (shape) {
                if (!shape.invisible) {
                    if (!shape.onbrush // 没有onbrush
                    // 有onbrush并且调用执行返回false或undefined则继续粉刷
                    || shape.onbrush && !shape.onbrush(ctx, false)) {
                        if (_Config.Config.catchBrushException) {
                            try {
                                shape.brush(ctx, false, self.updatePainter);
                            } catch (error) {}
                        } else {
                            shape.brush(ctx, false, self.updatePainter);
                        }
                    }
                }
            }, { normal: 'up', update: true });
            var image = imageDom.toDataURL(type, args);
            ctx = null;
            this._bgDom.removeChild(imageDom);
            return image;
        }

        /**
         * APIMethod: getWidth
         * 获取绘图区域宽度。
         *
         * Returns:
         * {Number} 绘图区域宽度。
         */

    }, {
        key: 'getWidth',
        value: function getWidth() {
            return this._width;
        }

        /**
         * APIMethod: getHeight
         * 获取绘图区域高度。
         *
         * Returns:
         * {Number} 绘图区域高度。
         */

    }, {
        key: 'getHeight',
        value: function getHeight() {
            return this._height;
        }

        /**
         * Method: _getWidth
         *
         */

    }, {
        key: '_getWidth',
        value: function _getWidth() {
            var root = this.root;
            var stl = root.currentStyle || document.defaultView.getComputedStyle(root);

            return ((root.clientWidth || parseInt(stl.width, 10)) - parseInt(stl.paddingLeft, 10) - parseInt(stl.paddingRight, 10)).toFixed(0) - 0;
        }

        /**
         * Method: _getHeight
         *
         */

    }, {
        key: '_getHeight',
        value: function _getHeight() {
            var root = this.root;
            var stl = root.currentStyle || document.defaultView.getComputedStyle(root);

            return ((root.clientHeight || parseInt(stl.height, 10)) - parseInt(stl.paddingTop, 10) - parseInt(stl.paddingBottom, 10)).toFixed(0) - 0;
        }

        /**
         * Method: _brushHover
         *
         */

    }, {
        key: '_brushHover',
        value: function _brushHover(shape) {
            var ctx = this._layers.hover.ctx;

            if (!shape.onbrush // 没有onbrush
            // 有onbrush并且调用执行返回false或undefined则继续粉刷
            || shape.onbrush && !shape.onbrush(ctx, true)) {
                var layer = this.getLayer(shape.zlevel);
                if (layer.needTransform) {
                    ctx.save();
                    layer.setTransform(ctx);
                }
                // Retina 优化
                if (_Config.Config.catchBrushException) {
                    try {
                        shape.brush(ctx, true, this.updatePainter);
                    } catch (error) {}
                } else {
                    shape.brush(ctx, true, this.updatePainter);
                }
                if (layer.needTransform) {
                    ctx.restore();
                }
            }
        }

        /**
         * Method: _shapeToImage
         *
         */

    }, {
        key: '_shapeToImage',
        value: function _shapeToImage(id, shape, width, height, devicePixelRatio) {
            var canvas = document.createElement('canvas');
            var ctx = canvas.getContext('2d');
            var _devicePixelRatio = devicePixelRatio || window.devicePixelRatio || 1;

            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            canvas.setAttribute('width', width * _devicePixelRatio);
            canvas.setAttribute('height', height * _devicePixelRatio);

            ctx.clearRect(0, 0, width * _devicePixelRatio, height * _devicePixelRatio);

            var shapeTransform = {
                position: shape.position,
                rotation: shape.rotation,
                scale: shape.scale
            };
            shape.position = [0, 0, 0];
            shape.rotation = 0;
            shape.scale = [1, 1];
            if (shape) {
                shape.brush(ctx, false);
            }

            var imgShape = new _SmicImage.SmicImage({
                id: id,
                style: {
                    x: 0,
                    y: 0,
                    image: canvas
                }
            });

            if (shapeTransform.position != null) {
                imgShape.position = shape.position = shapeTransform.position;
            }

            if (shapeTransform.rotation != null) {
                imgShape.rotation = shape.rotation = shapeTransform.rotation;
            }

            if (shapeTransform.scale != null) {
                imgShape.scale = shape.scale = shapeTransform.scale;
            }

            return imgShape;
        }

        /**
         * Method: _createShapeToImageProcessor
         *
         */

    }, {
        key: '_createShapeToImageProcessor',
        value: function _createShapeToImageProcessor() {
            var me = this;

            return function (id, e, width, height) {
                return me._shapeToImage(id, e, width, height, Painter.devicePixelRatio);
            };
        }

        // SMIC-方法扩展 - start
        /**
         * APIMethod: updateHoverLayer
         * 更新设置显示高亮图层。
         *
         * Parameters:
         * shapes - {Array} 图形数组。
         */

    }, {
        key: 'updateHoverLayer',
        value: function updateHoverLayer(shapes) {
            if (!(shapes instanceof Array)) {
                return this;
            }

            //清除高亮
            this.clearHover();
            this.storage.delHover();

            for (var i = 0; i < shapes.length; i++) {
                this.storage.addHover(shapes[i]);
                this._brushHover(shapes[i]);
            }
        }

        /**
         * Method: createDom
         * 创建 Dom。
         *
         * Parameters:
         * id - {String} Dom id
         * type - {String} Dom type
         * painter - {<Zondy.LevelRenderer.Painter>} Painter 实例。
         *
         * Returns:
         * {Object} Dom
         */

    }], [{
        key: 'createDom',
        value: function createDom(id, type, painter) {
            var newDom = document.createElement(type);
            var width = painter._width;
            var height = painter._height;

            newDom.style.position = 'absolute';
            newDom.style.left = 0;
            newDom.style.top = 0;
            newDom.style.width = width + 'px';
            newDom.style.height = height + 'px';
            newDom.setAttribute('width', width * Painter.devicePixelRatio);
            newDom.setAttribute('height', height * Painter.devicePixelRatio);

            // id不作为索引用，避免可能造成的重名，定义为私有属性
            //newDom.setAttribute('data-zr-dom-id', id);
            newDom.setAttribute('id', id);
            return newDom;
        }
    }]);
    return Painter;
}();

;

/**
 * @private
 * @class Painter.Layer
 * 绘制层类。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Transformable>
 */

var PaintLayer = function (_Transformable) {
    (0, _inherits3.default)(PaintLayer, _Transformable);

    /**
     * Constructor: Painter.Layer
     * 构造函数。
     *
     * Parameters:
     * id - {String} id。
     * painter - {<Zondy.LevelRenderer.Painter>} Painter 实例。
     *
     */
    function PaintLayer(id, painter) {
        (0, _classCallCheck3.default)(this, PaintLayer);

        /**
         * Property: dom
         * {Object} dom。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (PaintLayer.__proto__ || (0, _getPrototypeOf2.default)(PaintLayer)).call(this, id, painter));

        _this.dom = null;

        /**
         * Property: domBack
         * {Object} domBack。
         */
        _this.domBack = null;

        /**
         * Property: ctxBack
         * {Object} ctxBack。
         */
        _this.ctxBack = null;

        /**
         * Property: painter
         * {<Zondy.LevelRenderer.Painter>} painter。
         */
        _this.painter = painter;

        /**
         * Property: unusedCount
         * {Number} unusedCount。
         */
        _this.unusedCount = 0;

        /**
         * Property: config
         * {Object} config。
         */
        _this.config = null;

        /**
         * Property: dirty
         * {Boolean} dirty。
         */
        _this.dirty = true;

        /**
         * Property: elCount
         * {Number} elCount。
         */
        _this.elCount = 0;

        // Configs
        /**
         * Property: clearColor
         * {String} 每次清空画布的颜色。默认值：0；
         */
        _this.clearColor = 0;

        /**
         * Property: motionBlur
         * {Boolean} 是否开启动态模糊。默认值：false；
         */
        _this.motionBlur = false;

        /**
         * Property: lastFrameAlpha
         * {Number} 在开启动态模糊的时候使用，与上一帧混合的alpha值，值越大尾迹越明显
         */
        _this.lastFrameAlpha = 0.7;

        /**
         * Property: zoomable
         * {Boolean} 层是否支持鼠标平移操作。默认值：false；
         */
        _this.zoomable = false;

        /**
         * Property: panable
         * {Boolean} 层是否支持鼠标缩放操作。默认值：false；
         */
        _this.panable = false;

        /**
         * Property: maxZoom
         * {Number} maxZoom。默认值：Infinity。
         */
        _this.maxZoom = Infinity;

        /**
         * Property: minZoom
         * {Number} minZoom。默认值：0。
         */
        _this.minZoom = 0;

        /**
         * Property: ctx
         * {Object} Cavans 上下文。
         */
        _this.ctx = null;
        _this.dom = Painter.createDom((0, _Util.newGuid)(), 'canvas', painter);
        _this.dom.onselectstart = returnFalse; // 避免页面选中的尴尬
        _this.dom.style['-webkit-user-select'] = 'none';
        _this.dom.style['user-select'] = 'none';
        _this.dom.style['-webkit-touch-callout'] = 'none';
        // Function
        // 返回false的方法，用于避免页面被选中
        function returnFalse() {
            return false;
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.Painter.Layer";
        return _this;
    }

    /**
     * Method: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(PaintLayer, [{
        key: 'destroy',
        value: function destroy() {
            this.dom = null;
            this.domBack = null;
            this.ctxBack = null;
            this.painter = null;
            this.unusedCount = null;
            this.config = null;
            this.dirty = null;
            this.elCount = null;
            this.clearColor = null;
            this.motionBlur = null;
            this.lastFrameAlpha = null;
            this.zoomable = null;
            this.panable = null;
            this.maxZoom = null;
            this.minZoom = null;
            this.ctx = null;

            _Transformable2.Transformable.destroy.apply(this, arguments);
        }

        /**
         * Method: initContext
         * 初始化 Canvan 2D 上下文。
         */

    }, {
        key: 'initContext',
        value: function initContext() {
            this.ctx = this.dom.getContext('2d');
            if (Painter.devicePixelRatio != 1) {
                this.ctx.scale(Painter.devicePixelRatio, Painter.devicePixelRatio);
            }
        }

        /**
         * Method: createBackBuffer
         * 创建备份缓冲。
         */

    }, {
        key: 'createBackBuffer',
        value: function createBackBuffer() {
            this.domBack = Painter.createDom((0, _Util.newGuid)(), 'canvas', this.painter);
            this.ctxBack = this.domBack.getContext('2d');

            if (Painter.devicePixelRatio != 1) {
                this.ctxBack.scale(Painter.devicePixelRatio, Painter.devicePixelRatio);
            }
        }

        /**
         * Method: resize
         * 改变大小。
         *
         * Parameters:
         * width - {Number} 宽。
         * height - {Number} 高。
         */

    }, {
        key: 'resize',
        value: function resize(width, height) {
            this.dom.style.width = width + 'px';
            this.dom.style.height = height + 'px';

            this.dom.setAttribute('width', width * Painter.devicePixelRatio);
            this.dom.setAttribute('height', height * Painter.devicePixelRatio);

            if (Painter.devicePixelRatio != 1) {
                this.ctx.scale(Painter.devicePixelRatio, Painter.devicePixelRatio);
            }

            if (this.domBack) {
                this.domBack.setAttribute('width', width * Painter.devicePixelRatio);
                this.domBack.setAttribute('height', height * Painter.devicePixelRatio);

                if (Painter.devicePixelRatio != 1) {
                    this.ctxBack.scale(Painter.devicePixelRatio, Painter.devicePixelRatio);
                }
            }
        }

        /**
         * Method: clear
         * 清空该层画布。
         */

    }, {
        key: 'clear',
        value: function clear() {
            var dom = this.dom;
            var ctx = this.ctx;
            var width = dom.width;
            var height = dom.height;

            var haveClearColor = this.clearColor;
            var haveMotionBLur = this.motionBlur;
            var lastFrameAlpha = this.lastFrameAlpha;

            if (haveMotionBLur) {
                if (!this.domBack) {
                    this.createBackBuffer();
                }

                this.ctxBack.globalCompositeOperation = 'copy';
                this.ctxBack.drawImage(dom, 0, 0, width / Painter.devicePixelRatio, height / Painter.devicePixelRatio);
            }

            if (haveClearColor) {
                ctx.save();
                ctx.fillStyle = this.config.clearColor;
                ctx.fillRect(0, 0, width / Painter.devicePixelRatio, height / Painter.devicePixelRatio);
                ctx.restore();
            } else {
                ctx.clearRect(0, 0, width / Painter.devicePixelRatio, height / Painter.devicePixelRatio);
            }

            if (haveMotionBLur) {
                var domBack = this.domBack;
                ctx.save();
                ctx.globalAlpha = lastFrameAlpha;
                ctx.drawImage(domBack, 0, 0, width / Painter.devicePixelRatio, height / Painter.devicePixelRatio);
                ctx.restore();
            }
        }
    }]);
    return PaintLayer;
}(_Transformable2.Transformable);

;
exports.Painter = Painter;

_Base.Zondy.LevelRenderer.Painter = Painter;
exports.PaintLayer = PaintLayer;

_Base.Zondy.LevelRenderer.PaintLayer = PaintLayer;

/***/ }),

/***/ "./overlay/levelRender/Render.js":
/*!***************************************!*\
  !*** ./overlay/levelRender/Render.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Render = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _Storage = __webpack_require__(/*! ./Storage */ "./overlay/levelRender/Storage.js");

var _Painter = __webpack_require__(/*! ./Painter */ "./overlay/levelRender/Painter.js");

var _Handler = __webpack_require__(/*! ./Handler */ "./overlay/levelRender/Handler.js");

var _Animation = __webpack_require__(/*! ./Animation */ "./overlay/levelRender/Animation.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Render = function () {

    /*
     * 构造函数。
     *
     * Parameters:
     * id - {String} 唯一标识。
     * dom - {HTMLElement} Dom 对象。
     */
    function Render(id, dom) {
        (0, _classCallCheck3.default)(this, Render);

        /**
         * Property: id
         * {String}  唯一标识。
         *
         */
        this.id = id;

        /**
         * Property: storage
         * {<Zondy.LevelRenderer.Storage>} 图形仓库对象。
         *
         */
        this.storage = new _Storage.Storage();

        /**
         * Property: painter
         * {<Painter>} 绘制器对象。
         *
         */
        this.painter = new _Painter.Painter(dom, this.storage);

        /**
         * Property: handler
         * {<Zondy.LevelRenderer.Handler>} 事件处理对象。
         *
         */
        this.handler = new _Handler.Handler(dom, this.storage, this.painter);

        /**
         * Property: animatingElements
         * {Array} 动画控制数组。
         *
         */
        this.animatingElements = [];

        /**
         * Property: animation
         * {<Zondy.LevelRenderer.animation.Animation>} 动画对象。
         *
         */
        this.animation = new _Animation.Animation({
            stage: {
                update: Render.getFrameCallback(this)
            }
        });

        /**
         * Property: _needsRefreshNextFrame
         * {Boolean} 是否需要刷新下一帧。
         *
         */
        this._needsRefreshNextFrame = false;
        this.animation.start();
        this.CLASS_NAME = "Zondy.LevelRenderer.Render";
    }

    /**
     * Method: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Render, [{
        key: 'destroy',
        value: function destroy() {
            this.id = null;
            this.storage = null;
            this.painter = null;
            this.handler = null;
            this.animatingElements = null;
            this.animation = null;
            this._needsRefreshNextFrame = null;
        }

        /**
         * APIMethod: getId
         * 获取实例唯一标识。
         *
         * Returns:
         * {String} 实例唯一标识。
         */

    }, {
        key: 'getId',
        value: function getId() {
            return this.id;
        }

        /**
         * APIMethod: addShape
         * 添加图形形状到根节点。
         *
         * Parameters:
         * shape - {<Zondy.LevelRenderer.Shape>} 图形对象，可用属性全集，详见各 shape。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'addShape',
        value: function addShape(shape) {
            this.storage.addRoot(shape);
            return this;
        }

        /**
         * APIMethod: addGroup
         * 添加组到根节点。
         *
         * (code)
         * //添加组到根节点例子
         * var render = new Zondy.LevelRenderer.Render("Render",document.getElementById('lRendertest'));
         * render.clear();
         * var g = new Zondy.LevelRenderer.Group();
         * g.addChild(new Zondy.LevelRenderer.Shape.Circle({
         *     style: {
         *         x: 100,
         *         y: 100,
         *         r: 20,
         *         brushType: 'fill'
         *     }
         * }));
         * render.addGroup(g);
         * render.render();
         * (end)
         *
         * Parameters:
         * group - {<Zondy.LevelRenderer.Group>} 组对象。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'addGroup',
        value: function addGroup(group) {
            this.storage.addRoot(group);
            return this;
        }

        /**
         * APIMethod: delShape
         * 从根节点删除图形形状。
         *
         * Parameters:
         * shapeId - {String} 图形对象唯一标识。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'delShape',
        value: function delShape(shapeId) {
            this.storage.delRoot(shapeId);
            return this;
        }

        /**
         * APIMethod: delGroup
         * 从根节点删除组。
         *
         * Parameters:
         * groupId - {String} 组对象唯一标识。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'delGroup',
        value: function delGroup(groupId) {
            this.storage.delRoot(groupId);
            return this;
        }

        /**
         * Method: modShape
         * 修改图形形状。
         *
         * Parameters:
         * shapeId - {String} 图形对象唯一标识。
         * shape - {<Zondy.LevelRenderer.Shape>} 图形对象。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'modShape',
        value: function modShape(shapeId, shape) {
            this.storage.mod(shapeId, shape);
            return this;
        }

        /**
         * Method: modGroup
         * 修改组。
         *
         * Parameters:
         * groupId - {String} 组对象唯一标识。
         * group - {<Zondy.LevelRenderer.Group>} 组对象。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'modGroup',
        value: function modGroup(groupId, group) {
            this.storage.mod(groupId, group);
            return this;
        }

        /**
         * Method: modLayer
         * 修改指定 zlevel 的绘制配置项。
         *
         * Parameters:
         * zLevel - {String} 组对象唯一标识。
         * config - {Object} 配置对象。可用属性如下：
         *
         * Symbolizer properties:
         * clearColor - {String} 每次清空画布的颜色。默认值：0。
         * motionBlur - {Boolean} 是否开启动态模糊。默认值：false。
         * lastFrameAlpha - {Number}  在开启动态模糊的时候使用，与上一帧混合的alpha值，值越大尾迹越明显。默认值：0.7。
         * position - {Array{Number}}  层的平移。
         * rotation - {Array{Number}}  层的旋转。
         * scale - {Array{Number}}  层的缩放。
         * zoomable - {Boolean} 层是否支持鼠标缩放操作。默认值：false。
         * panable - {Boolean} 层是否支持鼠标平移操作。默认值：false。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'modLayer',
        value: function modLayer(zLevel, config) {
            this.painter.modLayer(zLevel, config);
            return this;
        }

        /**
         * APIMethod: addHoverShape
         * 添加额外高亮层显示，仅提供添加方法，每次刷新后高亮层图形均被清空。
         *
         * Parameters:
         * shape - {<Zondy.LevelRenderer.Shape>} 图形对象。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'addHoverShape',
        value: function addHoverShape(shape) {
            this.storage.addHover(shape);
            return this;
        }

        /**
         * APIMethod: render
         * 渲染。
         *
         * Parameters:
         * callback - {Function} 渲染结束后回调函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'render',
        value: function render(callback) {
            this.painter.render(callback);
            this._needsRefreshNextFrame = false;
            return this;
        }

        /**
         * APIMethod: refresh
         * 视图更新。
         *
         * Parameters:
         * callback - {Function} 视图更新后回调函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'refresh',
        value: function refresh(callback) {
            this.painter.refresh(callback);
            this._needsRefreshNextFrame = false;
            return this;
        }

        /**
         * APIMethod: refreshNextFrame
         * 标记视图在浏览器下一帧需要绘制。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'refreshNextFrame',
        value: function refreshNextFrame() {
            this._needsRefreshNextFrame = true;
            return this;
        }

        /**
         * APIMethod: refreshHover
         * 绘制（视图更新）高亮层。
         *
         * Parameters:
         * callback - {Function} 视图更新后回调函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'refreshHover',
        value: function refreshHover(callback) {
            this.painter.refreshHover(callback);
            return this;
        }

        /**
         * APIMethod: refreshShapes
         * 视图更新。
         *
         * Parameters:
         * shapeList - {Array<Zondy.LevelRenderer.Shape>} 需要更新的图形列表。
         * callback - {Function} 视图更新后回调函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'refreshShapes',
        value: function refreshShapes(shapeList, callback) {
            this.painter.refreshShapes(shapeList, callback);
            return this;
        }

        /**
         * APIMethod: resize
         * 调整视图大小。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'resize',
        value: function resize() {
            this.painter.resize();
            return this;
        }

        /**
         * APIMethod: animate
         * 动画。
         *
         * (code)
         *     zr.animate(circle.id, 'style', false)
         *         .when(1000, {x: 10} )
         *         .done(function(){ // Animation done })
         *         .start()
         * (end)
         *
         * Parameters:
         * el - {Array{<Zondy.LevelRenderer.Shape>/<Zondy.LevelRenderer.Group>}} 动画对象。
         * path - {String} 需要添加动画的属性获取路径，可以通过 a.b.c 来获取深层的属性。若传入对象为<Zondy.LevelRenderer.Group>,path需为空字符串。
         * loop - {Function} 动画是否循环。
         *
         * Returns:
         * {<Zondy.LevelRenderer.animation.Animator>} Animator。
         */

    }, {
        key: 'animate',
        value: function animate(el, path, loop) {
            if (typeof el === 'string') {
                el = this.storage.get(el);
            }
            if (el) {
                var target;
                if (path) {
                    var pathSplitted = path.split('.');
                    var prop = el;
                    for (var i = 0, l = pathSplitted.length; i < l; i++) {
                        if (!prop) {
                            continue;
                        }
                        prop = prop[pathSplitted[i]];
                    }
                    if (prop) {
                        target = prop;
                    }
                } else {
                    target = el;
                }

                if (!target) {
                    return;
                }

                var animatingElements = this.animatingElements;
                if (typeof el.__aniCount === 'undefined') {
                    // 正在进行的动画记数
                    el.__aniCount = 0;
                }
                if (el.__aniCount === 0) {
                    animatingElements.push(el);
                }
                el.__aniCount++;

                return this.animation.animate(target, { loop: loop }).done(function () {
                    el.__aniCount--;
                    if (el.__aniCount === 0) {
                        // 从animatingElements里移除
                        var idx = (0, _Util.indexOf)(animatingElements, el);
                        animatingElements.splice(idx, 1);
                    }
                });
            }
        }

        /**
         * APIMethod: clearAnimation
         * 停止所有动画。
         *
         */

    }, {
        key: 'clearAnimation',
        value: function clearAnimation() {
            this.animation.clear();
        }

        /**
         * APIMethod: getWidth
         * 获取视图宽度。
         *
         * Returns:
         * {Number} 视图宽度。
         */

    }, {
        key: 'getWidth',
        value: function getWidth() {
            return this.painter.getWidth();
        }

        /**
         * APIMethod: getHeight
         * 获取视图高度。
         *
         * Returns:
         * {Number} 视图高度。
         */

    }, {
        key: 'getHeight',
        value: function getHeight() {
            return this.painter.getHeight();
        }

        /**
         * APIMethod: toDataURL
         * 图像导出。
         *
         * Parameters:
         * type - {string} 类型。
         * backgroundColor - {string} 背景色，默认值："#FFFFFF"。
         * args - {string} 参数。
         *
         * Returns:
         * {String} 图片的 Base64 url。
         */

    }, {
        key: 'toDataURL',
        value: function toDataURL(type, backgroundColor, args) {
            return this.painter.toDataURL(type, backgroundColor, args);
        }

        /**
         * APIMethod: shapeToImage
         * 将常规 shape 转成 image shape。
         *
         * Parameters:
         * e - {<Zondy.LevelRenderer.Shape>} 图形。
         * width - {Number} 宽度。
         * height - {Number} 高度。
         *
         * Returns:
         * {Object} image shape。
         */

    }, {
        key: 'shapeToImage',
        value: function shapeToImage(e, width, height) {
            var id = (0, _Util.newGuid)();
            return this.painter.shapeToImage(id, e, width, height);
        }

        /**
         * APIMethod: on
         * 事件绑定。
         *
         * Parameters:
         * eventName - {String} 事件名称。
         * eventHandler - {Function} 响应函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'on',
        value: function on(eventName, eventHandler) {
            this.handler.on(eventName, eventHandler);
            return this;
        }

        /**
         * APIMethod: un
         * 事件解绑定，参数为空则解绑所有自定义事件。
         *
         * Parameters:
         * eventName - {String} 事件名称。
         * eventHandler - {Function} 响应函数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'un',
        value: function un(eventName, eventHandler) {
            this.handler.un(eventName, eventHandler);
            return this;
        }

        /**
         * APIMethod: trigger
         * 事件触发。
         *
         * Parameters:
         * eventName - {String} 事件名称，resize，hover，drag，etc。
         * event - {event} event dom事件对象。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'trigger',
        value: function trigger(eventName, event) {
            this.handler.trigger(eventName, event);
            return this;
        }

        /**
         * APIMethod: clear
         * 清除当前 Render 下所有类图的数据和显示，clear 后 MVC 和已绑定事件均还存在在，Render 可用。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'clear',
        value: function clear() {
            this.storage.delRoot();
            this.painter.clear();
            return this;
        }

        /**
         * APIMethod: dispose
         * 释放当前 Render 实例（删除包括 dom，数据、显示和事件绑定），dispose后 Render 不可用。
         *
         */

    }, {
        key: 'dispose',
        value: function dispose() {
            this.animation.stop();

            this.clear();
            this.storage.dispose();
            this.painter.dispose();
            this.handler.dispose();

            this.animation = null;
            this.animatingElements = null;
            this.storage = null;
            this.painter = null;
            this.handler = null;
        }

        // SMIC-方法扩展 - start
        /**
         * APIMethod: updateHoverShapes
         * 更新设置显示高亮图层。
         *
         * Parameters:
         * shapes - {Array<Zondy.LevelRenderer.Shape>} 图形数组。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'updateHoverShapes',
        value: function updateHoverShapes(shapes) {
            this.painter.updateHoverLayer(shapes);
            return this;
        }

        /**
         * APIMethod: getAllShapes
         * 获取所有图形。
         *
         * Returns:
         * {Array<Zondy.LevelRenderer.Shape>} 图形数组。
         */

    }, {
        key: 'getAllShapes',
        value: function getAllShapes() {
            return this.storage._shapeList;
        }

        /**
         * APIMethod: clearAll
         *  清除高亮和图形图层。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Render>} this。
         */

    }, {
        key: 'clearAll',
        value: function clearAll() {
            this.clear();
            this.painter.clearHover();
            return this;
        }

        /**
         * APIMethod: getHoverOne
         * 获取单个高亮图形，当前鼠标对应。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Shape>} 高亮图形。
         */

    }, {
        key: 'getHoverOne',
        value: function getHoverOne() {
            return this.handler.getLastHoverOne();
        }
    }], [{
        key: 'getFrameCallback',
        value: function getFrameCallback(renderInstance) {
            return function () {
                var animatingElements = renderInstance.animatingElements;

                //animatingElements instanceof Array 临时解决 destory 报错
                if (animatingElements instanceof Array) {
                    for (var i = 0, l = animatingElements.length; i < l; i++) {
                        renderInstance.storage.mod(animatingElements[i].id);
                    }

                    if (animatingElements.length || renderInstance._needsRefreshNextFrame) {
                        renderInstance.refresh();
                    }
                }
            };
        }

        // SMIC-方法扩展 - end


    }]);
    return Render;
}(); /**
      * @private
      * @class Zondy.LevelRenderer.Render
      * Render 接口类，对外可用的所有接口都在这里。内部使用
      * 非 get 接口统一返回 this 对象，支持链式调用。
      *
      */

;
exports.Render = Render;

_Base.Zondy.LevelRenderer.Render = Render;

/***/ }),

/***/ "./overlay/levelRender/SUtil.js":
/*!**************************************!*\
  !*** ./overlay/levelRender/SUtil.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SUtil = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Area = __webpack_require__(/*! ./Area */ "./overlay/levelRender/Area.js");

var _Color = __webpack_require__(/*! ./Color */ "./overlay/levelRender/Color.js");

var _ComputeBoundingBox = __webpack_require__(/*! ./ComputeBoundingBox */ "./overlay/levelRender/ComputeBoundingBox.js");

var _Curve = __webpack_require__(/*! ./Curve */ "./overlay/levelRender/Curve.js");

var _Env = __webpack_require__(/*! ./Env */ "./overlay/levelRender/Env.js");

var _Event = __webpack_require__(/*! ./Event */ "./overlay/levelRender/Event.js");

var _Http = __webpack_require__(/*! ./Http */ "./overlay/levelRender/Http.js");

var _Math = __webpack_require__(/*! ./Math */ "./overlay/levelRender/Math.js");

var _Matrix = __webpack_require__(/*! ./Matrix */ "./overlay/levelRender/Matrix.js");

var _Util = __webpack_require__(/*! ./Util */ "./overlay/levelRender/Util.js");

var _Vector = __webpack_require__(/*! ./Vector */ "./overlay/levelRender/Vector.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SUtil = function () {
    function SUtil() {
        (0, _classCallCheck3.default)(this, SUtil);
    }

    (0, _createClass3.default)(SUtil, null, [{
        key: 'SUtil_smoothBezier',

        /**
         * APIFunction: Zondy.LevelRenderer.SUtil_smoothBezier
         * 贝塞尔平滑曲线。
         *
         * Parameters:
         * points - {Array} 线段顶点数组。
         * smooth - {Number} 平滑等级, 0-1。
         * isLoop - {Boolean} isLoop。
         * constraint - {Array} 将计算出来的控制点约束在一个包围盒内，比如 [[0, 0], [100, 100]], 这个包围盒会与整个折线的包围盒做一个并集用来约束控制点。
         * originalPosition - {Array} 参考原点。默认值：[0, 0]。
         *
         * Returns:
         * {Array} 生成的平滑节点数组。
         */
        value: function SUtil_smoothBezier(points, smooth, isLoop, constraint, originalPosition) {
            if (!originalPosition || originalPosition !== 2) {
                originalPosition = [0, 0];
            }
            var __OP = originalPosition;

            var cps = [];

            var v = [];
            var v1 = [];
            var v2 = [];

            var hasConstraint = !!constraint;
            var min, max;
            if (hasConstraint) {
                min = [Infinity, Infinity];
                max = [-Infinity, -Infinity];
                var _len = points.length;
                for (var i = 0; i < _len; i++) {
                    SUtil.Util_vector.min(min, min, [points[i][0] + __OP[0], points[i][1] + __OP[1]]);
                    SUtil.Util_vector.max(max, max, [points[i][0] + __OP[0], points[i][1] + __OP[1]]);
                }
                // 与指定的包围盒做并集
                SUtil.Util_vector.min(min, min, constraint[0]);
                SUtil.Util_vector.max(max, max, constraint[1]);
            }

            var len = points.length;
            for (var _i = 0; _i < len; _i++) {
                var point = [points[_i][0] + __OP[0], points[_i][1] + __OP[1]];
                var prevPoint = void 0;
                var nextPoint = void 0;

                if (isLoop) {
                    prevPoint = [points[_i ? _i - 1 : len - 1][0] + __OP[0], points[_i ? _i - 1 : len - 1][1] + __OP[1]];
                    nextPoint = [points[(_i + 1) % len][0] + __OP[0], points[(_i + 1) % len][1] + __OP[1]];
                } else {
                    if (_i === 0 || _i === len - 1) {
                        cps.push([points[_i][0] + __OP[0], points[_i][1] + __OP[1]]);
                        continue;
                    } else {
                        prevPoint = [points[_i - 1][0] + __OP[0], points[_i - 1][1] + __OP[1]];
                        nextPoint = [points[_i + 1][0] + __OP[0], points[_i + 1][1] + __OP[1]];
                    }
                }

                SUtil.Util_vector.sub(v, nextPoint, prevPoint);

                // use degree to scale the handle length
                SUtil.Util_vector.scale(v, v, smooth);

                var d0 = SUtil.Util_vector.distance(point, prevPoint);
                var d1 = SUtil.Util_vector.distance(point, nextPoint);
                var sum = d0 + d1;
                if (sum !== 0) {
                    d0 /= sum;
                    d1 /= sum;
                }

                SUtil.Util_vector.scale(v1, v, -d0);
                SUtil.Util_vector.scale(v2, v, d1);
                var cp0 = SUtil.Util_vector.add([], point, v1);
                var cp1 = SUtil.Util_vector.add([], point, v2);
                if (hasConstraint) {
                    SUtil.Util_vector.max(cp0, cp0, min);
                    SUtil.Util_vector.min(cp0, cp0, max);
                    SUtil.Util_vector.max(cp1, cp1, min);
                    SUtil.Util_vector.min(cp1, cp1, max);
                }
                cps.push(cp0);
                cps.push(cp1);
            }

            if (isLoop) {
                cps.push(cps.shift());
            }

            return cps;
        }

        /**
         * APIFunction: Zondy.LevelRenderer.SUtil_smoothSpline
         * 插值折线。
         *
         * Parameters:
         * points - {Array} 线段顶点数组。
         * isLoop - {Boolean} isLoop。
         * constraint - {Array} 将计算出来的控制点约束在一个包围盒内，比如 [[0, 0], [100, 100]], 这个包围盒会与整个折线的包围盒做一个并集用来约束控制点。
         * originalPosition - {Array} 参考原点。默认值：[0, 0]。
         *
         * Returns:
         * {Array} 生成的平滑节点数组。
         */

    }, {
        key: 'SUtil_smoothSpline',
        value: function SUtil_smoothSpline(points, isLoop, constraint, originalPosition) {
            if (!originalPosition || originalPosition !== 2) {
                originalPosition = [0, 0];
            }
            var __OP = originalPosition;

            var len = points.length;
            var ret = [];

            var distance = 0;
            for (var i = 1; i < len; i++) {
                distance += SUtil.Util_vector.distance([points[i - 1][0] + __OP[0], points[i - 1][1] + __OP[1]], [points[i][0] + __OP[0], points[i][1] + __OP[1]]);
            }

            var segs = distance / 5;
            segs = segs < len ? len : segs;
            for (var _i2 = 0; _i2 < segs; _i2++) {
                var pos = _i2 / (segs - 1) * (isLoop ? len : len - 1);
                var idx = Math.floor(pos);

                var w = pos - idx;

                var p0 = void 0;
                var p1 = [points[idx % len][0] + __OP[0], points[idx % len][1] + __OP[1]];
                var p2 = void 0;
                var p3 = void 0;
                if (!isLoop) {
                    p0 = [points[idx === 0 ? idx : idx - 1][0] + __OP[0], points[idx === 0 ? idx : idx - 1][1] + __OP[1]];
                    p2 = [points[idx > len - 2 ? len - 1 : idx + 1][0] + __OP[0], points[idx > len - 2 ? len - 1 : idx + 1][1] + __OP[1]];
                    p3 = [points[idx > len - 3 ? len - 1 : idx + 2][0] + __OP[0], points[idx > len - 3 ? len - 1 : idx + 2][1] + __OP[1]];
                } else {

                    p0 = [points[(idx - 1 + len) % len][0] + __OP[0], points[(idx - 1 + len) % len][1] + __OP[1]];
                    p2 = [points[(idx + 1) % len][0] + __OP[0], points[(idx + 1) % len][1] + __OP[1]];
                    p3 = [points[(idx + 2) % len][0] + __OP[0], points[(idx + 2) % len][1] + __OP[1]];
                }

                var w2 = w * w;
                var w3 = w * w2;

                ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);
            }
            return ret;

            // inner Function
            function interpolate(p0, p1, p2, p3, t, t2, t3) {
                var v0 = (p2 - p0) * 0.5;
                var v1 = (p3 - p1) * 0.5;
                return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;
            }
        }

        /**
         * APIFunction: Zondy.LevelRenderer.SUtil_dashedLineTo
         * 虚线 lineTo。
         */

    }, {
        key: 'SUtil_dashedLineTo',
        value: function SUtil_dashedLineTo(ctx, x1, y1, x2, y2, dashLength, customDashPattern) {
            // http://msdn.microsoft.com/en-us/library/ie/dn265063(v=vs.85).aspx
            var dashPattern = [5, 5];
            dashLength = typeof dashLength != 'number' ? 5 : dashLength;

            if (ctx.setLineDash) {
                dashPattern[0] = dashLength;
                dashPattern[1] = dashLength;

                if (customDashPattern && customDashPattern instanceof Array) {
                    ctx.setLineDash(customDashPattern);
                } else {
                    ctx.setLineDash(dashPattern);
                }
                // ctx.setLineDash(dashPattern);

                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
                return;
            }

            var dx = x2 - x1;
            var dy = y2 - y1;
            var numDashes = Math.floor(Math.sqrt(dx * dx + dy * dy) / dashLength);
            dx = dx / numDashes;
            dy = dy / numDashes;
            var flag = true;
            for (var i = 0; i < numDashes; ++i) {
                if (flag) {
                    ctx.moveTo(x1, y1);
                } else {
                    ctx.lineTo(x1, y1);
                }
                flag = !flag;
                x1 += dx;
                y1 += dy;
            }
            ctx.lineTo(x2, y2);
        }
    }]);
    return SUtil;
}();

;

// 把所有工具对象放到全局静态变量上，以便直接调用工具方法，
// 避免使用工具时频繁的创建工具对象带来的性能消耗。
SUtil.Util_area = new _Area.Area();
SUtil.Util_color = new _Color.Color();
SUtil.Util_computeBoundingBox = new _ComputeBoundingBox.ComputeBoundingBox();
SUtil.Util_curve = new _Curve.Curve();
SUtil.Util_env = new _Env.Env();
SUtil.Util_event = new _Event.Event();
SUtil.Util_http = new _Http.Http();
SUtil.Util_math = new _Math.Math();
SUtil.Util_matrix = new _Matrix.Matrix();
SUtil.Util = new _Util.Util();
SUtil.Util_vector = new _Vector.Vector();

exports.SUtil = SUtil;

_Base.Zondy.LevelRenderer.SUtil = SUtil;

/***/ }),

/***/ "./overlay/levelRender/Shape.js":
/*!**************************************!*\
  !*** ./overlay/levelRender/Shape.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Shape = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _Eventful = __webpack_require__(/*! ./Eventful */ "./overlay/levelRender/Eventful.js");

var _Transformable = __webpack_require__(/*! ./Transformable */ "./overlay/levelRender/Transformable.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape
 * 图形（shape）基类。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Eventful>
 *  - <Zondy.LevelRenderer.Transformable>
 */
var Shape = function (_mixin) {
    (0, _inherits3.default)(Shape, _mixin);

    /**
     * Constructor: Zondy.LevelRenderer.Shape
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function Shape(options) {
        (0, _classCallCheck3.default)(this, Shape);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Shape.__proto__ || (0, _getPrototypeOf2.default)(Shape)).call(this, options));

        options = options || {};
        /**
         * APIProperty: id
         * {String} 唯一标识。
         */
        _this.id = null;

        /**
         * APIProperty: style
         * {Object} 基础绘制样式。
         *
         * Symbolizer properties:
         * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
         * color - {String} 填充颜色。默认值："#000000'"。
         * strokeColor - {String} 描边颜色。默认值："#000000'"。
         * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
         * lineWidth - {Number} 描边宽度。默认值：1。
         * opacity - {Number} 绘制透明度。默认值：1。
         * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
         * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
         * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
         * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
         * text - {String} 图形中的附加文本。默认值：""。
         * textColor - {String} 文本颜色。默认值："#000000'"。
         * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
         * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
         * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
         * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
         *
         */
        _this.style = {};

        /**
         * APIProperty: style.__rect
         * {Object} 包围图形的最小矩形盒子。该对象包含以下属性：
         *
         * Symbolizer properties:
         * x - {Number} 左上角顶点x轴坐标。
         * y - {Number} 左上角顶点y轴坐标。
         * width - {Number} 包围盒矩形宽度。
         * height - {Number} 包围盒矩形高度。
         */

        /**
         * Property: highlightStyle
         * {Object} 高亮样式。
         *
         * Symbolizer properties:
         * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
         * color - {String} 填充颜色。默认值："#000000'"。
         * strokeColor - {String} 描边颜色。默认值："#000000'"。
         * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
         * lineWidth - {Number} 描边宽度。默认值：1。
         * opacity - {Number} 绘制透明度。默认值：1。
         * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
         * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
         * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
         * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
         * text - {String} 图形中的附加文本。默认值：""。
         * textColor - {String} 文本颜色。默认值："#000000'"。
         * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
         * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
         * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
         * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
         */
        _this.highlightStyle = null;

        /**
         * APIProperty: parent
         * {Object} 父节点，只读属性。<Zondy.LevelRenderer.Group>
         */
        _this.parent = null;

        /**
         * Property: __dirty
         * {Boolean}
         */
        _this.__dirty = true;

        /**
         * Property: __clipShapes
         * {Array}
         */
        _this.__clipShapes = [];

        /**
         * APIProperty: invisible
         * {Boolean} 图形是否可见，为 true 时不绘制图形，但是仍能触发鼠标事件。默认值：false。
         */
        _this.invisible = false;

        /**
         * APIProperty: ignore
         * {Boolean} 图形是否忽略，为 true 时忽略图形的绘制以及事件触发。默认值：false。
         */
        _this.ignore = false;

        /**
         * APIProperty: zlevel
         * {Number} z 层 level，决定绘画在哪层 canvas 中。默认值：0。
         */
        _this.zlevel = 0;

        /**
         * APIProperty: draggable
         * {Boolean} 是否可拖拽。默认值：false。
         */
        _this.draggable = false;

        /**
         * APIProperty: clickable
         * {Boolean} 是否可点击。默认值：false。
         */
        _this.clickable = false;

        /**
         * APIProperty: hoverable
         * {Boolean} 是否可以 hover。默认值：true。
         */
        _this.hoverable = true;

        /**
         * APIProperty: z
         * {Number} z值，跟zlevel一样影响shape绘制的前后顺序，z值大的shape会覆盖在z值小的上面，
         * 但是并不会创建新的canvas，所以优先级低于zlevel，而且频繁改动的开销比zlevel小很多。
         * 默认值：0。
         */
        _this.z = 0;

        //地理扩展
        /**
         * APIProperty: refOriginalPosition
         * {Array} 图形参考原点位置，图形的参考中心位置。
         * refOriginalPosition 是长度为 2 的数组，第一个元素表示 x 坐标，第二个元素表示 y 坐标。
         *
         * refOriginalPosition 表示图形的参考中心，通常情况下，图形是使用 canvas 的原点位置作为位置参考，
         * 但 refOriginalPosition 可以改变图形的参考位置，例如： refOriginalPosition = [80, 80],
         * 图形圆的 style.x = 20, style.y = 20，那么圆在 canvas 中的实际位置是 [100, 100]。
         *
         * 图形（Shape） 的所有位置相关属性都是以 refOriginalPosition 为参考中心，
         * 也就是说图形的所有位置信息在 canvas 中都是以 refOriginalPosition 为参考的相对位置，只有
         * refOriginalPosition 的值为 [0, 0] 时，形的位置信息才是 canvas 绝对位置。
         *
         * 图形的位置信息通常有：style.pointList，style.x，style.y。
         *
         * refOriginalPosition。默认值是： [0, 0]。
         */
        _this.refOriginalPosition = [0, 0];

        /**
         * APIProperty: refDataID
         * {String} 图形所关联数据的 ID。
         *
         */
        _this.refDataID = null;

        /**
         * APIProperty: isHoverByRefDataID
         * {Boolean} 是否根据 refDataID 进行高亮。用于同时高亮所有 refDataID 相同的图形。
         *
         */
        _this.isHoverByRefDataID = false;

        /**
         * APIProperty: refDataHoverGroup
         * {String} 高亮图形组的组名。此属性在 refDataID 有效且 isHoverByRefDataID 为 true 时生效。
         * 一旦设置此属性，且属性值有效，只有关联同一个数据的图形且此属性相同的图形才会高亮。
         *
         */
        _this.refDataHoverGroup = null;

        /**
         * APIProperty: dataInfo
         * {Object} 图形的数据信息。
         *
         */
        _this.dataInfo = null;
        (0, _Util.extend)(_this, options);
        _this.id = _this.id || (0, _Util.newGuid)();
        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape";
        /**
         * APIMethod: getTansform
         * 变换鼠标位置到 shape 的局部坐标空间
         *
         */
        _this.getTansform = function () {
            var invTransform = [];

            return function (x, y) {
                var originPos = [x, y];
                // 对鼠标的坐标也做相同的变换
                if (this.needTransform && this.transform) {
                    _SUtil.SUtil.Util_matrix.invert(invTransform, this.transform);

                    _SUtil.SUtil.Util_matrix.mulVector(originPos, invTransform, [x, y, 1]);

                    if (x == originPos[0] && y == originPos[1]) {
                        // 避免外部修改导致的 needTransform 不准确
                        this.updateNeedTransform();
                    }
                }
                return originPos;
            };
        }();

        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Shape, [{
        key: 'destroy',
        value: function destroy() {
            this.id = null;
            this.style = null;
            this.highlightStyle = null;
            this.parent = null;
            this.__dirty = null;
            this.__clipShapes = null;
            this.invisible = null;
            this.ignore = null;
            this.zlevel = null;
            this.draggable = null;
            this.clickable = null;
            this.hoverable = null;
            this.z = null;

            this.refOriginalPosition = null;
            this.refDataID = null;
            this.refDataHoverGroup = null;
            this.isHoverByRefDataID = null;
            this.dataInfo = null;
            (0, _get3.default)(Shape.prototype.__proto__ || (0, _getPrototypeOf2.default)(Shape.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: brush
         * 绘制图形。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * isHighlight - {Boolean} 是否使用高亮属性。
         * updateCallback - {Function} 需要异步加载资源的 shape 可以通过这个 callback(e),
         * 让painter更新视图，base.brush 没用，需要的话重载 brush。
         *
         */

    }, {
        key: 'brush',
        value: function brush(ctx, isHighlight) {

            var style = this.beforeBrush(ctx, isHighlight);

            ctx.beginPath();
            this.buildPath(ctx, style);

            switch (style.brushType) {
                /* jshint ignore:start */
                case 'both':
                    this.setCtxGlobalAlpha(ctx, "fill", style);
                    ctx.fill();
                    if (style.lineWidth > 0) {
                        this.setCtxGlobalAlpha(ctx, "stroke", style);
                        ctx.stroke();
                    }
                    this.setCtxGlobalAlpha(ctx, "reset", style);
                    break;
                case 'stroke':
                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                    style.lineWidth > 0 && ctx.stroke();
                    this.setCtxGlobalAlpha(ctx, "reset", style);
                    break;
                /* jshint ignore:end */
                default:
                    this.setCtxGlobalAlpha(ctx, "fill", style);
                    ctx.fill();
                    this.setCtxGlobalAlpha(ctx, "reset", style);
                    break;
            }

            this.drawText(ctx, style, this.style);

            this.afterBrush(ctx);
        }

        /**
         * APIMethod: beforeBrush
         * 具体绘制操作前的一些公共操作。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * isHighlight - {Boolean} 是否使用高亮属性。
         *
         * Returns:
         * {Object} 处理后的样式。
         */

    }, {
        key: 'beforeBrush',
        value: function beforeBrush(ctx, isHighlight) {
            var style = this.style;

            if (this.brushTypeOnly) {
                style.brushType = this.brushTypeOnly;
            }

            if (isHighlight) {
                // 根据style扩展默认高亮样式
                style = this.getHighlightStyle(style, this.highlightStyle || {}, this.brushTypeOnly);
            }

            if (this.brushTypeOnly == 'stroke') {
                style.strokeColor = style.strokeColor || style.color;
            }

            ctx.save();

            this.doClip(ctx);

            this.setContext(ctx, style);

            // 设置transform
            this.setTransform(ctx);

            return style;
        }

        /**
         * APIMethod: afterBrush
         * 绘制后的处理。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         *
         */

    }, {
        key: 'afterBrush',
        value: function afterBrush(ctx) {
            ctx.restore();
        }

        /**
         * APIMethod: setContext
         * 设置 fillStyle, strokeStyle, shadow 等通用绘制样式。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} 样式。
         *
         */

    }, {
        key: 'setContext',
        value: function setContext(ctx, style) {
            var STYLE_CTX_MAP = [['color', 'fillStyle'], ['strokeColor', 'strokeStyle'], ['opacity', 'globalAlpha'], ['lineCap', 'lineCap'], ['lineJoin', 'lineJoin'], ['miterLimit', 'miterLimit'], ['lineWidth', 'lineWidth'], ['shadowBlur', 'shadowBlur'], ['shadowColor', 'shadowColor'], ['shadowOffsetX', 'shadowOffsetX'], ['shadowOffsetY', 'shadowOffsetY']];

            for (var i = 0, len = STYLE_CTX_MAP.length; i < len; i++) {
                var styleProp = STYLE_CTX_MAP[i][0];
                var styleValue = style[styleProp];
                var ctxProp = STYLE_CTX_MAP[i][1];

                if (typeof styleValue != 'undefined') {
                    ctx[ctxProp] = styleValue;
                }
            }
        }

        /**
         * Method: doClip
         *
         */

    }, {
        key: 'doClip',
        value: function doClip(ctx) {
            var clipShapeInvTransform = _SUtil.SUtil.Util_matrix.create();

            if (this.__clipShapes) {
                for (var i = 0; i < this.__clipShapes.length; i++) {
                    var clipShape = this.__clipShapes[i];
                    if (clipShape.needTransform) {
                        var m = clipShape.transform;
                        _SUtil.SUtil.Util_matrix.invert(clipShapeInvTransform, m);
                        ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
                    }
                    ctx.beginPath();
                    clipShape.buildPath(ctx, clipShape.style);
                    ctx.clip();
                    // Transform back
                    if (clipShape.needTransform) {
                        var _m = clipShapeInvTransform;
                        ctx.transform(_m[0], _m[1], _m[2], _m[3], _m[4], _m[5]);
                    }
                }
            }
        }

        /**
         * APIMethod: getHighlightStyle
         * 根据默认样式扩展高亮样式
         *
         * Parameters:
         * style - {Object} 样式。
         * highlightStyle - {Object} 高亮样式。
         * brushTypeOnly - {String} brushTypeOnly。
         *
         */

    }, {
        key: 'getHighlightStyle',
        value: function getHighlightStyle(style, highlightStyle, brushTypeOnly) {
            var newStyle = {};
            for (var k in style) {
                newStyle[k] = style[k];
            }

            var highlightColor = _SUtil.SUtil.Util_color.getHighlightColor();
            // 根据highlightStyle扩展
            if (style.brushType != 'stroke') {
                // 带填充则用高亮色加粗边线
                newStyle.strokeColor = highlightColor;
                // SMIC-方法修改 - start
                newStyle.lineWidth = style.lineWidth || 1;
                // 原始代码
                //      newStyle.lineWidth = (style.lineWidth || 1)
                //          + this.getHighlightZoom();
                // 修改代码1
                // if(!style.lineType || style.lineType === "solid"){
                //     newStyle.lineWidth = (style.lineWidth || 1)
                //         + this.getHighlightZoom();
                // }
                // else{
                //     newStyle.lineWidth = (style.lineWidth || 1);
                // }
                // SMIC-方法修改 - end
                newStyle.brushType = 'both';
            } else {
                if (brushTypeOnly != 'stroke') {
                    // 描边型的则用原色加工高亮
                    newStyle.strokeColor = highlightColor;
                    // SMIC-方法修改 - start
                    newStyle.lineWidth = style.lineWidth || 1;
                    // 原始代码
                    //      newStyle.lineWidth = (style.lineWidth || 1)
                    //          + this.getHighlightZoom();
                    // 修改代码1
                    // if(!style.lineType || style.lineType === "solid"){
                    //     newStyle.lineWidth = (style.lineWidth || 1)
                    //         + this.getHighlightZoom();
                    // }
                    // else{
                    //     newStyle.lineWidth = (style.lineWidth || 1);
                    // }
                    // SMIC-方法修改 - end
                } else {
                    // 线型的则用原色加工高亮
                    newStyle.strokeColor = highlightStyle.strokeColor || _SUtil.SUtil.Util_color.mix(style.strokeColor, _SUtil.SUtil.Util_color.toRGB(highlightColor));
                }
            }

            // 可自定义覆盖默认值
            for (var _k in highlightStyle) {
                if (typeof highlightStyle[_k] != 'undefined') {
                    newStyle[_k] = highlightStyle[_k];
                }
            }

            return newStyle;
        }

        /**
         * Method: getHighlightZoom
         * 高亮放大效果参数，当前统一设置为6，如有需要差异设置，通过 this.type 判断实例类型
         *
         */

    }, {
        key: 'getHighlightZoom',
        value: function getHighlightZoom() {
            return this.type != 'text' ? 6 : 2;
        }

        /**
         * APIMethod: drift
         * 移动位置
         *
         * Parameters:
         * dx - {Object} 横坐标变化。
         * dy - {Object} 纵坐标变化。
         *
         */

    }, {
        key: 'drift',
        value: function drift(dx, dy) {
            this.position[0] += dx;
            this.position[1] += dy;
        }

        /**
         * APIMethod: buildPath
         * 构建绘制的Path。子类必须重新实现此方法。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} 样式。
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {} // eslint-disable-line no-unused-vars

        /**
         * APIMethod: getRect
         * 计算返回包围盒矩形。子类必须重新实现此方法。
         *
         * Parameters:
         * style - {Object} 样式。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {} // eslint-disable-line no-unused-vars

        /**
         * APIMethod: isCover
         * 判断鼠标位置是否在图形内。
         *
         * Parameters:
         * x - {Number} x。
         * y - {Number} y。
         */

    }, {
        key: 'isCover',
        value: function isCover(x, y) {
            var originPos = this.getTansform(x, y);
            x = originPos[0];
            y = originPos[1];

            // 快速预判并保留判断矩形
            var rect = this.style.__rect;
            if (!rect) {
                rect = this.style.__rect = this.getRect(this.style);
            }

            if (x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height) {
                // 矩形内
                return _SUtil.SUtil.Util_area.isInside(this, this.style, x, y);
            }

            return false;
        }

        /**
         * APIMethod: drawText
         * 绘制附加文本。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {String} 样式。
         * normalStyle - {String} normalStyle 默认样式，用于定位文字显示。
         */

    }, {
        key: 'drawText',
        value: function drawText(ctx, style, normalStyle) {
            if (typeof style.text == 'undefined' || style.text === false) {
                return;
            }
            // 字体颜色策略
            var textColor = style.textColor || style.color || style.strokeColor;
            ctx.fillStyle = textColor;

            // 文本与图形间空白间隙
            var dd = 10;
            var al; // 文本水平对齐
            var bl; // 文本垂直对齐
            var tx; // 文本横坐标
            var ty; // 文本纵坐标

            var textPosition = style.textPosition // 用户定义
            || this.textPosition // shape默认
            || 'top'; // 全局默认

            // Smic 方法修改 -start
            var __OP = [];
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                __OP = [0, 0];
            } else {
                __OP = this.refOriginalPosition;
            }
            //原代码：
            // Smic 方法修改 -end

            switch (textPosition) {
                case 'inside':
                case 'top':
                case 'bottom':
                case 'left':
                case 'right':
                    if (this.getRect) {
                        var rect = (normalStyle || style).__rect || this.getRect(normalStyle || style);

                        switch (textPosition) {
                            case 'inside':
                                tx = rect.x + rect.width / 2;
                                ty = rect.y + rect.height / 2;
                                al = 'center';
                                bl = 'middle';
                                if (style.brushType != 'stroke' && textColor == style.color) {
                                    ctx.fillStyle = '#fff';
                                }
                                break;
                            case 'left':
                                tx = rect.x - dd;
                                ty = rect.y + rect.height / 2;
                                al = 'end';
                                bl = 'middle';
                                break;
                            case 'right':
                                tx = rect.x + rect.width + dd;
                                ty = rect.y + rect.height / 2;
                                al = 'start';
                                bl = 'middle';
                                break;
                            case 'top':
                                tx = rect.x + rect.width / 2;
                                ty = rect.y - dd;
                                al = 'center';
                                bl = 'bottom';
                                break;
                            case 'bottom':
                                tx = rect.x + rect.width / 2;
                                ty = rect.y + rect.height + dd;
                                al = 'center';
                                bl = 'top';
                                break;
                        }
                    }
                    break;
                case 'start':
                case 'end':
                    var xStart = 0;
                    var xEnd = 0;
                    var yStart = 0;
                    var yEnd = 0;
                    if (typeof style.pointList != 'undefined') {
                        var pointList = style.pointList;
                        if (pointList.length < 2) {
                            // 少于2个点就不画了~
                            return;
                        }
                        var length = pointList.length;
                        switch (textPosition) {
                            // Smic 方法修改 -start
                            case 'start':
                                xStart = pointList[0][0] + __OP[0];
                                xEnd = pointList[1][0] + __OP[0];
                                yStart = pointList[0][1] + __OP[1];
                                yEnd = pointList[1][1] + __OP[1];
                                break;
                            case 'end':
                                xStart = pointList[length - 2][0] + __OP[0];
                                xEnd = pointList[length - 1][0] + __OP[0];
                                yStart = pointList[length - 2][1] + __OP[1];
                                yEnd = pointList[length - 1][1] + __OP[1];
                                break;
                            //原代码：
                            /*
                             case 'start':
                             xStart = pointList[0][0];
                             xEnd = pointList[1][0];
                             yStart = pointList[0][1];
                             yEnd = pointList[1][1];
                             break;
                             case 'end':
                             xStart = pointList[length - 2][0];
                             xEnd = pointList[length - 1][0];
                             yStart = pointList[length - 2][1];
                             yEnd = pointList[length - 1][1];
                             break;
                             */
                            // Smic 方法修改 -end
                        }
                    } else {
                        // Smic 方法修改 -start
                        xStart = style.xStart + __OP[0] || 0;
                        xEnd = style.xEnd + __OP[0] || 0;
                        yStart = style.yStart + __OP[1] || 0;
                        yEnd = style.yEnd + __OP[1] || 0;
                        //原代码：
                        /*
                         xStart = style.xStart || 0;
                         xEnd = style.xEnd || 0;
                         yStart = style.yStart || 0;
                         yEnd = style.yEnd || 0;
                         */
                        // Smic 方法修改 -end
                    }

                    switch (textPosition) {
                        case 'start':
                            al = xStart < xEnd ? 'end' : 'start';
                            bl = yStart < yEnd ? 'bottom' : 'top';
                            tx = xStart;
                            ty = yStart;
                            break;
                        case 'end':
                            al = xStart < xEnd ? 'start' : 'end';
                            bl = yStart < yEnd ? 'top' : 'bottom';
                            tx = xEnd;
                            ty = yEnd;
                            break;
                    }
                    dd -= 4;
                    if (xStart && xEnd && xStart != xEnd) {
                        tx -= al == 'end' ? dd : -dd;
                    } else {
                        al = 'center';
                    }

                    if (yStart != yEnd) {
                        ty -= bl == 'bottom' ? dd : -dd;
                    } else {
                        bl = 'middle';
                    }
                    break;
                case 'specific':
                    tx = style.textX || 0;
                    ty = style.textY || 0;
                    al = 'start';
                    bl = 'middle';
                    break;
            }

            // Smic 方法修改 -start
            if (style.labelXOffset && !isNaN(style.labelXOffset)) {
                tx += style.labelXOffset;
            }
            if (style.labelYOffset && !isNaN(style.labelYOffset)) {
                ty += style.labelYOffset;
            }
            //原代码：
            // Smic 方法修改 -end

            if (tx != null && ty != null) {
                Shape._fillText(ctx, style.text, tx, ty, style.textFont, style.textAlign || al, style.textBaseline || bl);
            }
        }

        /**
         * Method: modSelf
         * 图形发生改变
         */

    }, {
        key: 'modSelf',
        value: function modSelf() {
            this.__dirty = true;
            if (this.style) {
                this.style.__rect = null;
            }
            if (this.highlightStyle) {
                this.highlightStyle.__rect = null;
            }
        }

        /**
         * APIMethod: isSilent
         * 图形是否会触发事件，通过 bind 绑定的事件
         */

    }, {
        key: 'isSilent',
        value: function isSilent() {
            return !(this.hoverable || this.draggable || this.clickable || this.onmousemove || this.onmouseover || this.onmouseout || this.onmousedown || this.onmouseup || this.onclick || this.ondragenter || this.ondragover || this.ondragleave || this.ondrop);
        }

        /**
         * Method: setCtxGlobalAlpha
         * 设置 Cavans 上下文全局透明度
         *
         * Parameters:
         * _ctx - {Object} Cavans 上下文
         * type - {String} one of 'stroke', 'fill', or 'reset'
         * style - {Object} Symbolizer hash
         */

    }, {
        key: 'setCtxGlobalAlpha',
        value: function setCtxGlobalAlpha(_ctx, type, style) {
            if (type === "fill") {
                _ctx.globalAlpha = typeof style["fillOpacity"] === "undefined" ? typeof style["opacity"] === "undefined" ? 1 : style['opacity'] : style['fillOpacity'];
            } else if (type === "stroke") {
                _ctx.globalAlpha = typeof style["strokeOpacity"] === "undefined" ? typeof style["opacity"] === "undefined" ? 1 : style['opacity'] : style['strokeOpacity'];
            } else {
                _ctx.globalAlpha = typeof style["opacity"] === "undefined" ? 1 : style['opacity'];
            }
        }

        /**
         * Method: Zondy.LevelRenderer.Shape._fillText
         * 填充文本
         */

    }], [{
        key: '_fillText',
        value: function _fillText(ctx, text, x, y, textFont, textAlign, textBaseline) {
            if (textFont) {
                ctx.font = textFont;
            }
            ctx.textAlign = textAlign;
            ctx.textBaseline = textBaseline;
            var rect = Shape._getTextRect(text, x, y, textFont, textAlign, textBaseline);

            text = (text + '').split('\n');

            var lineHeight = _SUtil.SUtil.Util_area.getTextHeight('ZH', textFont);

            switch (textBaseline) {
                case 'top':
                    y = rect.y;
                    break;
                case 'bottom':
                    y = rect.y + lineHeight;
                    break;
                default:
                    y = rect.y + lineHeight / 2;
            }

            for (var i = 0, l = text.length; i < l; i++) {
                ctx.fillText(text[i], x, y);
                y += lineHeight;
            }
        }

        /**
         * Method: Zondy.LevelRenderer.Shape._getTextRect
         * 返回矩形区域，用于局部刷新和文字定位
         *
         * Parameters:
         * text - {String} text。
         * x - {Number} x。
         * y - {Number} y。
         * textFont - {String} textFont。
         * textAlign - {String} textAlign。
         * textBaseline - {String} textBaseline。
         *
         * Returns:
         * {Object} 矩形区域。
         */

    }, {
        key: '_getTextRect',
        value: function _getTextRect(text, x, y, textFont, textAlign, textBaseline) {
            var width = _SUtil.SUtil.Util_area.getTextWidth(text, textFont);
            var lineHeight = _SUtil.SUtil.Util_area.getTextHeight('ZH', textFont);

            text = (text + '').split('\n');

            switch (textAlign) {
                case 'end':
                case 'right':
                    x -= width;
                    break;
                case 'center':
                    x -= width / 2;
                    break;
            }

            switch (textBaseline) {
                case 'top':
                    break;
                case 'bottom':
                    y -= lineHeight * text.length;
                    break;
                default:
                    y -= lineHeight * text.length / 2;
            }

            return {
                x: x,
                y: y,
                width: width,
                height: lineHeight * text.length
            };
        }
    }]);
    return Shape;
}((0, _Util.mixin)(_Eventful.Eventful, _Transformable.Transformable));

;
exports.Shape = Shape;

_Base.Zondy.LevelRenderer.Shape = Shape;

/***/ }),

/***/ "./overlay/levelRender/SmicBrokenLine.js":
/*!***********************************************!*\
  !*** ./overlay/levelRender/SmicBrokenLine.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicBrokenLine = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

var _SmicPolygon = __webpack_require__(/*! ./SmicPolygon */ "./overlay/levelRender/SmicPolygon.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicBrokenLine
 * 折线(ic)。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicBrokenLine({
 *         style: {
 *             pointList: [[0, 0], [100, 100], [100, 0]],
 *             smooth: 'bezier',
 *             strokeColor: 'purple'
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * (end)
 *
 */
var SmicBrokenLine = function (_Shape) {
    (0, _inherits3.default)(SmicBrokenLine, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * pointList - {Array} 节点数组，二维数组。默认值：null，必设参数。其形式如下：
     * (code)
     * (start code)
     *  [
     *  [10, 20],         //单个节点
     *  [30, 40],
     *  [25, 30]
     *   ]
     * (end)
     * smooth - {string} 是否做平滑插值, 平滑算法可以选择 "bezier", "spline"。默认值："";
     * smoothConstraint - {Number} 平滑约束。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style

    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicBrokenLine
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicBrokenLine(options) {
        (0, _classCallCheck3.default)(this, SmicBrokenLine);

        /**
         * Property: brushTypeOnly
         * {String}  线条只能描边。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicBrokenLine.__proto__ || (0, _getPrototypeOf2.default)(SmicBrokenLine)).call(this, options));

        _this.brushTypeOnly = 'stroke';

        /**
         * Property: textPosition
         * {String} 文本位置。
         */
        _this.textPosition = 'end';

        /**
         * Property: type
         * {String} 图形类型.
         */
        _this.type = 'smicbroken-line';
        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }

        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicBrokenLine";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicBrokenLine, [{
        key: 'destroy',
        value: function destroy() {
            this.brushTypeOnly = null;
            this.textPosition = null;
            this.type = null;

            (0, _get3.default)(SmicBrokenLine.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicBrokenLine.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 创建折线路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }

            var __OP = this.refOriginalPosition;

            var pointList = style.pointList;
            if (pointList.length < 2) {
                // 少于2个点就不画了~
                return;
            }

            var len = Math.min(style.pointList.length, Math.round(style.pointListLength || style.pointList.length));

            if (style.smooth && style.smooth !== 'spline') {
                var controlPoints = _SUtil.SUtil.SUtil_smoothBezier(pointList, style.smooth, false, style.smoothConstraint, __OP);

                ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                var cp1;
                var cp2;
                var p;
                for (var _i = 0; _i < len - 1; _i++) {
                    cp1 = controlPoints[_i * 2];
                    cp2 = controlPoints[_i * 2 + 1];
                    p = [pointList[_i + 1][0] + __OP[0], pointList[_i + 1][1] + __OP[1]];
                    ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);
                }
            } else {
                if (style.smooth === 'spline') {
                    pointList = _SUtil.SUtil.SUtil_smoothSpline(pointList, null, null, __OP);
                    len = pointList.length;
                }
                if (!style.lineType || style.lineType === 'solid') {
                    // 默认为实线
                    ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                    for (var _i2 = 1; _i2 < len; _i2++) {
                        ctx.lineTo(pointList[_i2][0] + __OP[0], pointList[_i2][1] + __OP[1]);
                    }
                } else if (style.lineType === 'dashed' || style.lineType === 'dotted' || style.lineType === 'dot' || style.lineType === 'dash' || style.lineType === 'longdash') {
                    var dashLength = style.lineWidth || 1;
                    var pattern1 = dashLength;
                    var pattern2 = dashLength;

                    //dashed
                    if (style.lineType === 'dashed') {
                        pattern1 *= 5;
                        pattern2 *= 5;
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 -= dashLength;
                            pattern2 += dashLength;
                        }
                    }

                    //dotted
                    if (style.lineType === 'dotted') {
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 = 1;
                            pattern2 += dashLength;
                        }
                    }

                    //dot
                    if (style.lineType === 'dot') {
                        pattern2 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 = 1;
                            pattern2 += dashLength;
                        }
                    }

                    //dash
                    if (style.lineType === 'dash') {
                        pattern1 *= 4;
                        pattern2 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 -= dashLength;
                            pattern2 += dashLength;
                        }
                    }

                    //longdash
                    if (style.lineType === 'longdash') {
                        pattern1 *= 8;
                        pattern2 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 -= dashLength;
                            pattern2 += dashLength;
                        }
                    }

                    ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                    for (var i = 1; i < len; i++) {
                        _SUtil.SUtil.SUtil_dashedLineTo(ctx, pointList[i - 1][0] + __OP[0], pointList[i - 1][1] + __OP[1], pointList[i][0] + __OP[0], pointList[i][1] + __OP[1], dashLength, [pattern1, pattern2]);
                    }
                } else if (style.lineType === 'dashot' || style.lineType === 'longdashdot') {
                    var _dashLength = style.lineWidth || 1;
                    var _pattern = _dashLength;
                    var _pattern2 = _dashLength;
                    var pattern3 = _dashLength;
                    var pattern4 = _dashLength;

                    //dashot
                    if (style.lineType === 'dashot') {
                        _pattern *= 4;
                        _pattern2 *= 4;
                        pattern4 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            _pattern -= _dashLength;
                            _pattern2 += _dashLength;
                            pattern3 = 1;
                            pattern4 += _dashLength;
                        }
                    }

                    //longdashdot
                    if (style.lineType === 'longdashdot') {
                        _pattern *= 8;
                        _pattern2 *= 4;
                        pattern4 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            _pattern -= _dashLength;
                            _pattern2 += _dashLength;
                            pattern3 = 1;
                            pattern4 += _dashLength;
                        }
                    }

                    _dashLength = (style.lineWidth || 1) * (style.lineType === 'dashed' ? 5 : 1);
                    ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                    for (var _i3 = 1; _i3 < len; _i3++) {
                        _SUtil.SUtil.SUtil_dashedLineTo(ctx, pointList[_i3 - 1][0] + __OP[0], pointList[_i3 - 1][1] + __OP[1], pointList[_i3][0] + __OP[0], pointList[_i3][1] + __OP[1], _dashLength, [_pattern, _pattern2, pattern3, pattern4]);
                    }
                }
            }
            return;
        }

        /**
         * APIMethod: getRect
         * 计算返回折线包围盒矩形。
         * 该包围盒是直接从四个控制点计算，并非最小包围盒。
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;
            return _SmicPolygon.SmicPolygon.prototype.getRect.apply(this, [style, __OP]);
        }
    }]);
    return SmicBrokenLine;
}(_Shape2.Shape);

;
exports.SmicBrokenLine = SmicBrokenLine;

_Base.Zondy.LevelRenderer.SmicBrokenLine = SmicBrokenLine;

/***/ }),

/***/ "./overlay/levelRender/SmicCircle.js":
/*!*******************************************!*\
  !*** ./overlay/levelRender/SmicCircle.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicCircle = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicCircle
 * 圆形
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.SmicCircle({
 *         style: {
 *             x: 100,
 *             y: 100,
 *             r: 60,
 *             brushType: "both",
 *             color: "blue",
 *             strokeColor: "red",
 *             lineWidth: 3,
 *             text: "Circle"
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * (end)
 *
 */
var SmicCircle = function (_Shape) {
    (0, _inherits3.default)(SmicCircle, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {number} 圆心x坐标,必设参数
     * y - {number} 圆心y坐标，必设参数
     * r - {number} 半径，必设参数
     * brushType - {string} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {string} 填充颜色,默认值"#000000"
     * strokeColor - {string} 描边颜色,默认值为'#000000'
     * lineCape — {string} 线帽样式，可以是 butt, round, square，默认是butt
     * lineWidth - {number} 描边宽度、默认是1
     * opacity - {number} 绘制透明度、默认是1，不透明
     * shadowBlur - {number} 阴影模糊度，大于0有效，默认是0
     * shadowColor - {string} 阴影颜色，默认是'#000000'
     * shadowOffsetX - {number} 阴影横向偏移，默认是0
     * shadowOffsetY - {number} 阴影纵向偏移，默认是0
     * text - {string} 图形中的附加文本，默认是0
     * textColor - {string} 文本颜色，默认是'#000000'
     * textFont - {string} 附加文本样式，eg:'bold 18px verdana'
     * textPosition - {string} 附加文本位置, 可以是 inside, left, right, top, bottom
     * textAlign - {string} 默认根据textPosition自动设置，附加文本水平对齐。可以是start, end, left, right, center
     * textBaseline {string} 默认根据textPosition自动设置，附加文本垂直对齐。可以是top, bottom, middle, alphabetic, hanging, ideographic
     */
    //打开接口 style


    /**
     * Constructor: Zondy.LevelRenderer.SmicCircle
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicCircle(options) {
        (0, _classCallCheck3.default)(this, SmicCircle);

        /**
         * Property: type
         * {String} 图形类型。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicCircle.__proto__ || (0, _getPrototypeOf2.default)(SmicCircle)).call(this, options));

        _this.type = 'smiccircle';

        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.SmicCircle";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicCircle, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            (0, _get3.default)(SmicCircle.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicCircle.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 创建图形路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var x = style.x + __OP[0]; // 圆心x
            var y = style.y + __OP[1]; // 圆心y

            ctx.moveTo(x + style.r, y);
            ctx.arc(x, y, style.r, 0, Math.PI * 2, true);

            return true;
        }

        /**
         * APIMethod: getRect
         * 返回圆形包围盒矩形
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (style.__rect) {
                return style.__rect;
            }

            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var x = style.x + __OP[0]; // 圆心x
            var y = style.y + __OP[1]; // 圆心y
            var r = style.r; // 圆r

            var lineWidth;
            if (style.brushType == 'stroke' || style.brushType == 'fill') {
                lineWidth = style.lineWidth || 1;
            } else {
                lineWidth = 0;
            }
            style.__rect = {
                x: Math.round(x - r - lineWidth / 2),
                y: Math.round(y - r - lineWidth / 2),
                width: r * 2 + lineWidth,
                height: r * 2 + lineWidth
            };

            return style.__rect;
        }
    }]);
    return SmicCircle;
}(_Shape2.Shape);

;
exports.SmicCircle = SmicCircle;

_Base.Zondy.LevelRenderer.SmicCircle = SmicCircle;

/***/ }),

/***/ "./overlay/levelRender/SmicEllipse.js":
/*!********************************************!*\
  !*** ./overlay/levelRender/SmicEllipse.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicEllipse = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicEllipse
 * 椭圆。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicEllipse({
 *       style: {
 *           x: 100,
 *           y: 100,
 *           a: 40,
 *           b: 20,
 *           brushType: 'both',
 *           color: 'blue',
 *           strokeColor: 'red',
 *           lineWidth: 3,
 *           text: 'SmicEllipse'
 *       }
 *   });
 *   levelRenderer.addShape(shape);
 * (end)
 *
 */
var SmicEllipse = function (_Shape) {
    (0, _inherits3.default)(SmicEllipse, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} 圆心 x 坐标，必设参数。
     * y - {Number} 圆心 y 坐标，必设参数。
     * a - {Number} 横轴半径，必设参数。
     * b - {Number} 纵轴半径，必设参数。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style
    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicEllipse
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicEllipse(options) {
        (0, _classCallCheck3.default)(this, SmicEllipse);

        /**
         * Property: type
         * {String} 图形类型。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicEllipse.__proto__ || (0, _getPrototypeOf2.default)(SmicEllipse)).call(this, options));

        _this.type = 'smicellipse';

        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }

        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicEllipse";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicEllipse, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            (0, _get3.default)(SmicEllipse.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicEllipse.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 构建椭圆的 Path。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var k = 0.5522848;
            var x = style.x + __OP[0];
            var y = style.y + __OP[1];
            var a = style.a;
            var b = style.b;
            var ox = a * k; // 水平控制点偏移量
            var oy = b * k; // 垂直控制点偏移量
            // 从椭圆的左端点开始顺时针绘制四条三次贝塞尔曲线
            ctx.moveTo(x - a, y);
            ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);
            ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);
            ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);
            ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);
            ctx.closePath();
        }

        /**
         * APIMethod: getRect
         * 计算返回椭圆包围盒矩形
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (style.__rect) {
                return style.__rect;
            }

            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var lineWidth;
            if (style.brushType == 'stroke' || style.brushType == 'fill') {
                lineWidth = style.lineWidth || 1;
            } else {
                lineWidth = 0;
            }
            style.__rect = {
                x: Math.round(style.x + __OP[0] - style.a - lineWidth / 2),
                y: Math.round(style.x + __OP[1] - style.b - lineWidth / 2),
                width: style.a * 2 + lineWidth,
                height: style.b * 2 + lineWidth
            };

            return style.__rect;
        }
    }]);
    return SmicEllipse;
}(_Shape2.Shape);

;
exports.SmicEllipse = SmicEllipse;

_Base.Zondy.LevelRenderer.SmicEllipse = SmicEllipse;

/***/ }),

/***/ "./overlay/levelRender/SmicImage.js":
/*!******************************************!*\
  !*** ./overlay/levelRender/SmicImage.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicImage = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicImage
 * 图片绘制。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicImage({
 *         style: {
 *             image: 'test.jpg',
 *             x: 100,
 *             y: 100
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * (end)
 *
 */
var SmicImage = function (_Shape) {
    (0, _inherits3.default)(SmicImage, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} 左上角横坐标，必设参数。
     * y - {Number} 左上角纵坐标，必设参数。
     * image - {String/Cavans} 图片地址或cavans对象，必设参数。
     * width - {Number} 绘制到画布上的宽度，默认为图片高度。
     * height - {Number} 绘制到画布上的高度，默认为图片高度。
     * sx - {Number} 从图片中裁剪的左上角横坐标。
     * sy - {Number} 从图片中裁剪的左上角纵坐标。
     * sWidth - {Number} 从图片中裁剪的宽度，默认为图片高度。
     * sHeight - {Number} 绘制到画布上的高度，默认为图片高度。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style

    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicImage
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicImage(options) {
        (0, _classCallCheck3.default)(this, SmicImage);

        /**
         * Property: type
         * {String} 图形类型。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicImage.__proto__ || (0, _getPrototypeOf2.default)(SmicImage)).call(this, options));

        _this.type = 'smicimage';

        /**
         * Property: _imageCache
         * {String} 图片缓存。
         */
        _this._imageCache = {};
        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicImage";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicImage, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            this._imageCache = null;
            (0, _get3.default)(SmicImage.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicImage.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 创建图片。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'brush',
        value: function brush(ctx, isHighlight, refresh) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var style = this.style || {};

            if (isHighlight) {
                // 根据style扩展默认高亮样式
                style = this.getHighlightStyle(style, this.highlightStyle || {});
            }

            var image = style.image;
            var me = this;

            if (typeof image === 'string') {
                var src = image;
                if (this._imageCache[src]) {
                    image = this._imageCache[src];
                } else {
                    image = new Image();
                    image.onload = function () {
                        image.onload = null;
                        clearTimeout(SmicImage._refreshTimeout);
                        SmicImage._needsRefresh.push(me);
                        // 防止因为缓存短时间内触发多次onload事件
                        SmicImage._refreshTimeout = setTimeout(function () {
                            refresh && refresh(SmicImage._needsRefresh);
                            // 清空 needsRefresh
                            SmicImage._needsRefresh = [];
                        }, 10);
                    };

                    image.src = src;
                    this._imageCache[src] = image;
                }
            }
            if (image) {
                // 图片已经加载完成
                if (image.nodeName.toUpperCase() == 'IMG') {
                    if (window.ActiveXObject) {
                        if (image.readyState != 'complete') {
                            return;
                        }
                    } else {
                        if (!image.complete) {
                            return;
                        }
                    }
                }
                // Else is canvas
                var width = style.width || image.width;
                var height = style.height || image.height;
                var x = style.x + __OP[0];
                var y = style.y + __OP[1];

                // 图片加载失败
                if (!image.width || !image.height) {
                    return;
                }

                ctx.save();

                this.doClip(ctx);

                this.setContext(ctx, style);

                // 设置transform
                this.setTransform(ctx);

                if (style.sWidth && style.sHeight) {
                    var sx = style.sx + __OP[0] || 0;
                    var sy = style.sy + __OP[1] || 0;
                    ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);
                } else if (style.sx && style.sy) {
                    var _sx = style.sx + __OP[0];
                    var _sy = style.sy + __OP[1];
                    var sWidth = width - _sx;
                    var sHeight = height - _sy;
                    ctx.drawImage(image, _sx, _sy, sWidth, sHeight, x, y, width, height);
                } else {
                    ctx.drawImage(image, x, y, width, height);
                }
                // 如果没设置宽和高的话自动根据图片宽高设置
                if (!style.width) {
                    style.width = width;
                }
                if (!style.height) {
                    style.height = height;
                }
                if (!this.style.width) {
                    this.style.width = width;
                }
                if (!this.style.height) {
                    this.style.height = height;
                }

                this.drawText(ctx, style, this.style);

                ctx.restore();
            }
        }

        /**
         * APIMethod: getRect
         * 计算返回图片的包围盒矩形。
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            return {
                x: style.x + __OP[0],
                y: style.y + __OP[1],
                width: style.width,
                height: style.height
            };
        }

        /**
         * APIMethod: clearCache
         * 清除图片缓存。
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'clearCache',
        value: function clearCache() {
            this._imageCache = {};
        }
    }]);
    return SmicImage;
}(_Shape2.Shape);

;
SmicImage._needsRefresh = [];
SmicImage._refreshTimeout = null;

exports.SmicImage = SmicImage;

_Base.Zondy.LevelRenderer.SmicImage = SmicImage;

/***/ }),

/***/ "./overlay/levelRender/SmicIsogon.js":
/*!*******************************************!*\
  !*** ./overlay/levelRender/SmicIsogon.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicIsogon = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.SmicIsogon
 * 正多边形。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 */
var SmicIsogon = function (_Shape) {
    (0, _inherits3.default)(SmicIsogon, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} 正 n 边形外接圆心 x 坐标，必设参数。
     * y - {Number} 正 n 边形外接圆心 y 坐标，必设参数。
     * r - {Number} 正n边形外接圆半径，必设参数。
     *ｎ - {Number} 指明正几边形，必设参数（n>=3）。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style


    /**
     * Constructor: Zondy.LevelRenderer.SmicIsogon
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicIsogon(options) {
        (0, _classCallCheck3.default)(this, SmicIsogon);

        /**
         * Property: type
         * {String} 图形类型。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicIsogon.__proto__ || (0, _getPrototypeOf2.default)(SmicIsogon)).call(this, options));

        _this.type = 'smicisogon';
        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.SmicIsogon";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicIsogon, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            (0, _get3.default)(SmicIsogon.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicIsogon.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 创建n角星（n>=3）路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var sin = _SUtil.SUtil.Util_math.sin;
            var cos = _SUtil.SUtil.Util_math.cos;
            var PI = Math.PI;

            var n = style.n;
            if (!n || n < 2) {
                return;
            }

            var x = style.x + __OP[0];
            var y = style.y + __OP[1];
            var r = style.r;

            var dStep = 2 * PI / n;
            var deg = -PI / 2;
            var xStart = x + r * cos(deg);
            var yStart = y + r * sin(deg);
            deg += dStep;

            // 记录边界点，用于判断insight
            var pointList = style.pointList = [];
            pointList.push([xStart, yStart]);
            for (var i = 0, end = n - 1; i < end; i++) {
                pointList.push([x + r * cos(deg), y + r * sin(deg)]);
                deg += dStep;
            }
            pointList.push([xStart, yStart]);

            // 绘制
            ctx.moveTo(pointList[0][0], pointList[0][1]);
            for (var _i = 0; _i < pointList.length; _i++) {
                ctx.lineTo(pointList[_i][0], pointList[_i][1]);
            }
            ctx.closePath();

            return;
        }

        /**
         * APIMethod: getRect
         * 计算返回正多边形的包围盒矩形。
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (style.__rect) {
                return style.__rect;
            }

            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var lineWidth;
            if (style.brushType == 'stroke' || style.brushType == 'fill') {
                lineWidth = style.lineWidth || 1;
            } else {
                lineWidth = 0;
            }
            style.__rect = {
                x: Math.round(style.x + __OP[0] - style.r - lineWidth / 2),
                y: Math.round(style.y + __OP[1] - style.r - lineWidth / 2),
                width: style.r * 2 + lineWidth,
                height: style.r * 2 + lineWidth
            };

            return style.__rect;
        }
    }]);
    return SmicIsogon;
}(_Shape2.Shape);

;
exports.SmicIsogon = SmicIsogon;

_Base.Zondy.LevelRenderer.SmicIsogon = SmicIsogon;

/***/ }),

/***/ "./overlay/levelRender/SmicPoint.js":
/*!******************************************!*\
  !*** ./overlay/levelRender/SmicPoint.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicPoint = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicPoint
 * 点。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicPoint({
 *       style: {
 *           x: 100,
 *           y: 100,
 *           r: 40,
 *           brushType: 'both',
 *           color: 'blue',
 *           strokeColor: 'red',
 *           lineWidth: 3,
 *           text: 'point'
 *       }
 *   });
 *   levelRenderer.addShape(shape);
 * (end)
 *
 */
var SmicPoint = function (_Shape) {
    (0, _inherits3.default)(SmicPoint, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} 圆心x坐标，必设参数。
     * y - {Number} 圆心y坐标，必设参数。
     * r - {Number} 半径，必设参数。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style


    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicPoint
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicPoint(options) {
        (0, _classCallCheck3.default)(this, SmicPoint);

        /**
         * Property: type
         * {String} 图形类型。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicPoint.__proto__ || (0, _getPrototypeOf2.default)(SmicPoint)).call(this, options));

        _this.type = 'smicpoint';
        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }

        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicPoint";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicPoint, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            (0, _get3.default)(SmicPoint.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicPoint.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 创建点触。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            ctx.arc(style.x + __OP[0], style.y + __OP[1], style.r, 0, Math.PI * 2, true);
            return;
        }

        /**
         * APIMethod: getRect
         * 计算返回点的包围盒矩形。
         * 该包围盒是直接从四个控制点计算，并非最小包围盒。
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            if (style.__rect) {
                return style.__rect;
            }

            var lineWidth;
            if (style.brushType == 'stroke' || style.brushType == 'fill') {
                lineWidth = style.lineWidth || 1;
            } else {
                lineWidth = 0;
            }
            style.__rect = {
                x: Math.round(style.x + __OP[0] - style.r - lineWidth / 2),
                y: Math.round(style.y + __OP[1] - style.r - lineWidth / 2),
                width: style.r * 2 + lineWidth,
                height: style.r * 2 + lineWidth
            };

            return style.__rect;
        }
    }]);
    return SmicPoint;
}(_Shape2.Shape);

;
exports.SmicPoint = SmicPoint;

_Base.Zondy.LevelRenderer.SmicPoint = SmicPoint;

/***/ }),

/***/ "./overlay/levelRender/SmicPolygon.js":
/*!********************************************!*\
  !*** ./overlay/levelRender/SmicPolygon.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicPolygon = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicPolygon
 * 多边形。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicPolygon({
 *         style: {
 *             // 100x100 的正方形
 *             pointList: [[0, 0], [100, 0], [100, 100], [0, 100]],
 *             color: 'blue'
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * (end)
 */
var SmicPolygon = function (_Shape) {
    (0, _inherits3.default)(SmicPolygon, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * pointList - {Array} 节点数组，二维数组。默认值：null，必设参数。其形式如下：
     * (code)
     * (start code)
     *  [
     *  [10, 20],         //单个节点
     *  [30, 40],
     *  [25, 30]
     *   ]
     * (end)
     * smooth - {string} 是否做平滑插值, 平滑算法可以选择 "bezier", "spline"。默认值："";
     * smoothConstraint - {Number} 平滑约束。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style

    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicPolygon
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicPolygon(options) {
        (0, _classCallCheck3.default)(this, SmicPolygon);

        /**
         * Property: type
         * {String} 图形类型.
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicPolygon.__proto__ || (0, _getPrototypeOf2.default)(SmicPolygon)).call(this, options));

        _this.type = 'smicpolygon';

        /**
         * APIProperty: _holePolygonPointList
         * {Array} 岛洞面多边形顶点数组（三维数组）
         *
         */
        _this.holePolygonPointLists = null;

        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicPolygon";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicPolygon, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            this.holePolygonPointLists = null;
            (0, _get3.default)(SmicPolygon.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicPolygon.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: brush
         * 笔触。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * isHighlight - {Boolean} 是否使用高亮属性。
         *
         */

    }, {
        key: 'brush',
        value: function brush(ctx, isHighlight) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }

            var style = this.style;
            if (isHighlight) {
                // 根据style扩展默认高亮样式
                style = this.getHighlightStyle(style, this.highlightStyle || {});
            }

            ctx.save();
            this.setContext(ctx, style);

            // 设置 transform
            this.setTransform(ctx);

            // 先 fill 再stroke
            var hasPath = false;
            if (style.brushType == 'fill' || style.brushType == 'both' || typeof style.brushType == 'undefined') {
                // 默认为fill
                ctx.beginPath();
                if (style.lineType == 'dashed' || style.lineType == 'dotted' || style.lineType == 'dot' || style.lineType == 'dash' || style.lineType == 'dashot' || style.lineType == 'longdash' || style.lineType == 'longdashdot') {
                    // 特殊处理，虚线围不成path，实线再build一次
                    this.buildPath(ctx, {
                        lineType: 'solid',
                        lineWidth: style.lineWidth,
                        pointList: style.pointList
                    });
                } else {
                    this.buildPath(ctx, style);
                    hasPath = true; // 这个path能用
                }
                ctx.closePath();
                this.setCtxGlobalAlpha(ctx, "fill", style);
                ctx.fill();
                this.setCtxGlobalAlpha(ctx, "reset", style);
            }

            if (style.lineWidth > 0 && (style.brushType == 'stroke' || style.brushType == 'both')) {
                if (!hasPath) {
                    ctx.beginPath();
                    this.buildPath(ctx, style);
                }
                this.setCtxGlobalAlpha(ctx, "stroke", style);
                ctx.stroke();
                this.setCtxGlobalAlpha(ctx, "reset", style);
            }

            this.drawText(ctx, style, this.style);

            //岛洞
            var hpStyle = (0, _Util.cloneObject)(style);

            if (hpStyle.pointList) {
                if (this.holePolygonPointLists && this.holePolygonPointLists.length > 0) {
                    var holePLS = this.holePolygonPointLists;
                    var holePLSen = holePLS.length;
                    for (var i = 0; i < holePLSen; i++) {
                        var holePL = holePLS[i];
                        //岛洞面
                        hpStyle.pointList = holePL;

                        ctx.globalCompositeOperation = "destination-out";
                        // 先 fill 再stroke
                        hasPath = false;
                        if (hpStyle.brushType == 'fill' || hpStyle.brushType == 'both' || typeof hpStyle.brushType == 'undefined') {
                            // 默认为fill
                            ctx.beginPath();
                            if (hpStyle.lineType == 'dashed' || hpStyle.lineType == 'dotted' || hpStyle.lineType == 'dot' || hpStyle.lineType == 'dash' || hpStyle.lineType == 'dashot' || hpStyle.lineType == 'longdash' || hpStyle.lineType == 'longdashdot') {
                                // 特殊处理，虚线围不成path，实线再build一次
                                this.buildPath(ctx, {
                                    lineType: 'solid',
                                    lineWidth: hpStyle.lineWidth,
                                    pointList: hpStyle.pointList
                                });
                            } else {
                                this.buildPath(ctx, hpStyle);
                                hasPath = true; // 这个path能用
                            }
                            ctx.closePath();
                            this.setCtxGlobalAlpha(ctx, "fill", hpStyle);
                            ctx.fill();
                            this.setCtxGlobalAlpha(ctx, "reset", hpStyle);
                        }

                        if (hpStyle.lineWidth > 0 && (hpStyle.brushType == 'stroke' || hpStyle.brushType == 'both')) {
                            if (!hasPath) {
                                ctx.beginPath();
                                this.buildPath(ctx, hpStyle);
                            }
                            //如果描边，先回复 globalCompositeOperation 默认值再描边。
                            ctx.globalCompositeOperation = "source-over";
                            this.setCtxGlobalAlpha(ctx, "stroke", hpStyle);
                            ctx.stroke();
                            this.setCtxGlobalAlpha(ctx, "reset", hpStyle);
                        } else {
                            ctx.globalCompositeOperation = "source-over";
                        }
                    }
                }
            }
            ctx.restore();
            return;
        }

        /**
         * APIMethod: buildPath
         * 创建多边形路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (style.showShadow) {
                ctx.shadowBlur = style.shadowBlur;
                ctx.shadowColor = style.shadowColor;
                ctx.shadowOffsetX = style.shadowOffsetX;
                ctx.shadowOffsetY = style.shadowOffsetY;
            }
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            // 虽然能重用 brokenLine，但底层图形基于性能考虑，重复代码减少调用吧
            var pointList = style.pointList;

            if (pointList.length < 2) {
                // 少于2个点就不画了~
                return;
            }

            if (style.smooth && style.smooth !== 'spline') {
                var controlPoints = _SUtil.SUtil.SUtil_smoothBezier(pointList, style.smooth, true, style.smoothConstraint, __OP);

                ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                var cp1;
                var cp2;
                var p;
                var len = pointList.length;
                for (var i = 0; i < len; i++) {
                    cp1 = controlPoints[i * 2];
                    cp2 = controlPoints[i * 2 + 1];
                    p = [pointList[(i + 1) % len][0] + __OP[0], pointList[(i + 1) % len][1] + __OP[1]];
                    ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);
                }
            } else {
                if (style.smooth === 'spline') {
                    pointList = _SUtil.SUtil.SUtil_smoothSpline(pointList, true, null, __OP);
                }

                if (!style.lineType || style.lineType == 'solid') {
                    // 默认为实线
                    ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                    for (var _i = 1; _i < pointList.length; _i++) {
                        ctx.lineTo(pointList[_i][0] + __OP[0], pointList[_i][1] + __OP[1]);
                    }
                    ctx.lineTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                } else if (style.lineType === 'dashed' || style.lineType === 'dotted' || style.lineType === 'dot' || style.lineType === 'dash' || style.lineType === 'longdash') {
                    // SMIC-方法修改 - start
                    var dashLengthForStyle = style._dashLength || (style.lineWidth || 1) * (style.lineType == 'dashed' ? 5 : 1);
                    style._dashLength = dashLengthForStyle;

                    var dashLength = style.lineWidth || 1;
                    var pattern1 = dashLength;
                    var pattern2 = dashLength;

                    //dashed
                    if (style.lineType === 'dashed') {
                        pattern1 *= 5;
                        pattern2 *= 5;
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 -= dashLength;
                            pattern2 += dashLength;
                        }
                    }

                    //dotted
                    if (style.lineType === 'dotted') {
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 = 1;
                            pattern2 += dashLength;
                        }
                    }

                    //dot
                    if (style.lineType === 'dot') {
                        pattern2 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 = 1;
                            pattern2 += dashLength;
                        }
                    }

                    //dash
                    if (style.lineType === 'dash') {
                        pattern1 *= 4;
                        pattern2 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 -= dashLength;
                            pattern2 += dashLength;
                        }
                    }

                    //longdash
                    if (style.lineType === 'longdash') {
                        pattern1 *= 8;
                        pattern2 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            pattern1 -= dashLength;
                            pattern2 += dashLength;
                        }
                    }

                    ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                    for (var _i2 = 1; _i2 < pointList.length; _i2++) {
                        _SUtil.SUtil.SUtil_dashedLineTo(ctx, pointList[_i2 - 1][0] + __OP[0], pointList[_i2 - 1][1] + __OP[1], pointList[_i2][0] + __OP[0], pointList[_i2][1] + __OP[1], dashLength, [pattern1, pattern2]);
                    }
                    _SUtil.SUtil.SUtil_dashedLineTo(ctx, pointList[pointList.length - 1][0] + __OP[0], pointList[pointList.length - 1][1] + __OP[1], pointList[0][0] + __OP[0], pointList[0][1] + __OP[1], dashLength, [pattern1, pattern2]);
                } else if (style.lineType === 'dashot' || style.lineType === 'longdashdot') {
                    var _dashLengthForStyle = style._dashLength || (style.lineWidth || 1) * (style.lineType == 'dashed' ? 5 : 1);
                    style._dashLength = _dashLengthForStyle;

                    var _dashLength = style.lineWidth || 1;
                    var _pattern = _dashLength;
                    var _pattern2 = _dashLength;
                    var pattern3 = _dashLength;
                    var pattern4 = _dashLength;

                    //dashot
                    if (style.lineType === 'dashot') {
                        _pattern *= 4;
                        _pattern2 *= 4;
                        pattern4 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            _pattern -= _dashLength;
                            _pattern2 += _dashLength;
                            pattern3 = 1;
                            pattern4 += _dashLength;
                        }
                    }

                    //longdashdot
                    if (style.lineType === 'longdashdot') {
                        _pattern *= 8;
                        _pattern2 *= 4;
                        pattern4 *= 4;
                        if (style.lineCap && style.lineCap !== "butt") {
                            _pattern -= _dashLength;
                            _pattern2 += _dashLength;
                            pattern3 = 1;
                            pattern4 += _dashLength;
                        }
                    }

                    ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                    for (var _i3 = 1; _i3 < pointList.length; _i3++) {
                        _SUtil.SUtil.SUtil_dashedLineTo(ctx, pointList[_i3 - 1][0] + __OP[0], pointList[_i3 - 1][1] + __OP[1], pointList[_i3][0] + __OP[0], pointList[_i3][1] + __OP[1], _dashLength, [_pattern, _pattern2, pattern3, pattern4]);
                    }
                    _SUtil.SUtil.SUtil_dashedLineTo(ctx, pointList[pointList.length - 1][0] + __OP[0], pointList[pointList.length - 1][1] + __OP[1], pointList[0][0] + __OP[0], pointList[0][1] + __OP[1], _dashLength, [_pattern, _pattern2, pattern3, pattern4]);
                }
            }
            return;
        }

        /**
         * APIMethod: getRect
         * 计算返回多边形包围盒矩阵。
         * 该包围盒是直接从四个控制点计算，并非最小包围盒。
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style, refOriginalPosition) {
            var __OP;
            if (!refOriginalPosition) {
                if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                    this.refOriginalPosition = [0, 0];
                }
                __OP = this.refOriginalPosition;
            } else {
                __OP = refOriginalPosition;
            }

            if (style.__rect) {
                return style.__rect;
            }

            var minX = Number.MAX_VALUE;
            var maxX = Number.MIN_VALUE;
            var minY = Number.MAX_VALUE;
            var maxY = Number.MIN_VALUE;

            var pointList = style.pointList;
            for (var i = 0, l = pointList.length; i < l; i++) {
                if (pointList[i][0] + __OP[0] < minX) {
                    minX = pointList[i][0] + __OP[0];
                }
                if (pointList[i][0] + __OP[0] > maxX) {
                    maxX = pointList[i][0] + __OP[0];
                }
                if (pointList[i][1] + __OP[1] < minY) {
                    minY = pointList[i][1] + __OP[1];
                }
                if (pointList[i][1] + __OP[1] > maxY) {
                    maxY = pointList[i][1] + __OP[1];
                }
            }

            var lineWidth;
            if (style.brushType == 'stroke' || style.brushType == 'fill') {
                lineWidth = style.lineWidth || 1;
            } else {
                lineWidth = 0;
            }

            style.__rect = {
                x: Math.round(minX - lineWidth / 2),
                y: Math.round(minY - lineWidth / 2),
                width: maxX - minX + lineWidth,
                height: maxY - minY + lineWidth
            };
            return style.__rect;
        }
    }]);
    return SmicPolygon;
}(_Shape2.Shape);

;
exports.SmicPolygon = SmicPolygon;

_Base.Zondy.LevelRenderer.SmicPolygon = SmicPolygon;

/***/ }),

/***/ "./overlay/levelRender/SmicRectangle.js":
/*!**********************************************!*\
  !*** ./overlay/levelRender/SmicRectangle.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicRectangle = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicRectangle
 * 矩形。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicRectangle({
 *         style: {
 *             x: 0,
 *             y: 0,
 *             width: 100,
 *             height: 100,
 *             radius: 20
 *         }
 *     });
 *   levelRenderer.addShape(shape);
 * (end)
 */
var SmicRectangle = function (_Shape) {
    (0, _inherits3.default)(SmicRectangle, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} 左上角 x 坐标，必设参数。
     * y - {Number} 左上角 y 坐标，必设参数。
     * width - {Number} 宽度，必设参数。
     * height - {Number} 高度，必设参数。
     * radius - {Array} 矩形圆角，可以用数组分别指定四个角的圆角，设：左上、右上、右下、左下角的半径依次为 r1、r2、r3、r4 则 radius为 [r1、r2、r3、r4 ]。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style

    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicRectangle
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicRectangle(options) {
        (0, _classCallCheck3.default)(this, SmicRectangle);

        /**
         * Property: type
         * {String} 图形类型.
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicRectangle.__proto__ || (0, _getPrototypeOf2.default)(SmicRectangle)).call(this, options));

        _this.type = 'smicrectangle';
        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicRectangle";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicRectangle, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            (0, _get3.default)(SmicRectangle.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicRectangle.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: _buildRadiusPath
         * 创建矩形的圆角路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: '_buildRadiusPath',
        value: function _buildRadiusPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            // 左上、右上、右下、左下角的半径依次为r1、r2、r3、r4
            // r缩写为1         相当于 [1, 1, 1, 1]
            // r缩写为[1]       相当于 [1, 1, 1, 1]
            // r缩写为[1, 2]    相当于 [1, 2, 1, 2]
            // r缩写为[1, 2, 3] 相当于 [1, 2, 3, 2]
            var x = style.x + __OP[0];
            var y = style.y + __OP[1];
            var width = style.width;
            var height = style.height;
            var r = style.radius;
            var r1;
            var r2;
            var r3;
            var r4;

            if (typeof r === 'number') {
                r1 = r2 = r3 = r4 = r;
            } else if (r instanceof Array) {
                if (r.length === 1) {
                    r1 = r2 = r3 = r4 = r[0];
                } else if (r.length === 2) {
                    r1 = r3 = r[0];
                    r2 = r4 = r[1];
                } else if (r.length === 3) {
                    r1 = r[0];
                    r2 = r4 = r[1];
                    r3 = r[2];
                } else {
                    r1 = r[0];
                    r2 = r[1];
                    r3 = r[2];
                    r4 = r[3];
                }
            } else {
                r1 = r2 = r3 = r4 = 0;
            }

            var total;
            if (r1 + r2 > width) {
                total = r1 + r2;
                r1 *= width / total;
                r2 *= width / total;
            }
            if (r3 + r4 > width) {
                total = r3 + r4;
                r3 *= width / total;
                r4 *= width / total;
            }
            if (r2 + r3 > height) {
                total = r2 + r3;
                r2 *= height / total;
                r3 *= height / total;
            }
            if (r1 + r4 > height) {
                total = r1 + r4;
                r1 *= height / total;
                r4 *= height / total;
            }
            ctx.moveTo(x + r1, y);
            ctx.lineTo(x + width - r2, y);
            r2 !== 0 && ctx.quadraticCurveTo(x + width, y, x + width, y + r2);
            ctx.lineTo(x + width, y + height - r3);
            r3 !== 0 && ctx.quadraticCurveTo(x + width, y + height, x + width - r3, y + height);
            ctx.lineTo(x + r4, y + height);
            r4 !== 0 && ctx.quadraticCurveTo(x, y + height, x, y + height - r4);
            ctx.lineTo(x, y + r1);
            r1 !== 0 && ctx.quadraticCurveTo(x, y, x + r1, y);
        }

        /**
         * APIMethod: _buildRadiusPath
         * 创建矩形路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            if (!style.radius) {
                ctx.moveTo(style.x + __OP[0], style.y + __OP[1]);
                ctx.lineTo(style.x + __OP[0] + style.width, style.y + __OP[1]);
                ctx.lineTo(style.x + __OP[0] + style.width, style.y + __OP[1] + style.height);
                ctx.lineTo(style.x + __OP[0], style.y + __OP[1] + style.height);
                ctx.lineTo(style.x + __OP[0], style.y + __OP[1]);
                // ctx.rect(style.x, style.y, style.width, style.height);
            } else {
                this._buildRadiusPath(ctx, style);
            }
            ctx.closePath();
            return;
        }

        /**
         * APIMethod: getRect
         * 计算返回矩形包围盒矩阵。
         * 该包围盒是直接从四个控制点计算，并非最小包围盒。
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            if (style.__rect) {
                return style.__rect;
            }

            var lineWidth;
            if (style.brushType == 'stroke' || style.brushType == 'fill') {
                lineWidth = style.lineWidth || 1;
            } else {
                lineWidth = 0;
            }
            style.__rect = {
                x: Math.round(style.x + __OP[0] - lineWidth / 2),
                y: Math.round(style.y + __OP[1] - lineWidth / 2),
                width: style.width + lineWidth,
                height: style.height + lineWidth
            };

            return style.__rect;
        }
    }]);
    return SmicRectangle;
}(_Shape2.Shape);

;
exports.SmicRectangle = SmicRectangle;

_Base.Zondy.LevelRenderer.SmicRectangle = SmicRectangle;

/***/ }),

/***/ "./overlay/levelRender/SmicRing.js":
/*!*****************************************!*\
  !*** ./overlay/levelRender/SmicRing.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicRing = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicRing
 * 圆环。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicRing({
 *         style: {
 *             x: 100,
 *             y: 100,
 *             r0: 30,
 *             r: 50
 *         }
 *     });
 *   levelRenderer.addShape(shape);
 * (end)
 */
var SmicRing = function (_Shape) {
    (0, _inherits3.default)(SmicRing, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} 圆心 x 坐标，必设参数。
     * y - {Number} 圆心 y 坐标，必设参数。
     * r - {Number} 外圆半径，必设参数。
     * r0 - {Number} 内圆半径，必设参数。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style

    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicRing
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicRing(options) {
        (0, _classCallCheck3.default)(this, SmicRing);

        /**
         * Property: type
         * {String} 图形类型。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicRing.__proto__ || (0, _getPrototypeOf2.default)(SmicRing)).call(this, options));

        _this.type = 'smicring';
        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicRing";

        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicRing, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            (0, _get3.default)(SmicRing.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicRing.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 创建圆环路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            // 非零环绕填充优化
            ctx.arc(style.x + __OP[0], style.y + __OP[1], style.r, 0, Math.PI * 2, false);
            ctx.moveTo(style.x + __OP[0] + style.r0, style.y + __OP[1]);
            ctx.arc(style.x + __OP[0], style.y + __OP[1], style.r0, 0, Math.PI * 2, true);
            return;
        }

        /**
         * APIMethod: getRect
         * 计算返回圆环包围盒矩阵
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (style.__rect) {
                return style.__rect;
            }

            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var lineWidth;
            if (style.brushType == 'stroke' || style.brushType == 'fill') {
                lineWidth = style.lineWidth || 1;
            } else {
                lineWidth = 0;
            }
            style.__rect = {
                x: Math.round(style.x + __OP[0] - style.r - lineWidth / 2),
                y: Math.round(style.y + __OP[1] - style.r - lineWidth / 2),
                width: style.r * 2 + lineWidth,
                height: style.r * 2 + lineWidth
            };

            return style.__rect;
        }
    }]);
    return SmicRing;
}(_Shape2.Shape);

;
exports.SmicRing = SmicRing;

_Base.Zondy.LevelRenderer.SmicRing = SmicRing;

/***/ }),

/***/ "./overlay/levelRender/SmicSector.js":
/*!*******************************************!*\
  !*** ./overlay/levelRender/SmicSector.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicSector = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicSector
 * 扇形。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicSector({
 *         style: {
 *             x: 100,
 *             y: 100,
 *             r: 60,
 *             r0: 30,
 *             startAngle: 0,
 *             endEngle: 180
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * (end)
 *
 */
var SmicSector = function (_Shape) {
    (0, _inherits3.default)(SmicSector, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} 圆心 x 坐标，必设参数。
     * y - {Number} 圆心 y 坐标，必设参数。
     * r - {Number} 外圆半径，必设参数。
     * r0 - {Number} 内圆半径，指定后将出现内弧，同时扇边长度为`r - r0`。取值范围[0, r)，默认值：0。
     * startAngle - {Number} 起始角度，必设参数。取值范围[0, 360)。
     * endAngle - {Number} 结束角度，必设参数。取值范围(0, 360。
     * clockWise - {Boolean} 是否是顺时针。默认值：false。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style


    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicSector
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicSector(options) {
        (0, _classCallCheck3.default)(this, SmicSector);

        /**
         * Property: type
         * {String} 图形类型。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicSector.__proto__ || (0, _getPrototypeOf2.default)(SmicSector)).call(this, options));

        _this.type = 'smicsector';
        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicSector";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicSector, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            (0, _get3.default)(SmicSector.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicSector.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 创建扇形路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var x = style.x + __OP[0]; // 圆心x
            var y = style.y + __OP[1]; // 圆心y
            var r0 = style.r0 || 0; // 形内半径[0,r)
            var r = style.r; // 扇形外半径(0,r]
            var startAngle = style.startAngle; // 起始角度[0,360)
            var endAngle = style.endAngle; // 结束角度(0,360]
            var clockWise = style.clockWise || false;

            startAngle = _SUtil.SUtil.Util_math.degreeToRadian(startAngle);
            endAngle = _SUtil.SUtil.Util_math.degreeToRadian(endAngle);

            if (!clockWise) {
                // 扇形默认是逆时针方向，Y轴向上
                // 这个跟arc的标准不一样，为了兼容echarts
                startAngle = -startAngle;
                endAngle = -endAngle;
            }

            var unitX = _SUtil.SUtil.Util_math.cos(startAngle);
            var unitY = _SUtil.SUtil.Util_math.sin(startAngle);
            ctx.moveTo(unitX * r0 + x, unitY * r0 + y);

            ctx.lineTo(unitX * r + x, unitY * r + y);

            ctx.arc(x, y, r, startAngle, endAngle, !clockWise);

            ctx.lineTo(_SUtil.SUtil.Util_math.cos(endAngle) * r0 + x, _SUtil.SUtil.Util_math.sin(endAngle) * r0 + y);

            if (r0 !== 0) {
                ctx.arc(x, y, r0, endAngle, startAngle, clockWise);
            }

            ctx.closePath();

            return;
        }

        /**
         * APIMethod: getRect
         * 返回扇形包围盒矩形
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (style.__rect) {
                return style.__rect;
            }

            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var min0 = _SUtil.SUtil.Util_vector.create();
            var min1 = _SUtil.SUtil.Util_vector.create();
            var max0 = _SUtil.SUtil.Util_vector.create();
            var max1 = _SUtil.SUtil.Util_vector.create();

            var x = style.x + __OP[0]; // 圆心x
            var y = style.y + __OP[1]; // 圆心y
            var r0 = style.r0 || 0; // 形内半径[0,r)
            var r = style.r; // 扇形外半径(0,r]
            var startAngle = _SUtil.SUtil.Util_math.degreeToRadian(style.startAngle);
            var endAngle = _SUtil.SUtil.Util_math.degreeToRadian(style.endAngle);
            var clockWise = style.clockWise;

            if (!clockWise) {
                startAngle = -startAngle;
                endAngle = -endAngle;
            }

            if (r0 > 1) {
                _SUtil.SUtil.Util_computeBoundingBox.arc(x, y, r0, startAngle, endAngle, !clockWise, min0, max0);
            } else {
                min0[0] = max0[0] = x;
                min0[1] = max0[1] = y;
            }
            _SUtil.SUtil.Util_computeBoundingBox.arc(x, y, r, startAngle, endAngle, !clockWise, min1, max1);

            _SUtil.SUtil.Util_vector.min(min0, min0, min1);
            _SUtil.SUtil.Util_vector.max(max0, max0, max1);
            style.__rect = {
                x: min0[0],
                y: min0[1],
                width: max0[0] - min0[0],
                height: max0[1] - min0[1]
            };
            return style.__rect;
        }
    }]);
    return SmicSector;
}(_Shape2.Shape);

;
exports.SmicSector = SmicSector;

_Base.Zondy.LevelRenderer.SmicSector = SmicSector;

/***/ }),

/***/ "./overlay/levelRender/SmicStar.js":
/*!*****************************************!*\
  !*** ./overlay/levelRender/SmicStar.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicStar = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Shape.SmicStar
 * n 角星（n>3）。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.Shape.SmicStar({
 *         style: {
 *             x: 200,
 *             y: 100,
 *             r: 150,
 *             n: 5,
 *             text: '五角星'
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * (end)
 *
 */
var SmicStar = function (_Shape) {
    (0, _inherits3.default)(SmicStar, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} n 角星外接圆心 x 坐标，必设参数。
     * y - {Number} n 角星外接圆心 y 坐标，必设参数。
     * r - {Number} n 角星外接圆半径，必设参数。
     * r0 - {Number} n 角星内部顶点（凹点）的外接圆半径。如果不指定此参数，则自动计算：取相隔外部顶点连线的交点作内部顶点。
     * n - {Number} 指明几角星，必设参数。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineCape - {String} 线帽样式。可设值："butt", "round", "square"。默认值："butt"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     * text - {String} 图形中的附加文本。默认值：""。
     * textColor - {String} 文本颜色。默认值："#000000'"。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textPosition - {String} 附加文本位置。可设值："inside", "left", "right", top", "bottom", "end"。默认值："end"。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     */
    //打开接口 style


    /**
     * Constructor: Zondy.LevelRenderer.Shape.SmicStar
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicStar(options) {
        (0, _classCallCheck3.default)(this, SmicStar);

        /**
         * Property: type
         * {String} 图形类型。
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicStar.__proto__ || (0, _getPrototypeOf2.default)(SmicStar)).call(this, options));

        _this.type = 'smicstar';

        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }

        _this.CLASS_NAME = "Zondy.LevelRenderer.Shape.SmicStar";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicStar, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;
            (0, _get3.default)(SmicStar.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicStar.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: buildPath
         * 创建n  角星（n>3）路径。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * style - {Object} style。
         *
         */

    }, {
        key: 'buildPath',
        value: function buildPath(ctx, style) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var n = style.n;
            if (!n || n < 2) {
                return;
            }

            var sin = _SUtil.SUtil.Util_math.sin;
            var cos = _SUtil.SUtil.Util_math.cos;
            var PI = Math.PI;

            var x = style.x + __OP[0];
            var y = style.y + __OP[1];
            var r = style.r;
            var r0 = style.r0;

            // 如果未指定内部顶点外接圆半径，则自动计算
            if (r0 == null) {
                r0 = n > 4
                // 相隔的外部顶点的连线的交点，
                // 被取为内部交点，以此计算r0
                ? r * cos(2 * PI / n) / cos(PI / n)
                // 二三四角星的特殊处理
                : r / 3;
            }

            var dStep = PI / n;
            var deg = -PI / 2;
            var xStart = x + r * cos(deg);
            var yStart = y + r * sin(deg);
            deg += dStep;

            // 记录边界点，用于判断inside
            var pointList = style.pointList = [];
            pointList.push([xStart, yStart]);
            for (var i = 0, end = n * 2 - 1, ri; i < end; i++) {
                ri = i % 2 === 0 ? r0 : r;
                pointList.push([x + ri * cos(deg), y + ri * sin(deg)]);
                deg += dStep;
            }
            pointList.push([xStart, yStart]);

            // 绘制
            ctx.moveTo(pointList[0][0], pointList[0][1]);
            for (var _i = 0; _i < pointList.length; _i++) {
                ctx.lineTo(pointList[_i][0], pointList[_i][1]);
            }

            ctx.closePath();

            return;
        }

        /**
         * APIMethod: getRect
         * 返回 n 角星包围盒矩形。
         *
         * Parameters:
         * style - {Object} style
         *
         * Returns:
         * {Object} 边框对象。包含属性：x，y，width，height。
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (style.__rect) {
                return style.__rect;
            }

            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var lineWidth;
            if (style.brushType == 'stroke' || style.brushType == 'fill') {
                lineWidth = style.lineWidth || 1;
            } else {
                lineWidth = 0;
            }
            style.__rect = {
                x: Math.round(style.x + __OP[0] - style.r - lineWidth / 2),
                y: Math.round(style.y + __OP[1] - style.r - lineWidth / 2),
                width: style.r * 2 + lineWidth,
                height: style.r * 2 + lineWidth
            };

            return style.__rect;
        }
    }]);
    return SmicStar;
}(_Shape2.Shape);

;
exports.SmicStar = SmicStar;

_Base.Zondy.LevelRenderer.SmicStar = SmicStar;

/***/ }),

/***/ "./overlay/levelRender/SmicText.js":
/*!*****************************************!*\
  !*** ./overlay/levelRender/SmicText.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SmicText = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Shape2 = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.SmicText
 * 文本。
 *
 * Inherits from:
 *  - <Zondy.LevelRenderer.Shape>
 *
 * (code)
 *   var shape = new Zondy.LevelRenderer.SmicText({
 *         style: {
 *             text: 'Label',
 *             x: 100,
 *             y: 100,
 *             textFont: '14px Arial'
 *         }
 *     });
 *   levelRenderer.addShape(shape);
 * (end)
 */
var SmicText = function (_Shape) {
    (0, _inherits3.default)(SmicText, _Shape);

    /**
     * Property: style
     * {Object} 绘制样式。
     *
     * Symbolizer properties:
     * x - {Number} 横坐标，必设参数。
     * y - {Number} 纵坐标，必设参数。
     * text - {String} 图形中的附加文本。默认值：""。
     * maxWidth - {Number} 最大宽度限制。默认值：null。
     * textFont - {String} 附加文本样式。示例:'bold 18px verdana'。
     * textAlign - {String} 附加文本水平对齐。可设值："start", "end", "left", "right", "center"。默认根据 textPosition 自动设置。
     * textBaseline - {String} 附加文本垂直对齐。可设值："top", "bottom", "middle", "alphabetic", "hanging", "ideographic"。默认根据 textPosition 自动设置。
     * brushType - {String} 画笔类型。可设值："fill", "stroke", "both"。默认值："fill"。
     * color - {String} 填充颜色。默认值："#000000'"。
     * strokeColor - {String} 描边颜色。默认值："#000000'"。
     * lineWidth - {Number} 描边宽度。默认值：1。
     * opacity - {Number} 绘制透明度。默认值：1。
     * shadowBlur - {Number} 阴影模糊度，大于0有效。默认值：0。
     * shadowColor - {Number} 阴影颜色。默认值："#000000'"。
     * shadowOffsetX - {Number} 阴影横向偏移。默认值：0。
     * shadowOffsetY - {Number} 阴影纵向偏移。默认值：0。
     */
    //打开接口 style


    /**
     * Constructor: Zondy.LevelRenderer.SmicText
     * 构造函数。
     *
     * Parameters:
     * options - {Array} shape 的配置（options）项，可以是 shape 的自有属性，也可以是自定义的属性。
     *
     */
    function SmicText(options) {
        (0, _classCallCheck3.default)(this, SmicText);

        /**
         * APIProperty: type
         * {String} 图形类型.
         */
        var _this = (0, _possibleConstructorReturn3.default)(this, (SmicText.__proto__ || (0, _getPrototypeOf2.default)(SmicText)).call(this, options));

        _this.type = 'smictext';
        if (!_this.refOriginalPosition || _this.refOriginalPosition.length !== 2) {
            _this.refOriginalPosition = [0, 0];
        }
        _this.CLASS_NAME = "Zondy.LevelRenderer.SmicText";
        return _this;
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(SmicText, [{
        key: 'destroy',
        value: function destroy() {
            this.type = null;

            (0, _get3.default)(SmicText.prototype.__proto__ || (0, _getPrototypeOf2.default)(SmicText.prototype), 'destroy', this).call(this);
        }

        /**
         * APIMethod: brush
         * 笔触。
         *
         * Parameters:
         * ctx - {CanvasRenderingContext2D} Context2D 上下文。
         * isHighlight - {Boolean} 是否使用高亮属性。
         *
         */

    }, {
        key: 'brush',
        value: function brush(ctx, isHighlight) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var style = this.style;
            if (isHighlight) {
                // 根据style扩展默认高亮样式
                style = this.getHighlightStyle(style, this.highlightStyle || {});
            }

            if (typeof style.text == 'undefined' || style.text === false) {
                return;
            }

            ctx.save();
            this.doClip(ctx);

            this.setContext(ctx, style);

            // 设置transform
            this.setTransform(ctx);

            if (style.textFont) {
                ctx.font = style.textFont;
            }
            ctx.textAlign = style.textAlign || 'start';
            ctx.textBaseline = style.textBaseline || 'middle';

            var text = (style.text + '').split('\n');
            var lineHeight = _SUtil.SUtil.Util_area.getTextHeight('ZH', style.textFont);
            var rect = this.getRectNoRotation(style);
            // var x = style.x;
            var x = style.x + __OP[0];
            var y;
            if (style.textBaseline == 'top') {
                y = rect.y;
            } else if (style.textBaseline == 'bottom') {
                y = rect.y + lineHeight;
            } else {
                y = rect.y + lineHeight / 2;
            }
            var ox = style.x + __OP[0];
            var oy = style.y + __OP[1];

            //文本绘制
            for (var i = 0, l = text.length; i < l; i++) {
                //是否渲染矩形背景及颜色
                if (style.labelRect) {
                    //+4,-2是为了让文字距边框左右边缘有点间隔
                    ctx.fillRect(rect.x - 2, rect.y, rect.width + 4, rect.height);
                    ctx.fillStyle = style.strokeColor;
                    ctx.strokeRect(rect.x - 2, rect.y, rect.width + 4, rect.height);
                    ctx.fillStyle = style.textColor;
                }

                switch (style.brushType) {
                    case 'stroke':
                        this.setCtxGlobalAlpha(ctx, "stroke", style);
                        if (style.textRotation && style.textRotation !== 0) {
                            ctx.save();
                            ctx.translate(ox, oy);
                            ctx.rotate(style.textRotation * Math.PI / 180);
                            if (style.textBaseline == 'top') {
                                if (style.maxWidth) {
                                    ctx.strokeText(text[i], 0, lineHeight * i, style.maxWidth);
                                } else {
                                    ctx.strokeText(text[i], 0, lineHeight * i);
                                }
                            } else if (style.textBaseline == 'bottom') {
                                if (style.maxWidth) {
                                    ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height, style.maxWidth);
                                } else {
                                    ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height);
                                }
                            } else {
                                if (style.maxWidth) {
                                    ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2, style.maxWidth);
                                } else {
                                    ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2);
                                }
                            }
                            ctx.restore();
                        } else {
                            if (style.maxWidth) {
                                ctx.strokeText(text[i], x, y, style.maxWidth);
                            } else {
                                ctx.strokeText(text[i], x, y);
                            }
                        }
                        this.setCtxGlobalAlpha(ctx, "reset", style);
                        break;
                    case 'both':
                        if (style.textRotation && style.textRotation !== 0) {
                            ctx.save();
                            ctx.translate(ox, oy);
                            ctx.rotate(style.textRotation * Math.PI / 180);
                            if (style.textBaseline == 'top') {
                                if (style.maxWidth) {
                                    this.setCtxGlobalAlpha(ctx, "fill", style);
                                    ctx.fillText(text[i], 0, lineHeight * i, style.maxWidth);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);

                                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                                    ctx.strokeText(text[i], 0, lineHeight * i, style.maxWidth);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);
                                } else {
                                    this.setCtxGlobalAlpha(ctx, "fill", style);
                                    ctx.fillText(text[i], 0, lineHeight * i);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);

                                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                                    ctx.strokeText(text[i], 0, lineHeight * i);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);
                                }
                            } else if (style.textBaseline == 'bottom') {
                                if (style.maxWidth) {
                                    this.setCtxGlobalAlpha(ctx, "fill", style);
                                    ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height, style.maxWidth);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);

                                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                                    ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height, style.maxWidth);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);
                                } else {
                                    this.setCtxGlobalAlpha(ctx, "fill", style);
                                    ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);

                                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                                    ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);
                                }
                            } else {
                                if (style.maxWidth) {
                                    this.setCtxGlobalAlpha(ctx, "fill", style);
                                    ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2, style.maxWidth);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);

                                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                                    ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2, style.maxWidth);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);
                                } else {
                                    this.setCtxGlobalAlpha(ctx, "fill", style);
                                    ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);

                                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                                    ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2);
                                    this.setCtxGlobalAlpha(ctx, "reset", style);
                                }
                            }
                            ctx.restore();
                        } else {
                            if (style.maxWidth) {
                                this.setCtxGlobalAlpha(ctx, "fill", style);
                                ctx.fillText(text[i], x, y, style.maxWidth);
                                this.setCtxGlobalAlpha(ctx, "reset", style);

                                this.setCtxGlobalAlpha(ctx, "stroke", style);
                                ctx.strokeText(text[i], x, y, style.maxWidth);
                                this.setCtxGlobalAlpha(ctx, "reset", style);
                            } else {
                                this.setCtxGlobalAlpha(ctx, "fill", style);
                                ctx.fillText(text[i], x, y);
                                this.setCtxGlobalAlpha(ctx, "reset", style);

                                this.setCtxGlobalAlpha(ctx, "stroke", style);
                                ctx.strokeText(text[i], x, y);
                                this.setCtxGlobalAlpha(ctx, "reset", style);
                            }
                        }
                        break;
                    default:
                        //fill or others
                        this.setCtxGlobalAlpha(ctx, "fill", style);
                        if (style.textRotation && style.textRotation !== 0) {
                            ctx.save();
                            ctx.translate(ox, oy);
                            ctx.rotate(style.textRotation * Math.PI / 180);
                            if (style.textBaseline == 'top') {
                                if (style.maxWidth) {
                                    ctx.fillText(text[i], 0, lineHeight * i, style.maxWidth);
                                } else {
                                    ctx.fillText(text[i], 0, lineHeight * i);
                                }
                            } else if (style.textBaseline == 'bottom') {
                                if (style.maxWidth) {
                                    ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height, style.maxWidth);
                                } else {
                                    ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height);
                                }
                            } else {
                                if (style.maxWidth) {
                                    ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2, style.maxWidth);
                                } else {
                                    ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2);
                                }
                            }
                            ctx.restore();
                        } else {
                            if (style.maxWidth) {
                                ctx.fillText(text[i], x, y, style.maxWidth);
                            } else {
                                ctx.fillText(text[i], x, y);
                            }
                        }
                        this.setCtxGlobalAlpha(ctx, "reset", style);
                }
                y += lineHeight;
            }

            ctx.restore();
            return;
        }

        /**
         * Method: getRect
         * 返回文字包围盒矩形
         */

    }, {
        key: 'getRect',
        value: function getRect(style) {
            if (style.__rect) {
                return style.__rect;
            }

            var left, top, right, bottom;
            var tbg = this.getTextBackground(style, true);
            for (var i = 0, len = tbg.length; i < len; i++) {
                var poi = tbg[i];

                //用第一个点初始化
                if (i == 0) {
                    left = poi[0];
                    right = poi[0];
                    top = poi[1];
                    bottom = poi[1];
                } else {
                    if (poi[0] < left) {
                        left = poi[0];
                    }
                    if (poi[0] > right) {
                        right = poi[0];
                    }
                    if (poi[1] < top) {
                        top = poi[1];
                    }
                    if (poi[1] > bottom) {
                        bottom = poi[1];
                    }
                }
            }

            style.__rect = {
                x: left,
                y: top,
                width: right - left,
                height: bottom - top
            };

            return style.__rect;
        }

        /**
         * Method: getRectNoRotation
         * 返回忽略旋转和maxWidth时文字包围盒矩形
         */

    }, {
        key: 'getRectNoRotation',
        value: function getRectNoRotation(style) {

            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            var lineHeight = _SUtil.SUtil.Util_area.getTextHeight('ZH', style.textFont);

            var width = _SUtil.SUtil.Util_area.getTextWidth(style.text, style.textFont);
            var height = _SUtil.SUtil.Util_area.getTextHeight(style.text, style.textFont);

            //处理文字位置，注：文本的绘制是由此 rect 决定
            var textX = style.x + __OP[0]; // 默认start == left
            if (style.textAlign == 'end' || style.textAlign == 'right') {
                textX -= width;
            } else if (style.textAlign == 'center') {
                textX -= width / 2;
            }

            var textY;
            if (style.textBaseline == 'top') {
                // textY = style.y;
                textY = style.y + __OP[1];
            } else if (style.textBaseline == 'bottom') {
                textY = style.y + __OP[1] - height;
            } else {
                // middle
                textY = style.y + __OP[1] - height / 2;
            }

            var isWidthChangeByMaxWidth = false;
            var widthBeforeChangeByMaxWidth;

            //处理 maxWidth
            if (style.maxWidth) {
                var maxWidth = parseInt(style.maxWidth);
                if (maxWidth < width) {
                    widthBeforeChangeByMaxWidth = width;
                    isWidthChangeByMaxWidth = true;
                    width = maxWidth;
                }

                textX = style.x + __OP[0];
                if (style.textAlign == 'end' || style.textAlign == 'right') {
                    textX -= width;
                } else if (style.textAlign == 'center') {
                    textX -= width / 2;
                }
            }

            //处理斜体字
            if (style.textFont) {
                var textFont = style.textFont;
                var textFontStr = textFont.toLowerCase();
                if (textFontStr.indexOf("italic") > -1) {
                    if (widthBeforeChangeByMaxWidth && isWidthChangeByMaxWidth === true) {
                        width += lineHeight / 3 * (width / widthBeforeChangeByMaxWidth);
                    } else {
                        width += lineHeight / 3;
                    }
                }
            }

            var rect = {
                x: textX,
                y: textY,
                width: width,
                height: height
            };

            return rect;
        }

        /**
         * Method: getTextBackground
         * 获取文本背景框范围
         *
         * Parameters:
         * style - {Object} 样式。
         * redo - {Boolean} 是否强制重新计算 textBackground。
         */

    }, {
        key: 'getTextBackground',
        value: function getTextBackground(style, redo) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            var __OP = this.refOriginalPosition;

            if ((!redo || redo === false) && style.__textBackground) {
                return style.__textBackground;
            }

            //不旋转时矩形框
            var rect = this.getRectNoRotation(style);

            //旋转中心点
            var ox = style.x + __OP[0];
            var oy = style.y + __OP[1];

            //背景框
            var background = [];

            if (style.textRotation && style.textRotation !== 0) {
                var textRotation = style.textRotation;
                var ltPoi = this.getRotatedLocation(rect.x, rect.y, ox, oy, textRotation);
                var rtPoi = this.getRotatedLocation(rect.x + rect.width, rect.y, ox, oy, textRotation);
                var rbPoi = this.getRotatedLocation(rect.x + rect.width, rect.y + rect.height, ox, oy, textRotation);
                var lbPoi = this.getRotatedLocation(rect.x, rect.y + rect.height, ox, oy, textRotation);

                background.push(ltPoi);
                background.push(rtPoi);
                background.push(rbPoi);
                background.push(lbPoi);
            } else {
                var _ltPoi = [rect.x, rect.y];
                var _rtPoi = [rect.x + rect.width, rect.y];
                var _rbPoi = [rect.x + rect.width, rect.y + rect.height];
                var _lbPoi = [rect.x, rect.y + rect.height];

                background.push(_ltPoi);
                background.push(_rtPoi);
                background.push(_rbPoi);
                background.push(_lbPoi);
            }

            style.__textBackground = background;

            return style.__textBackground;
        }

        /**
         * Method: getRotatedLocation
         * 获取一个点绕旋转中心顺时针旋转后的位置。（此方法用于屏幕坐标）
         *
         * Parameters:
         * x - {Number}  旋转点横坐标。
         * y - {Number}  旋转点纵坐标。
         * rx - {Number}  旋转中心点横坐标。
         * ry - {Number}  旋转中心点纵坐标。
         * angle - {Number} 旋转角度（度）。
         *
         * Returns:
         * {Array} 旋转后的坐标位置，长度为 2 的一维数组，数组第一个元素表示 x 坐标，第二个元素表示 y 坐标。
         */

    }, {
        key: 'getRotatedLocation',
        value: function getRotatedLocation(x, y, rx, ry, angle) {
            var loc = new Array(),
                x0,
                y0;

            y = -y;
            ry = -ry;
            angle = -angle; //顺时针旋转
            x0 = (x - rx) * Math.cos(angle / 180 * Math.PI) - (y - ry) * Math.sin(angle / 180 * Math.PI) + rx;
            y0 = (x - rx) * Math.sin(angle / 180 * Math.PI) + (y - ry) * Math.cos(angle / 180 * Math.PI) + ry;

            loc[0] = x0;
            loc[1] = -y0;
            return loc;
        }
    }]);
    return SmicText;
}(_Shape2.Shape);

;
exports.SmicText = SmicText;

_Base.Zondy.LevelRenderer.SmicText = SmicText;

/***/ }),

/***/ "./overlay/levelRender/Storage.js":
/*!****************************************!*\
  !*** ./overlay/levelRender/Storage.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Storage = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../../service/common/Util */ "./service/common/Util.js");

var _Group = __webpack_require__(/*! ./Group */ "./overlay/levelRender/Group.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Storage
 * 内容（图像）仓库 (M) 。
 */
var Storage = function () {
    /**
     * Constructor: Zondy.LevelRenderer.Storage
     * 构造函数。
     */
    function Storage() {
        (0, _classCallCheck3.default)(this, Storage);

        /**
         * Property: _elements
         * {Object} 所有常规形状，id 索引的 map。
         *
         */
        this._elements = {};

        /**
         * Property: _hoverElements
         * {Array} 高亮层形状，不稳定，动态增删，数组位置也是 z 轴方向，靠前显示在下方。
         *
         */
        this._hoverElements = [];

        /**
         * Property: _roots
         * {Array} _roots。
         *
         */
        this._roots = [];

        /**
         * Property: _shapeList
         * {Array}  _shapeList。
         *
         */
        this._shapeList = [];

        /**
         * Property: _shapeListOffset
         * {Number}  _shapeListOffset。默认值：0。
         *
         */
        this._shapeListOffset = 0;

        this.CLASS_NAME = "Zondy.LevelRenderer.Storage";
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Storage, [{
        key: 'destroy',
        value: function destroy() {
            this.dispose();
            this._shapeList = null;
            this._shapeListOffset = null;
        }

        /**
         * APIMethod: iterShape
         * 遍历迭代器。
         *
         * Parameters:
         * fun - {Function} 迭代回调函数，return true终止迭代。
         * option - {Object} 迭代参数，缺省为仅降序遍历普通层图形。可设属性如下：
         *
         * Symbolizer properties:
         * hover - {Boolean} 是否是高亮层图形。默认值：true。
         * normal - {String} 是否是普通层图形，迭代时是否指定及z轴顺序。可设值：'down' ，'up'；默认值："down"。
         * update - {Boolean} 是否在迭代前更新形状列表。默认值：false。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Storage>} this。
         */

    }, {
        key: 'iterShape',
        value: function iterShape(fun, option) {
            if (!option) {
                var defaultIterateOption = {
                    hover: false,
                    normal: 'down',
                    update: false
                };
                option = defaultIterateOption;
            }

            if (option.hover) {
                // 高亮层数据遍历
                for (var i = 0, l = this._hoverElements.length; i < l; i++) {
                    var el = this._hoverElements[i];
                    el.updateTransform();
                    if (fun(el)) {
                        return this;
                    }
                }
            }

            if (option.update) {
                this.updateShapeList();
            }

            // 遍历: 'down' | 'up'
            switch (option.normal) {
                case 'down':
                    {
                        // 降序遍历，高层优先
                        var _l = this._shapeList.length;
                        while (_l--) {
                            if (fun(this._shapeList[_l])) {
                                return this;
                            }
                        }
                        break;
                    }
                // case 'up':
                default:
                    {
                        // 升序遍历，底层优先
                        for (var _i = 0, _l2 = this._shapeList.length; _i < _l2; _i++) {
                            if (fun(this._shapeList[_i])) {
                                return this;
                            }
                        }
                        break;
                    }
            }

            return this;
        }

        /**
         * APIMethod: getHoverShapes
         * 返回 hover 层的形状数组。
         *
         * Parameters:
         * update - {Boolean} 是否在返回前更新图形的变换。默认值：false。
         *
         * Returns:
         * {Array<Zondy.LevelRenderer.Shape>} 图形数组。
         */

    }, {
        key: 'getHoverShapes',
        value: function getHoverShapes(update) {
            // hoverConnect
            var hoverElements = [],
                len = this._hoverElements.length;
            for (var i = 0; i < len; i++) {
                hoverElements.push(this._hoverElements[i]);
                var target = this._hoverElements[i].hoverConnect;
                if (target) {
                    var shape;
                    target = target instanceof Array ? target : [target];
                    for (var j = 0, k = target.length; j < k; j++) {
                        shape = target[j].id ? target[j] : this.get(target[j]);
                        if (shape) {
                            hoverElements.push(shape);
                        }
                    }
                }
            }
            hoverElements.sort(Storage.shapeCompareFunc);
            if (update) {
                for (var _i2 = 0, l = hoverElements.length; _i2 < l; _i2++) {
                    hoverElements[_i2].updateTransform();
                }
            }
            return hoverElements;
        }

        /**
         * APIMethod: getShapeList
         * 返回所有图形的绘制队列。
         *
         * Parameters:
         * update - {Boolean} 是否在返回前更新该数组。默认值：false。  详见：<Zondy.LevelRenderer.Shape> updateShapeList。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Shape>} 图形。
         */

    }, {
        key: 'getShapeList',
        value: function getShapeList(update) {
            if (update) {
                this.updateShapeList();
            }
            return this._shapeList;
        }

        /**
         * APIMethod: updateShapeList
         * 更新图形的绘制队列。
         * 每次绘制前都会调用，该方法会先深度优先遍历整个树，更新所有Group和Shape的变换并且把所有可见的Shape保存到数组中，
         * 最后根据绘制的优先级（zlevel > z > 插入顺序）排序得到绘制队列。
         */

    }, {
        key: 'updateShapeList',
        value: function updateShapeList() {
            this._shapeListOffset = 0;
            var rootsLen = this._roots.length;
            for (var i = 0; i < rootsLen; i++) {
                var root = this._roots[i];
                this._updateAndAddShape(root);
            }
            this._shapeList.length = this._shapeListOffset;

            var shapeListLen = this._shapeList.length;
            for (var _i3 = 0; _i3 < shapeListLen; _i3++) {
                this._shapeList[_i3].__renderidx = _i3;
            }

            this._shapeList.sort(Storage.shapeCompareFunc);
        }

        /**
         * Method: _updateAndAddShape
         * 跟新并添加图形。
         */

    }, {
        key: '_updateAndAddShape',
        value: function _updateAndAddShape(el, clipShapes) {
            if (el.ignore) {
                return;
            }

            el.updateTransform();

            if (el.type == 'group') {

                if (el.clipShape) {
                    // clipShape 的变换是基于 group 的变换
                    el.clipShape.parent = el;
                    el.clipShape.updateTransform();

                    // PENDING 效率影响
                    if (clipShapes) {
                        clipShapes = clipShapes.slice();
                        clipShapes.push(el.clipShape);
                    } else {
                        clipShapes = [el.clipShape];
                    }
                }

                for (var i = 0; i < el._children.length; i++) {
                    var child = el._children[i];

                    // Force to mark as dirty if group is dirty
                    child.__dirty = el.__dirty || child.__dirty;

                    this._updateAndAddShape(child, clipShapes);
                }

                // Mark group clean here
                el.__dirty = false;
            } else {
                el.__clipShapes = clipShapes;

                this._shapeList[this._shapeListOffset++] = el;
            }
        }

        /**
         * APIMethod: mod
         * 修改图形(Shape)或者组(Group)。
         *
         * Parameters:
         * elId - {String} 唯一标识。
         * params - {Object} 参数。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Storage>} this。
         */

    }, {
        key: 'mod',
        value: function mod(elId, params) {
            var el = this._elements[elId];
            if (el) {

                el.modSelf();

                if (params) {
                    // 如果第二个参数直接使用 shape
                    // parent, _storage, __startClip 三个属性会有循环引用
                    if (params.parent || params._storage || params.__startClip) {
                        var target = {};
                        for (var name in params) {
                            if (name == 'parent' || name == '_storage' || name == '__startClip') {
                                continue;
                            }
                            if (params.hasOwnProperty(name)) {
                                target[name] = params[name];
                            }
                        }
                        (0, _Util.merge)(el, target, true);
                    } else {
                        (0, _Util.merge)(el, params, true);
                    }
                }
            }

            return this;
        }

        /**
         * APIMethod: drift
         * 移动指定的图形(Shape)的位置。
         *
         * Parameters:
         * shapeId - {String} 唯一标识。
         * dx - {Number}
         * dy - {Number}
         *
         * Returns:
         * {<Zondy.LevelRenderer.Storage>} this。
         */

    }, {
        key: 'drift',
        value: function drift(shapeId, dx, dy) {
            var shape = this._elements[shapeId];
            if (shape) {
                shape.needTransform = true;
                if (shape.draggable === 'horizontal') {
                    dy = 0;
                } else if (shape.draggable === 'vertical') {
                    dx = 0;
                }
                if (!shape.ondrift // ondrift
                // 有onbrush并且调用执行返回false或undefined则继续
                || shape.ondrift && !shape.ondrift(dx, dy)) {
                    shape.drift(dx, dy);
                }
            }

            return this;
        }

        /**
         * APIMethod: addHover
         * 添加高亮层数据。
         *
         * Parameters:
         * shape - {<Zondy.LevelRenderer.Shape>} 图形。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Storage>} this。
         */

    }, {
        key: 'addHover',
        value: function addHover(shape) {
            shape.updateNeedTransform();
            this._hoverElements.push(shape);
            return this;
        }

        /**
         * APIMethod: delHover
         * 清空高亮层数据。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Storage>} this。
         */

    }, {
        key: 'delHover',
        value: function delHover() {
            this._hoverElements = [];
            return this;
        }

        /**
         * APIMethod: hasHoverShape
         * 是否有图形在高亮层里。
         *
         * Returns:
         * {Boolean} 是否有图形在高亮层里。
         */

    }, {
        key: 'hasHoverShape',
        value: function hasHoverShape() {
            return this._hoverElements.length > 0;
        }

        /**
         * APIMethod: addRoot
         * 添加图形(Shape)或者组(Group)到根节点。
         *
         * Parameters:
         * el - {<Zondy.LevelRenderer.Shape>/<Zondy.LevelRenderer.Group>} 图形。
         *
         */

    }, {
        key: 'addRoot',
        value: function addRoot(el) {
            if (el instanceof _Group.Group) {
                el.addChildrenToStorage(this);
            }

            this.addToMap(el);
            this._roots.push(el);
        }

        /**
         * APIMethod: delRoot
         * 删除指定的图形(Shape)或者组(Group)。
         *
         * Parameters:
         * elId - {Array{String}} 删除图形(Shape)或者组(Group)的 id 数组。如果为空清空整个Storage。
         *
         */

    }, {
        key: 'delRoot',
        value: function delRoot(elId) {
            if (typeof elId == 'undefined') {
                // 不指定elId清空
                for (var i = 0; i < this._roots.length; i++) {
                    var root = this._roots[i];

                    if (root instanceof _Group.Group) {
                        root.delChildrenFromStorage(this);
                    }
                }

                this._elements = {};
                this._hoverElements = [];
                this._roots = [];

                return;
            }

            if (elId instanceof Array) {
                var elIdLen = elId.length;
                for (var _i4 = 0; _i4 < elIdLen; _i4++) {
                    this.delRoot(elId[_i4]);
                }
                return;
            }

            var el;
            if (typeof elId == 'string') {
                el = this._elements[elId];
            } else {
                el = elId;
            }

            var idx = (0, _Util.indexOf)(this._roots, el);
            if (idx >= 0) {
                this.delFromMap(el.id);
                this._roots.splice(idx, 1);
                if (el instanceof _Group.Group) {
                    el.delChildrenFromStorage(this);
                }
            }
        }

        /**
         * APIMethod: addToMap
         * 添加图形到 map。
         *
         * Parameters:
         * el - {<Zondy.LevelRenderer.Shape>} 图形。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Storage>} this。
         */

    }, {
        key: 'addToMap',
        value: function addToMap(el) {
            if (el instanceof _Group.Group) {
                el._storage = this;
            }
            el.modSelf();

            this._elements[el.id] = el;

            return this;
        }

        /**
         * APIMethod: get
         * 获取指定图形。
         *
         * Parameters:
         * elId - {String} 图形 id。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Shape>} 图形。
         */

    }, {
        key: 'get',
        value: function get(elId) {
            return this._elements[elId];
        }

        /**
         * APIMethod: delFromMap
         * 从 map 中删除指定图形。
         *
         * Parameters:
         * elId - {String} 图形id。
         *
         * Returns:
         * {<Zondy.LevelRenderer.Storage>} this。
         */

    }, {
        key: 'delFromMap',
        value: function delFromMap(elId) {
            var el = this._elements[elId];
            if (el) {
                delete this._elements[elId];

                if (el instanceof _Group.Group) {
                    el._storage = null;
                }
            }

            return this;
        }

        /**
         * APIMethod: dispose
         * 清空并且释放 Storage。
         */

    }, {
        key: 'dispose',
        value: function dispose() {
            this._elements = null;
            // this._renderList = null;
            this._roots = null;
            this._hoverElements = null;
        }
    }], [{
        key: 'shapeCompareFunc',
        value: function shapeCompareFunc(a, b) {
            if (a.zlevel == b.zlevel) {
                if (a.z == b.z) {
                    return a.__renderidx - b.__renderidx;
                }
                return a.z - b.z;
            }
            return a.zlevel - b.zlevel;
        }
    }]);
    return Storage;
}();

;
exports.Storage = Storage;

_Base.Zondy.LevelRenderer.Storage = Storage;

/***/ }),

/***/ "./overlay/levelRender/Transformable.js":
/*!**********************************************!*\
  !*** ./overlay/levelRender/Transformable.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Transformable = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Transformable
 * 可变换超类，所有支持 Canvas Transform 变换操作的类均是此类的子类。
 *
 * 此类不可实例化。
 *
 */
var Transformable = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Transformable
     * 构造函数。
     */
    function Transformable() {
        (0, _classCallCheck3.default)(this, Transformable);

        /**
         * APIProperty: position
         * {Array{Number}} 平移， 默认值：[0, 0]。
         */
        this.position = [0, 0];

        /**
         * APIProperty: rotation
         * {Array{Number}} 旋转，可以通过数组二三项指定旋转的原点， 默认值：[0, 0, 0]。
         */
        this.rotation = [0, 0, 0];

        /**
         * APIProperty: scale
         * {Array{Number}} 缩放，可以通过数组三四项指定缩放的原点， 默认值：[1, 1, 0, 0]。
         */
        this.scale = [1, 1, 0, 0];

        /**
         * Property: needLocalTransform
         * {Boolean} 是否变换。默认值：false。
         */
        this.needLocalTransform = false;

        /**
         * APIProperty: needTransform
         * {Boolean} 是否有坐标变换。默认值：false。
         */
        this.needTransform = false;

        this.CLASS_NAME = "Zondy.LevelRenderer.Transformable";
        /**
         * APIMethod: lookAt
         * 设置图形的朝向。
         *
         */
        this.lookAt = function () {
            var v = _SUtil.SUtil.Util_vector.create();
            // {Array{Number}|Float32Array} target
            return function (target) {
                if (!this.transform) {
                    this.transform = _SUtil.SUtil.Util_matrix.create();
                }
                var m = this.transform;
                _SUtil.SUtil.Util_vector.sub(v, target, this.position);
                if (isAroundZero(v[0]) && isAroundZero(v[1])) {
                    return;
                }
                _SUtil.SUtil.Util_vector.normalize(v, v);
                // Y Axis
                // TODO Scale origin ?
                m[2] = v[0] * this.scale[1];
                m[3] = v[1] * this.scale[1];
                // X Axis
                m[0] = v[1] * this.scale[0];
                m[1] = -v[0] * this.scale[0];
                // Position
                m[4] = this.position[0];
                m[5] = this.position[1];

                this.decomposeTransform();

                function isAroundZero(val) {
                    var EPSILON = 5e-5;
                    return val > -EPSILON && val < EPSILON;
                }
            };
        }();
    }

    /**
     * APIMethod: destroy
     * 销毁对象，释放资源。调用此函数后所有属性将被置为 null。
     */


    (0, _createClass3.default)(Transformable, [{
        key: 'destroy',
        value: function destroy() {
            this.position = null;
            this.rotation = null;
            this.scale = null;
            this.needLocalTransform = null;
            this.needTransform = null;
        }

        /**
         * Method: updateNeedTransform
         * 更新  needLocalTransform
         *
         */

    }, {
        key: 'updateNeedTransform',
        value: function updateNeedTransform() {
            this.needLocalTransform = isNotAroundZero(this.rotation[0]) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);

            function isNotAroundZero(val) {
                var EPSILON = 5e-5;
                return val > EPSILON || val < -EPSILON;
            }
        }

        /**
         * APIMethod: updateTransform
         * 判断是否需要有坐标变换，更新 needTransform 属性。
         * 如果有坐标变换, 则从 position, rotation, scale 以及父节点的 transform 计算出自身的 transform 矩阵
         *
         */

    }, {
        key: 'updateTransform',
        value: function updateTransform() {
            this.updateNeedTransform();

            if (this.parent) {
                this.needTransform = this.needLocalTransform || this.parent.needTransform;
            } else {
                this.needTransform = this.needLocalTransform;
            }

            if (!this.needTransform) {
                return;
            }

            var origin = [0, 0];

            var m = this.transform || _SUtil.SUtil.Util_matrix.create();
            _SUtil.SUtil.Util_matrix.identity(m);

            if (this.needLocalTransform) {
                if (isNotAroundZero(this.scale[0]) || isNotAroundZero(this.scale[1])) {
                    origin[0] = -this.scale[2] || 0;
                    origin[1] = -this.scale[3] || 0;
                    var haveOrigin = isNotAroundZero(origin[0]) || isNotAroundZero(origin[1]);
                    if (haveOrigin) {
                        _SUtil.SUtil.Util_matrix.translate(m, m, origin);
                    }
                    _SUtil.SUtil.Util_matrix.scale(m, m, this.scale);
                    if (haveOrigin) {
                        origin[0] = -origin[0];
                        origin[1] = -origin[1];
                        _SUtil.SUtil.Util_matrix.translate(m, m, origin);
                    }
                }

                if (this.rotation instanceof Array) {
                    if (this.rotation[0] !== 0) {
                        origin[0] = -this.rotation[1] || 0;
                        origin[1] = -this.rotation[2] || 0;
                        var _haveOrigin = isNotAroundZero(origin[0]) || isNotAroundZero(origin[1]);
                        if (_haveOrigin) {
                            _SUtil.SUtil.Util_matrix.translate(m, m, origin);
                        }
                        _SUtil.SUtil.Util_matrix.rotate(m, m, this.rotation[0]);
                        if (_haveOrigin) {
                            origin[0] = -origin[0];
                            origin[1] = -origin[1];
                            _SUtil.SUtil.Util_matrix.translate(m, m, origin);
                        }
                    }
                } else {
                    if (this.rotation !== 0) {
                        _SUtil.SUtil.Util_matrix.rotate(m, m, this.rotation);
                    }
                }

                if (isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1])) {
                    _SUtil.SUtil.Util_matrix.translate(m, m, this.position);
                }
            }

            // 保存这个变换矩阵
            this.transform = m;

            // 应用父节点变换
            if (this.parent && this.parent.needTransform) {
                if (this.needLocalTransform) {
                    _SUtil.SUtil.Util_matrix.mul(this.transform, this.parent.transform, this.transform);
                } else {
                    _SUtil.SUtil.Util_matrix.copy(this.transform, this.parent.transform);
                }
            }

            function isNotAroundZero(val) {
                var EPSILON = 5e-5;
                return val > EPSILON || val < -EPSILON;
            }
        }

        /**
         * APIMethod: setTransform
         * 将自己的 transform 应用到 context 上。
         *
         * Parameters:
         * ctx - {Context2D} Context2D 上下文。
         */

    }, {
        key: 'setTransform',
        value: function setTransform(ctx) {
            if (this.needTransform) {
                var m = this.transform;
                ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
            }
        }

        /**
         * APIMethod: decomposeTransform
         * 分解`transform`矩阵到`position`, `rotation`, `scale` 。
         *
         */

    }, {
        key: 'decomposeTransform',
        value: function decomposeTransform() {
            if (!this.transform) {
                return;
            }
            var m = this.transform;
            var sx = m[0] * m[0] + m[1] * m[1];
            var position = this.position;
            var scale = this.scale;
            var rotation = this.rotation;
            if (isNotAroundZero(sx - 1)) {
                sx = Math.sqrt(sx);
            }
            var sy = m[2] * m[2] + m[3] * m[3];
            if (isNotAroundZero(sy - 1)) {
                sy = Math.sqrt(sy);
            }
            position[0] = m[4];
            position[1] = m[5];
            scale[0] = sx;
            scale[1] = sy;
            scale[2] = scale[3] = 0;
            rotation[0] = Math.atan2(-m[1] / sy, m[0] / sx);
            rotation[1] = rotation[2] = 0;

            function isNotAroundZero(val) {
                var EPSILON = 5e-5;
                return val > EPSILON || val < -EPSILON;
            }
        }
    }]);
    return Transformable;
}();

;

exports.Transformable = Transformable;

_Base.Zondy.LevelRenderer.Transformable = Transformable;

/***/ }),

/***/ "./overlay/levelRender/Util.js":
/*!*************************************!*\
  !*** ./overlay/levelRender/Util.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Util = undefined;

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Util
 * LevelRenderer 基础工具类
 *
 */
var Util = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Tool.Util
     * 构造函数。
     *
     */
    function Util() {
        (0, _classCallCheck3.default)(this, Util);

        /**
         * Property: BUILTIN_OBJECT
         * {Object} 用于处理merge时无法遍历Date等对象的问题
         */
        this.BUILTIN_OBJECT = {
            '[object Function]': 1,
            '[object RegExp]': 1,
            '[object Date]': 1,
            '[object Error]': 1,
            '[object CanvasGradient]': 1
        };

        /**
         * Property: _ctx
         * {Object}
         */
        this._ctx = null;

        /**
         * Property: _canvas
         * {Object}
         */
        this._canvas = null;

        /**
         * Property: _pixelCtx
         * {Object}
         */
        this._pixelCtx = null;

        /**
         * Property: _width
         * {Object}
         */
        this._width = null;

        /**
         * Property: _height
         * {Object}
         */
        this._height = null;

        /**
         * Property: _offsetX
         * {Object}
         */
        this._offsetX = 0;

        /**
         * Property: _offsetY
         * {Object}
         */
        this._offsetY = 0;

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Util";
    }

    /**
     * APIMethod: clone
     * 对一个object进行深度拷贝。
     *
     * Parameters:
     * source - {Object} 需要进行拷贝的对象。
     *
     * Returns:
     * {Object} 拷贝后的新对象。
     */


    (0, _createClass3.default)(Util, [{
        key: 'clone',
        value: function clone(source) {
            var BUILTIN_OBJECT = this.BUILTIN_OBJECT;
            if ((typeof source === 'undefined' ? 'undefined' : (0, _typeof3.default)(source)) == 'object' && source !== null) {
                var result = source;
                if (source instanceof Array) {
                    result = [];
                    for (var i = 0, len = source.length; i < len; i++) {
                        result[i] = this.clone(source[i]);
                    }
                } else if (!BUILTIN_OBJECT[Object.prototype.toString.call(source)]) {
                    result = {};
                    for (var key in source) {
                        if (source.hasOwnProperty(key)) {
                            result[key] = this.clone(source[key]);
                        }
                    }
                }

                return result;
            }

            return source;
        }

        /**
         * Method: mergeItem
         * 合并源对象的单个属性到目标对象。
         *
         * Parameters:
         * target - {Object} 目标对象。
         * source - {Object} 源对象。
         * key - {String} 键。
         * overwrite - {Boolean} 是否覆盖。
         *
         * Returns:
         * {Object} 目标对象。
         */

    }, {
        key: 'mergeItem',
        value: function mergeItem(target, source, key, overwrite) {
            var BUILTIN_OBJECT = this.BUILTIN_OBJECT;
            if (source.hasOwnProperty(key)) {
                if ((0, _typeof3.default)(target[key]) == 'object' && !BUILTIN_OBJECT[Object.prototype.toString.call(target[key])]) {
                    // 如果需要递归覆盖，就递归调用merge
                    this.merge(target[key], source[key], overwrite);
                } else if (overwrite || !(key in target)) {
                    // 否则只处理overwrite为true，或者在目标对象中没有此属性的情况
                    target[key] = source[key];
                }
            }
        }

        /**
         * APIMethod: merge
         * 合并源对象的属性到目标对象。
         *
         * Parameters:
         * target - {Object} 目标对象。
         * source - {Object} 源对象。
         * overwrite - {Boolean} 是否覆盖。
         *
         * Returns:
         * {Object} 目标对象。
         */

    }, {
        key: 'merge',
        value: function merge(target, source, overwrite) {
            for (var i in source) {
                this.mergeItem(target, source, i, overwrite);
            }

            return target;
        }

        /**
         * Method: getContext
         * 获取 Cavans 上下文
         *
         * Returns:
         * {Object} Cavans 上下文。
         */

    }, {
        key: 'getContext',
        value: function getContext() {
            if (!this._ctx) {
                this._ctx = document.createElement('canvas').getContext('2d');
            }
            return this._ctx;
        }

        /**
         * APIMethod: getPixelContext
         * 获取像素拾取专用的上下文
         *
         * Returns:
         * {Object}像素拾取专用的上下文。
         */

    }, {
        key: 'getPixelContext',
        value: function getPixelContext() {
            if (!this._pixelCtx) {
                this._canvas = document.createElement('canvas');
                this._width = this._canvas.width;
                this._height = this._canvas.height;
                this._pixelCtx = this._canvas.getContext('2d');
            }
            return this._pixelCtx;
        }

        /**
         * APIMethod: adjustCanvasSize
         * 如果坐标处在_canvas外部，改变_canvas的大小
         *
         * 注意 修改canvas的大小 需要重新设置translate
         *
         * Parameters:
         * x - {Number} 横坐标。
         * y - {Number} 纵坐标。
         *
         */

    }, {
        key: 'adjustCanvasSize',
        value: function adjustCanvasSize(x, y) {
            var _canvas = this._canvas;
            var _pixelCtx = this._pixelCtx;
            var _width = this._width;
            var _height = this._height;
            var _offsetX = this._offsetX;
            var _offsetY = this._offsetY;

            // 每次加的长度
            var _v = 100;
            var _flag;

            if (x + _offsetX > _width) {
                _width = x + _offsetX + _v;
                _canvas.width = _width;
                _flag = true;
            }

            if (y + _offsetY > _height) {
                _height = y + _offsetY + _v;
                _canvas.height = _height;
                _flag = true;
            }

            if (x < -_offsetX) {
                _offsetX = Math.ceil(-x / _v) * _v;
                _width += _offsetX;
                _canvas.width = _width;
                _flag = true;
            }

            if (y < -_offsetY) {
                _offsetY = Math.ceil(-y / _v) * _v;
                _height += _offsetY;
                _canvas.height = _height;
                _flag = true;
            }

            if (_flag) {
                _pixelCtx.translate(_offsetX, _offsetY);
            }
        }

        /**
         * APIMethod: getPixelOffset
         * 获取像素canvas的偏移量
         *
         * Returns:
         * {Object}偏移量。
         */

    }, {
        key: 'getPixelOffset',
        value: function getPixelOffset() {
            return {
                x: this._offsetX,
                y: this._offsetY
            };
        }

        /**
         * APIMethod: indexOf
         * 查询数组中元素的index
         *
         * Returns:
         * {Object}偏移量。
         */

    }, {
        key: 'indexOf',
        value: function indexOf(array, value) {
            if (array.indexOf) {
                return array.indexOf(value);
            }
            for (var i = 0, len = array.length; i < len; i++) {
                if (array[i] === value) {
                    return i;
                }
            }
            return -1;
        }

        /**
         * APIMethod: inherits
         * 构造类继承关系
         *
         * Parameters:
         * clazz - {Function} 源类。
         * baseClazz - {Function} 基类。
         *
         * Returns:
         * {Object}偏移量。
         */

    }, {
        key: 'inherits',
        value: function inherits(clazz, baseClazz) {
            var clazzPrototype = clazz.prototype;

            function F() {}

            F.prototype = baseClazz.prototype;
            clazz.prototype = new F();

            for (var prop in clazzPrototype) {
                clazz.prototype[prop] = clazzPrototype[prop];
            }
            clazz.constructor = clazz;
        }
    }]);
    return Util;
}();

;
exports.Util = Util;

_Base.Zondy.LevelRenderer.Tool.Util = Util;

/***/ }),

/***/ "./overlay/levelRender/Vector.js":
/*!***************************************!*\
  !*** ./overlay/levelRender/Vector.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Vector = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../../service/common/Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @private
 * @class  Zondy.LevelRenderer.Tool.Vector
 * LevelRenderer 二维向量类
 *
 */
var Vector = function () {

    /**
     * Constructor: Zondy.LevelRenderer.Tool.Vector
     * 构造函数。
     *
     */
    function Vector() {
        (0, _classCallCheck3.default)(this, Vector);

        this.ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;

        this.CLASS_NAME = "Zondy.LevelRenderer.Tool.Vector";
    }

    /**
     * APIMethod: create
     * 创建一个向量。
     *
     * Parameters:
     * x - {Number} x 坐标。
     * y - {Number} y 坐标。
     *
     * Returns:
     * {Vector2} 向量。
     */


    (0, _createClass3.default)(Vector, [{
        key: 'create',
        value: function create(x, y) {
            var ArrayCtor = this.ArrayCtor;

            var out = new ArrayCtor(2);
            out[0] = x || 0;
            out[1] = y || 0;

            return out;
        }

        /**
         * APIMethod: copy
         * 复制一个向量。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v - {Vector2} 向量。
         *
         * Returns:
         * {Vector2} 克隆向量。
         */

    }, {
        key: 'copy',
        value: function copy(out, v) {
            out[0] = v[0];
            out[1] = v[1];
            return out;
        }

        /**
         * APIMethod: set
         * 设置向量的两个项。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * a - {Number} 项 a。
         * b - {Number} 项 b。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'set',
        value: function set(out, a, b) {
            out[0] = a;
            out[1] = b;
            return out;
        }

        /**
         * APIMethod: add
         * 向量相加。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'add',
        value: function add(out, v1, v2) {
            out[0] = v1[0] + v2[0];
            out[1] = v1[1] + v2[1];
            return out;
        }

        /**
         * APIMethod: scaleAndAdd
         * 向量缩放后相加。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2（缩放向量）。
         * a - {Number} 缩放参数。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'scaleAndAdd',
        value: function scaleAndAdd(out, v1, v2, a) {
            out[0] = v1[0] + v2[0] * a;
            out[1] = v1[1] + v2[1] * a;
            return out;
        }

        /**
         * APIMethod: sub
         * 向量相减。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'sub',
        value: function sub(out, v1, v2) {
            out[0] = v1[0] - v2[0];
            out[1] = v1[1] - v2[1];
            return out;
        }

        /**
         * APIMethod: len
         * 向量长度。
         *
         * Parameters:
         * v - {Vector2} 向量。
         *
         * Returns:
         * {Number} 向量长度。
         */

    }, {
        key: 'len',
        value: function len(v) {
            return Math.sqrt(this.lenSquare(v));
        }

        /**
         * APIMethod: lenSquare
         * 向量长度平方。
         *
         * Parameters:
         * v - {Vector2} 向量。
         *
         * Returns:
         * {Number} 向量长度平方。
         */

    }, {
        key: 'lenSquare',
        value: function lenSquare(v) {
            return v[0] * v[0] + v[1] * v[1];
        }

        /**
         * APIMethod: mul
         * 向量乘法。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'mul',
        value: function mul(out, v1, v2) {
            out[0] = v1[0] * v2[0];
            out[1] = v1[1] * v2[1];
            return out;
        }

        /**
         * APIMethod: div
         * 向量除法。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'div',
        value: function div(out, v1, v2) {
            out[0] = v1[0] / v2[0];
            out[1] = v1[1] / v2[1];
            return out;
        }

        /**
         * APIMethod: dot
         * 向量点乘。
         *
         * Parameters:
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Number} 向量点乘。
         */

    }, {
        key: 'dot',
        value: function dot(v1, v2) {
            return v1[0] * v2[0] + v1[1] * v2[1];
        }

        /**
         * APIMethod: scale
         * 向量缩放。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v - {Vector2} 向量 v。
         * s - {Number} 缩放参数。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'scale',
        value: function scale(out, v, s) {
            out[0] = v[0] * s;
            out[1] = v[1] * s;
            return out;
        }

        /**
         * APIMethod: normalize
         * 向量归一化。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v - {Vector2} 向量 v。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'normalize',
        value: function normalize(out, v) {
            var d = this.len(v);
            if (d === 0) {
                out[0] = 0;
                out[1] = 0;
            } else {
                out[0] = v[0] / d;
                out[1] = v[1] / d;
            }
            return out;
        }

        /**
         * APIMethod: distance
         * 计算向量间距离。
         *
         * Parameters:
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Number} 向量间距离。
         */

    }, {
        key: 'distance',
        value: function distance(v1, v2) {
            return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));
        }

        /**
         * APIMethod: distanceSquare
         * 向量距离平方。
         *
         * Parameters:
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Number} 向量距离平方。
         */

    }, {
        key: 'distanceSquare',
        value: function distanceSquare(v1, v2) {
            return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);
        }

        /**
         * APIMethod: negate
         * 求负向量。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v - {Vector2} 向量 v。
         *
         * Returns:
         * {Vector2} 负向量。
         */

    }, {
        key: 'negate',
        value: function negate(out, v) {
            out[0] = -v[0];
            out[1] = -v[1];
            return out;
        }

        /**
         * APIMethod: lerp
         * 插值两个点。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         * t - {Number} 。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'lerp',
        value: function lerp(out, v1, v2, t) {
            out[0] = v1[0] + t * (v2[0] - v1[0]);
            out[1] = v1[1] + t * (v2[1] - v1[1]);
            return out;
        }

        /**
         * APIMethod: applyTransform
         * 矩阵左乘向量。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v - {Vector2} 向量 v。
         * m - {Vector2} 向量 m。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'applyTransform',
        value: function applyTransform(out, v, m) {
            var x = v[0];
            var y = v[1];
            out[0] = m[0] * x + m[2] * y + m[4];
            out[1] = m[1] * x + m[3] * y + m[5];
            return out;
        }

        /**
         * APIMethod: min
         * 求两个向量最小值。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'min',
        value: function min(out, v1, v2) {
            out[0] = Math.min(v1[0], v2[0]);
            out[1] = Math.min(v1[1], v2[1]);
            return out;
        }

        /**
         * APIMethod: max
         * 求两个向量最大值。
         *
         * Parameters:
         * out - {Vector2} 基础向量。
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Vector2} 结果。
         */

    }, {
        key: 'max',
        value: function max(out, v1, v2) {
            out[0] = Math.max(v1[0], v2[0]);
            out[1] = Math.max(v1[1], v2[1]);
            return out;
        }

        /**
         * APIMethod: length
         * 向量长度。
         *
         * Parameters:
         * v - {Vector2} 向量。
         *
         * Returns:
         * {Number} 向量长度。
         */

    }, {
        key: 'length',
        value: function length(v) {
            return this.len(v);
        }

        /**
         * APIMethod: lengthSquare
         * 向量长度平方。
         *
         * Parameters:
         * v - {Vector2} 向量。
         *
         * Returns:
         * {Number} 向量长度平方。
         */

    }, {
        key: 'lengthSquare',
        value: function lengthSquare(v) {
            return this.lenSquare(v);
        }

        /**
         * APIMethod: dist
         * 计算向量间距离。
         *
         * Parameters:
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Number} 向量间距离。
         */

    }, {
        key: 'dist',
        value: function dist(v1, v2) {
            return this.distance(v1, v2);
        }

        /**
         * APIMethod: distSquare
         * 向量距离平方。
         *
         * Parameters:
         * v1 - {Vector2} 向量 v1。
         * v2 - {Vector2} 向量 v2。
         *
         * Returns:
         * {Number} 向量距离平方。
         */

    }, {
        key: 'distSquare',
        value: function distSquare(v1, v2) {
            return this.distanceSquare(v1, v2);
        }
    }]);
    return Vector;
}();

;
exports.Vector = Vector;

_Base.Zondy.LevelRenderer.Tool.Vector = Vector;

/***/ }),

/***/ "./overlay/levelRender/index.js":
/*!**************************************!*\
  !*** ./overlay/levelRender/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SUtil = exports.LevelRendererVector = exports.Util = exports.Transformable = exports.Storage = exports.SmicText = exports.SmicStar = exports.SmicSector = exports.SmicRing = exports.SmicRectangle = exports.SmicPolygon = exports.SmicPoint = exports.SmicIsogon = exports.SmicImage = exports.SmicEllipse = exports.SmicCircle = exports.SmicBrokenLine = exports.Shape = exports.PaintLayer = exports.Painter = exports.Matrix = exports.Math = exports.Http = exports.Handler = exports.Group = exports.Eventful = exports.LevelRendererEvent = exports.Env = exports.Easing = exports.LevelRendererCurve = exports.Config = exports.ComputeBoundingBox = exports.Color = exports.Clip = exports.Area = exports.Animator = exports.Animation = exports.Render = exports.LevelRenderer = undefined;

var _LevelRenderer = __webpack_require__(/*! ./LevelRenderer */ "./overlay/levelRender/LevelRenderer.js");

var _Render = __webpack_require__(/*! ./Render */ "./overlay/levelRender/Render.js");

var _Animation = __webpack_require__(/*! ./Animation */ "./overlay/levelRender/Animation.js");

var _Area = __webpack_require__(/*! ./Area */ "./overlay/levelRender/Area.js");

var _Clip = __webpack_require__(/*! ./Clip */ "./overlay/levelRender/Clip.js");

var _Color = __webpack_require__(/*! ./Color */ "./overlay/levelRender/Color.js");

var _ComputeBoundingBox = __webpack_require__(/*! ./ComputeBoundingBox */ "./overlay/levelRender/ComputeBoundingBox.js");

var _Config = __webpack_require__(/*! ./Config */ "./overlay/levelRender/Config.js");

var _Curve = __webpack_require__(/*! ./Curve */ "./overlay/levelRender/Curve.js");

var _Easing = __webpack_require__(/*! ./Easing */ "./overlay/levelRender/Easing.js");

var _Env = __webpack_require__(/*! ./Env */ "./overlay/levelRender/Env.js");

var _Event = __webpack_require__(/*! ./Event */ "./overlay/levelRender/Event.js");

var _Eventful = __webpack_require__(/*! ./Eventful */ "./overlay/levelRender/Eventful.js");

var _Group = __webpack_require__(/*! ./Group */ "./overlay/levelRender/Group.js");

var _Handler = __webpack_require__(/*! ./Handler */ "./overlay/levelRender/Handler.js");

var _Http = __webpack_require__(/*! ./Http */ "./overlay/levelRender/Http.js");

var _Math = __webpack_require__(/*! ./Math */ "./overlay/levelRender/Math.js");

var _Matrix = __webpack_require__(/*! ./Matrix */ "./overlay/levelRender/Matrix.js");

var _Painter = __webpack_require__(/*! ./Painter */ "./overlay/levelRender/Painter.js");

var _Shape = __webpack_require__(/*! ./Shape */ "./overlay/levelRender/Shape.js");

var _SmicBrokenLine = __webpack_require__(/*! ./SmicBrokenLine */ "./overlay/levelRender/SmicBrokenLine.js");

var _SmicCircle = __webpack_require__(/*! ./SmicCircle */ "./overlay/levelRender/SmicCircle.js");

var _SmicEllipse = __webpack_require__(/*! ./SmicEllipse */ "./overlay/levelRender/SmicEllipse.js");

var _SmicImage = __webpack_require__(/*! ./SmicImage */ "./overlay/levelRender/SmicImage.js");

var _SmicIsogon = __webpack_require__(/*! ./SmicIsogon */ "./overlay/levelRender/SmicIsogon.js");

var _SmicPoint = __webpack_require__(/*! ./SmicPoint */ "./overlay/levelRender/SmicPoint.js");

var _SmicPolygon = __webpack_require__(/*! ./SmicPolygon */ "./overlay/levelRender/SmicPolygon.js");

var _SmicRectangle = __webpack_require__(/*! ./SmicRectangle */ "./overlay/levelRender/SmicRectangle.js");

var _SmicRing = __webpack_require__(/*! ./SmicRing */ "./overlay/levelRender/SmicRing.js");

var _SmicSector = __webpack_require__(/*! ./SmicSector */ "./overlay/levelRender/SmicSector.js");

var _SmicStar = __webpack_require__(/*! ./SmicStar */ "./overlay/levelRender/SmicStar.js");

var _SmicText = __webpack_require__(/*! ./SmicText */ "./overlay/levelRender/SmicText.js");

var _Storage = __webpack_require__(/*! ./Storage */ "./overlay/levelRender/Storage.js");

var _Transformable = __webpack_require__(/*! ./Transformable */ "./overlay/levelRender/Transformable.js");

var _Util = __webpack_require__(/*! ./Util */ "./overlay/levelRender/Util.js");

var _Vector = __webpack_require__(/*! ./Vector */ "./overlay/levelRender/Vector.js");

var _SUtil = __webpack_require__(/*! ./SUtil */ "./overlay/levelRender/SUtil.js");

exports.LevelRenderer = _LevelRenderer.LevelRenderer;
exports.Render = _Render.Render;
exports.Animation = _Animation.Animation;
exports.Animator = _Animation.Animator;
exports.Area = _Area.Area;
exports.Clip = _Clip.Clip;
exports.Color = _Color.Color;
exports.ComputeBoundingBox = _ComputeBoundingBox.ComputeBoundingBox;
exports.Config = _Config.Config;
exports.LevelRendererCurve = _Curve.Curve;
exports.Easing = _Easing.Easing;
exports.Env = _Env.Env;
exports.LevelRendererEvent = _Event.Event;
exports.Eventful = _Eventful.Eventful;
exports.Group = _Group.Group;
exports.Handler = _Handler.Handler;
exports.Http = _Http.Http;
exports.Math = _Math.Math;
exports.Matrix = _Matrix.Matrix;
exports.Painter = _Painter.Painter;
exports.PaintLayer = _Painter.PaintLayer;
exports.Shape = _Shape.Shape;
exports.SmicBrokenLine = _SmicBrokenLine.SmicBrokenLine;
exports.SmicCircle = _SmicCircle.SmicCircle;
exports.SmicEllipse = _SmicEllipse.SmicEllipse;
exports.SmicImage = _SmicImage.SmicImage;
exports.SmicIsogon = _SmicIsogon.SmicIsogon;
exports.SmicPoint = _SmicPoint.SmicPoint;
exports.SmicPolygon = _SmicPolygon.SmicPolygon;
exports.SmicRectangle = _SmicRectangle.SmicRectangle;
exports.SmicRing = _SmicRing.SmicRing;
exports.SmicSector = _SmicSector.SmicSector;
exports.SmicStar = _SmicStar.SmicStar;
exports.SmicText = _SmicText.SmicText;
exports.Storage = _Storage.Storage;
exports.Transformable = _Transformable.Transformable;
exports.Util = _Util.Util;
exports.LevelRendererVector = _Vector.Vector;
exports.SUtil = _SUtil.SUtil;

/***/ }),

/***/ "./service/MRCS/CatalogColorInfo.js":
/*!******************************************!*\
  !*** ./service/MRCS/CatalogColorInfo.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ColorInfo = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _CatalogService2 = __webpack_require__(/*! ./CatalogService */ "./service/MRCS/CatalogService.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ColorInfo = function (_CatalogService) {
    (0, _inherits3.default)(ColorInfo, _CatalogService);

    function ColorInfo(opt_options) {
        (0, _classCallCheck3.default)(this, ColorInfo);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ColorInfo.__proto__ || (0, _getPrototypeOf2.default)(ColorInfo)).call(this, options));

        _this.SystemLibID = options.SystemLibID !== undefined ? options.SystemLibID : 0; //系统库索引号
        _this.ColorNO = options.ColorNO !== undefined ? options.ColorNO : 6; //颜色号
        _this.Red = options.Red !== undefined ? options.Red : 0; //（红色）值，0~255取值
        _this.Green = options.Green !== undefined ? options.Green : 0; //（绿色）值，0~255取值
        _this.Blue = options.Blue !== undefined ? options.Blue : 0; //（蓝色）值，0~255取值
        _this.addNew = options.addNew !== undefined ? options.BladdNewue : false;
        return _this;
    }

    /**
    * 根据RGB值获取该颜色在颜色库中的颜色号
    * Parameters:
    * rgbArr-{Int in an Arry} rgb数组 eg:[5, 5, 5]
    * addNew-{Boolen} 如果查找到的颜色与传入的颜色RGB不完全相同，是否根据传入的RGB值添加新颜色到颜色库
    * onSuccess-{Function} 
    * return:
    * 颜色值在系统库中对应的ID编号 -{Int}
    */


    (0, _createClass3.default)(ColorInfo, [{
        key: "getColorNO",
        value: function getColorNO(options, onSuccess, onError /*, options*/) {
            var me = this;
            if (options != null && options !== undefined) {
                if (options.SystemLibID !== undefined) {
                    me.SystemLibID = options.SystemLibID;
                }
                if (options.Red !== undefined) {
                    me.Red = options.Red;
                }
                if (options.Green !== undefined) {
                    me.Green = options.Green;
                }
                if (options.Blue !== undefined) {
                    me.Blue = options.Blue;
                }
                if (options.addNew !== undefined) {
                    me.addNew = options.addNew;
                }
            }
            me.partUrl = "ColorLib/getColorNO?f=json&libID=" + me.SystemLibID + "&r=" + me.Red + "&g=" + me.Green + "&b=" + me.Blue + "&addNew=" + me.addNew;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /**
        * 根据颜色号获取颜色RGB值
        * Parameters:
        * colorNO-{Int} 颜色号
        * onSuccess-{Function} 回调函数
        * return：
        * 颜色信息对象 - {Zondy.Object.Catalog.ColorInfo}
        */

    }, {
        key: "getColorRGB",
        value: function getColorRGB(options, onSuccess, onError /*, options*/) {
            var me = this;
            if (options != null && options !== undefined) {
                if (options.SystemLibID !== undefined) {
                    me.SystemLibID = options.SystemLibID;
                }
                if (options.ColorNO !== undefined) {
                    me.ColorNO = options.ColorNO;
                }
            }
            me.partUrl = "ColorLib/getColorRGB?f=json&libID=" + me.SystemLibID + "&colorNO=" + me.ColorNO;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return ColorInfo;
}(_CatalogService2.CatalogService);

;
exports.ColorInfo = ColorInfo;

Zondy.Catalog.ColorInfo = ColorInfo;

/***/ }),

/***/ "./service/MRCS/CatalogGDBInfo.js":
/*!****************************************!*\
  !*** ./service/MRCS/CatalogGDBInfo.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GDBInfo = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _CatalogService2 = __webpack_require__(/*! ./CatalogService */ "./service/MRCS/CatalogService.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var GDBInfo = function (_CatalogService) {
    (0, _inherits3.default)(GDBInfo, _CatalogService);

    function GDBInfo(opt_options) {
        (0, _classCallCheck3.default)(this, GDBInfo);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (GDBInfo.__proto__ || (0, _getPrototypeOf2.default)(GDBInfo)).call(this, options));

        _this.serverName = options.serverName !== undefined ? options.serverName : null;
        /// <summary>数据库名称</summary>
        _this.gdbName = options.gdbName !== undefined ? options.gdbName : null;
        /// <summary>要素数据集</summary>
        _this.dsName = options.dsName !== undefined ? options.dsName : null;
        /// <summary>栅格数据集</summary>
        _this.rcsName = options.rcsName !== undefined ? options.rcsName : null;
        /// <summary>数据库用户名//除MapGISLocal数据源，其它的都设置</summary>
        _this.User = options.User !== undefined ? options.User : null;
        /// <summary>数据库密码//除MapGISLocal数据源，其它的都设置</summary>
        _this.Password = options.Password !== undefined ? options.Password : null;
        /// <summary>是否包含所有</summary>
        _this.containAll = options.containAll !== undefined ? options.containAll : true;
        return _this;
    }

    /// <summary>获取数据源列表</summary>
    /// <param name="onSuccess" type="Function">回调函数</param>


    (0, _createClass3.default)(GDBInfo, [{
        key: "getServerList",
        value: function getServerList(onSuccess, onError) {
            var me = this;
            me.partUrl = "datasource?f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取指定数据源下数据库列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getGDBList",
        value: function getGDBList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") {
                me.partUrl = "datasource/" + me.serverName + "?f=json";
            } else {
                me.partUrl = "datasource/" + me.serverName + "?user=" + me.User + "&psw=" + me.Password + "&f=json";
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取GDB下要素集列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getDsList",
        value: function getDsList(onSuccess, onError, options) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") {
                me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/ds?containAll=" + me.containAll + "&f=json";
            } else {
                me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/ds?user=" + me.User + "&psw=" + me.Password + "&containAll=" + me.containAll + "&f=json";
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取GDB下所有栅格目录列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getRcsList",
        value: function getRcsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") {
                me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/rcs?f=json";
            } else {
                me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/rcs?user=" + me.User + "&psw=" + me.Password + "&containAll=" + me.containAll + "&f=json";
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取参照系列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getProjectList",
        value: function getProjectList(onSuccess, onError) {
            var me = this;
            me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "?f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取参照系信息</summary>
        /// <param name="srefID" type="Integer">空间参照系ID</param>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getProjectInfo",
        value: function getProjectInfo(srefID, onSuccess, onError, options) {
            var me = this;
            me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + srefID + "?f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>附加地理数据库</summary>
        /// <param name="path" type="String">数据库的绝对路径</param>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <param name="onError" type="Function">请求失败回调函数</param>

    }, {
        key: "AttachGDB",
        value: function AttachGDB(path, onSuccess, onError) {
            var me = this;
            //var path = (path != null) ? encodeURI(path) : null;
            if (me.serverName == null || me.gdbName == null || path == null) {
                return;
            }
            me.partUrl = "gdb/attach/" + me.gdbName + "?gdbSvrName=" + me.serverName + "&path=" + path + "&f=json";
            if (me.user != null && me.password != null) {
                me.partUrl += "&gdbUserName=" + me.User + "&gdbPwd=" + me.Password;
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>注销地理数据库</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <param name="onError" type="Function">请求失败回调函数</param>

    }, {
        key: "DetachGDB",
        value: function DetachGDB(onSuccess, onError) {
            var me = this;
            if (me.serverName == null || me.gdbName == null) {
                return;
            }
            me.partUrl = "gdb/detach/" + me.gdbName + "?gdbSvrName=" + me.serverName;

            if (me.user != null && me.password != null) {
                me.partUrl += "&gdbUserName=" + me.User + "&gdbPwd=" + me.Password;
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>创建地理数据库</summary>
        /// <param name="path" type="String">数据库的绝对路径（本地数据源，即MapGISLocal，必须设置，仅包含创建数据库路径，不包含数据库名称）</param>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <param name="onError" type="Function">请求失败回调函数</param>

    }, {
        key: "CreateGDB",
        value: function CreateGDB(path, onSuccess, onError) {
            var me = this;
            //var path = (path != null) ? encodeURI(path) : null;
            //var path = (path != null) ? ChineseToUtf8(path) : null;
            if (me.serverName == null || me.gdbName == null) {
                return;
            }
            if (me.serverName.toLowerCase() == 'mapgislocal' && path == null) {
                return;
            }
            me.partUrl = "gdb/creat/" + me.gdbName + "?gdbSvrName=" + me.serverName + "&path=" + path + "&f=json";
            if (me.user != null && me.password != null) {
                me.partUrl += "&gdbUserName=" + me.User + "&gdbPwd=" + me.Password;
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary> 删除地理数据库</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <param name="onError" type="Function">请求失败回调函数</param>

    }, {
        key: "DeleteGDB",
        value: function DeleteGDB(onSuccess, onError) {
            var me = this;
            if (me.serverName == null || me.gdbName == null) {
                return;
            }
            me.partUrl = "gdb/delete/" + me.gdbName + "?gdbSvrName=" + me.serverName;

            if (me.user != null && me.password != null) {
                me.partUrl += "&gdbUserName=" + me.User + "&gdbPwd=" + me.Password;
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return GDBInfo;
}(_CatalogService2.CatalogService);

;
exports.GDBInfo = GDBInfo;

Zondy.Catalog.GDBInfo = GDBInfo;

/***/ }),

/***/ "./service/MRCS/CatalogMapDoc.js":
/*!***************************************!*\
  !*** ./service/MRCS/CatalogMapDoc.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MapDoc = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _CatalogService2 = __webpack_require__(/*! ./CatalogService */ "./service/MRCS/CatalogService.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MapDoc = function (_CatalogService) {
    (0, _inherits3.default)(MapDoc, _CatalogService);

    function MapDoc(opt_options) {
        (0, _classCallCheck3.default)(this, MapDoc);

        var options = opt_options || {};

        /// <summary>地图文档名称 {String}</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (MapDoc.__proto__ || (0, _getPrototypeOf2.default)(MapDoc)).call(this, options));

        _this.docName = options.docName !== undefined ? options.docName : null;

        /// <summary>地图索引 {Int}</summary>
        _this.mapIndex = options.mapIndex !== undefined ? options.mapIndex : 0;

        /// <summary>图层索引 {Int|string}</summary>
        _this.layerID = options.layerID !== undefined ? options.layerID : 0;

        /// <summary>版本信息 {Int}</summary>
        _this.version = options.version !== undefined ? options.version : 2;

        ///<summary>指定地图文档相关信息的结构,值为Zondy.Service.Catalog.IncludeStruct类型</summary>
        ///默认includeDetails为true ,includeSubs为false
        ///当includeDetails为true时，includeSubs方有效
        _this.include = options.include !== undefined ? options.include : "{includeDetails:true,includeSubs:false}";

        /// <summary>是否返回由DWS所返回的原始格式信息</summary>
        _this.returnFullStyle = options.returnFullStyle !== undefined ? options.returnFullStyle : false;

        ///唯一标识，用于标识地图文档
        _this.guid = options.guid !== undefined ? options.guid : (0, _Util.newGuid)();
        return _this;
    }

    /// <summary>获取服务器地图文档列表</summary>
    /// <param name="onSuccess" type="Function">回调函数</param>
    /// <param name="onError" type="Function">调用失败返回函数</param>
    //(1)v为版本信息，例如v=2。当v缺省时，只返回直接发布的地图文档列表，当v=2时，返回包含直接发布的地图文档和目录形式发布的地图文档在内的所有地图文档列表。
    //(2)在发布地图文档时需注意，尽量保证直接发布的地图文档与目录发布的地图文档之间不存在重名文件。


    (0, _createClass3.default)(MapDoc, [{
        key: "getMapDocList",
        value: function getMapDocList(onSuccess, onError) {
            var me = this;
            me.partUrl = "docs?v=" + this.version + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取指定地图文档的详细信息</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <param name="details" type="Boolean">返回结果是否包含地图详细内容</param>
        /// <param name="sub" type="Boolean">返回结果是否地图信息</param>
        ///  returnFullStyle = true时，details，sub属性设置才能生效
        /// </param>

    }, {
        key: "getMapDocInfo",
        value: function getMapDocInfo(onSuccess, details, sub, onError, returnFullStyle) {
            var me = this;
            if (typeof returnFullStyle == "boolean") {
                me.returnFullStyle = returnFullStyle;
            }
            if (typeof details == "boolean" || typeof subs == "boolean") {
                var includeObj = {
                    includeDetails: typeof details == "boolean" ? details : true,
                    includeSubs: typeof subs == "boolean" ? subs : false
                };
                me.include = (0, _Util.toJSON)(includeObj);
            }
            me.partUrl = "docs/" + me.docName + "?include=" + me.include + "&returnFullStyle=" + me.returnFullStyle + "&guid=" + me.guid + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取地图文档中指定地图的相关信息</summary>
        /// <param name="returnFullStyle" type="Boolean">是否返回由DWS所返回的原始格式信息</param>
        /// <param name="details" type="Boolean">兼容旧版本，该参数无效，调用时可不设置或设为null</param>

    }, {
        key: "getMapInfo",
        value: function getMapInfo(onSuccess, returnFullStyle, details, onError) {
            var me = this;
            if (typeof returnFullStyle == "boolean") {
                me.returnFullStyle = returnFullStyle;
            }
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "?returnFullStyle=" + me.returnFullStyle + "&guid=" + me.guid + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取指定地图下指定图层的相关信息</summary>
        /// <param name="returnFullStyle" type="Boolean">是否返回由DWS所返回的原始格式信息</param>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <return type="Zondy.Object.Catalog.MapInfo">指定图层的详细信息</return>

    }, {
        key: "getLayerInfo",
        value: function getLayerInfo(onSuccess, onError) {
            var me = this;
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "/" + me.layerID + "?returnFullStyle=" + me.returnFullStyle + "&guid=" + me.guid + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取指定地图下所有图层的图层信息</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <return type="Object">指定地图的详细信息</return>

    }, {
        key: "getLayersInfo",
        value: function getLayersInfo(onSuccess, onError) {
            var me = this;
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "/layers?f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>删除地图图层（GET）</summary>
        /// <param name="layerIDs" type="String">图层索引列表（多个序号间以“,”号分隔，如0,6）</param>
        /// 如果有多个序号，请以倒序排列
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <return type="Boolen">是否成功删除地图图层</return>

    }, {
        key: "deleteLayer",
        value: function deleteLayer(onSuccess, onError) {
            var me = this;
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "/layers/delete?layerIDs=" + me.layerID + "&guid=" + me.guid + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>添加地图图层（POST）</summary>
        /// <param name="addLayerInfo" type="Array ,LayerInfo in an Array">需要添加的图层数组</param>
        //{
        //   Index:index,//图层的索引号，默认为-1表示从文档末尾附加
        //   LayerName:” LayerName”,//图层名称
        //   GDBP:”GDBPURL”//图层的GDBP值，如gdbp://MapGisLocal/示例数据/ds/兰伯特(全国)_400万/sfcls/中国地级市
        //}

        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <return type="Boolen">是否成功添加地图图层</return>

    }, {
        key: "addLayer",
        value: function addLayer(addLayerInfos, onSuccess, onError) {
            var me = this;
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "/layers/add?guid=" + me.guid + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            // text / plain
            //service.processAsync({ method: 'POST', data: JSON.stringify(addLayerInfos), headers: { 'Content-Type': 'application/json'} });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(addLayerInfos), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }

        /// <summary>更改图层顺序（POST）</summary>
        /// <param name="newIndexArray" type="Array,Interger in an Array">新图层的序号顺序数组</param>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <return type="Boolen">是否成功更改图层顺序</return>

    }, {
        key: "changeIndex",
        value: function changeIndex(newIndexArray, onSuccess, onError) {
            var me = this;
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "/layers/index?guid=" + me.guid + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(newIndexArray), header: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }

        /// <summary>获取指定图层图例信息（Get）</summary>
        /// <param name="layerIDs" type="string">需要获取图例信息的图层索引,如0,6</param>
        ///<param name="fields" type="string">需要获取图例信息图层对应的字段,如省名,ID</param>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <return type="Object">指定图层图例信息</return>

    }, {
        key: "getLegendInfo",
        value: function getLegendInfo(layerIDs, fields, onSuccess, onError) {
            var me = this;
            me.partUrl = "legendInfo/" + me.docName + "?f=json&layerIndexes=" + layerIDs + "&fields=" + fields;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return MapDoc;
}(_CatalogService2.CatalogService);

;
exports.MapDoc = MapDoc;

_Base.Zondy.Catalog.MapDoc = MapDoc;

/***/ }),

/***/ "./service/MRCS/CatalogService.js":
/*!****************************************!*\
  !*** ./service/MRCS/CatalogService.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CatalogService = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _ServiceBase2 = __webpack_require__(/*! ../ServiceBase */ "./service/ServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CatalogService = function (_ServiceBase) {
    (0, _inherits3.default)(CatalogService, _ServiceBase);

    function CatalogService(opt_options) {
        (0, _classCallCheck3.default)(this, CatalogService);

        var options = opt_options || {};
        options.baseUrl = "igs/rest/mrcs";
        return (0, _possibleConstructorReturn3.default)(this, (CatalogService.__proto__ || (0, _getPrototypeOf2.default)(CatalogService)).call(this, options));
    }

    return CatalogService;
}(_ServiceBase2.ServiceBase); /**
                              * @class CatalogService
                              * @classdesc 目录服务基类
                              * @extends ServiceBase
                              * @param url -{string} 地图服务地址()
                              * @param options -{Object} 地图服务信息相关参数。如：<br>
                              */

;
exports.CatalogService = CatalogService;

_Base.Zondy.Catalog.CatalogService = CatalogService;

/***/ }),

/***/ "./service/MRCS/CatalogTileLayer.js":
/*!******************************************!*\
  !*** ./service/MRCS/CatalogTileLayer.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TileLayer = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _CatalogService2 = __webpack_require__(/*! ./CatalogService */ "./service/MRCS/CatalogService.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TileLayer = function (_CatalogService) {
    (0, _inherits3.default)(TileLayer, _CatalogService);

    function TileLayer(opt_options) {
        (0, _classCallCheck3.default)(this, TileLayer);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (TileLayer.__proto__ || (0, _getPrototypeOf2.default)(TileLayer)).call(this, options));

        _this.tileName = options.tileName !== undefined ? options.tileName : null;
        /// <summary>瓦片版本</summary>
        _this.version = options.version !== undefined ? options.version : "2.0";
        return _this;
    }

    (0, _createClass3.default)(TileLayer, [{
        key: "getTileList",
        value: function getTileList(onSuccess, onError) {
            var me = this;
            me.partUrl = "tiles?f=json";
            if (this.version) {
                if (me.version == "2.0") {
                    me.partUrl += "&v=2";
                } else {
                    me.partUrl += "&v=" + me.version;
                }
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取指定瓦片的详细信息</summary>
        /// <param name="tileName" type="Function">瓦片名称</param>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <return type="Zondy.Object.Catalog.TileMapInfo">指定瓦片的详细信息</return>

    }, {
        key: "getTileInfo",
        value: function getTileInfo(onSuccess, onError) {
            var me = this;
            me.partUrl = "tiles/" + me.tileName + "?f=json";
            if (me.version) {
                me.partUrl += "&v=" + me.version;
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return TileLayer;
}(_CatalogService2.CatalogService);

;
exports.TileLayer = TileLayer;

Zondy.Catalog.TileLayer = TileLayer;

/***/ }),

/***/ "./service/MRCS/CatalogVectorLayer.js":
/*!********************************************!*\
  !*** ./service/MRCS/CatalogVectorLayer.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.VectorLayer = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _CatalogGDBInfo = __webpack_require__(/*! ./CatalogGDBInfo */ "./service/MRCS/CatalogGDBInfo.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _VectCls = __webpack_require__(/*! ../common/VectCls */ "./service/common/VectCls.js");

var _CAttStruct = __webpack_require__(/*! ../common/CAttStruct */ "./service/common/CAttStruct.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var VectorLayer = function (_GDBInfo) {
    (0, _inherits3.default)(VectorLayer, _GDBInfo);

    function VectorLayer(opt_options) {
        (0, _classCallCheck3.default)(this, VectorLayer);

        var options = opt_options || {};
        return (0, _possibleConstructorReturn3.default)(this, (VectorLayer.__proto__ || (0, _getPrototypeOf2.default)(VectorLayer)).call(this, options));
    }
    /// <summary>获取GDB下所有简单要素类列表</summary>
    /// <param name="onSuccess" type="Function">回调函数</param>


    (0, _createClass3.default)(VectorLayer, [{
        key: "getSfclsList",
        value: function getSfclsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/sfcls?containAll=" + me.containAll + "&f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/sfcls?user=" + me.User + "&psw=" + me.Password + "&containAll=" + this.containAll + "&f=json";

            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取GDB下所有注记类列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getAclsList",
        value: function getAclsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/acls?containAll=" + me.containAll + "&f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/acls?user=" + me.User + "&psw=" + me.Password + "&containAll=" + me.containAll + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取GDB下所有对象类列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getOclsList",
        value: function getOclsList(onSuccess, onError) {

            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/ocls?containAll=" + me.containAll + "&f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/ocls?user=" + me.User + "&psw=" + me.Password + "&containAll=" + me.containAll + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取GDB下所有网络类列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getNclsList",
        value: function getNclsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/ncls?containAll=" + me.containAll + "&f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/ncls?user=" + thmeis.User + "&psw=" + me.Password + "&containAll=" + me.containAll + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取GDB下所有栅格数据集列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getRdsList",
        value: function getRdsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/rds?containAll=" + me.containAll + "&f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/rds?user=" + me.User + "&psw=" + me.Password + "&containAll=" + me.containAll + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取GDB下指定要素集内所有简单要素类列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getDsSfclsList",
        value: function getDsSfclsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/sfcls?f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/sfcls?user=" + me.User + "&psw=" + me.Password + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取GDB下指定要素集内所有注记类列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getDsAclsList",
        value: function getDsAclsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/acls?f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/acls?user=" + me.User + "&psw=" + me.Password + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取GDB下指定要素集内所有对象类列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getDsOclsList",
        value: function getDsOclsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/ocls?f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/ocls?user=" + me.User + "&psw=" + me.Password + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取GDB下指定要素集内所有网络类列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getDsNclsList",
        value: function getDsNclsList(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/ncls?f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/ncls?user=" + me.User + "&psw=" + me.Password + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>获取GDB下指定栅格目录内所有栅格数据集列表</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getRdsListInRcs",
        value: function getRdsListInRcs(onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.rcsName + "/rds?f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.rcsName + "/rds?user=" + me.User + "&psw=" + me.Password + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>通过传入的参数选择获取GDB下面的哪一类</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <param name="clsType" type="String">值为"sfcls","ds", "acls", "ncls"，"ocls", "rds", "rcs"</param>
        ///</param>分别为数据库下简单要素类，要素集，注记类,网络类,对象类，栅格数据集，栅格目录</param>

    }, {
        key: "getLayerList",
        value: function getLayerList(clsType, onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + clsType + "?containAll=" + me.containAll + "&f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + clsType + "?user=" + me.User + "&psw=" + me.Password + "&containAll=" + me.containAll + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>通过传入的参数选择获取GDB下面指定要素集下的哪一类</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>
        /// <param name="clsType" type="String">值为"sfcls", "acls", "ncls"，"ocls", "rds", "rcs"
        ///分别为GDB下简单要素类，要素类，注记类或网络类

    }, {
        key: "getLayerListInDS",
        value: function getLayerListInDS(clsType, onSuccess, onError) {
            var me = this;
            if (me.serverName.toLowerCase() == "mapgislocal") me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/" + clsType + "?f=json";else me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + me.dsName + "/" + clsType + "?user=" + me.User + "&psw=" + me.Password + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }

        /// <summary>获取图层详细信息</summary>
        /// <param name="gdbpUrl" type="String">类URL</param>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "getLayerInfo",
        value: function getLayerInfo(gdbpUrl, onSuccess, onError) {
            var me = this;
            me.partUrl = "layerinfo?gdbpUrl=" + gdbpUrl + "&f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /// <summary>在指定GDB中创建图层</summary>
        /// <param name="vectCls" type="Zondy.Object.VectCls"> 矢量类</param>
        /// 可指定图层的数据类型、几何形态、属性结构、要素数据集、空间参考等信息，
        /// 其中图层的属性结构，采用POST参数形式传入,若未设置图层名称，则图层名称为当前guid
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "CreateVectCls",
        value: function CreateVectCls(vectCls, onSuccess, onError) {
            var me = this;
            var vectCls = vectCls != null ? vectCls : null;
            if (vectCls == null || me.serverName == null || me.gdbName == null) {
                return;
            }
            if (me.User != null && me.Password != null) {
                me.partUrl = "datasource/" + me.User + ":" + me.Password + "@";
            } else {
                me.partUrl = "datasource/";
            }
            if (vectCls.clsName == null) {
                vectCls.clsName = (0, _Util.newGuid)();
            }
            me.partUrl += me.serverName + "/" + me.gdbName + "/" + vectCls.clsType + "/" + vectCls.clsName + "/create?" + "geoType=" + vectCls.geoType + "&srefName=" + vectCls.srefName + "&dsName=" + vectCls.dsName + "&f=json";

            //将属性结构对象转为json字符串
            // var attStructStr = toJSON(vectCls.attStruct);
            if (vectCls.attStruct == null) {
                vectCls.attStruct = new _CAttStruct.CAttStruct();
            }
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(vectCls.attStruct), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }

        /// <summary>删除指定GDB中相关数据</summary>
        /// <param name="clsType" type="Zondy.Enum.XClsType">数据类型</param>
        /// <param name="clsName" type="string">数据名称</param>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "deleteXCls",
        value: function deleteXCls(clsType, clsName, onSuccess, onError) {
            var me = this;
            if (me.serverName == null || me.gdbName == null || clsType == null || clsName == null) {
                return;
            }
            me.partUrl = "datasource/" + me.serverName + "/" + me.gdbName + "/" + clsType + "/" + clsName + "/delete?f=json";
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return VectorLayer;
}(_CatalogGDBInfo.GDBInfo);

;
exports.VectorLayer = VectorLayer;

Zondy.Catalog.VectorLayer = VectorLayer;

/***/ }),

/***/ "./service/MRCS/index.js":
/*!*******************************!*\
  !*** ./service/MRCS/index.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.VectorLayer = exports.TileLayer = exports.CatalogService = exports.MapDoc = exports.GDBInfo = exports.ColorInfo = undefined;

var _CatalogColorInfo = __webpack_require__(/*! ./CatalogColorInfo */ "./service/MRCS/CatalogColorInfo.js");

var _CatalogGDBInfo = __webpack_require__(/*! ./CatalogGDBInfo */ "./service/MRCS/CatalogGDBInfo.js");

var _CatalogMapDoc = __webpack_require__(/*! ./CatalogMapDoc */ "./service/MRCS/CatalogMapDoc.js");

var _CatalogService = __webpack_require__(/*! ./CatalogService */ "./service/MRCS/CatalogService.js");

var _CatalogTileLayer = __webpack_require__(/*! ./CatalogTileLayer */ "./service/MRCS/CatalogTileLayer.js");

var _CatalogVectorLayer = __webpack_require__(/*! ./CatalogVectorLayer */ "./service/MRCS/CatalogVectorLayer.js");

exports.ColorInfo = _CatalogColorInfo.ColorInfo;
exports.GDBInfo = _CatalogGDBInfo.GDBInfo;
exports.MapDoc = _CatalogMapDoc.MapDoc;
exports.CatalogService = _CatalogService.CatalogService;
exports.TileLayer = _CatalogTileLayer.TileLayer;
exports.VectorLayer = _CatalogVectorLayer.VectorLayer;

/***/ }),

/***/ "./service/MRFS/EditDocFeature.js":
/*!****************************************!*\
  !*** ./service/MRFS/EditDocFeature.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.EditDocFeature = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _EditServiceBase2 = __webpack_require__(/*! ./EditServiceBase */ "./service/MRFS/EditServiceBase.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _FeatureSet = __webpack_require__(/*! ../common/FeatureSet */ "./service/common/FeatureSet.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 矢量地图文档要素编辑服务
/// </summary>
var EditDocFeature = function (_EditServiceBase) {
    (0, _inherits3.default)(EditDocFeature, _EditServiceBase);

    /// <summary>编辑要素到文档服务构造函数</summary>
    /// <param name="docName" type="string">文档名称</param>
    /// <param name="mapIndex" type="Interger">地图索引号</param>
    /// <param name="layerIndex" type="Interger">图层索引号，添加要素时只能同时操作单个图层</param>
    /// <param name="opt_options" type="object">属性键值对</param>
    function EditDocFeature(docName, layerIndex, opt_options) {
        (0, _classCallCheck3.default)(this, EditDocFeature);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (EditDocFeature.__proto__ || (0, _getPrototypeOf2.default)(EditDocFeature)).call(this, options));

        _this.docName = docName !== undefined ? docName : null;
        //只允许赋值为0
        _this.mapIndex = 0;
        _this.layerIndex = layerIndex !== undefined ? layerIndex : 0;
        return _this;
    }
    /**
    * 添加一组要素
    * param: features{Zondy.Object.FeatureSet} 要添加的要素集合
    * param: onSuccess{Function} 添加成功后的回调函数
    */


    (0, _createClass3.default)(EditDocFeature, [{
        key: "add",
        value: function add(features, onSuccess, onError) {
            var me = this;
            if (features === undefined) {
                return;
            }
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "/" + me.layerIndex + "/addFeatures?f=" + me.f + "&guid=" + me.guid;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(features), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }

        /**
        * 更新一组要素
        * param: features{Zondy.Object.FeatureSet} 要更新的要素集合
        * param: onSuccess{Function} 更新成功后的回调函数
        */

    }, {
        key: "update",
        value: function update(features, onSuccess, onError) {
            var me = this;
            if (features === undefined) {
                return;
            }
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "/" + me.layerIndex + "/updateFeatures?f=" + me.f + "&guid=" + me.guid;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(features), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }

        /**
        * 删除一组要素
        * param: featureIds{String} 要删除的要素OID，多个要素OID间用','分割
        * param: onSuccess{Function} 删除成功后的回调函数
        */

    }, {
        key: "deletes",
        value: function deletes(featureIds, onSuccess, onError) {
            var me = this;
            if (featureIds === undefined) {
                return;
            }
            me.partUrl = "docs/" + me.docName + "/" + me.mapIndex + "/" + me.layerIndex + "/deleteFeatures?f=" + me.f + "&objectIds=" + featureIds + "&guid=" + me.guid;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return EditDocFeature;
}(_EditServiceBase2.EditServiceBase);

;
exports.EditDocFeature = EditDocFeature;

_Base.Zondy.Service.EditDocFeature = EditDocFeature;

/***/ }),

/***/ "./service/MRFS/EditLayerFeature.js":
/*!******************************************!*\
  !*** ./service/MRFS/EditLayerFeature.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.EditLayerFeature = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _EditServiceBase2 = __webpack_require__(/*! ./EditServiceBase */ "./service/MRFS/EditServiceBase.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _FeatureSet = __webpack_require__(/*! ../common/FeatureSet */ "./service/common/FeatureSet.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 矢量图层要素编辑服务
/// </summary>
var EditLayerFeature = function (_EditServiceBase) {
    (0, _inherits3.default)(EditLayerFeature, _EditServiceBase);

    /// <summary>矢量图层要素编辑服务构造函数</summary>
    /// <param name="gdbp" type="String">图层的URL，添加要素只能同时操作单个图层</param>
    function EditLayerFeature(gdbp, opt_options) {
        (0, _classCallCheck3.default)(this, EditLayerFeature);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (EditLayerFeature.__proto__ || (0, _getPrototypeOf2.default)(EditLayerFeature)).call(this, options));

        _this.gdbp = gdbp !== undefined ? gdbp : null;
        return _this;
    }
    /**
    * 添加一组要素
    * param: features{Zondy.Object.FeatureSet} 要添加的要素集合
    * param: onSuccess{Function} 添加成功后的回调函数
    */


    (0, _createClass3.default)(EditLayerFeature, [{
        key: "add",
        value: function add(features, onSuccess, onError) {
            var me = this;
            if (features === undefined) {
                return;
            }
            me.partUrl = "layer/addFeatures?f=" + me.f + "&gdbp=" + me.gdbp + "&guid=" + me.guid;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(features), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }

        /**
        * 更新一组要素
        * param: features{Zondy.Object.FeatureSet} 要更新的要素集合
        * param: onSuccess{Function} 更新成功后的回调函数
        */

    }, {
        key: "update",
        value: function update(features, onSuccess, onError, options) {
            var me = this;
            if (features === undefined) {
                return;
            }
            me.partUrl = "layer/updateFeatures?f=" + me.f + "&gdbp=" + me.gdbp + "&guid=" + me.guid;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(features), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }

        /**
        * 删除一组要素
        * param: featureIds{String} 要删除的要素OID，多个要素OID间用','分割
        * param: onSuccess{Function} 删除成功后的回调函数
        */

    }, {
        key: "deletes",
        value: function deletes(featureIds, onSuccess, onError, options) {
            var me = this;
            if (featureIds === undefined) {
                return;
            }
            me.partUrl = "layer/deleteFeatures?f=" + me.f + "&objectIds=" + featureIds + "&gdbp=" + me.gdbp + "&guid=" + me.guid;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return EditLayerFeature;
}(_EditServiceBase2.EditServiceBase);

;
exports.EditLayerFeature = EditLayerFeature;

_Base.Zondy.Service.EditLayerFeature = EditLayerFeature;

/***/ }),

/***/ "./service/MRFS/EditServiceBase.js":
/*!*****************************************!*\
  !*** ./service/MRFS/EditServiceBase.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.EditServiceBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ServiceBase2 = __webpack_require__(/*! ../ServiceBase */ "./service/ServiceBase.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EditServiceBase = function (_ServiceBase) {
    (0, _inherits3.default)(EditServiceBase, _ServiceBase);

    function EditServiceBase(opt_options) {
        (0, _classCallCheck3.default)(this, EditServiceBase);

        var options = opt_options || {};

        /// <summary>唯一标识{string}</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (EditServiceBase.__proto__ || (0, _getPrototypeOf2.default)(EditServiceBase)).call(this, options));

        _this.guid = options.guid !== undefined ? options.guid : (0, _Util.newGuid)();
        _this.baseUrl = "igs/rest/mrfs";
        _this.f = options.f !== undefined ? options.f : 'json';
        return _this;
    }

    return EditServiceBase;
}(_ServiceBase2.ServiceBase);

;
exports.EditServiceBase = EditServiceBase;

_Base.Zondy.Service.EditServiceBase = EditServiceBase;

/***/ }),

/***/ "./service/MRFS/MultiGeoQuery.js":
/*!***************************************!*\
  !*** ./service/MRFS/MultiGeoQuery.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MultiGeoQuery = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _FeatureSet = __webpack_require__(/*! ../common/FeatureSet */ "./service/common/FeatureSet.js");

var _QueryServiceBase2 = __webpack_require__(/*! ./QueryServiceBase */ "./service/MRFS/QueryServiceBase.js");

var _MultiGeoQueryParameter = __webpack_require__(/*! ./MultiGeoQueryParameter */ "./service/MRFS/MultiGeoQueryParameter.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MultiGeoQuery = function (_QueryServiceBase) {
    (0, _inherits3.default)(MultiGeoQuery, _QueryServiceBase);

    /// <summary>构造函数</summary>
    /// <param name="queryParam" type="Zondy.Service.MultiGeoQueryParameter">多几何查询的参数类</param>
    /// <param name="docName" type="String">文档名称</param>
    /// <param name="mapIndex" type="Interger">地图序号</param>
    /// <param name="layerIndex" type="String">图层序号</param>
    /// <param name="options" type="Object">属性赋值对象</param>
    function MultiGeoQuery(queryParam, docName, layerIndex, opt_options) {
        (0, _classCallCheck3.default)(this, MultiGeoQuery);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (MultiGeoQuery.__proto__ || (0, _getPrototypeOf2.default)(MultiGeoQuery)).call(this, options));

        _this.queryParam = queryParam;
        _this.mapName = docName;
        _this.mapIndex = 0;
        _this.layerIndex = layerIndex;
        _this.baseUrl = "igs/rest/extend/MultiGeo";
        _this.partUrl = "docs/" + _this.mapName + "/" + _this.mapIndex.toString() + "/" + _this.layerIndex + "/Geoquery";
        _this.partUrl += queryParam.getParameterURL();
        /// <summary>返回结果回调</summary>
        //this.resultCallBack = options.resultCallBack !== undefined ? options.resultCallBack : null;
        return _this;
    }

    /// <summary>
    ///处理查询结果，并调用用户回调将结果返回给用户
    /// Private, 本方法私有
    ///</summary>


    (0, _createClass3.default)(MultiGeoQuery, [{
        key: "processResult",
        value: function processResult(jsonObj) {
            var rltObj = null;
            if (jsonObj.result.ItemArray != null && jsonObj.result.ItemArray.length > 0) {
                for (var i = 0; i < jsonObj.result.ItemArray.length; i++) {
                    if (rltObj == null) {
                        rltObj = new _FeatureSet.FeatureSet();
                    }
                    //extend(rltObj, (jsonObj.result.ItemArray)[i]);
                    //可用DeepMerge
                }
            }
            //var rltObj = new FeatureSet();
            //extend(rltObj, jsonObj.result.ItemArray);
            this.resultCallBack(rltObj);
        }
        /// <summary>查询函数，向服务器发送请求</summary>
        /// <param name="onSuccess" type="{Function}">必要参数，执行成功后的回调函数</param>
        /// <param name="onError" type="{Function}">非必要参数，执行失败后的回调函数</param>
        /// <param name="options" type="Object">非必要参数，</param>

    }, {
        key: "query",
        value: function query(onSuccess, onError, options) {
            /// <summary>查询函数，向服务器发送请求</summary>
            /// <param name="onSuccess" type="Function">回调函数</param>
            if (this.queryParam == null || !(this.queryParam instanceof _MultiGeoQueryParameter.MultiGeoQueryParameter)) {
                return;
            }
            var dataObj = null;
            if (this.queryParam.geometryType == "point") {
                dataObj = { pointArr: this.queryParam.geometry };
            } else if (this.queryParam.geometryType == "line") {
                dataObj = { lineArr: this.queryParam.geometry };
            } else if (this.queryParam.geometryType == "polygon") {
                dataObj = { PolygonObjs: this.queryParam.geometry };
            }
            var me = this;
            var url = me.getFullUrl();
            // me.resultCallBack = onSuccess;
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(dataObj), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
    }]);
    return MultiGeoQuery;
}(_QueryServiceBase2.QueryServiceBase);

;
exports.MultiGeoQuery = MultiGeoQuery;

_Base.Zondy.Service.MultiGeoQuery = MultiGeoQuery;

/***/ }),

/***/ "./service/MRFS/MultiGeoQueryParameter.js":
/*!************************************************!*\
  !*** ./service/MRFS/MultiGeoQueryParameter.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MultiGeoQueryParameter = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _Point2D = __webpack_require__(/*! ../common/Point2D */ "./service/common/Point2D.js");

var _PolyLine = __webpack_require__(/*! ../common/PolyLine */ "./service/common/PolyLine.js");

var _Polygon = __webpack_require__(/*! ../common/Polygon */ "./service/common/Polygon.js");

/// <summary>多几何查询对象类</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var MultiGeoQueryParameter = function MultiGeoQueryParameter(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};

    (0, _Util.extend)(this, options);
    /// <summary>用于查询的多几何数组
    /// {Zondy.Object.Point2D或Zondy.Object.PolyLine或Zondy.Object.Polygon对象构成的数组}
    /// </summary>
    this.geometry = options.geometry !== undefined ? options.geometry : null;
    /// <summary>
    /// 几何类型，表示geometry中元素代表的几何类型，可取值为"point","line","polygon"
    ///  {String}
    ///</summary>
    this.geometryType = options.geometryType !== undefined ? options.geometryType : null;
    /// <summary>
    /// 回调结果的包装形式
    ///  {String}
    ///</summary>
    this.resultFormat = options.resultFormat !== undefined ? options.resultFormat : "json";
    /// <summary>
    /// 缓冲半径，仅在多点和多线查询时起效
    ///  {String}
    ///</summary>
    this.nearDis = options.nearDis !== undefined ? options.nearDis : 0.0001;
};

MultiGeoQueryParameter.prototype.getParameterURL = function () {
    /// <summary>获取相关参数的REST-URL表示形式</summary>
    var paramUrl = "";
    paramUrl += "?f=" + this.resultFormat;
    paramUrl += "&geometryType=" + this.geometryType;
    paramUrl += "&nearDis=" + this.nearDis;
    return paramUrl;
};
exports.MultiGeoQueryParameter = MultiGeoQueryParameter;

_Base.Zondy.Service.MultiGeoQueryParameter = MultiGeoQueryParameter;

/***/ }),

/***/ "./service/MRFS/ObjClsQuery.js":
/*!*************************************!*\
  !*** ./service/MRFS/ObjClsQuery.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ObjClsQuery = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _QueryServiceBase2 = __webpack_require__(/*! ./QueryServiceBase */ "./service/MRFS/QueryServiceBase.js");

var _ObjClsQueryParameter = __webpack_require__(/*! ./ObjClsQueryParameter */ "./service/MRFS/ObjClsQueryParameter.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ObjClsQuery = function (_QueryServiceBase) {
    (0, _inherits3.default)(ObjClsQuery, _QueryServiceBase);

    /// <summary>构造函数</summary>
    /// <param name="queryParam" type="Zondy.Service.ObjClsQueryParameter">对象类查询的参数类</param>
    /// <param name="gdbp" type="String">对象类的GDBP地址</param>
    /// <param name="options" type="Object">属性赋值对象</param>
    function ObjClsQuery(queryParam, gdbp, opt_options) {
        (0, _classCallCheck3.default)(this, ObjClsQuery);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ObjClsQuery.__proto__ || (0, _getPrototypeOf2.default)(ObjClsQuery)).call(this, options));

        _this.queryParam = queryParam;
        _this.gdbp = gdbp;
        _this.baseUrl = "igs/rest/extend/dxlcz";
        _this.partUrl = "objlayer/query?gdbp=" + gdbp;
        _this.partUrl += queryParam.getParameterURL();
        return _this;
    }

    /// <summary>查询函数，向服务器发送请求</summary>
    /// <param name="onSuccess" type="{Function}">必要参数，执行成功后的回调函数</param>
    /// <param name="onError" type="{Function}">非必要参数，执行失败后的回调函数</param>
    /// <param name="options" type="Object">非必要参数，</param>


    (0, _createClass3.default)(ObjClsQuery, [{
        key: "query",
        value: function query(onSuccess, onError, options) {
            /// <summary>查询函数，向服务器发送请求</summary>
            /// <param name="onSuccess" type="Function">回调函数</param>
            if (this.queryParam == null || !(this.queryParam instanceof _ObjClsQueryParameter.ObjClsQueryParameter)) {
                return;
            }
            var me = this;
            var url = me.getFullUrl();

            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return ObjClsQuery;
}(_QueryServiceBase2.QueryServiceBase);

;
exports.ObjClsQuery = ObjClsQuery;

_Base.Zondy.Service.ObjClsQuery = ObjClsQuery;

/***/ }),

/***/ "./service/MRFS/ObjClsQueryParameter.js":
/*!**********************************************!*\
  !*** ./service/MRFS/ObjClsQueryParameter.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ObjClsQueryParameter = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var ObjClsQueryParameter = function ObjClsQueryParameter(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};

    (0, _Util.extend)(this, options);
    /// <summary>
    ///     需要查询的要素OID号，多个间用‘，’分隔
    ///     如果此参数有值，查询将默认转化为使用要素ID查询，而忽略条件查询
    ///</summary>
    this.objectIds = options.objectIds !== undefined ? options.objectIds : null;
    /// <summary>
    /// 条件查询的SQL语句；
    ///  {String}
    ///</summary>
    this.where = options.where !== undefined ? options.where : null;
    /// <summary>
    /// 回调结果的包装形式
    ///  {String}
    ///</summary>
    this.resultFormat = options.resultFormat !== undefined ? options.resultFormat : "json";
};

ObjClsQueryParameter.prototype.getParameterURL = function () {
    /// <summary>获取相关参数的REST-URL表示形式</summary>
    /// <summary>获取相关参数的REST-URL表示形式</summary>
    var paramUrl = "";
    paramUrl += "&f=" + this.resultFormat;
    if (this.objectIds != null) {
        paramUrl += "&objectIds=" + this.objectIds;
    } else {
        if (this.where != null) {
            paramUrl += "&where=" + this.where;
        }
    }

    return paramUrl;
};
exports.ObjClsQueryParameter = ObjClsQueryParameter;

_Base.Zondy.Service.ObjClsQueryParameter = ObjClsQueryParameter;

/***/ }),

/***/ "./service/MRFS/QueryByLayerParameter.js":
/*!***********************************************!*\
  !*** ./service/MRFS/QueryByLayerParameter.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.QueryByLayerParameter = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _QueryParameter2 = __webpack_require__(/*! ./QueryParameter */ "./service/MRFS/QueryParameter.js");

var _QueryFeatureStruct = __webpack_require__(/*! ./QueryFeatureStruct */ "./service/MRFS/QueryFeatureStruct.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var QueryByLayerParameter = function (_QueryParameter) {
    (0, _inherits3.default)(QueryByLayerParameter, _QueryParameter);

    /// <summary>查矢量图层查询服务构造函数</summary>
    /// <param name="queryParam" type="Zondy.Object.QueryByLayerParameter">查询参数信息</param>
    /// <param name="opt_options" type="Object">属性键值对</param>
    function QueryByLayerParameter(gdbp, opt_options) {
        (0, _classCallCheck3.default)(this, QueryByLayerParameter);

        var options = opt_options ? opt_options : {};

        //this.struct = options.struct !== undefined ? options.struct : new QueryFeatureStruct();
        var _this = (0, _possibleConstructorReturn3.default)(this, (QueryByLayerParameter.__proto__ || (0, _getPrototypeOf2.default)(QueryByLayerParameter)).call(this, options));

        _this.gdbp = gdbp !== undefined ? encodeURI(gdbp) : null;
        return _this;
    }
    /// <summary>
    ///重载基类getParameterURL，获取相关参数的REST-URL表示形式
    ///</summary>


    (0, _createClass3.default)(QueryByLayerParameter, [{
        key: "getParameterURL",
        value: function getParameterURL() {
            var paramUrl = (0, _get3.default)(QueryByLayerParameter.prototype.__proto__ || (0, _getPrototypeOf2.default)(QueryByLayerParameter.prototype), "getParameterURL", this).call(this);
            return paramUrl + "&gdbp=" + this.gdbp;
        }

        /// <summary>
        ///重载基类getParameterObject，获取相关参数的Object形式,私有方法
        ///</summary>

    }, {
        key: "getParameterObject",
        value: function getParameterObject() {
            var obj = (0, _get3.default)(QueryByLayerParameter.prototype.__proto__ || (0, _getPrototypeOf2.default)(QueryByLayerParameter.prototype), "getParameterObject", this).call(this, this);
            obj.gdbp = this.gdbp;
            return obj;
        }
    }]);
    return QueryByLayerParameter;
}(_QueryParameter2.QueryParameter);

;
exports.QueryByLayerParameter = QueryByLayerParameter;

_Base.Zondy.Service.QueryByLayerParameter = QueryByLayerParameter;

/***/ }),

/***/ "./service/MRFS/QueryDocFeature.js":
/*!*****************************************!*\
  !*** ./service/MRFS/QueryDocFeature.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.QueryDocFeature = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _QueryServiceBase2 = __webpack_require__(/*! ./QueryServiceBase */ "./service/MRFS/QueryServiceBase.js");

var _QueryParameter = __webpack_require__(/*! ./QueryParameter */ "./service/MRFS/QueryParameter.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var QueryDocFeature = function (_QueryServiceBase) {
    (0, _inherits3.default)(QueryDocFeature, _QueryServiceBase);

    /// <summary>矢量地图文档查询服务构造函数</summary>
    /// <param name="queryParam" type="Zondy.Service.QueryParameter">查询参数信息</param>
    /// <param name="docName" type="string">地图文档名称</param>
    /// <param name="mapIndex" type="Int">地图索引号</param>
    /// <param name="layerIndexes" type="string">图层索引号, 多图层间以“,”号分隔</param>
    /// <param name="opt_options" type="Object">属性键值对</param>
    function QueryDocFeature(queryParam, docName, layerIndex, opt_options) {
        (0, _classCallCheck3.default)(this, QueryDocFeature);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (QueryDocFeature.__proto__ || (0, _getPrototypeOf2.default)(QueryDocFeature)).call(this, options));

        _this.queryParam = queryParam;
        _this.docName = docName;
        _this.layerIndex = layerIndex;
        _this.mapIndex = 0;
        _this.partUrl = "docs/" + _this.docName + "/" + _this.mapIndex.toString() + "/" + _this.layerIndex.toString() + "/query";
        return _this;
    }

    return QueryDocFeature;
}(_QueryServiceBase2.QueryServiceBase);

;
exports.QueryDocFeature = QueryDocFeature;

_Base.Zondy.Service.QueryDocFeature = QueryDocFeature;

/***/ }),

/***/ "./service/MRFS/QueryFeatureRule.js":
/*!******************************************!*\
  !*** ./service/MRFS/QueryFeatureRule.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.QueryFeatureRule = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var QueryFeatureRule = function QueryFeatureRule(opt_options) {
    var options = opt_options ? opt_options : {};
    (0, _Util.extend)(this, options);
    /**
    *  是否仅比较要素的外包矩形，来判定是否与几何约束图形有交集
    *  {Bool}
    **/
    this.CompareRectOnly = options.CompareRectOnly !== undefined && typeof options.CompareRectOnly == "boolean" ? options.CompareRectOnly : false;

    /**
    *  是否将要素的可见性计算在内
    *  {Bool}
    **/
    this.EnableDisplayCondition = options.EnableDisplayCondition !== undefined && typeof options.EnableDisplayCondition == "boolean" ? options.EnableDisplayCondition : false;

    /**
    *  是否完全包含
    *  {Bool}
    **/
    this.MustInside = options.MustInside !== undefined && typeof options.MustInside == "boolean" ? options.MustInside : false;

    /**
    *  是否相交
    *  {Bool}
    **/
    this.Intersect = options.Intersect !== undefined && typeof options.Intersect == "boolean" ? options.Intersect : false;
};

/// <summary>
///获取此类的json形式的字符串
///</summary>
/**
* Class: Zondy.Service.QueryFeatureRule
* 要素查询规则基类
*/

QueryFeatureRule.prototype.toJSON = function () {
    return (0, _Util.toJSON)(this);
};
exports.QueryFeatureRule = QueryFeatureRule;

_Base.Zondy.Service.QueryFeatureRule = QueryFeatureRule;

/***/ }),

/***/ "./service/MRFS/QueryFeatureStruct.js":
/*!********************************************!*\
  !*** ./service/MRFS/QueryFeatureStruct.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.QueryFeatureStruct = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var QueryFeatureStruct = function QueryFeatureStruct(opt_options) {
    var options = opt_options ? opt_options : {};
    (0, _Util.extend)(this, options);
    /**
    *  是否包含属性值
    *  {Bool}
    **/
    this.IncludeAttribute = options.IncludeAttribute !== undefined && typeof options.IncludeAttribute == "boolean" ? options.IncludeAttribute : true;

    /**
    *  是否包含几何图形信息
    *  {Bool}
    **/
    this.IncludeGeometry = options.IncludeGeometry !== undefined && typeof options.IncludeGeometry == "boolean" ? options.IncludeGeometry : false;

    /**
    *  是否包含图形参数
    *  {Bool}
    **/
    this.IncludeWebGraphic = options.IncludeWebGraphic !== undefined && typeof options.IncludeWebGraphic == "boolean" ? options.IncludeWebGraphic : false;
};

/// <summary>
///获取此类的json形式的字符串
///</summary>
/**
* Class: Zondy.Service.QueryFeatureStruct
* 要素查询结构基类
*/
QueryFeatureStruct.prototype.toJSON = function () {
    return (0, _Util.toJSON)(this);
};
exports.QueryFeatureStruct = QueryFeatureStruct;

_Base.Zondy.Service.QueryFeatureStruct = QueryFeatureStruct;

/***/ }),

/***/ "./service/MRFS/QueryLayerFeature.js":
/*!*******************************************!*\
  !*** ./service/MRFS/QueryLayerFeature.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.QueryLayerFeature = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _QueryServiceBase2 = __webpack_require__(/*! ./QueryServiceBase */ "./service/MRFS/QueryServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var QueryLayerFeature = function (_QueryServiceBase) {
    (0, _inherits3.default)(QueryLayerFeature, _QueryServiceBase);

    /// <summary>查矢量图层查询服务构造函数</summary>
    /// <param name="queryParam" type="Zondy.Object.QueryByLayerParameter">查询参数信息</param>
    /// <param name="opt_options" type="Object">属性键值对</param>
    function QueryLayerFeature(queryParam, opt_options) {
        (0, _classCallCheck3.default)(this, QueryLayerFeature);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (QueryLayerFeature.__proto__ || (0, _getPrototypeOf2.default)(QueryLayerFeature)).call(this, options));

        _this.queryParam = queryParam;
        _this.partUrl = "layer/query";
        return _this;
    }

    return QueryLayerFeature;
}(_QueryServiceBase2.QueryServiceBase);

;
exports.QueryLayerFeature = QueryLayerFeature;

_Base.Zondy.Service.QueryLayerFeature = QueryLayerFeature;

/***/ }),

/***/ "./service/MRFS/QueryParameter.js":
/*!****************************************!*\
  !*** ./service/MRFS/QueryParameter.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.QueryParameter = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _QueryParameterBase2 = __webpack_require__(/*! ./QueryParameterBase */ "./service/MRFS/QueryParameterBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var QueryParameter = function (_QueryParameterBase) {
    (0, _inherits3.default)(QueryParameter, _QueryParameterBase);

    function QueryParameter(opt_options) {
        (0, _classCallCheck3.default)(this, QueryParameter);

        var options = opt_options ? opt_options : {};
        return (0, _possibleConstructorReturn3.default)(this, (QueryParameter.__proto__ || (0, _getPrototypeOf2.default)(QueryParameter)).call(this, options));
    }
    ///// <summary>
    /////获取相关参数的REST-URL表示形式
    /////</summary>


    (0, _createClass3.default)(QueryParameter, [{
        key: "getParameterURL",
        value: function getParameterURL() {
            var paramUrl = "";
            paramUrl = "page=" + this.pageIndex.toString();
            paramUrl += "&pageCount=" + this.recordNumber.toString();
            paramUrl += "&f=" + this.resultFormat;

            if (this.geometry != null) {
                paramUrl += "&geometry=" + this.geometry.toString();
                paramUrl += "&geometryType=" + this.geometry.getGeometryType();
            }

            if (this.struct != null) {
                paramUrl += "&structs=" + (0, _Util.toJSON)(this.struct);
                // paramUrl += "&structs=" + JSON.stringify(this.struct);
            }
            if (this.where != null) {
                paramUrl += "&where=" + this.where;
            }
            if (this.rule != null) {
                paramUrl += "&rule=" + (0, _Util.toJSON)(this.rule);
                //paramUrl += "&rule=" + JSON.stringify(this.rule);
            }
            if (this.objectIds != null) {
                paramUrl += "&objectIds=" + this.objectIds;
            }
            if (this.orderField != null) {
                paramUrl += "&orderField=" + this.orderField;
            }
            if (this.isAsc != null) {
                paramUrl += "&isAsc=" + this.isAsc;
            }
            return paramUrl;
        }
        ///// <summary>
        /////获取相关参数的Object形式,私有方法
        /////</summary>

    }, {
        key: "getParameterObject",
        value: function getParameterObject() {
            var obj = {};
            obj.f = this.resultFormat;
            if (this.struct != null) {
                obj.structs = this.struct.toJSON();
                //obj.structs = this.struct;
            }

            if (this.objectIds != null) {

                obj.objectIds = this.objectIds;
                return obj;
            };

            obj.page = this.pageIndex.toString();
            obj.pageCount = this.recordNumber.toString();

            if (this.geometry != null) {
                obj.geometry = this.geometry.toString();
                obj.geometryType = this.geometry.getGeometryType();
            }
            if (this.where != null) obj.where = this.where;
            if (this.rule != null) {
                obj.rule = this.rule.toJSON();
                //obj.rule = this.rule;
            }
            if (this.orderField != null) obj.orderField = this.orderField;
            if (this.isAsc != null) obj.isAsc = this.isAsc;
            return obj;
        }
    }]);
    return QueryParameter;
}(_QueryParameterBase2.QueryParameterBase); /**
                                            * Class: Zondy.Service.QueryParameter
                                            * Inherits from:
                                            *  - <Zondy.Service.QueryParameterBase> 
                                            */

;
exports.QueryParameter = QueryParameter;

_Base.Zondy.Service.QueryParameter = QueryParameter;

/***/ }),

/***/ "./service/MRFS/QueryParameterBase.js":
/*!********************************************!*\
  !*** ./service/MRFS/QueryParameterBase.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.QueryParameterBase = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _QueryFeatureStruct = __webpack_require__(/*! ./QueryFeatureStruct */ "./service/MRFS/QueryFeatureStruct.js");

var _QueryFeatureRule = __webpack_require__(/*! ./QueryFeatureRule */ "./service/MRFS/QueryFeatureRule.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* Class: Zondy.Service.QueryParameterBase
* 查询参数基类
*/
var QueryParameterBase = function QueryParameterBase(opt_options) {
        (0, _classCallCheck3.default)(this, QueryParameterBase);


        var options = opt_options ? opt_options : {};
        (0, _Util.extend)(this, options);
        /// <summary>用于查询的几何描述
        /// {Zondy.Object.Tangram}
        /// </summary>
        this.geometry = options.geometry !== undefined ? options.geometry : null;

        /// <summary>
        /// 条件查询的SQL语句,如果为空，则表示为单一的几何查询；
        ///  如果取值，表示为几何和条件混合查询
        ///  {String}
        ///</summary>
        this.where = options.where !== undefined ? options.where : null;

        /// <summary>几何查询的规则
        ///{Zondy.Service.QueryFeatureRule}
        ///</summary>
        this.rule = options.rule !== undefined ? options.rule : null;

        /// <summary>
        /// 需要查询的要素OID号，多个间用‘，’分隔
        /// 如果此参数有值，查询将默认转化为使用要素ID查询，而忽略条件查询
        ///</summary>
        this.objectIds = options.objectIds !== undefined ? options.objectIds : null;

        /// <summary>
        /// 分页号{Interger}
        ///</summary>
        this.pageIndex = options.pageIndex !== undefined ? options.pageIndex : 0;

        /// <summary>
        /// 每页记录数{Interger}
        ///</summary>
        this.recordNumber = options.recordNumber !== undefined ? options.recordNumber : 20;

        /// <summary>
        /// 查询结果的序列化形式(json（默认值）|xml|kml|gml|georss，对于xml，kml，gml或者georss格式的类xml类型将以text文本返回，如需要可调用$.parseXML(text)得到其xml包装)
        /// {String}
        ///</summary>
        this.resultFormat = options.resultFormat !== undefined ? options.resultFormat : "json";

        /// <summary>
        /// 指定查询返回结果所包含的要素信息
        /// {Zondy.Service.QueryFeatureStruct}
        ///</summary>
        this.struct = options.struct !== undefined ? options.struct : new _QueryFeatureStruct.QueryFeatureStruct();

        /// <summary>
        /// 指定查询返回结果的排序字段
        /// {Zondy.Service.QueryFeatureStruct}
        ///</summary>
        this.orderField = options.orderField !== undefined ? options.orderField : null;

        /// <summary>
        /// 是否升序排列，与orderField配合使用
        /// {Zondy.Service.QueryFeatureStruct}
        ///</summary>
        this.isAsc = options.isAsc !== undefined ? options.isAsc : false;
};

;
exports.QueryParameterBase = QueryParameterBase;

_Base.Zondy.Service.QueryParameterBase = QueryParameterBase;

/***/ }),

/***/ "./service/MRFS/QueryServiceBase.js":
/*!******************************************!*\
  !*** ./service/MRFS/QueryServiceBase.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.QueryServiceBase = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _ServiceBase2 = __webpack_require__(/*! ../ServiceBase */ "./service/ServiceBase.js");

var _FeatureSet = __webpack_require__(/*! ../common/FeatureSet */ "./service/common/FeatureSet.js");

var _QueryParameter = __webpack_require__(/*! ./QueryParameter */ "./service/MRFS/QueryParameter.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var QueryServiceBase = function (_ServiceBase) {
    (0, _inherits3.default)(QueryServiceBase, _ServiceBase);

    function QueryServiceBase(opt_options) {
        (0, _classCallCheck3.default)(this, QueryServiceBase);

        var options = opt_options || {};
        options.baseUrl = "igs/rest/mrfs";

        /// <summary>返回结果回调</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (QueryServiceBase.__proto__ || (0, _getPrototypeOf2.default)(QueryServiceBase)).call(this, options));

        _this.resultCallBack = options.resultCallBack !== undefined ? options.resultCallBack : null;

        ///<summary> 用于查询的参数类{Zondy.Service.QueryParameter}</summary>
        _this.queryParam = options.queryParam !== undefined ? options.queryParam : null;

        /// <summary>请求方式{string} GET|POST</summary>
        _this.requestType = options.requestType !== undefined ? options.requestType : "GET";
        return _this;
    }

    /// <summary>
    ///处理查询结果，并调用用户回调将结果返回给用户
    /// Private, 本方法私有
    ///</summary>


    (0, _createClass3.default)(QueryServiceBase, [{
        key: "processResult",
        value: function processResult(jsonObj) {
            var rltObj = new _FeatureSet.FeatureSet();
            // extend(rltObj, jsonObj.result);
            (0, _Util.copyExcluce)(rltObj, jsonObj.result, 'succeed');
            this.resultCallBack(rltObj);
        }
    }, {
        key: "processGeoJsonResult",
        value: function processGeoJsonResult(jsonObj) {
            var rltObj = {};
            (0, _Util.copyExcluce)(rltObj, jsonObj.result, 'succeed');
            this.resultCallBack(rltObj);
        }
        /// <summary>
        ///开始查询
        /// 
        ///</summary>

    }, {
        key: "restQuery",
        value: function restQuery(restUrl, dataObject, onSuccess, way, onError, resultFormat) {
            var me = this;
            me.resultCallBack = onSuccess;
            var service = new _IServiceBase.IgsServiceBase(restUrl, {
                eventListeners: {
                    scope: me,
                    processCompleted: resultFormat != 'geojson' ? me.processResult : me.processGeoJsonResult,
                    processFailed: onError
                }
            });
            if (way == "GET") {
                service.processAsync();
            } else {
                service.processAsync({ method: 'POST', data: (0, _stringify2.default)(dataObject), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
            }
        }

        /// <summary>
        /// 执行查询
        /// <param name="onSuccess" type="Function">回调函数</param>
        ///</summary>

    }, {
        key: "query",
        value: function query(onSuccess, onError, requestType) {
            if (this.queryParam == null) {
                return;
            }
            var fullRestUrl = "";

            if (this.queryParam instanceof _QueryParameter.QueryParameter) {
                // 如果是属于几何查询类
                fullRestUrl = this.getFullUrl();
            } else {
                return;
            }
            var way = "";
            var dataObject = null;
            if (!requestType) {
                if (!this.requestType) {
                    way = "GET";
                    //fullRestUrl += "?" + this.queryParam.getParameterURL();
                } else {
                    way = this.requestType;
                }
            } else {
                way = requestType;
            }
            if (way.toUpperCase() == "GET") {
                fullRestUrl += "?" + this.queryParam.getParameterURL();
            } else {
                dataObject = this.queryParam.getParameterObject();
            }
            this.restQuery(fullRestUrl, dataObject, onSuccess, way, onError, this.queryParam.resultFormat.toLowerCase());
        }
    }]);
    return QueryServiceBase;
}(_ServiceBase2.ServiceBase);

;
exports.QueryServiceBase = QueryServiceBase;

_Base.Zondy.Service.QueryServiceBase = QueryServiceBase;

/***/ }),

/***/ "./service/MRFS/index.js":
/*!*******************************!*\
  !*** ./service/MRFS/index.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.QueryServiceBase = exports.QueryParameterBase = exports.QueryParameter = exports.QueryLayerFeature = exports.QueryFeatureStruct = exports.QueryFeatureRule = exports.QueryDocFeature = exports.QueryByLayerParameter = exports.ObjClsQueryParameter = exports.ObjClsQuery = exports.MultiGeoQueryParameter = exports.MultiGeoQuery = exports.EditServiceBase = exports.EditLayerFeature = exports.EditDocFeature = undefined;

var _EditDocFeature = __webpack_require__(/*! ./EditDocFeature */ "./service/MRFS/EditDocFeature.js");

var _EditLayerFeature = __webpack_require__(/*! ./EditLayerFeature */ "./service/MRFS/EditLayerFeature.js");

var _EditServiceBase = __webpack_require__(/*! ./EditServiceBase */ "./service/MRFS/EditServiceBase.js");

var _MultiGeoQuery = __webpack_require__(/*! ./MultiGeoQuery */ "./service/MRFS/MultiGeoQuery.js");

var _MultiGeoQueryParameter = __webpack_require__(/*! ./MultiGeoQueryParameter */ "./service/MRFS/MultiGeoQueryParameter.js");

var _ObjClsQuery = __webpack_require__(/*! ./ObjClsQuery */ "./service/MRFS/ObjClsQuery.js");

var _ObjClsQueryParameter = __webpack_require__(/*! ./ObjClsQueryParameter */ "./service/MRFS/ObjClsQueryParameter.js");

var _QueryByLayerParameter = __webpack_require__(/*! ./QueryByLayerParameter */ "./service/MRFS/QueryByLayerParameter.js");

var _QueryDocFeature = __webpack_require__(/*! ./QueryDocFeature */ "./service/MRFS/QueryDocFeature.js");

var _QueryFeatureRule = __webpack_require__(/*! ./QueryFeatureRule */ "./service/MRFS/QueryFeatureRule.js");

var _QueryFeatureStruct = __webpack_require__(/*! ./QueryFeatureStruct */ "./service/MRFS/QueryFeatureStruct.js");

var _QueryLayerFeature = __webpack_require__(/*! ./QueryLayerFeature */ "./service/MRFS/QueryLayerFeature.js");

var _QueryParameter = __webpack_require__(/*! ./QueryParameter */ "./service/MRFS/QueryParameter.js");

var _QueryParameterBase = __webpack_require__(/*! ./QueryParameterBase */ "./service/MRFS/QueryParameterBase.js");

var _QueryServiceBase = __webpack_require__(/*! ./QueryServiceBase */ "./service/MRFS/QueryServiceBase.js");

exports.EditDocFeature = _EditDocFeature.EditDocFeature;
exports.EditLayerFeature = _EditLayerFeature.EditLayerFeature;
exports.EditServiceBase = _EditServiceBase.EditServiceBase;
exports.MultiGeoQuery = _MultiGeoQuery.MultiGeoQuery;
exports.MultiGeoQueryParameter = _MultiGeoQueryParameter.MultiGeoQueryParameter;
exports.ObjClsQuery = _ObjClsQuery.ObjClsQuery;
exports.ObjClsQueryParameter = _ObjClsQueryParameter.ObjClsQueryParameter;
exports.QueryByLayerParameter = _QueryByLayerParameter.QueryByLayerParameter;
exports.QueryDocFeature = _QueryDocFeature.QueryDocFeature;
exports.QueryFeatureRule = _QueryFeatureRule.QueryFeatureRule;
exports.QueryFeatureStruct = _QueryFeatureStruct.QueryFeatureStruct;
exports.QueryLayerFeature = _QueryLayerFeature.QueryLayerFeature;
exports.QueryParameter = _QueryParameter.QueryParameter;
exports.QueryParameterBase = _QueryParameterBase.QueryParameterBase;
exports.QueryServiceBase = _QueryServiceBase.QueryServiceBase;

/***/ }),

/***/ "./service/MRFWS/AnalysisBase.js":
/*!***************************************!*\
  !*** ./service/MRFWS/AnalysisBase.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.AnalysisBase = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _ServiceBase2 = __webpack_require__(/*! ../ServiceBase */ "./service/ServiceBase.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AnalysisBase = function (_ServiceBase) {
    (0, _inherits3.default)(AnalysisBase, _ServiceBase);

    function AnalysisBase(opt_options) {
        (0, _classCallCheck3.default)(this, AnalysisBase);

        var options = opt_options || {};
        options.baseUrl = "igs/rest/mrfws";

        /// <summary>工作流ID号,Interger</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (AnalysisBase.__proto__ || (0, _getPrototypeOf2.default)(AnalysisBase)).call(this, options));

        _this.flowID = options.flowID !== undefined ? options.flowID : null;
        return _this;
    }

    /// <summary>执行空间分析服务</summary>
    /// <param name="onSuccess" type="{Function}">必要参数，执行成功后的回调函数</param>
    /// <param name="way" type="{String}">服务器请求类型
    ///  'POST' or 'GET'，默认为'Get',当所需要发送的数据量比较大时，请选择'Post',否则可能会执行失败
    ///</param>


    (0, _createClass3.default)(AnalysisBase, [{
        key: "execute",
        value: function execute(onSuccess, way, onError) {
            /// <summary>执行分析语句</summary>
            /// <param name="onSuccess" type="{Function}">必要参数，执行成功后的回调函数</param>
            /// <param name="way" type="{String}">
            ///     'POST' or 'GET'，默认为'Get',当所需要发送的数据量比较大时，请选择'Post',否则可能会执行失败
            ///</param>
            /// <param name="isAsy" type="{Boolean}">是否异步执行，默认为false</param>
            /// <param name="f" type="{String}">'json' or 'xml' 指明执行返回结果的格式</param>
            var data = {};
            (0, _Util.copyExcluce)(data, this, ['port', 'ip', 'baseUrl', 'partUrl', 'flowID']);
            if (!way) {
                way = "get";
            }
            if (way.toLowerCase() == "get") {
                this.partUrl = "execute/" + this.flowID + "?isAsy=false&f=json";
                if (data != null) {
                    var paraStr = (0, _Util.getWFParameterString)(data);
                    if (paraStr != null || paraStr != '') {
                        this.partUrl += '&paraValues=' + paraStr;
                    }
                }
            }
            if (way.toLowerCase() == "post") {
                this.partUrl = "execute/" + this.flowID + "?isAsy=false&f=json";
                var keyValueArray = new Array();
                if (data != null) {
                    for (var o in data) {
                        if (data[o] != null) {
                            var keyValue = {};
                            keyValue.Key = o;
                            keyValue.Value = data[o].toString();
                            keyValueArray.push(keyValue);
                        }
                    }
                }
                data = keyValueArray;
            }
            var url = this.getFullUrl();
            var me = this;
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            if (way.toLowerCase() == "post") {
                service.processAsync({ method: 'POST', data: (0, _stringify2.default)(data), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
            } else {
                service.processAsync();
            }
        }
    }]);
    return AnalysisBase;
}(_ServiceBase2.ServiceBase); /// <summary>空间分析服务基类构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>


;
exports.AnalysisBase = AnalysisBase;

_Base.Zondy.Service.AnalysisBase = AnalysisBase;

/***/ }),

/***/ "./service/MRFWS/ClassBufferBase.js":
/*!******************************************!*\
  !*** ./service/MRFWS/ClassBufferBase.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ClassBufferBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _AnalysisBase2 = __webpack_require__(/*! ./AnalysisBase */ "./service/MRFWS/AnalysisBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>缓冲分析服务基类</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var ClassBufferBase = function (_AnalysisBase) {
    (0, _inherits3.default)(ClassBufferBase, _AnalysisBase);

    function ClassBufferBase(opt_options) {
        (0, _classCallCheck3.default)(this, ClassBufferBase);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ClassBufferBase.__proto__ || (0, _getPrototypeOf2.default)(ClassBufferBase)).call(this, options));

        _this.srcInfo = options.srcInfo !== undefined ? options.srcInfo : null;
        _this.desInfo = options.desInfo !== undefined ? options.desInfo : null;
        _this.idstr = options.idstr !== undefined ? options.idstr : "";
        _this.angleType = options.angleType !== undefined ? options.angleType : 0;
        _this.isDissolve = options.isDissolve !== undefined ? options.isDissolve : true;
        _this.isDynPrj = options.isDynPrj !== undefined ? options.isDynPrj : false;
        return _this;
    }

    return ClassBufferBase;
}(_AnalysisBase2.AnalysisBase);

;
exports.ClassBufferBase = ClassBufferBase;

_Base.Zondy.Service.ClassBufferBase = ClassBufferBase;

/***/ }),

/***/ "./service/MRFWS/ClassBufferByMultiplyRing.js":
/*!****************************************************!*\
  !*** ./service/MRFWS/ClassBufferByMultiplyRing.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ClassBufferByMultiplyRing = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ClassBufferBase2 = __webpack_require__(/*! ./ClassBufferBase */ "./service/MRFWS/ClassBufferBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 类缓冲分析（多圈）
*/
var ClassBufferByMultiplyRing = function (_ClassBufferBase) {
    (0, _inherits3.default)(ClassBufferByMultiplyRing, _ClassBufferBase);

    function ClassBufferByMultiplyRing(opt_options) {
        (0, _classCallCheck3.default)(this, ClassBufferByMultiplyRing);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ClassBufferByMultiplyRing.__proto__ || (0, _getPrototypeOf2.default)(ClassBufferByMultiplyRing)).call(this, options));

        _this.flowID = "600232";
        _this.radiusStr = options.radiusStr !== undefined ? options.radiusStr : "2,4,8,10";
        return _this;
    }

    return ClassBufferByMultiplyRing;
}(_ClassBufferBase2.ClassBufferBase);

;
exports.ClassBufferByMultiplyRing = ClassBufferByMultiplyRing;

_Base.Zondy.Service.ClassBufferByMultiplyRing = ClassBufferByMultiplyRing;

/***/ }),

/***/ "./service/MRFWS/ClassBufferBySingleRing.js":
/*!**************************************************!*\
  !*** ./service/MRFWS/ClassBufferBySingleRing.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.ClassBufferBySingleRing = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ClassBufferBase2 = __webpack_require__(/*! ./ClassBufferBase */ "./service/MRFWS/ClassBufferBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 类缓冲分析（单圈）
*/
var ClassBufferBySingleRing = function (_ClassBufferBase) {
        (0, _inherits3.default)(ClassBufferBySingleRing, _ClassBufferBase);

        function ClassBufferBySingleRing(opt_options) {
                (0, _classCallCheck3.default)(this, ClassBufferBySingleRing);

                var options = opt_options || {};

                /// <summary>>缓冲分析左半径 {Double}</summary>
                var _this = (0, _possibleConstructorReturn3.default)(this, (ClassBufferBySingleRing.__proto__ || (0, _getPrototypeOf2.default)(ClassBufferBySingleRing)).call(this, options));

                _this.leftRad = options.leftRad !== undefined ? options.leftRad : 0.001;

                /// <summary>>缓冲分析右半径{Double}</summary>
                _this.rightRad = options.rightRad !== undefined ? options.rightRad : 0.001;

                /// <summary>>是否根据属性字段设置缓冲区半径{Boolen}</summary>
                _this.isByAtt = options.isByAtt !== undefined ? options.isByAtt : true;

                /// <summary>>属性字段名称,当isByAtt为true时使用{String}</summary>
                _this.fldName = options.fldName !== undefined ? options.fldName : null;

                /// <summary>>动态投影半径{Interger}
                /// 使用前必须设置父类Zondy.Service.ClassBufferBase公共属性 isDynPrj 为”true”
                /// </summary>
                _this.dynPrjRad = options.dynPrjRad !== undefined ? options.dynPrjRad : 0;

                /// <summary>>矢量图层单圈缓冲区分析的工作流ID{String}</summary>
                _this.flowID = "600231";
                return _this;
        }

        return ClassBufferBySingleRing;
}(_ClassBufferBase2.ClassBufferBase);

;
exports.ClassBufferBySingleRing = ClassBufferBySingleRing;

_Base.Zondy.Service.ClassBufferBySingleRing = ClassBufferBySingleRing;

/***/ }),

/***/ "./service/MRFWS/ClipBase.js":
/*!***********************************!*\
  !*** ./service/MRFWS/ClipBase.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ClipBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _AnalysisBase2 = __webpack_require__(/*! ./AnalysisBase */ "./service/MRFWS/AnalysisBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>裁剪分析服务基类</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var ClipBase = function (_AnalysisBase) {
    (0, _inherits3.default)(ClipBase, _AnalysisBase);

    function ClipBase(opt_options) {
        (0, _classCallCheck3.default)(this, ClipBase);

        var options = opt_options || {};

        //裁剪分析结果图层URL
        var _this = (0, _possibleConstructorReturn3.default)(this, (ClipBase.__proto__ || (0, _getPrototypeOf2.default)(ClipBase)).call(this, options));

        _this.desInfo = options.desInfo !== undefined ? options.desInfo : null;
        //属性数据处理方式
        _this.attOptType = options.attOptType !== undefined ? options.attOptType : 1;
        //图形参数处理方式
        _this.infoOptType = options.infoOptType !== undefined ? options.infoOptType : 1;
        //裁剪方式
        _this.overType = options.overType !== undefined ? options.overType : 3;
        //容差半径
        _this.tolerance = options.tolerance !== undefined ? options.tolerance : 0.0001;
        //是否结点平差
        _this.isCleanNode = options.isCleanNode !== undefined ? options.isCleanNode : false;
        //是否裁剪label点
        _this.isLabelPnt = options.isLabelPnt !== undefined ? options.isLabelPnt : false;
        //是否检查区的合法性
        _this.isValidReg = options.isValidReg !== undefined ? options.isValidReg : false;
        return _this;
    }

    return ClipBase;
}(_AnalysisBase2.AnalysisBase);

;
exports.ClipBase = ClipBase;

_Base.Zondy.Service.ClipBase = ClipBase;

/***/ }),

/***/ "./service/MRFWS/ClipByCircle.js":
/*!***************************************!*\
  !*** ./service/MRFWS/ClipByCircle.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ClipByCircle = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ClipBase2 = __webpack_require__(/*! ./ClipBase */ "./service/MRFWS/ClipBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 圆裁剪
*/
var ClipByCircle = function (_ClipBase) {
    (0, _inherits3.default)(ClipByCircle, _ClipBase);

    function ClipByCircle(opt_options) {
        (0, _classCallCheck3.default)(this, ClipByCircle);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ClipByCircle.__proto__ || (0, _getPrototypeOf2.default)(ClipByCircle)).call(this, options));

        _this.srcInfo = options.srcInfo !== undefined ? options.srcInfo : null; //源图层URL
        _this.center = options.center !== undefined ? options.center : null; //圆点坐标，string：x,y
        _this.radius = options.radius !== undefined ? options.radius : null; //半径长度float
        _this.step = options.step !== undefined ? options.step : 0.001; //离散化步长
        _this.flowID = "600229";
        return _this;
    }

    return ClipByCircle;
}(_ClipBase2.ClipBase);

;
exports.ClipByCircle = ClipByCircle;

_Base.Zondy.Service.ClipByCircle = ClipByCircle;

/***/ }),

/***/ "./service/MRFWS/ClipByLayer.js":
/*!**************************************!*\
  !*** ./service/MRFWS/ClipByLayer.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ClipByLayer = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ClipBase2 = __webpack_require__(/*! ./ClipBase */ "./service/MRFWS/ClipBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 图层裁剪
*/
var ClipByLayer = function (_ClipBase) {
    (0, _inherits3.default)(ClipByLayer, _ClipBase);

    function ClipByLayer(opt_options) {
        (0, _classCallCheck3.default)(this, ClipByLayer);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ClipByLayer.__proto__ || (0, _getPrototypeOf2.default)(ClipByLayer)).call(this, options));

        _this.srcInfo1 = options.srcInfo1 !== undefined ? options.srcInfo1 : null; //源简单要素类的URL
        _this.srcInfo2 = options.srcInfo2 !== undefined ? options.srcInfo2 : null; //裁剪框简单要素类的URL
        _this.flowID = "600230";
        return _this;
    }

    return ClipByLayer;
}(_ClipBase2.ClipBase);

;
exports.ClipByLayer = ClipByLayer;

_Base.Zondy.Service.ClipByLayer = ClipByLayer;

/***/ }),

/***/ "./service/MRFWS/ClipByPolygon.js":
/*!****************************************!*\
  !*** ./service/MRFWS/ClipByPolygon.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ClipByPolygon = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ClipBase2 = __webpack_require__(/*! ./ClipBase */ "./service/MRFWS/ClipBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 多边形裁剪
*/
var ClipByPolygon = function (_ClipBase) {
    (0, _inherits3.default)(ClipByPolygon, _ClipBase);

    function ClipByPolygon(opt_options) {
        (0, _classCallCheck3.default)(this, ClipByPolygon);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ClipByPolygon.__proto__ || (0, _getPrototypeOf2.default)(ClipByPolygon)).call(this, options));

        _this.srcInfo = options.srcInfo !== undefined ? options.srcInfo : null; //源图层URL
        _this.strPos = options.strPos !== undefined ? options.strPos : null; //多边形点坐标串。strPos为STRING格式，内容是多边形几个点坐标：x1,y1,x2,y2....
        _this.flowID = "600228";
        return _this;
    }

    return ClipByPolygon;
}(_ClipBase2.ClipBase);

;
exports.ClipByPolygon = ClipByPolygon;

_Base.Zondy.Service.ClipByPolygon = ClipByPolygon;

/***/ }),

/***/ "./service/MRFWS/ContourAnalyse.js":
/*!*****************************************!*\
  !*** ./service/MRFWS/ContourAnalyse.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ContourAnalyse = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _AnalysisBase2 = __webpack_require__(/*! ./AnalysisBase */ "./service/MRFWS/AnalysisBase.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _MeshingParam = __webpack_require__(/*! ../extend/MeshingParam */ "./service/extend/MeshingParam.js");

var _ContourParam = __webpack_require__(/*! ../extend/ContourParam */ "./service/extend/ContourParam.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>等值线追踪分析</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var ContourAnalyse = function (_AnalysisBase) {
    (0, _inherits3.default)(ContourAnalyse, _AnalysisBase);

    function ContourAnalyse(opt_options) {
        (0, _classCallCheck3.default)(this, ContourAnalyse);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ContourAnalyse.__proto__ || (0, _getPrototypeOf2.default)(ContourAnalyse)).call(this, options));

        _this.flowID = '600320';
        _this.linSfclsURL = options.linSfclsURL !== undefined ? options.linSfclsURL : null;
        _this.regSfclsURL = options.regSfclsURL !== undefined ? options.regSfclsURL : null;
        _this.annoClsURL = options.annoClsURL !== undefined ? options.annoClsURL : null;
        //Zondy.Object.ContourAnalyse.MeshingParam
        _this.meshingParam = options.meshingParam !== undefined ? options.meshingParam : null;
        //Zondy.Object.ContourAnalyse.ContourParam
        _this.contourParam = options.contourParam !== undefined ? options.contourParam : null;
        return _this;
    }
    /*
    execute(onSuccess,onError) {
        /// <summary>执行分析语句</summary>
        /// <param name="onSuccess" type="{Function}">必要参数，执行成功后的回调函数</param>
        /// <param name="way" type="{String}">
        ///     'POST' or 'GET'，默认为'Get',当所需要发送的数据量比较大时，请选择'Post',否则可能会执行失败
        ///</param>
        /// <param name="isAsy" type="{Boolean}">是否异步执行，默认为false</param>
        /// <param name="f" type="{String}">'json' or 'xml' 指明执行返回结果的格式</param>
        var data = {};
        copyExcluce(data, this, ['port', 'ip', 'baseUrl', 'partUrl', 'flowID']);
        var keyValueArray = new Array();
        if(data!=null)
        {
             for (var o in data) {
                if (data[o] != null) {
                    var keyValue = {};
                    keyValue.Key = o;
                    keyValue.Value = data[o].toString();
                    keyValueArray.push(keyValue);
                }  
            }
        }
        data = keyValueArray;
        this.partUrl = "execute/" + this.flowID + "?isAsy=false&f=json";
        var url = this.getFullUrl();
        var me = this;
        var service = new IgsServiceBase(url, {
            eventListeners: {
                scope: me,
                processCompleted: onSuccess,
                processFailed: onError
            }
        });
        service.processAsync({ method: 'POST', data: JSON.stringify(data), headers: { 'Content-Type': 'text/plain;charset=UTF-8'} });
    }*/


    return ContourAnalyse;
}(_AnalysisBase2.AnalysisBase);

;
exports.ContourAnalyse = ContourAnalyse;

_Base.Zondy.Service.ContourAnalyse = ContourAnalyse;

/***/ }),

/***/ "./service/MRFWS/FeatureBuffBase.js":
/*!******************************************!*\
  !*** ./service/MRFWS/FeatureBuffBase.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FeatureBuffBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _AnalysisBase2 = __webpack_require__(/*! ./AnalysisBase */ "./service/MRFWS/AnalysisBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>要素缓冲分析服务基类</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var FeatureBuffBase = function (_AnalysisBase) {
    (0, _inherits3.default)(FeatureBuffBase, _AnalysisBase);

    function FeatureBuffBase(opt_options) {
        (0, _classCallCheck3.default)(this, FeatureBuffBase);

        var options = opt_options || {};

        //分析的要素的空间信息,序列化为字符串
        var _this = (0, _possibleConstructorReturn3.default)(this, (FeatureBuffBase.__proto__ || (0, _getPrototypeOf2.default)(FeatureBuffBase)).call(this, options));

        _this.sfGeometryXML = options.sfGeometryXML !== undefined ? options.sfGeometryXML : null;
        //要素的属性结构,序列化为字符串
        _this.attStrctXML = options.attStrctXML !== undefined ? options.attStrctXML : null;
        //要素的属性值,序列化为字符串
        _this.attRowsXML = options.attRowsXML !== undefined ? options.attRowsXML : null;
        //追踪半径
        _this.traceRadius = options.traceRadius !== undefined ? options.traceRadius : 0.0001;
        //分析结果的URL地址,如GDBP://mapgislocal/Sample/sfcls/多边形缓冲结果
        _this.resultName = options.resultName !== undefined ? options.resultName : null;
        _this.inFormat = options.inFormat !== undefined ? options.inFormat : "json";
        return _this;
    }

    return FeatureBuffBase;
}(_AnalysisBase2.AnalysisBase);

;
exports.FeatureBuffBase = FeatureBuffBase;

_Base.Zondy.Service.FeatureBuffBase = FeatureBuffBase;

/***/ }),

/***/ "./service/MRFWS/FeatureBuffByMultiplyRing.js":
/*!****************************************************!*\
  !*** ./service/MRFWS/FeatureBuffByMultiplyRing.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FeatureBuffByMultiplyRing = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _FeatureBuffBase2 = __webpack_require__(/*! ./FeatureBuffBase */ "./service/MRFWS/FeatureBuffBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 要素缓冲分析（多圈）
*/
var FeatureBuffByMultiplyRing = function (_FeatureBuffBase) {
    (0, _inherits3.default)(FeatureBuffByMultiplyRing, _FeatureBuffBase);

    function FeatureBuffByMultiplyRing(opt_options) {
        (0, _classCallCheck3.default)(this, FeatureBuffByMultiplyRing);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (FeatureBuffByMultiplyRing.__proto__ || (0, _getPrototypeOf2.default)(FeatureBuffByMultiplyRing)).call(this, options));

        _this.radiusStr = options.radiusStr !== undefined ? options.radiusStr : "0.003,0.002,0.001";
        _this.flowID = "600239";
        return _this;
    }

    return FeatureBuffByMultiplyRing;
}(_FeatureBuffBase2.FeatureBuffBase);

;
exports.FeatureBuffByMultiplyRing = FeatureBuffByMultiplyRing;

_Base.Zondy.Service.FeatureBuffByMultiplyRing = FeatureBuffByMultiplyRing;

/***/ }),

/***/ "./service/MRFWS/FeatureBuffBySingleRing.js":
/*!**************************************************!*\
  !*** ./service/MRFWS/FeatureBuffBySingleRing.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FeatureBuffBySingleRing = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _FeatureBuffBase2 = __webpack_require__(/*! ./FeatureBuffBase */ "./service/MRFWS/FeatureBuffBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 要素缓冲分析（单圈）
*/
var FeatureBuffBySingleRing = function (_FeatureBuffBase) {
    (0, _inherits3.default)(FeatureBuffBySingleRing, _FeatureBuffBase);

    function FeatureBuffBySingleRing(opt_options) {
        (0, _classCallCheck3.default)(this, FeatureBuffBySingleRing);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (FeatureBuffBySingleRing.__proto__ || (0, _getPrototypeOf2.default)(FeatureBuffBySingleRing)).call(this, options));

        _this.leftRad = options.leftRad !== undefined ? options.leftRad : 0.001;
        _this.rightRad = options.rightRad !== undefined ? options.rightRad : 0.001;
        _this.flowID = "600238";
        return _this;
    }

    return FeatureBuffBySingleRing;
}(_FeatureBuffBase2.FeatureBuffBase);

;
exports.FeatureBuffBySingleRing = FeatureBuffBySingleRing;

_Base.Zondy.Service.FeatureBuffBySingleRing = FeatureBuffBySingleRing;

/***/ }),

/***/ "./service/MRFWS/NetAnalysis.js":
/*!**************************************!*\
  !*** ./service/MRFWS/NetAnalysis.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.NetAnalysis = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _AnalysisBase2 = __webpack_require__(/*! ./AnalysisBase */ "./service/MRFWS/AnalysisBase.js");

var _EnumComm = __webpack_require__(/*! ../common/EnumComm */ "./service/common/EnumComm.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>网络分析类</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var NetAnalysis = function (_AnalysisBase) {
        (0, _inherits3.default)(NetAnalysis, _AnalysisBase);

        function NetAnalysis(opt_options) {
                (0, _classCallCheck3.default)(this, NetAnalysis);

                var options = opt_options || {};

                /// <summary>网络类URL{String}</summary>
                var _this = (0, _possibleConstructorReturn3.default)(this, (NetAnalysis.__proto__ || (0, _getPrototypeOf2.default)(NetAnalysis)).call(this, options));

                _this.netClsUrl = options.netClsUrl !== undefined ? options.netClsUrl : null;

                /// <summary>网标序列，包括点上网标、线上网标{String}</summary>
                _this.flagPosStr = options.flagPosStr !== undefined ? options.flagPosStr : null;

                /// <summary>障碍序列，包括点上障碍、线上障碍{String}</summary>
                _this.barrierPosStr = options.barrierPosStr !== undefined ? options.barrierPosStr : null;

                /// <summary>分析类型{Zondy.Enum.Net.NetAnalyType}</summary>
                _this.analyType = options.analyType !== undefined ? options.analyType : _EnumComm.NetAnalyType.UserMode;

                /// <summary>权值字段名序列{String}</summary>
                _this.weight = options.weight !== undefined ? options.weight : ",Weight1,Weight1";

                /// <summary>网络元素类型{Zondy.Enum.Net.NetElemType}</summary>
                _this.elementType = options.elementType !== undefined ? options.elementType : _EnumComm.NetElemType.Edge;

                /// <summary>网络元素搜索半径{Double}</summary>
                _this.nearDis = options.nearDis !== undefined ? options.nearDis : 0.001;

                /// <summary>分析结果输出格式, json（默认值）|xml {String}</summary>
                _this.outFormat = options.outFormat !== undefined ? options.outFormat : "json";

                /// <summary>工作流ID{String}</summary>
                _this.flowID = "600233";
                return _this;
        }

        return NetAnalysis;
}(_AnalysisBase2.AnalysisBase);

;
exports.NetAnalysis = NetAnalysis;

_Base.Zondy.Service.NetAnalysis = NetAnalysis;

/***/ }),

/***/ "./service/MRFWS/OverlayBase.js":
/*!**************************************!*\
  !*** ./service/MRFWS/OverlayBase.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.OverlayBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _AnalysisBase2 = __webpack_require__(/*! ./AnalysisBase */ "./service/MRFWS/AnalysisBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>叠加分析服务基类</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var OverlayBase = function (_AnalysisBase) {
    (0, _inherits3.default)(OverlayBase, _AnalysisBase);

    function OverlayBase(opt_options) {
        (0, _classCallCheck3.default)(this, OverlayBase);

        var options = opt_options || {};

        //被叠加简单要素类的信息
        var _this = (0, _possibleConstructorReturn3.default)(this, (OverlayBase.__proto__ || (0, _getPrototypeOf2.default)(OverlayBase)).call(this, options));

        _this.srcInfo1 = options.srcInfo1 !== undefined ? options.srcInfo1 : null;
        //结果简单要素类信息
        _this.desInfo = options.desInfo !== undefined ? options.desInfo : null;
        //是否进行属性操作
        _this.attOptType = options.attOptType !== undefined ? options.attOptType : 1;
        //共有部分的图形参数操作
        _this.infoOptType = options.infoOptType !== undefined ? options.infoOptType : 1;
        //叠加类型
        _this.overType = options.overType !== undefined ? options.overType : 3;
        //是否结点平差
        _this.isCleanNode = options.isCleanNode !== undefined ? options.isCleanNode : false;
        //是否裁剪label点
        _this.isLabelPnt = options.isLabelPnt !== undefined ? options.isLabelPnt : false;
        //是否检查区的合法性
        _this.isValidReg = options.isValidReg !== undefined ? options.isValidReg : false;
        //是否重算面积
        _this.isReCalculate = options.isReCalculate !== undefined ? options.isReCalculate : true;
        //容差半径
        _this.radius = options.radius !== undefined ? options.radius : 0.001;
        return _this;
    }

    return OverlayBase;
}(_AnalysisBase2.AnalysisBase);

;
exports.OverlayBase = OverlayBase;

_Base.Zondy.Service.OverlayBase = OverlayBase;

/***/ }),

/***/ "./service/MRFWS/OverlayByLayer.js":
/*!*****************************************!*\
  !*** ./service/MRFWS/OverlayByLayer.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.OverlayByLayer = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _OverlayBase2 = __webpack_require__(/*! ./OverlayBase */ "./service/MRFWS/OverlayBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 图层叠加
*/
var OverlayByLayer = function (_OverlayBase) {
    (0, _inherits3.default)(OverlayByLayer, _OverlayBase);

    function OverlayByLayer(opt_options) {
        (0, _classCallCheck3.default)(this, OverlayByLayer);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (OverlayByLayer.__proto__ || (0, _getPrototypeOf2.default)(OverlayByLayer)).call(this, options));

        _this.srcInfo2 = options.srcInfo2 !== undefined ? options.srcInfo2 : null;
        _this.flowID = "600227";
        return _this;
    }

    return OverlayByLayer;
}(_OverlayBase2.OverlayBase);

;
exports.OverlayByLayer = OverlayByLayer;

_Base.Zondy.Service.OverlayByLayer = OverlayByLayer;

/***/ }),

/***/ "./service/MRFWS/OverlayByPolygon.js":
/*!*******************************************!*\
  !*** ./service/MRFWS/OverlayByPolygon.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.OverlayByPolygon = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _OverlayBase2 = __webpack_require__(/*! ./OverlayBase */ "./service/MRFWS/OverlayBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 多边形叠加
*/
var OverlayByPolygon = function (_OverlayBase) {
    (0, _inherits3.default)(OverlayByPolygon, _OverlayBase);

    function OverlayByPolygon(opt_options) {
        (0, _classCallCheck3.default)(this, OverlayByPolygon);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (OverlayByPolygon.__proto__ || (0, _getPrototypeOf2.default)(OverlayByPolygon)).call(this, options));

        _this.strGRegionXML = options.strGRegionXML !== undefined ? options.strGRegionXML : null;
        _this.inFormat = options.inFormat !== undefined ? options.inFormat : "json";
        _this.flowID = "600237";
        return _this;
    }

    return OverlayByPolygon;
}(_OverlayBase2.OverlayBase);

;
exports.OverlayByPolygon = OverlayByPolygon;

_Base.Zondy.Service.OverlayByPolygon = OverlayByPolygon;

/***/ }),

/***/ "./service/MRFWS/ProjectBase.js":
/*!**************************************!*\
  !*** ./service/MRFWS/ProjectBase.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ProjectBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _AnalysisBase2 = __webpack_require__(/*! ./AnalysisBase */ "./service/MRFWS/AnalysisBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>投影服务基类</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var ProjectBase = function (_AnalysisBase) {
    (0, _inherits3.default)(ProjectBase, _AnalysisBase);

    function ProjectBase(opt_options) {
        (0, _classCallCheck3.default)(this, ProjectBase);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (ProjectBase.__proto__ || (0, _getPrototypeOf2.default)(ProjectBase)).call(this, options));

        _this.clsName = options.clsName !== undefined ? options.clsName : null;
        _this.desClsName = options.desClsName !== undefined ? options.desClsName : null;
        _this.resultName = options.resultName !== undefined ? options.resultName : null;
        return _this;
    }

    return ProjectBase;
}(_AnalysisBase2.AnalysisBase);

;
exports.ProjectBase = ProjectBase;

_Base.Zondy.Service.ProjectBase = ProjectBase;

/***/ }),

/***/ "./service/MRFWS/ProjectByLayer.js":
/*!*****************************************!*\
  !*** ./service/MRFWS/ProjectByLayer.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ProjectByLayer = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ProjectBase2 = __webpack_require__(/*! ./ProjectBase */ "./service/MRFWS/ProjectBase.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ProjectByLayer = function (_ProjectBase) {
    (0, _inherits3.default)(ProjectByLayer, _ProjectBase);

    function ProjectByLayer(opt_cprojectParam, opt_options) {
        (0, _classCallCheck3.default)(this, ProjectByLayer);

        var options = opt_options || {};
        (0, _Util.extend)(options, opt_cprojectParam);

        var _this = (0, _possibleConstructorReturn3.default)(this, (ProjectByLayer.__proto__ || (0, _getPrototypeOf2.default)(ProjectByLayer)).call(this, options));

        _this.flowID = "600235";
        return _this;
    }

    return ProjectByLayer;
}(_ProjectBase2.ProjectBase); /**
                              * @api stable
                              * opt_cprojectParam类型为Zondy.Service.CProjectParam
                              */


;
exports.ProjectByLayer = ProjectByLayer;

_Base.Zondy.Service.ProjectByLayer = ProjectByLayer;

/***/ }),

/***/ "./service/MRFWS/ProjectBySRID.js":
/*!****************************************!*\
  !*** ./service/MRFWS/ProjectBySRID.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ProjectBySRID = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ProjectBase2 = __webpack_require__(/*! ./ProjectBase */ "./service/MRFWS/ProjectBase.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _CProjectParam = __webpack_require__(/*! ../MRGS/CProjectParam */ "./service/MRGS/CProjectParam.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* opt_cprojectParam类型为Zondy.Service.CProjectParam
*/
var ProjectBySRID = function (_ProjectBase) {
    (0, _inherits3.default)(ProjectBySRID, _ProjectBase);

    function ProjectBySRID(opt_cprojectParam, opt_options) {
        (0, _classCallCheck3.default)(this, ProjectBySRID);

        var options = opt_options || {};
        (0, _Util.extend)(options, opt_cprojectParam);

        var _this = (0, _possibleConstructorReturn3.default)(this, (ProjectBySRID.__proto__ || (0, _getPrototypeOf2.default)(ProjectBySRID)).call(this, options));

        _this.flowID = "600234";
        _this.srID = options.srID !== undefined ? options.srID : 32;
        return _this;
    }

    return ProjectBySRID;
}(_ProjectBase2.ProjectBase);

;
exports.ProjectBySRID = ProjectBySRID;

_Base.Zondy.Service.ProjectBySRID = ProjectBySRID;

/***/ }),

/***/ "./service/MRFWS/index.js":
/*!********************************!*\
  !*** ./service/MRFWS/index.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProjectBySRID = exports.ProjectByLayer = exports.ProjectBase = exports.OverlayByPolygon = exports.OverlayByLayer = exports.OverlayBase = exports.NetAnalysis = exports.FeatureBuffBySingleRing = exports.FeatureBuffByMultiplyRing = exports.FeatureBuffBase = exports.ContourAnalyse = exports.ClipByPolygon = exports.ClipByLayer = exports.ClipByCircle = exports.ClipBase = exports.ClassBufferBySingleRing = exports.ClassBufferByMultiplyRing = exports.ClassBufferBase = exports.AnalysisBase = undefined;

var _AnalysisBase = __webpack_require__(/*! ./AnalysisBase */ "./service/MRFWS/AnalysisBase.js");

var _ClassBufferBase = __webpack_require__(/*! ./ClassBufferBase */ "./service/MRFWS/ClassBufferBase.js");

var _ClassBufferByMultiplyRing = __webpack_require__(/*! ./ClassBufferByMultiplyRing */ "./service/MRFWS/ClassBufferByMultiplyRing.js");

var _ClassBufferBySingleRing = __webpack_require__(/*! ./ClassBufferBySingleRing */ "./service/MRFWS/ClassBufferBySingleRing.js");

var _ClipBase = __webpack_require__(/*! ./ClipBase */ "./service/MRFWS/ClipBase.js");

var _ClipByCircle = __webpack_require__(/*! ./ClipByCircle */ "./service/MRFWS/ClipByCircle.js");

var _ClipByLayer = __webpack_require__(/*! ./ClipByLayer */ "./service/MRFWS/ClipByLayer.js");

var _ClipByPolygon = __webpack_require__(/*! ./ClipByPolygon */ "./service/MRFWS/ClipByPolygon.js");

var _ContourAnalyse = __webpack_require__(/*! ./ContourAnalyse */ "./service/MRFWS/ContourAnalyse.js");

var _FeatureBuffBase = __webpack_require__(/*! ./FeatureBuffBase */ "./service/MRFWS/FeatureBuffBase.js");

var _FeatureBuffByMultiplyRing = __webpack_require__(/*! ./FeatureBuffByMultiplyRing */ "./service/MRFWS/FeatureBuffByMultiplyRing.js");

var _FeatureBuffBySingleRing = __webpack_require__(/*! ./FeatureBuffBySingleRing */ "./service/MRFWS/FeatureBuffBySingleRing.js");

var _NetAnalysis = __webpack_require__(/*! ./NetAnalysis */ "./service/MRFWS/NetAnalysis.js");

var _OverlayBase = __webpack_require__(/*! ./OverlayBase */ "./service/MRFWS/OverlayBase.js");

var _OverlayByLayer = __webpack_require__(/*! ./OverlayByLayer */ "./service/MRFWS/OverlayByLayer.js");

var _OverlayByPolygon = __webpack_require__(/*! ./OverlayByPolygon */ "./service/MRFWS/OverlayByPolygon.js");

var _ProjectBase = __webpack_require__(/*! ./ProjectBase */ "./service/MRFWS/ProjectBase.js");

var _ProjectByLayer = __webpack_require__(/*! ./ProjectByLayer */ "./service/MRFWS/ProjectByLayer.js");

var _ProjectBySRID = __webpack_require__(/*! ./ProjectBySRID */ "./service/MRFWS/ProjectBySRID.js");

exports.AnalysisBase = _AnalysisBase.AnalysisBase;
exports.ClassBufferBase = _ClassBufferBase.ClassBufferBase;
exports.ClassBufferByMultiplyRing = _ClassBufferByMultiplyRing.ClassBufferByMultiplyRing;
exports.ClassBufferBySingleRing = _ClassBufferBySingleRing.ClassBufferBySingleRing;
exports.ClipBase = _ClipBase.ClipBase;
exports.ClipByCircle = _ClipByCircle.ClipByCircle;
exports.ClipByLayer = _ClipByLayer.ClipByLayer;
exports.ClipByPolygon = _ClipByPolygon.ClipByPolygon;
exports.ContourAnalyse = _ContourAnalyse.ContourAnalyse;
exports.FeatureBuffBase = _FeatureBuffBase.FeatureBuffBase;
exports.FeatureBuffByMultiplyRing = _FeatureBuffByMultiplyRing.FeatureBuffByMultiplyRing;
exports.FeatureBuffBySingleRing = _FeatureBuffBySingleRing.FeatureBuffBySingleRing;
exports.NetAnalysis = _NetAnalysis.NetAnalysis;
exports.OverlayBase = _OverlayBase.OverlayBase;
exports.OverlayByLayer = _OverlayByLayer.OverlayByLayer;
exports.OverlayByPolygon = _OverlayByPolygon.OverlayByPolygon;
exports.ProjectBase = _ProjectBase.ProjectBase;
exports.ProjectByLayer = _ProjectByLayer.ProjectByLayer;
exports.ProjectBySRID = _ProjectBySRID.ProjectBySRID;

/***/ }),

/***/ "./service/MRGS/CProjectBySRSID.js":
/*!*****************************************!*\
  !*** ./service/MRGS/CProjectBySRSID.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CProjectBySRSID = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CGDBInfo = __webpack_require__(/*! ../common/CGDBInfo */ "./service/common/CGDBInfo.js");

/**
*  <summary>用于进行SRSID投影的参数类/summary>
*  <param name="desSrsID" type="{Interger}">目标SRSID号</param>
*  <param name="gdbInfo" type="{Zondy.Object.CGDBInfo}">关于SRSID的GDB信息</param>
*/
var CProjectBySRSID = function CProjectBySRSID(srsID, gdbInfo) {
    this.SrsID = srsID;
    this.GdbInfo = gdbInfo;
};
exports.CProjectBySRSID = CProjectBySRSID;

_Base.Zondy.Service.CProjectBySRSID = CProjectBySRSID;

/***/ }),

/***/ "./service/MRGS/CProjectParam.js":
/*!***************************************!*\
  !*** ./service/MRGS/CProjectParam.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CProjectParam = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var CProjectParam = function CProjectParam(opt_options) {
    var options = opt_options ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>投影转换空间参数类</summary>

    /// <summary>{Interger};角度单位</summary>
    this.ProjAngleUnit = options.ProjAngleUnit !== undefined ? options.ProjAngleUnit : 0;

    /// <summary>{Double};投影原点纬度</summary>
    this.ProjLat = options.ProjLat !== undefined ? options.ProjLat : 0.00;

    /// <summary>{Double};第一标准维度</summary>
    this.ProjLat1 = options.ProjLat1 !== undefined ? options.ProjLat1 : 0.00;

    /// <summary>{Double};第二标准维度</summary>
    this.ProjLat2 = options.ProjLat2 !== undefined ? options.ProjLat2 : 0.00;

    /// <summary>{Double}，中央子午线经度</summary>
    this.ProjLon = options.ProjLon !== undefined ? options.ProjLon : 0.00;

    /// <summary>{Double}，水平比例尺</summary>
    this.ProjRate = options.ProjRate !== undefined ? options.ProjRate : 0.00;

    /// <summary>{Interger}，坐标系类型</summary>
    this.ProjType = options.ProjType !== undefined ? options.ProjType : 0;

    /// <summary>{Interger}，投影类型</summary>
    this.ProjTypeID = options.ProjTypeID !== undefined ? options.ProjTypeID : 0;

    /// <summary>{Interger}，长度单位</summary>
    this.ProjUnit = options.ProjUnit !== undefined ? options.ProjUnit : 0;

    /// <summary>{Short}，投影带号</summary>
    this.ProjZoneNO = options.ProjZoneNO !== undefined ? options.ProjZoneNO : 0;

    /// <summary>{Short}，投影分带类型</summary>
    this.ProjZoneType = options.ProjZoneType !== undefined ? options.ProjZoneType : 0;

    /// <summary>{Interger}，椭球体参数</summary>
    this.SphereID = options.SphereID !== undefined ? options.SphereID : 0;
};
exports.CProjectParam = CProjectParam;

_Base.Zondy.Service.CProjectParam = CProjectParam;

/***/ }),

/***/ "./service/MRGS/CalArea.js":
/*!*********************************!*\
  !*** ./service/MRGS/CalArea.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CalArea = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CalServiceBase2 = __webpack_require__(/*! ./CalServiceBase */ "./service/MRGS/CalServiceBase.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _Point2D = __webpack_require__(/*! ../common/Point2D */ "./service/common/Point2D.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>计算面积服务构造函数</summary>
/// <param name="obj" type="Zondy.Object.Point2D in an Arry">需要计算的点数组</param>
/// <param name="opt_options" type="Object">属性键值对</param>
var CalArea = function (_CalServiceBase) {
    (0, _inherits3.default)(CalArea, _CalServiceBase);

    function CalArea(obj, opt_options) {
        (0, _classCallCheck3.default)(this, CalArea);

        var options = opt_options ? opt_options : {};
        (0, _Util.extend)(options, { "dots": obj });

        var _this = (0, _possibleConstructorReturn3.default)(this, (CalArea.__proto__ || (0, _getPrototypeOf2.default)(CalArea)).call(this, options));

        _this.partUrl = "geomservice/calArea?f=json";
        return _this;
    }

    return CalArea;
}(_CalServiceBase2.CalServiceBase);

;
exports.CalArea = CalArea;

_Base.Zondy.Service.CalArea = CalArea;

/***/ }),

/***/ "./service/MRGS/CalPolyLineLength.js":
/*!*******************************************!*\
  !*** ./service/MRGS/CalPolyLineLength.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CalPolyLineLength = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CalServiceBase2 = __webpack_require__(/*! ./CalServiceBase */ "./service/MRGS/CalServiceBase.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _Point2D = __webpack_require__(/*! ../common/Point2D */ "./service/common/Point2D.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* <summary>折线长度计算服务</summary>
*<param name="obj" type="Array">需要计算的点数组,数组类型为Zondy.Object.Point2D</param>
*<param name="options" type="Object">为其他属性赋值的键值对</param>
*/
var CalPolyLineLength = function (_CalServiceBase) {
    (0, _inherits3.default)(CalPolyLineLength, _CalServiceBase);

    function CalPolyLineLength(obj, opt_options) {
        (0, _classCallCheck3.default)(this, CalPolyLineLength);

        var options = opt_options ? opt_options : {};
        (0, _Util.extend)(options, { "dots": obj });

        var _this = (0, _possibleConstructorReturn3.default)(this, (CalPolyLineLength.__proto__ || (0, _getPrototypeOf2.default)(CalPolyLineLength)).call(this, options));

        _this.partUrl = "geomservice/calLength?f=json";
        return _this;
    }

    return CalPolyLineLength;
}(_CalServiceBase2.CalServiceBase);

;
exports.CalPolyLineLength = CalPolyLineLength;

_Base.Zondy.Service.CalPolyLineLength = CalPolyLineLength;

/***/ }),

/***/ "./service/MRGS/CalServiceBase.js":
/*!****************************************!*\
  !*** ./service/MRGS/CalServiceBase.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CalServiceBase = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _GeometryAnalysisBase2 = __webpack_require__(/*! ./GeometryAnalysisBase */ "./service/MRGS/GeometryAnalysisBase.js");

var _Point2D = __webpack_require__(/*! ../common/Point2D */ "./service/common/Point2D.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _CProjectParam = __webpack_require__(/*! ./CProjectParam */ "./service/MRGS/CProjectParam.js");

var _CProjectBySRSID = __webpack_require__(/*! ./CProjectBySRSID */ "./service/MRGS/CProjectBySRSID.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @class CalServiceBase
* @classdesc 测量服务基类构造函数
* @extends GeometryAnalysisBase
*/

var CalServiceBase = function (_GeometryAnalysisBase) {
    (0, _inherits3.default)(CalServiceBase, _GeometryAnalysisBase);

    function CalServiceBase(opt_options) {
        (0, _classCallCheck3.default)(this, CalServiceBase);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (CalServiceBase.__proto__ || (0, _getPrototypeOf2.default)(CalServiceBase)).call(this, options));

        _this.dots = options.dots !== undefined ? options.dots : null;
        /// <summary>{Zondy.Service.CProjectParam}类型</summary>
        _this.projectInfo = options.projectInfo !== undefined ? options.projectInfo : null;
        /// <summary>{Zondy.Service.CProjectBySRSID}</summary>
        _this.projectInfoBySRSID = options.projectInfoBySRSID !== undefined ? options.projectInfoBySRSID : null;
        return _this;
    }
    /// <summary>通过传入投影参数或者通过传入SRSID参数进行计算</summary>
    /// <param name="fullURL" type="String">请求基地址</param>
    /// <param name="projParam" type="Zondy.Service.CProjectBySRSID | Zondy.Service.CProjectParam（建议普通用户采用此类直接获取MapGIS GDB 已经提供的空间参考系）">投影参数</param>
    /// <param name="onSuccess" type="Function">执行成功后的回调函数</param>


    (0, _createClass3.default)(CalServiceBase, [{
        key: "execute",
        value: function execute(projParam, onSuccess, onError) {
            if (projParam instanceof _CProjectParam.CProjectParam) {
                this.projectInfo = projParam;
            }
            if (projParam instanceof _CProjectBySRSID.CProjectBySRSID) {
                this.projectInfoBySrsID = projParam;
            }
            var postObj = {};
            postObj.Dots = this.dots;
            postObj.ProjectInfo = this.projectInfo;
            postObj.ProjectInfoBySrsID = this.projectInfoBySrsID;
            var me = this;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(postObj), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
    }]);
    return CalServiceBase;
}(_GeometryAnalysisBase2.GeometryAnalysisBase);

;
exports.CalServiceBase = CalServiceBase;

_Base.Zondy.Service.CalServiceBase = CalServiceBase;

/***/ }),

/***/ "./service/MRGS/GeometryAnalysisBase.js":
/*!**********************************************!*\
  !*** ./service/MRGS/GeometryAnalysisBase.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GeometryAnalysisBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ServiceBase2 = __webpack_require__(/*! ../ServiceBase */ "./service/ServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @class CatalogService
* @classdesc 几何分析服务基类
* @extends ServiceBase
*/

var GeometryAnalysisBase = function (_ServiceBase) {
    (0, _inherits3.default)(GeometryAnalysisBase, _ServiceBase);

    function GeometryAnalysisBase(opt_options) {
        (0, _classCallCheck3.default)(this, GeometryAnalysisBase);

        var options = opt_options || {};
        options.baseUrl = "igs/rest/mrgs";
        return (0, _possibleConstructorReturn3.default)(this, (GeometryAnalysisBase.__proto__ || (0, _getPrototypeOf2.default)(GeometryAnalysisBase)).call(this, options));
    }

    return GeometryAnalysisBase;
}(_ServiceBase2.ServiceBase);

;
exports.GeometryAnalysisBase = GeometryAnalysisBase;

_Base.Zondy.Service.GeometryAnalysisBase = GeometryAnalysisBase;

/***/ }),

/***/ "./service/MRGS/ProjectDots.js":
/*!*************************************!*\
  !*** ./service/MRGS/ProjectDots.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ProjectDots = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _GeometryAnalysisBase2 = __webpack_require__(/*! ./GeometryAnalysisBase */ "./service/MRGS/GeometryAnalysisBase.js");

var _Point2D = __webpack_require__(/*! ../common/Point2D */ "./service/common/Point2D.js");

var _CProjectParam = __webpack_require__(/*! ./CProjectParam */ "./service/MRGS/CProjectParam.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ProjectDots = function (_GeometryAnalysisBase) {
    (0, _inherits3.default)(ProjectDots, _GeometryAnalysisBase);

    function ProjectDots(dots, srcparam, desparam, opt_options) {
        (0, _classCallCheck3.default)(this, ProjectDots);

        var options = opt_options ? opt_options : {};

        //投影坐标
        var _this = (0, _possibleConstructorReturn3.default)(this, (ProjectDots.__proto__ || (0, _getPrototypeOf2.default)(ProjectDots)).call(this, options));

        _this.InputDots = dots;
        //源投影参考
        _this.SrcProjParam = srcparam;
        //目的投影参考
        _this.DesProjParm = desparam;
        return _this;
    }
    /// <summary>执行点投影</summary>
    /// <param name="onSuccess" type="Function">回调函数</param>


    (0, _createClass3.default)(ProjectDots, [{
        key: "execute",
        value: function execute(onSuccess, onError) {
            this.partUrl = "geomservice/projectdots?f=json";

            var postData = {};
            postData['InputDots'] = this.InputDots;
            postData['SrcProjParam'] = this.SrcProjParam;
            postData['DesProjParm'] = this.DesProjParm;
            var url = this.getFullUrl();
            var me = this;
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(postData), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
    }]);
    return ProjectDots;
}(_GeometryAnalysisBase2.GeometryAnalysisBase); /**
                                                * @api stable
                                                * <param name="dots" type="Zondy.Object.Point2D in an Array">需要转换的点坐标</param>
                                                * <param name="srcparam" type="Zondy.Service.CProjectParam">源投影参数</param>
                                                * <param name="desparam" type="Zondy.Service.CProjectParam">目标投影参数</param>
                                                */

;
exports.ProjectDots = ProjectDots;

_Base.Zondy.Service.ProjectDots = ProjectDots;

/***/ }),

/***/ "./service/MRGS/ProjectRang.js":
/*!*************************************!*\
  !*** ./service/MRGS/ProjectRang.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ProjectRang = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _GeometryAnalysisBase2 = __webpack_require__(/*! ./GeometryAnalysisBase */ "./service/MRGS/GeometryAnalysisBase.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ProjectRang = function (_GeometryAnalysisBase) {
    (0, _inherits3.default)(ProjectRang, _GeometryAnalysisBase);

    function ProjectRang(opt_options) {
        (0, _classCallCheck3.default)(this, ProjectRang);

        var options = opt_options ? opt_options : {};

        //数据源名称
        var _this = (0, _possibleConstructorReturn3.default)(this, (ProjectRang.__proto__ || (0, _getPrototypeOf2.default)(ProjectRang)).call(this, options));

        _this.gdbsvrName = options.gdbsvrName !== undefined ? options.gdbsvrName : "MapGISLocal";
        //数据库名称
        _this.gdbName = options.gdbName !== undefined ? options.gdbName : null;
        //源投影参考系ID
        _this.srefID = options.srefID !== undefined ? options.srefID : 0;
        //目的投影参考系ID。
        _this.desfID = options.desfID !== undefined ? options.desfID : 0;
        //地理数据源/地理数据库账户名
        _this.userName = options.userName !== undefined ? options.userName : null;
        //地理数据源/地理数据库密码
        _this.password = options.password !== undefined ? options.password : null;
        return _this;
    }
    /// <summary>执行点投影</summary>
    /// <param name="onSuccess" type="Function">回调函数</param>


    (0, _createClass3.default)(ProjectRang, [{
        key: "execute",
        value: function execute(rectangle, onSuccess, onError) {
            var rang = "";
            if (rectangle) {
                rang = rectangle.xmin + "$" + rectangle.ymin + "$" + rectangle.xmax + "$" + rectangle.ymax;
            }
            if (this.userName == null || this.password == null) {
                this.partUrl = "geomservice/" + this.gdbsvrName + "/" + this.gdbName + "/" + this.srefID + "/" + this.desfID + "?f=json&rang=" + rang;
            } else {
                this.partUrl = "geomservice/" + this.gdbsvrName + "/" + this.gdbName + "/" + this.srefID + "/" + this.desfID + "?f=json&rang=" + rang + "&userName=" + this.userName + "&password=" + this.password;
            }
            var url = this.getFullUrl();
            var me = this;
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
    }]);
    return ProjectRang;
}(_GeometryAnalysisBase2.GeometryAnalysisBase); /**
                                                * @api stable
                                                * 对矩形范围坐标点进行投影转换
                                                */


;
exports.ProjectRang = ProjectRang;

_Base.Zondy.Service.ProjectRang = ProjectRang;

/***/ }),

/***/ "./service/MRGS/Smooth.js":
/*!********************************!*\
  !*** ./service/MRGS/Smooth.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Smooth = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _GeometryAnalysisBase2 = __webpack_require__(/*! ./GeometryAnalysisBase */ "./service/MRGS/GeometryAnalysisBase.js");

var _Point2D = __webpack_require__(/*! ../common/Point2D */ "./service/common/Point2D.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 光滑线
*/
var Smooth = function (_GeometryAnalysisBase) {
    (0, _inherits3.default)(Smooth, _GeometryAnalysisBase);

    function Smooth(opt_options) {
        (0, _classCallCheck3.default)(this, Smooth);

        var options = opt_options ? opt_options : {};

        //插值方式。可取值0、1、2、3
        //0为二次样条、1为三次样条、2为三次Beizer样条、3为三次B样条
        var _this = (0, _possibleConstructorReturn3.default)(this, (Smooth.__proto__ || (0, _getPrototypeOf2.default)(Smooth)).call(this, options));

        _this.type = options.type !== undefined ? options.type : 0;
        //步长，插值时的间隔步长。
        _this.step = options.step !== undefined ? options.step : 1;
        return _this;
    }
    /// <summary>设置插值方式</summary>
    /// <param name="type" type="number">插值方式可取值0、1、2、3</param>


    (0, _createClass3.default)(Smooth, [{
        key: "setType",
        value: function setType(type) {
            this.type = type;
        }
        /// <summary>步长，插值时的间隔步长。</summary>
        /// <param name="type" type="number">步长</param>

    }, {
        key: "setStep",
        value: function setStep(step) {
            this.step = step;
        }
        /// <summary>执行光滑线调用</summary>
        /// <param name="dots" type="Array.<Point2D>">回调函数</param>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "execute",
        value: function execute(dots, onSuccess, onError) {
            if (this.type == 2) {
                if (dots.length < 4) {
                    alert("当前选中的为三次Beizer样条，最少需四个点");
                    return;
                }
            } else {
                if (dots.length < 3) {
                    alert("当前选中的类型最少需三个点");
                    return;
                }
            }
            this.partUrl = "geomservice/smooth?f=json&type=" + this.type + "&step=" + this.step;
            var url = this.getFullUrl();
            var me = this;
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(dots), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
    }]);
    return Smooth;
}(_GeometryAnalysisBase2.GeometryAnalysisBase);

;
exports.Smooth = Smooth;

_Base.Zondy.Service.Smooth = Smooth;

/***/ }),

/***/ "./service/MRGS/TopAnalysis.js":
/*!*************************************!*\
  !*** ./service/MRGS/TopAnalysis.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TopAnalysis = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _GeometryAnalysisBase2 = __webpack_require__(/*! ./GeometryAnalysisBase */ "./service/MRGS/GeometryAnalysisBase.js");

var _Point2D = __webpack_require__(/*! ../common/Point2D */ "./service/common/Point2D.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _GPoint = __webpack_require__(/*! ../common/GPoint */ "./service/common/GPoint.js");

var _GLine = __webpack_require__(/*! ../common/GLine */ "./service/common/GLine.js");

var _GRegion = __webpack_require__(/*! ../common/GRegion */ "./service/common/GRegion.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @api stable
* 拓扑分析类,您只应该对pnt,line,reg3个属性中的一个赋值
*/
var TopAnalysis = function (_GeometryAnalysisBase) {
    (0, _inherits3.default)(TopAnalysis, _GeometryAnalysisBase);

    function TopAnalysis(opt_options) {
        (0, _classCallCheck3.default)(this, TopAnalysis);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (TopAnalysis.__proto__ || (0, _getPrototypeOf2.default)(TopAnalysis)).call(this, options));

        _this.pnt = options.pnt !== undefined ? options.pnt : null;
        _this.line = options.line !== undefined ? options.line : null;
        _this.reg = options.reg !== undefined ? options.reg : null;
        /// <summary>分析半径</summary>
        _this.nearDis = options.nearDis !== undefined ? options.nearDis : 0.01;
        /// <summary>相对对象</summary>
        _this.relativeObj = options.relativeObj !== undefined ? options.relativeObj : null;
        _this.p_onSuccess = options.p_onSuccess !== undefined ? options.p_onSuccess : null;
        return _this;
    }
    /// <summary>设置点类型</summary>
    /// <param name="pnt" type="Zondy.Object.GPoint">需要设置的点类型</param>


    (0, _createClass3.default)(TopAnalysis, [{
        key: "setPnt",
        value: function setPnt(pnt) {
            this.pnt = pnt;
        }
        /// <summary>设置线类型</summary>
        /// <param name="line" type="Zondy.Object.GLine">需要设置的线类型</param>

    }, {
        key: "setLine",
        value: function setLine(line) {
            this.line = line;
        }
        /// <summary>设置区类型</summary>
        /// <param name="reg" type="Zondy.Object.GRegion">需要设置的区类型</param>

    }, {
        key: "setReg",
        value: function setReg(reg) {
            this.reg = reg;
        }
        /// <summary>设置拓扑分析的相对参照物</summary>
        /// <param name="obj" type="Zondy.Object.GRegion">相对参照物</param>

    }, {
        key: "setRelativeObj",
        value: function setRelativeObj(obj) {
            this.relativeObj = obj;
        }
        //？？这里应该还需对返回结果解析（2018/01/30）

    }, {
        key: "onGetRltSuccess",
        value: function onGetRltSuccess(enumNum) {
            var rlt = (0, _Util.getTopAnalysisResult)(enumNum);
            this.p_onSuccess(rlt);
        }
        /// <summary>执行点投影</summary>
        /// <param name="onSuccess" type="Function">回调函数</param>

    }, {
        key: "execute",
        value: function execute(onSuccess, onError) {
            var me = this;
            me.p_onSuccess = onSuccess;
            var postObj = {};
            postObj.NearDis = this.nearDis;
            postObj.Pnt = this.pnt;
            postObj.Line = this.line;
            postObj.Reg = this.reg;
            postObj.RelativeObj = this.relativeObj;
            me.partUrl = "geomservice/topanalysis?f=json";
            var url = me.getFullUrl();
            var me = this;
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: me.onGetRltSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(postObj), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
    }]);
    return TopAnalysis;
}(_GeometryAnalysisBase2.GeometryAnalysisBase);

;
exports.TopAnalysis = TopAnalysis;

_Base.Zondy.Service.TopAnalysis = TopAnalysis;

/***/ }),

/***/ "./service/MRGS/index.js":
/*!*******************************!*\
  !*** ./service/MRGS/index.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TopAnalysis = exports.Smooth = exports.ProjectRang = exports.ProjectDots = exports.GeometryAnalysisBase = exports.CProjectParam = exports.CProjectBySRSID = exports.CalServiceBase = exports.CalPolyLineLength = exports.CalArea = undefined;

var _CalArea = __webpack_require__(/*! ./CalArea */ "./service/MRGS/CalArea.js");

var _CalPolyLineLength = __webpack_require__(/*! ./CalPolyLineLength */ "./service/MRGS/CalPolyLineLength.js");

var _CalServiceBase = __webpack_require__(/*! ./CalServiceBase */ "./service/MRGS/CalServiceBase.js");

var _CProjectBySRSID = __webpack_require__(/*! ./CProjectBySRSID */ "./service/MRGS/CProjectBySRSID.js");

var _CProjectParam = __webpack_require__(/*! ./CProjectParam */ "./service/MRGS/CProjectParam.js");

var _GeometryAnalysisBase = __webpack_require__(/*! ./GeometryAnalysisBase */ "./service/MRGS/GeometryAnalysisBase.js");

var _ProjectDots = __webpack_require__(/*! ./ProjectDots */ "./service/MRGS/ProjectDots.js");

var _ProjectRang = __webpack_require__(/*! ./ProjectRang */ "./service/MRGS/ProjectRang.js");

var _Smooth = __webpack_require__(/*! ./Smooth */ "./service/MRGS/Smooth.js");

var _TopAnalysis = __webpack_require__(/*! ./TopAnalysis */ "./service/MRGS/TopAnalysis.js");

exports.CalArea = _CalArea.CalArea;
exports.CalPolyLineLength = _CalPolyLineLength.CalPolyLineLength;
exports.CalServiceBase = _CalServiceBase.CalServiceBase;
exports.CProjectBySRSID = _CProjectBySRSID.CProjectBySRSID;
exports.CProjectParam = _CProjectParam.CProjectParam;
exports.GeometryAnalysisBase = _GeometryAnalysisBase.GeometryAnalysisBase;
exports.ProjectDots = _ProjectDots.ProjectDots;
exports.ProjectRang = _ProjectRang.ProjectRang;
exports.Smooth = _Smooth.Smooth;
exports.TopAnalysis = _TopAnalysis.TopAnalysis;

/***/ }),

/***/ "./service/MRMS/GetDocImageService.js":
/*!********************************************!*\
  !*** ./service/MRMS/GetDocImageService.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GetDocImageService = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _MapServiceBase2 = __webpack_require__(/*! ./MapServiceBase */ "./service/MRMS/MapServiceBase.js");

var _CProjectBySRSID = __webpack_require__(/*! ../MRGS/CProjectBySRSID */ "./service/MRGS/CProjectBySRSID.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 地图文档图片服务
/// @取矢量地图文档图片，若采用动态裁切瓦片方式发布的矢量地图文档，
/// @可取指定行列号的矢量地图图片；若采用普通方式发布的矢量地图文档，
/// @可取一定范围内的矢量地图图片，还可设置该地图文档的动态投影参考
/// @信息、显示条件、显示样式等信息
/// </summary>
var GetDocImageService = function (_MapServiceBase) {
    (0, _inherits3.default)(GetDocImageService, _MapServiceBase);

    function GetDocImageService(opt_options) {
        (0, _classCallCheck3.default)(this, GetDocImageService);

        var options = opt_options || {};

        /// <summary>地图文档名称{String}</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (GetDocImageService.__proto__ || (0, _getPrototypeOf2.default)(GetDocImageService)).call(this, options));

        _this.docName = options.docName !== undefined ? options.docName : null;

        /// <summary>是否使用动态裁图功能{Bool} true|false</summary>
        _this.cache = options.cache !== undefined ? options.cache : false;

        if (_this.cache) {
            /* 以下参数，当cache为true时有效（仅在动态裁图时有意义）*/

            /// <summary>动态裁图的级数{Int}</summary>
            _this.level = options.level !== undefined ? options.level : 0;

            /// <summary>行号{Int}</summary>
            _this.row = options.row !== undefined ? options.row : 0;

            /// <summary>列号{Int}</summary>
            _this.col = options.col !== undefined ? options.col : 0;

            /// <summary>是否更新当前瓦片{Bool} true|false</summary>
            _this.update = options.update !== undefined ? options.update : false;
        } else {
            /* 以下参数，当cache为true时无效（仅在非动态裁图时有意义）*/

            /// <summary>需要被取图的图层序列号数组{String}
            /// 以","分隔。默认为依据文档原始图层状态进行设置。
            /// show：   仅仅显示指定了图层序号的图层
            /// hide ：  显示除hide参数指定图层外所有的图层
            /// include：除显示默认图层（地图文档内图层状态为可见的图层）外，另追加这些被指定的图层显示，追加的这些图层必须为地图中包含的图层。
            /// exclude: 从默认图层列表里删除这些被指定的图层后，进行显示
            /// </summary>
            _this.layers = options.layers !== undefined ? options.layers : null;

            /// <summary>地图文档显示样式{Zondy.Object.CDisplayStyle}///</summary>
            _this.style = options.style !== undefined ? options.style : null;

            /// <summary>图片的格式{string} jpg|png|gif</summary>
            _this.picType = options.picType !== undefined ? options.picType : "gif";

            /// <summary>图片的范围{string} xmin,ymin,xmax,ymax</summary>
            _this.bbox = options.bbox !== undefined ? options.bbox : null;

            /// <summary>图层过滤条件{string} 1:ID>4,3:ID>1</summary>
            _this.filters = options.filters !== undefined ? options.filters : null;

            /// <summary>图片的宽度{Float}</summary>
            _this.picWidth = options.picWidth !== undefined ? options.picWidth : 512;

            /// <summary>图片的高度{Float}</summary>
            _this.picHeight = options.picHeight !== undefined ? options.picHeight : 512;

            /// <summary>投影参照系信息{Zondy.Service.CProjectBySRSID}</summary>
            _this.proj = options.proj !== undefined ? options.proj : null;

            /// <summary>唯一标识{string}</summary>
            _this.guid = options.guid !== undefined ? options.guid : (0, _Util.newGuid)();
        }
        return _this;
    }

    /**
    * 获取地图文档图片
    * return: URL{string} 取图地址
    */


    (0, _createClass3.default)(GetDocImageService, [{
        key: "GetMapImage",
        value: function GetMapImage() {
            if (this.docName) {
                if (this.cache == true) {
                    this.partUrl = "docs/" + this.docName + "?" + "cache=" + this.cache.toString() + "&level=" + this.level + "&row=" + this.row + "&col=" + this.col + "&update=" + this.update.toString();
                } else {
                    this.partUrl = "docs/" + this.docName + "?";
                    if (this.bbox != null) {
                        this.partUrl += "bbox=" + this.bbox;
                    }
                    if (this.picWidth != null) {
                        this.partUrl += "&w=" + this.picWidth;
                    }
                    if (this.picHeight != null) {
                        this.partUrl += "&h=" + this.picHeight;
                    }
                    if (this.layers != null) {
                        this.partUrl += "&layers=" + this.layers;
                    }
                    if (this.filters != null) {
                        this.partUrl += "&filters=" + encodeURI(this.filters);
                    }
                    if (this.style != null) {
                        this.partUrl += "&style=" + (0, _stringify2.default)(this.style);
                    }
                    if (this.proj != null) {
                        this.partUrl += "&proj=" + (0, _stringify2.default)(this.proj);
                    }
                    if (this.picType != null) {
                        this.partUrl += "&f=" + this.picType;
                    }
                    if (this.guid != null) {
                        this.partUrl += "&guid=" + this.guid;
                    }
                }
                var url = this.getFullUrl();
                return url;
            }
            return null;
        }
    }]);
    return GetDocImageService;
}(_MapServiceBase2.MapServiceBase);

;
exports.GetDocImageService = GetDocImageService;

_Base.Zondy.Service.GetDocImageService = GetDocImageService;

/***/ }),

/***/ "./service/MRMS/GetLayerImageService.js":
/*!**********************************************!*\
  !*** ./service/MRMS/GetLayerImageService.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GetLayerImageService = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _MapServiceBase2 = __webpack_require__(/*! ./MapServiceBase */ "./service/MRMS/MapServiceBase.js");

var _CDisplayStyleExtend = __webpack_require__(/*! ../common/CDisplayStyleExtend */ "./service/common/CDisplayStyleExtend.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 图层图片服务
/// </summary>
var GetLayerImageService = function (_MapServiceBase) {
    (0, _inherits3.default)(GetLayerImageService, _MapServiceBase);

    function GetLayerImageService(opt_options) {
        (0, _classCallCheck3.default)(this, GetLayerImageService);

        var options = opt_options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (GetLayerImageService.__proto__ || (0, _getPrototypeOf2.default)(GetLayerImageService)).call(this, options));

        _this.gdbps = options.gdbps !== undefined ? options.gdbps : null;

        /// <summary>图片的格式{string} jpg|png|gif</summary>
        _this.picType = options.picType !== undefined ? options.picType : "gif";

        /// <summary>图层显示样式{Zondy.Object.CDisplayStyleExtend}</summary>
        _this.style = options.style !== undefined ? options.style : null;

        /// <summary>图片的范围{string} xmin,ymin,xmax,ymax</summary>
        _this.bbox = options.bbox !== undefined ? options.bbox : null;

        /// <summary>图层过滤条件{string} 1:ID>4,3:ID>1</summary>
        _this.filters = options.filters !== undefined ? options.filters : null;

        /// <summary>图片的宽度{Float}</summary>
        _this.picWidth = options.picWidth !== undefined ? options.picWidth : 512;

        /// <summary>图片的高度{Float}</summary>
        _this.picHeight = options.picHeight !== undefined ? options.picHeight : 512;
        return _this;
    }

    /**
      * 获取图层图片
      * return: URL{string} 取图地址
      */


    (0, _createClass3.default)(GetLayerImageService, [{
        key: "GetLayerImage",
        value: function GetLayerImage() {
            if (this.gdbps != null && this.picWidth != null && this.picHeight != null) {
                this.partUrl = "layers?" + "f=" + this.picType;
                this.partUrl += "&gdbps=";
                this.gdbps.split(',');
                var gdbpsArr = new Array();
                gdbpsArr = this.gdbps.split(",");
                for (var i = 0; i < gdbpsArr.length; i++) {
                    //this.partUrl += encodeURI(gdbpsArr[i]);
                    this.partUrl += gdbpsArr[i];
                    if (i < gdbpsArr.length - 1) {
                        this.partUrl += ",";
                    }
                }
                if (this.style != null) {
                    this.partUrl += "&style=" + (0, _stringify2.default)(this.style);
                }
                if (this.filters != null) {
                    //this.partUrl += "&filters=" + encodeURI(this.filters);
                    this.partUrl += "&filters=" + this.filters;
                }
                if (this.bbox != null) {
                    this.partUrl += "&bbox=" + this.bbox;
                }
                this.partUrl += "&w=" + this.picWidth;
                this.partUrl += "&h=" + this.picHeight;

                var url = this.getFullUrl();
                return url;
            }
            return null;
        }
    }]);
    return GetLayerImageService;
}(_MapServiceBase2.MapServiceBase);

;
exports.GetLayerImageService = GetLayerImageService;

_Base.Zondy.Service.GetLayerImageService = GetLayerImageService;

/***/ }),

/***/ "./service/MRMS/GetMapImageService.js":
/*!********************************************!*\
  !*** ./service/MRMS/GetMapImageService.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GetMapImageService = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _MapServiceBase2 = __webpack_require__(/*! ./MapServiceBase */ "./service/MRMS/MapServiceBase.js");

var _EnumComm = __webpack_require__(/*! ../common/EnumComm */ "./service/common/EnumComm.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 地图图片服务
/// </summary>
var GetMapImageService = function (_MapServiceBase) {
    (0, _inherits3.default)(GetMapImageService, _MapServiceBase);

    function GetMapImageService(opt_options) {
        (0, _classCallCheck3.default)(this, GetMapImageService);

        var options = opt_options || {};

        /// <summary>地图名称{String}</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (GetMapImageService.__proto__ || (0, _getPrototypeOf2.default)(GetMapImageService)).call(this, options));

        _this.mapName = options.mapName !== undefined ? options.mapName : null;

        /// <summary>地图类型</summary>

        /// <summary>地图类型{String}</summary>
        _this.mapType = options.mapType !== undefined ? options.mapType : _EnumComm.MapType.Doc;

        if (_this.mapType == _EnumComm.MapType.Tile) {
            /*仅在获取瓦片地图图片时有意义。对于采用“动态裁切瓦片”方式，发布的矢量地图文档同样适用*/

            /// <summary>动态裁图的级数{Int}</summary>
            _this.level = options.level !== undefined ? options.level : 0;

            /// <summary>行号{Int}</summary>
            _this.row = options.row !== undefined ? options.row : 0;

            /// <summary>列号{Int}</summary>
            _this.col = options.col !== undefined ? options.col : 0;
        } else {
            /*仅在获取地图文档图片时有意义*/

            /// <summary>图片的格式{string} jpg|png|gif</summary>
            _this.picType = options.picType !== undefined ? options.picType : "gif";

            /// <summary>图片的宽度{Float}</summary>
            _this.picWidth = options.picWidth !== undefined ? options.picWidth : 512;

            /// <summary>图片的高度{Float}</summary>
            _this.picHeight = options.picHeight !== undefined ? options.picHeight : 512;

            /// <summary>矢量图的坐标范围{Float}</summary>
            _this.xmin = options.xmin !== undefined ? options.xmin : null;
            _this.xmax = options.xmax !== undefined ? options.xmax : null;
            _this.ymin = options.ymin !== undefined ? options.ymin : null;
            _this.ymax = options.ymax !== undefined ? options.ymax : null;
        }
        return _this;
    }

    /**
    * 获取地图文档/瓦片地图图片
    * return: URL{string} 取图地址
    */


    (0, _createClass3.default)(GetMapImageService, [{
        key: "GetImage",
        value: function GetImage() {
            if (this.mapName) {
                if (this.mapType == _EnumComm.MapType.Tile) {
                    this.partUrl = "tile/" + this.mapName + "?" + "lvl=" + this.level + "&row=" + this.row + "&col=" + this.col;
                } else {
                    this.partUrl = "map/" + this.mapName + "?" + "width=" + this.picWidth + "&height=" + this.picHeight + "&f=" + this.picType;
                    if (this.xmin != null && this.xmax != null && this.ymin != null && this.ymax != null) {
                        this.partUrl += "&xmin=" + this.xmin + "&ymin=" + this.ymin + "&xmax=" + this.xmax + "&ymax=" + this.ymax;
                    }
                }
                var url = this.getFullUrl();
                return url;
            }
            return null;
        }
    }]);
    return GetMapImageService;
}(_MapServiceBase2.MapServiceBase);

;
exports.GetMapImageService = GetMapImageService;

_Base.Zondy.Service.GetMapImageService = GetMapImageService;

/***/ }),

/***/ "./service/MRMS/GetMapInfoService.js":
/*!*******************************************!*\
  !*** ./service/MRMS/GetMapInfoService.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GetMapInfoService = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _MapServiceBase2 = __webpack_require__(/*! ./MapServiceBase */ "./service/MRMS/MapServiceBase.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 地图信息服务
/// </summary>
var GetMapInfoService = function (_MapServiceBase) {
    (0, _inherits3.default)(GetMapInfoService, _MapServiceBase);

    function GetMapInfoService(opt_options) {
        (0, _classCallCheck3.default)(this, GetMapInfoService);

        var options = opt_options || {};

        /// <summary>地图文档/瓦片地图名称{string}</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (GetMapInfoService.__proto__ || (0, _getPrototypeOf2.default)(GetMapInfoService)).call(this, options));

        _this.mapName = options.mapName !== undefined ? options.mapName : null;
        /// <summary>唯一标识{string}</summary>
        _this.guid = options.guid !== undefined ? options.guid : (0, _Util.newGuid)();
        _this.token = options.token;
        _this.type = options.type;
        return _this;
    }

    /**
    * 获取地图文档/瓦片地图信息
    */


    (0, _createClass3.default)(GetMapInfoService, [{
        key: "GetMapInfo",
        value: function GetMapInfo(onSuccess, onError, options) {
            var me = this;
            if (me.mapName !== undefined) {
                me.partUrl = "info/" + this.mapName;
                var params = [];
                if (me.guid) {
                    params.push("guid=" + me.guid);
                }
                if (this.token) {
                    params.push("token=" + me.token);
                }
                if (this.type) {
                    params.push("type=" + me.type);
                }
                if (params.length > 0) {
                    me.partUrl += "?" + params.join('&');
                }
                var url = me.getFullUrl();
                var service = new _IServiceBase.IgsServiceBase(url, {
                    eventListeners: {
                        scope: me,
                        processCompleted: onSuccess,
                        processFailed: onError
                    }
                });
                service.processAsync();
            }
        }
    }]);
    return GetMapInfoService;
}(_MapServiceBase2.MapServiceBase);

;
exports.GetMapInfoService = GetMapInfoService;

_Base.Zondy.Service.GetMapInfoService = GetMapInfoService;

/***/ }),

/***/ "./service/MRMS/GetTileImageService.js":
/*!*********************************************!*\
  !*** ./service/MRMS/GetTileImageService.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GetTileImageService = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _MapServiceBase2 = __webpack_require__(/*! ./MapServiceBase */ "./service/MRMS/MapServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 瓦片图片服务
/// </summary>
var GetTileImageService = function (_MapServiceBase) {
    (0, _inherits3.default)(GetTileImageService, _MapServiceBase);

    function GetTileImageService(opt_options) {
        (0, _classCallCheck3.default)(this, GetTileImageService);

        var options = opt_options || {};

        /// <summary>地图名称{String}</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (GetTileImageService.__proto__ || (0, _getPrototypeOf2.default)(GetTileImageService)).call(this, options));

        _this.hdfName = options.hdfName !== undefined ? options.hdfName : null;

        /// <summary>动态裁图的级数{Int}</summary>
        _this.level = options.level !== undefined ? options.level : 0;

        /// <summary>行号{Int}</summary>
        _this.row = options.row !== undefined ? options.row : 0;

        /// <summary>列号{Int}</summary>
        _this.col = options.col !== undefined ? options.col : 0;
        return _this;
    }

    /**
     * 获取瓦片地图图片
     * return: URL{string} 取图地址
     */


    (0, _createClass3.default)(GetTileImageService, [{
        key: "GetTileImage",
        value: function GetTileImage() {
            if (this.hdfName !== undefined) {
                this.partUrl = "tile/" + this.hdfName + "/" + this.level + "/" + this.row + "/" + this.col;
                var url = this.getFullUrl();
                return url;
            }
            return null;
        }
    }]);
    return GetTileImageService;
}(_MapServiceBase2.MapServiceBase);

;
exports.GetTileImageService = GetTileImageService;

_Base.Zondy.Service.GetTileImageService = GetTileImageService;

/***/ }),

/***/ "./service/MRMS/MapServiceBase.js":
/*!****************************************!*\
  !*** ./service/MRMS/MapServiceBase.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MapServiceBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ServiceBase2 = __webpack_require__(/*! ../ServiceBase */ "./service/ServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @class CatalogService
* @classdesc 目录服务基类
* @extends ServiceBase
* @param url -{string} 地图服务地址()
* @param options -{Object} 地图服务信息相关参数。如：<br>
*/

var MapServiceBase = function (_ServiceBase) {
    (0, _inherits3.default)(MapServiceBase, _ServiceBase);

    function MapServiceBase(opt_options) {
        (0, _classCallCheck3.default)(this, MapServiceBase);

        var options = opt_options || {};
        options.baseUrl = "igs/rest/mrms";
        return (0, _possibleConstructorReturn3.default)(this, (MapServiceBase.__proto__ || (0, _getPrototypeOf2.default)(MapServiceBase)).call(this, options));
    }

    return MapServiceBase;
}(_ServiceBase2.ServiceBase);

;
exports.MapServiceBase = MapServiceBase;

_Base.Zondy.Service.MapServiceBase = MapServiceBase;

/***/ }),

/***/ "./service/MRMS/index.js":
/*!*******************************!*\
  !*** ./service/MRMS/index.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MapServiceBase = exports.GetTileImageService = exports.GetMapInfoService = exports.GetMapImageService = exports.GetLayerImageService = exports.GetDocImageService = undefined;

var _GetDocImageService = __webpack_require__(/*! ./GetDocImageService */ "./service/MRMS/GetDocImageService.js");

var _GetLayerImageService = __webpack_require__(/*! ./GetLayerImageService */ "./service/MRMS/GetLayerImageService.js");

var _GetMapImageService = __webpack_require__(/*! ./GetMapImageService */ "./service/MRMS/GetMapImageService.js");

var _GetMapInfoService = __webpack_require__(/*! ./GetMapInfoService */ "./service/MRMS/GetMapInfoService.js");

var _GetTileImageService = __webpack_require__(/*! ./GetTileImageService */ "./service/MRMS/GetTileImageService.js");

var _MapServiceBase = __webpack_require__(/*! ./MapServiceBase */ "./service/MRMS/MapServiceBase.js");

exports.GetDocImageService = _GetDocImageService.GetDocImageService;
exports.GetLayerImageService = _GetLayerImageService.GetLayerImageService;
exports.GetMapImageService = _GetMapImageService.GetMapImageService;
exports.GetMapInfoService = _GetMapInfoService.GetMapInfoService;
exports.GetTileImageService = _GetTileImageService.GetTileImageService;
exports.MapServiceBase = _MapServiceBase.MapServiceBase;

/***/ }),

/***/ "./service/ServiceBase.js":
/*!********************************!*\
  !*** ./service/ServiceBase.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ServiceBase = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ./common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ServiceBase = function () {
    function ServiceBase(options) {
        (0, _classCallCheck3.default)(this, ServiceBase);

        (0, _Util.extend)(this, options);
        this.baseUrl = options && options.baseUrl ? options.baseUrl : null;
        this.ip = options && options.ip ? options.ip : 'localhost';
        this.port = options && options.port ? options.port : '6163';
        this.partUrl = options && options.partUrl ? options.partUrl : null;
    }

    /**
    * @function Zondy.Service.ServiceBase.prototype.destroy
    * @description 释放资源，将引用的资源属性置空。
    */
    //    destroy: function () {
    //        this.fire("destroy", this);
    //    },

    (0, _createClass3.default)(ServiceBase, [{
        key: "getFullUrl",
        value: function getFullUrl() {
            var me = this;
            var url = null;
            if (_Base.Zondy.Util.isArray(me.ip)) {
                for (var i = 0; i < me.ip.length; i++) {
                    url = new Array();
                    var _port = null;
                    if ((0, _Util.isArray)(me.port)) {
                        _port = me.port[i] !== undefined ? me.port[i] : '6163';
                    } else {
                        _port = me.port !== undefined ? me.port : '6163';
                    }
                    var _partUrl = null;
                    if ((0, _Util.isArray)(me.partUrl)) {
                        _partUrl = me.partUrl[i] !== undefined ? me.partUrl[i] : null;
                    } else {
                        _partUrl = me.partUrl !== undefined ? me.partUrl : null;
                    }

                    url.push(encodeURI(("http://" + me.ip[i] + ':' + _port + '/' + me.baseUrl + '/' + _partUrl).trim()));
                }
            } else {
                url = encodeURI(("http://" + me.ip + ':' + me.port + '/' + me.baseUrl + '/' + me.partUrl).trim());
            }
            return url;
        }
    }]);
    return ServiceBase;
}();

;
exports.ServiceBase = ServiceBase;

_Base.Zondy.Service.ServiceBase = ServiceBase;

/***/ }),

/***/ "./service/common/AnyLine.js":
/*!***********************************!*\
  !*** ./service/common/AnyLine.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.AnyLine = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

/// <summary>线对象构造函数</summary>
/// <param name="arcs" type="Array,Zondy.Object.Arc in an Array">一组Zondy.Object.Arc，用以描述弧段</param>
/// <param name="opt_options" type="Object">属性键值对</param>
var AnyLine = function AnyLine(arcs, opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    this.Arcs = arcs !== undefined && arcs != null ? arcs : null;
};
exports.AnyLine = AnyLine;

_Base.Zondy.Object.AnyLine = AnyLine;

/***/ }),

/***/ "./service/common/Arc.js":
/*!*******************************!*\
  !*** ./service/common/Arc.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Arc = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

/// <summary>弧段对象构造函数</summary>
/// <param name="dots" type="Array,Zondy.Object.Point2D in an Array">一组点用以构造弧段</param>
/// <param name="ArcID" type="int">弧段ID</param>
/// <param name="opt_options" type="Object">属性键值对</param>
var Arc = function Arc(dots, opt_options) {
    this.ArcID = 0;
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    this.Dots = dots !== undefined && dots != null ? dots : null;
};

exports.Arc = Arc;

_Base.Zondy.Object.Arc = Arc;

/***/ }),

/***/ "./service/common/Base.js":
/*!********************************!*\
  !*** ./service/common/Base.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var Zondy = window.Zondy = window.Zondy || {};

Zondy.Object = Zondy.Object || {};
Zondy.Object.ContourAnalyse = Zondy.Object.ContourAnalyse || {};
Zondy.Object.Theme = Zondy.Object.Theme || {};

Zondy.Service = Zondy.Service || {};

Zondy.Enum = Zondy.Enum || {};
Zondy.Enum.Net = Zondy.Enum.Net || {};
Zondy.Enum.Theme = Zondy.Enum.Theme || {};
Zondy.Enum.Map = Zondy.Enum.Map || {};

Zondy.Catalog = Zondy.Catalog || {};

Zondy.Util = Zondy.Util || {};
Zondy.Map = Zondy.Map || {};

Zondy.LevelRenderer = Zondy.LevelRenderer || {};
Zondy.LevelRenderer.Tool = Zondy.LevelRenderer.Tool || {};
Zondy.LevelRenderer.Animation = Zondy.LevelRenderer.Animation || {};
Zondy.Feature = Zondy.Feature || {};
Zondy.Feature.ShapeParameters = Zondy.Feature.ShapeParameters || {};
Zondy.Geometry = Zondy.Geometry || {};
Zondy.Client = Zondy.Client || {};
Zondy.Source = Zondy.Source || {};
Zondy.GeomInteraction = Zondy.GeomInteraction || {};
Zondy.Format = Zondy.Format || {};
Zondy.Control = Zondy.Control || {};
exports.Zondy = Zondy;

/***/ }),

/***/ "./service/common/CAttDataRow.js":
/*!***************************************!*\
  !*** ./service/common/CAttDataRow.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CAttDataRow = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var CAttDataRow = function CAttDataRow(values, fid, opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <param name="FldNumber" type="int">属性个数</param>
    this.FID = fid !== undefined ? fid : 0;

    /// <param name="FldName" type="Array,string in an Array">属性字段名数组</param>
    this.Values = values !== undefined ? values : null;
};
exports.CAttDataRow = CAttDataRow;

_Base.Zondy.Object.CAttDataRow = CAttDataRow;

/***/ }),

/***/ "./service/common/CAttStruct.js":
/*!**************************************!*\
  !*** ./service/common/CAttStruct.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CAttStruct = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var CAttStruct = function CAttStruct(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <param name="FldNumber" type="int">属性个数</param>
    this.FldNumber = options.FldNumber !== undefined ? options.FldNumber : 0;

    /// <param name="FldName" type="Array,string in an Array">属性字段名数组</param>
    this.FldName = options.FldName !== undefined ? options.FldName : null;

    /// <param name="FldType" type="Array,string in an Array">属性字段类型数组</param>
    this.FldType = options.FldType !== undefined ? options.FldType : null;
};
exports.CAttStruct = CAttStruct;

_Base.Zondy.Object.CAttStruct = CAttStruct;

/***/ }),

/***/ "./service/common/CDisplayStyle.js":
/*!*****************************************!*\
  !*** ./service/common/CDisplayStyle.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CDisplayStyle = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _DynShowStyle = __webpack_require__(/*! ./DynShowStyle */ "./service/common/DynShowStyle.js");

/// <summary>地图文档显示样式对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var CDisplayStyle = function CDisplayStyle(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);

    /// <summary>地图显示参数</summary>
    /// <summary>注记符号大小固定</summary>
    this.AnnSizeFixed = options.AnnSizeFixed !== undefined ? options.AnnSizeFixed : false;

    /// <summary>图像质量</summary>可选值为：1（低）、2（中）、3（高）
    this.DriverQuality = options.DriverQuality !== undefined ? options.DriverQuality : 0;

    /// <summary>是否动态投影</summary>
    this.DynProjFlag = options.DynProjFlag !== undefined ? options.DynProjFlag : false;

    /// <summary>符号是否跟随显示放大（该属性已过时，请使用各个要素类的大小固定及线宽固定）</summary>
    this.FollowScale = options.FollowScale !== undefined ? options.FollowScale : false;

    /// <summary>线状符号线宽固定</summary>
    this.LinPenWidFixed = options.LinPenWidFixed !== undefined ? options.LinPenWidFixed : false;

    /// <summary>线状符号大小固定</summary>
    this.LinSizeFixed = options.LinSizeFixed !== undefined ? options.LinSizeFixed : false;

    /// <summary>点状符号线宽固定</summary>
    this.PntPenWidFixed = options.PntPenWidFixed !== undefined ? options.PntPenWidFixed : false;

    /// <summary>点状符号大小固定</summary>
    this.PntSizeFixed = options.PntSizeFixed !== undefined ? options.PntSizeFixed : false;

    /// <summary>填充符号线宽固定</summary>
    this.RegPenWidFixed = options.RegPenWidFixed !== undefined ? options.RegPenWidFixed : false;

    /// <summary> 填充符号大小固定</summary>
    this.RegSizeFixed = options.RegSizeFixed !== undefined ? options.RegSizeFixed : false;

    /// <summary>显示坐标点</summary>
    this.ShowCoordPnt = options.ShowCoordPnt !== undefined ? options.ShowCoordPnt : false;

    /// <summary>显示元素的外包矩形</summary>
    this.ShowElemRect = options.ShowElemRect !== undefined ? options.ShowElemRect : false;

    /// <summary>图层显示参数Array,Zondy.Object.DynShowStyle in Array</summary>
    this.ShowStyle = options.ShowStyle !== undefined ? options.ShowStyle : null;

    /// <summary>是否进行还原显示</summary>
    this.SymbleShow = options.SymbleShow !== undefined ? options.SymbleShow : false;
}; /*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.CDisplayStyle--------------------------------------------------------------------------------------------------
* 地图文档显示样式对象
*/
exports.CDisplayStyle = CDisplayStyle;

_Base.Zondy.Object.CDisplayStyle = CDisplayStyle;

/***/ }),

/***/ "./service/common/CDisplayStyleExtend.js":
/*!***********************************************!*\
  !*** ./service/common/CDisplayStyleExtend.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CDisplayStyleExtend = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

/// <summary>矢量图层显示样式对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.CDisplayStyleExtend----------------------------------------------------------------------------------------------
* 矢量图层显示样式对象
*/
var CDisplayStyleExtend = function CDisplayStyleExtend(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>图层索引</summary>
    this.Index = options.Index !== undefined ? options.Index : 0;

    /// <summary>是否进行还原显示</summary>
    this.SymbleShow = options.SymbleShow !== undefined ? options.SymbleShow : false;

    /// <summary>线状符号线宽固定</summary>
    this.LinPenWidFixed = options.LinPenWidFixed !== undefined ? options.LinPenWidFixed : false;

    /// <summary>线状符号大小固定</summary>
    this.LinSizeFixed = options.LinSizeFixed !== undefined ? options.LinSizeFixed : false;

    /// <summary>点状符号线宽固定</summary>
    this.PntPenWidFixed = options.PntPenWidFixed !== undefined ? options.PntPenWidFixed : false;

    /// <summary>点状符号大小固定</summary>
    this.PntSizeFixed = options.PntSizeFixed !== undefined ? options.PntSizeFixed : false;

    /// <summary>填充符号线宽固定</summary>
    this.RegPenWidFixed = options.RegPenWidFixed !== undefined ? options.RegPenWidFixed : false;

    /// <summary> 填充符号大小固定</summary>
    this.RegSizeFixed = options.RegSizeFixed !== undefined ? options.RegSizeFixed : false;

    /// <summary>注记符号大小固定</summary>
    this.AnnSizeFixed = options.AnnSizeFixed !== undefined ? options.AnnSizeFixed : false;

    /// <summary>//符号是否跟随显示放大，该属性已过时，请使用各个要素类的大小固定及线宽固定</summary>
    this.FollowScale = options.FollowScale !== undefined ? options.FollowScale : false;

    /// <summary>显示坐标点</summary>
    this.ShowCoordPnt = options.ShowCoordPnt !== undefined ? options.ShowCoordPnt : false;

    /// <summary>显示元素的外包矩形</summary>
    this.ShowElemRect = options.ShowElemRect !== undefined ? options.ShowElemRect : false;

    /// <summary>图像质量</summary>可选值为：1（低）、2（中）、3（高）
    this.DriverQuality = options.DriverQuality !== undefined ? options.DriverQuality : 0;

    /// <summary>是否动态投影</summary>
    this.DynProjFlag = options.DynProjFlag !== undefined ? options.DynProjFlag : false;
};

exports.CDisplayStyleExtend = CDisplayStyleExtend;

_Base.Zondy.Object.CDisplayStyleExtend = CDisplayStyleExtend;

/***/ }),

/***/ "./service/common/CDynNoteInfo.js":
/*!****************************************!*\
  !*** ./service/common/CDynNoteInfo.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CDynNoteInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

var _DynNoteLableType = __webpack_require__(/*! ./DynNoteLableType */ "./service/common/DynNoteLableType.js");

/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.CDynNoteInfo-----------------------------------------------------------------------------------------------------
* 动态注记参数信息对象
*/
/// <summary>动态注记参数信息对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var CDynNoteInfo = function CDynNoteInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);

    /// <summary>动态注记字符串角度</summary>
    this.Angle = options.Angle !== undefined ? options.Angle : 0.00;

    /// <summary>背景颜色</summary>取值请参照MapGIS颜色库中颜色编号
    this.Backclr = options.Backclr !== undefined ? options.Backclr : 0;

    /// <summary>轮廓宽度</summary>
    this.Backexp = options.Backexp !== undefined ? options.Backexp : 0.00;

    /// <summary>加粗</summary>
    this.Bold = options.Bold !== undefined ? options.Bold : 0;

    /// <summary>注记字段名称</summary>
    this.FieldName = options.FieldName !== undefined ? options.FieldName : null;

    /// <summary>字体角度</summary>
    this.FontAngle = options.FontAngle !== undefined ? options.FontAngle : 0.00;

    /// <summary>注记颜色</summary>
    this.FontColor = options.FontColor !== undefined ? options.FontColor : 0;

    /// <summary>注记大小</summary>
    this.FontSize = options.FontSize !== undefined ? options.FontSize : 0;

    /// <summary>注记字体</summary>
    this.FontStyle = options.FontStyle !== undefined ? options.FontStyle : 0;

    /// <summary>中文字体</summary>
    this.Ifnt = options.Ifnt !== undefined ? options.Ifnt : 0;

    /// <summary>字形</summary>
    this.Ifnx = options.Ifnx !== undefined ? options.Ifnx : _EnumComm.FontShape.Positive;

    /// <summary>是否填充背景</summary>
    this.IsFilled = options.IsFilled !== undefined ? options.IsFilled : false;

    /// <summary>是否水平显示</summary>
    this.IsHzpl = options.IsHzpl !== undefined ? options.IsHzpl : false;

    /// <summary>覆盖方式（表明透明还是覆盖）</summary>
    this.IsOvprnt = options.IsOvprnt !== undefined ? options.IsOvprnt : false;

    /// <summary>Description</summary>
    this.LabelLevel = options.LabelLevel !== undefined ? options.LabelLevel : 0;

    /// <summary>动态注记方位属性,Zondy.Object.DynNoteLableType</summary>
    this.LableType = options.LableType !== undefined ? options.LableType : null;

    /// <summary> x方向的偏移</summary>
    this.Offsetx = options.Offsetx !== undefined ? options.Offsetx : 0.00;

    /// <summary>y方向的偏移</summary>
    this.Offsety = options.Offsety !== undefined ? options.Offsety : 0.00;

    /// <summary>字间距</summary>
    this.Space = options.Space !== undefined ? options.Space : 0.00;

    /// <summary>删除线</summary>
    this.StrikeThrough = options.StrikeThrough !== undefined ? options.StrikeThrough : 0;

    /// <summary>下划线</summary>
    this.UnderLine = options.UnderLine !== undefined ? options.UnderLine : 0;
};

exports.CDynNoteInfo = CDynNoteInfo;

_Base.Zondy.Object.CDynNoteInfo = CDynNoteInfo;

/***/ }),

/***/ "./service/common/CGDBInfo.js":
/*!************************************!*\
  !*** ./service/common/CGDBInfo.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CGDBInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

/// <summary>地理数据库信息对象构造函数</summary>
/// <param name="GDBSvrName" type="string">数据源名称</param>
/// <param name="GDBName" type="string">数据库名称</param>
/// <param name="User" type="string">用户名</param>
/// <param name="Password" type="string">密码</param>
/// <param name="opt_options" type="Object">属性键值对</param>

var CGDBInfo = function CGDBInfo(opt_options) {
    var options = opt_options ? opt_options : {};
    // extend(this, options);
    /// <summary>数据源名称{String}</summary>
    this.GDBSvrName = options.ServerName !== undefined ? options.ServerName : null;

    /// <summary>数据库名称{String}</summary>
    this.GDBName = options.GDBName !== undefined ? options.GDBName : null;

    /// <summary>用户名{String}</summary>         
    this.User = options.User !== undefined ? options.User : null;

    /// <summary>密码{String}</summary>                 
    this.Password = options.Password !== undefined ? options.Password : null;
};
exports.CGDBInfo = CGDBInfo;

_Base.Zondy.Object.CGDBInfo = CGDBInfo;

/***/ }),

/***/ "./service/common/CLineInfo.js":
/*!*************************************!*\
  !*** ./service/common/CLineInfo.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CLineInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.CLineInfo------------------------------------------------------------------------------------------------------
* 线要素的符号参数信息对象
*/
var CLineInfo = function CLineInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);

    /// <summary>线颜色</summary>
    this.Color = options.Color !== undefined && options.Color != null ? options.Color : 1;

    /// <summary>线型ID</summary>
    this.LinStyleID = options.LinStyleID !== undefined && options.LinStyleID != null ? options.LinStyleID : 1;

    /// <summary>辅助线型ID</summary>
    this.LinStyleID2 = options.LinStyleID2 !== undefined && options.LinStyleID2 != null ? options.LinStyleID2 : 0;

    /// <summary>线宽度</summary>
    this.LinWidth = options.LinWidth !== undefined && options.LinWidth != null ? options.LinWidth : 1;

    /// <summary>x比例系数</summary>
    this.Xscale = options.Xscale !== undefined && options.Xscale != null ? options.Xscale : 1;

    /// <summary>y比例系数</summary>
    this.Yscale = options.Yscale !== undefined && options.Yscale != null ? options.Yscale : 1;
};
exports.CLineInfo = CLineInfo;

_Base.Zondy.Object.CLineInfo = CLineInfo;

/***/ }),

/***/ "./service/common/CPointInfo.js":
/*!**************************************!*\
  !*** ./service/common/CPointInfo.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CPointInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.CPointInfo------------------------------------------------------------------------------------------------------
* 点要素的符号参数信息对象
*/
var CPointInfo = function CPointInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);

    /// <summary>子图角度</summary>
    this.Angle = options.Angle !== undefined && options.Angle != null ? options.Angle : 1;

    /// <summary>子图颜色</summary>
    this.Color = options.Color !== undefined && options.Color != null ? options.Color : 1;

    /// <summary>子图高度</summary>
    this.SymHeight = options.SymHeight !== undefined && options.SymHeight != null ? options.SymHeight : 1;

    /// <summary>子图ID</summary>
    this.SymID = options.SymID !== undefined && options.SymID != null ? options.SymID : 1;

    /// <summary>子图宽度</summary>
    this.SymWidth = options.SymWidth !== undefined && options.SymWidth != null ? options.SymWidth : 1;
};

exports.CPointInfo = CPointInfo;

_Base.Zondy.Object.CPointInfo = CPointInfo;

/***/ }),

/***/ "./service/common/CRegionInfo.js":
/*!***************************************!*\
  !*** ./service/common/CRegionInfo.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CRegionInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

/// <summary>区要素的符号参数信息对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var CRegionInfo = function CRegionInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);

    /// <summary>结束填充色</summary>
    this.EndColor = options.EndColor !== undefined && options.EndColor != null ? options.EndColor : 1;

    /// <summary>填充颜色</summary>
    this.FillColor = options.FillColor !== undefined && options.FillColor != null ? options.FillColor : 1;

    /// <summary>填充模式</summary>
    this.FillMode = options.FillMode !== undefined && options.FillMode != null ? options.FillMode : 0;

    /// <summary>填充图案笔宽</summary>
    this.OutPenWidth = options.OutPenWidth !== undefined && options.OutPenWidth != null ? options.OutPenWidth : 1;

    /// <summary>填充图案角度</summary>
    this.PatAngle = options.PatAngle !== undefined && options.PatAngle != null ? options.PatAngle : 1;

    /// <summary>填充图案颜色</summary>
    this.PatColor = options.PatColor !== undefined && options.PatColor != null ? options.PatColor : 1;

    /// <summary>填充图案高度</summary>
    this.PatHeight = options.PatHeight !== undefined && options.PatHeight != null ? options.PatHeight : 1;

    /// <summary>填充图案ID</summary>
    this.PatID = options.PatID !== undefined && options.PatID != null ? options.PatID : 1;

    /// <summary>填充图案宽度</summary>
    this.PatWidth = options.PatWidth !== undefined && options.PatWidth != null ? options.PatWidth : 1;
};

exports.CRegionInfo = CRegionInfo;

_Base.Zondy.Object.CRegionInfo = CRegionInfo;

/***/ }),

/***/ "./service/common/Circle.js":
/*!**********************************!*\
  !*** ./service/common/Circle.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Circle = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _Tangram2 = __webpack_require__(/*! ./Tangram */ "./service/common/Tangram.js");

var _Point2D = __webpack_require__(/*! ./Point2D */ "./service/common/Point2D.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Circle = function (_Tangram) {
    (0, _inherits3.default)(Circle, _Tangram);

    /// <summary>圆几何对象构造函数</summary>
    /// <param name="point" type="Zondy.Object.Point2D">圆心点</param>
    /// <param name="radious" type="Float">半径</param>
    /// <param name="opt_options" type="Object">属性键值对</param>
    function Circle(point, radious, opt_options) {
        (0, _classCallCheck3.default)(this, Circle);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (Circle.__proto__ || (0, _getPrototypeOf2.default)(Circle)).call(this, options));

        _this.point = point !== undefined && point != null ? point : null;
        _this.radious = radious !== undefined && radious != null ? radious : null;
        return _this;
    }
    /// <summary> 通过传入Openlayers的ol.geom.Circle类型来设置参数</summary>
    /// <param name="openlayersPoly" type="ol.geom.Circle">由Openlayers定义的多边形</param>


    (0, _createClass3.default)(Circle, [{
        key: "setByOL",
        value: function setByOL(openlayersPoly) {
            if (openlayersPoly !== undefined && openlayersPoly != null) {
                //圆心
                var centerPoint = openlayersPoly.getCenter();
                //圆半径
                var radious = openlayersPoly.getRadius();
                this.point = new _Base.Zondy.Object.Point2D(centerPoint[0], centerPoint[1]);
                this.radious = radious;
            }
        }

        /// <summary>
        ///返回一个字符串来表示该多边形
        ///</summary>

    }, {
        key: "toString",
        value: function toString() {
            if (this.point == null || this.point.length == 0 || this.radious == null) {
                return "";
            }
            return this.point.x + "," + this.point.y + "," + this.radious;
        }

        /// <summary>
        ///获取几何类型名称
        ///</summary>

    }, {
        key: "getGeometryType",
        value: function getGeometryType() {
            return "Circle";
        }
    }]);
    return Circle;
}(_Tangram2.Tangram);

;

exports.Circle = Circle;

_Base.Zondy.Object.Circle = Circle;

/***/ }),

/***/ "./service/common/DynNoteLableType.js":
/*!********************************************!*\
  !*** ./service/common/DynNoteLableType.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DynNoteLableType = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _LablePntInfo = __webpack_require__(/*! ./LablePntInfo */ "./service/common/LablePntInfo.js");

var _LabelLinInfo = __webpack_require__(/*! ./LabelLinInfo */ "./service/common/LabelLinInfo.js");

var _LabelRegInfo = __webpack_require__(/*! ./LabelRegInfo */ "./service/common/LabelRegInfo.js");

var DynNoteLableType = function DynNoteLableType(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>点方位属性,Zondy.Object.LablePntInfo</summary>
    this.PntInfo = options.PntInfo !== undefined && options.PntInfo != null ? options.PntInfo : null;

    /// <summary>线方位属性,Zondy.Object.LabelLinInfo</summary>
    this.LinInfo = options.LinInfo !== undefined && options.LinInfo != null ? options.LinInfo : null;

    /// <summary>区方位属性,Zondy.Object.LabelRegInfo</summary>
    this.RegInfo = options.RegInfo !== undefined && options.RegInfo != null ? options.RegInfo : null;
}; /*Zondy.Object.DynNoteLabelType------------------------------------------------------------------------------------------------
   * 动态注记方位属性对象
   */
/// <summary>动态注记方位属性对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
exports.DynNoteLableType = DynNoteLableType;

_Base.Zondy.Object.DynNoteLableType = DynNoteLableType;

/***/ }),

/***/ "./service/common/DynShowStyle.js":
/*!****************************************!*\
  !*** ./service/common/DynShowStyle.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DynShowStyle = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _CDynNoteInfo = __webpack_require__(/*! ./CDynNoteInfo */ "./service/common/CDynNoteInfo.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

var _CLineInfo = __webpack_require__(/*! ./CLineInfo */ "./service/common/CLineInfo.js");

var _CPointInfo = __webpack_require__(/*! ./CPointInfo */ "./service/common/CPointInfo.js");

var _CRegionInfo = __webpack_require__(/*! ./CRegionInfo */ "./service/common/CRegionInfo.js");

var DynShowStyle = function DynShowStyle(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>透明度</summary>
    this.Alpha = options.Alpha !== undefined ? options.Alpha : 0;

    /// <summary>是否使用错误处理符号</summary>
    this.BugSpare = options.BugSpare !== undefined ? options.BugSpare : false;

    /// <summary>是否自绘驱动</summary>
    this.CustomRender = options.CustomRender !== undefined ? options.CustomRender : false;

    /// <summary>自绘驱动路径设置,String</summary>
    this.CustomRenderPath = options.CustomRenderPath !== undefined ? options.CustomRenderPath : null;

    /// <summary>显示的线方向线符号(只适用于其颜色)</summary>
    this.DirectionLineClr = options.DirectionLineClr !== undefined ? options.DirectionLineClr : 0;

    /// <summary>是否动态注记</summary>
    this.DynNoteFlag = options.DynNoteFlag !== undefined ? options.DynNoteFlag : false;

    /// <summary>动态注记参数,Zondy.Object.CDynNoteInfo</summary>
    this.DynNoteInfo = options.DynNoteInfo !== undefined ? options.DynNoteInfo : null;

    /// <summary>是否显示填充区域的弧段,Zondy.Enum.ISShowArc;枚举类型</summary>
    /// 取值范围： 1（Zondy.Enum.ISShowArc.Reg）,2（Zondy.Enum.ISShowArc.Arc）,3（Zondy.Enum.ISShowArc.All）
    this.IsShowArc = options.IsShowArc !== undefined ? options.IsShowArc : 0;

    /// <summary>是否显示线方向</summary>
    this.ISShowLineDirection = options.ISShowLineDirection !== undefined ? options.ISShowLineDirection : false;

    /// <summary>显示的弧段样式(只适用于其颜色),Zondy.Object.CLineInfo</summary>
    this.LineInfo = options.LineInfo !== undefined ? options.LineInfo : null;

    /// <summary>最大显示比率</summary>
    this.MaxScale = options.MaxScale !== undefined ? options.MaxScale : 0.00;

    /// <summary>最小显示比率</summary>
    this.MinScale = options.MinScale !== undefined ? options.MinScale : 0.00;

    /// <summary>显示坐标点</summary>
    this.ShowCoordPnt = options.ShowCoordPnt !== undefined ? options.ShowCoordPnt : false;

    /// <summary>错误处理线符号,Zondy.Object.CLineInfo</summary>
    this.SpareLineInfo = options.SpareLineInfo !== undefined ? options.SpareLineInfo : null;

    /// <summary>错误处理点符号,Zondy.Object.CPointInfo</summary>
    this.SparePointInfo = options.SparePointInfo !== undefined ? options.SparePointInfo : null;

    /// <summary>错误处理区符号,Zondy.Object.CRegionInfo</summary>
    this.SpareRegInfo = options.SpareRegInfo !== undefined ? options.SpareRegInfo : null;

    /// <summary>符号显示比例</summary>
    this.SymbleScale = options.SymbleScale !== undefined ? options.SymbleScale : 0.00;
}; /*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.DynShowStyle-----------------------------------------------------------------------------------------------------
* 图层动态显示样式对象
*/

/// <summary>地图文档动态显示样式对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>

exports.DynShowStyle = DynShowStyle;

_Base.Zondy.Object.DynShowStyle = DynShowStyle;

/***/ }),

/***/ "./service/common/EnumComm.js":
/*!************************************!*\
  !*** ./service/common/EnumComm.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LayerStatusType = exports.MapType = exports.CItemType = exports.CLinStyleMakeType = exports.CLinJointType = exports.CLinHeadType = exports.CLinAdjustType = exports.NetElemType = exports.NetAnalyType = exports.ISShowArc = exports.EightDirType = exports.LineConstrain = exports.LabelSpreadType = exports.RepeatType = exports.LabelPntType = exports.LabelRegType = exports.LabelLinType = exports.FontShape = exports.FeatureType = exports.VectClsType = exports.XClsType = undefined;

var _defineProperty2 = __webpack_require__(/*! babel-runtime/helpers/defineProperty */ "./node_modules/babel-runtime/helpers/defineProperty.js");

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _NetAnalyType; /**********************************************************常量(枚举)定义************************************************/


var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>数据类型</summary>
var XClsType = {
    /// <summary>简单要素类</summary>
    SFCls: "SFeatureCls",
    /// <summary>对象类</summary>
    OCls: "ObjectCls",
    /// <summary>注记类</summary>
    ACls: "AnnotationCls",
    /// <summary>网络类</summary>
    GnetCls: "GNetCls",
    /// <summary>栅格数据集</summary>
    RDS: "RasterDataset",
    /// <summary>简单要素类详细信息</summary>
    SFClsInfo: "sfcls_new"
};
exports.XClsType = XClsType;

_Base.Zondy.Enum.XClsType = XClsType;

/// <summary>矢量数据类型</summary>
var VectClsType = {
    /// <summary>未知类型</summary>
    Unknown: 0,
    /// <summary>简单要素类</summary>
    SFCls: "SFeatureCls",
    /// <summary>注记类</summary>
    AnnoCls: "AnnotationCls"
};
exports.VectClsType = VectClsType;

_Base.Zondy.Enum.VectClsType = VectClsType;

/// <summary>要素几何类型</summary>
var FeatureType = {
    /// <summary>未知类型</summary>
    Unknown: 0,
    /// <summary>点</summary>
    Pnt: 1,
    /// <summary>线</summary>
    Lin: 2,
    /// <summary>区</summary>
    Reg: 3
};
exports.FeatureType = FeatureType;

_Base.Zondy.Enum.FeatureType = FeatureType;

/// <summary>动态注记字形的类型</summary>
var FontShape = {
    /// <summary>正体</summary>
    Positive: 0,
    /// <summary>左斜</summary>
    LeftOblique: 1,
    /// <summary>右斜</summary>
    RightOblique: 2,
    /// <summary>左耸</summary>
    LeftTowering: 3,
    /// <summary>右耸</summary>
    RightTowering: 4
};
exports.FontShape = FontShape;

_Base.Zondy.Enum.FontShape = FontShape;

/// <summary>线的动态注记的线方位类型</summary>
var LabelLinType = {
    /// <summary>弯曲注记</summary>
    Curved: 0,
    /// <summary>笔直注记</summary>
    Forward: 1,
    /// <summary>水平注记</summary>
    Horizontal: 2,
    /// <summary>正交注记</summary>
    Tangent: 3
};
exports.LabelLinType = LabelLinType;

_Base.Zondy.Enum.LabelLinType = LabelLinType;

/// <summary>区的动态注记的区方位类型</summary>
var LabelRegType = {
    /// <summary>沿骨架线弯曲注记</summary>
    Curved: 0,
    /// <summary>沿骨架线笔直注记</summary>
    Forward: 1,
    /// <summary>水平注记</summary>
    Horizontal: 2,
    /// <summary>边界线注记</summary>
    Boundray: 3,
    /// <summary>区域外注记</summary>
    Outside: 4
};
exports.LabelRegType = LabelRegType;

_Base.Zondy.Enum.LabelRegType = LabelRegType;

/// <summary>点的动态注记的方位类型</summary>
var LabelPntType = {
    /// <summary>任意方位</summary>
    PntAnyDir: 0,
    /// <summary>八方位</summary>
    PntEightDir: 1,
    /// <summary>压点</summary>
    PntOnFea: 2
};
exports.LabelPntType = LabelPntType;

_Base.Zondy.Enum.LabelPntType = LabelPntType;

/// <summary>线重复注记策略</summary>
var RepeatType = {
    /// <summary>自动重复注记（当线长度超过注记长度的2倍时重复注记，否则不重复注记）</summary>
    Auto: 0,
    /// <summary>从不重复注记</summary>
    NoRep: 1,
    /// <summary>分段注记</summary>
    OnStep: 2
};
exports.RepeatType = RepeatType;

_Base.Zondy.Enum.RepeatType = RepeatType;

/// <summary> 注记分布的策略</summary>
var LabelSpreadType = {
    /// <summary>自动分布策略（全是数字或字符采用集中注记方式，注记中带有汉字采用分散分布注记）</summary>
    AutoSpread: 0,
    /// <summary>字符集中分布</summary>
    Centralization: 1,
    /// <summary>字符分散分布</summary>
    Decentralization: 2
};
exports.LabelSpreadType = LabelSpreadType;

_Base.Zondy.Enum.LabelSpreadType = LabelSpreadType;

/// <summary>偏离线约束</summary>
var LineConstrain = {
    /// <summary>注记在线的左边</summary>
    Left: 0,
    /// <summary>注记在线的右边</summary>
    Right: 1,
    /// <summary>注记在线的上方</summary>
    Above: 2,
    /// <summary>注记在线的下方</summary>
    Below: 3,
    /// <summary>注记在线的两边</summary>
    Both: 4,
    /// <summary>没有约束</summary>
    NoRes: 5
};
exports.LineConstrain = LineConstrain;

_Base.Zondy.Enum.LineConstrain = LineConstrain;

/// <summary>点八方位注记类型</summary>
var EightDirType = {
    /// <summary>东</summary>
    East: 0,
    /// <summary>北</summary>
    North: 1,
    /// <summary>东北</summary>
    NorthEast: 2,
    /// <summary>西北</summary>
    NorthWest: 3,
    /// <summary>南</summary>
    South: 4,
    /// <summary>东南</summary>
    SouthEast: 5,
    /// <summary>西南</summary>
    SouthWest: 6,
    /// <summary>西</summary>
    West: 7,
    /// <summary>无方位</summary>
    NoDir: 8
};
exports.EightDirType = EightDirType;

_Base.Zondy.Enum.EightDirType = EightDirType;

/// <summary>是否显示弧段</summary>
var ISShowArc = {
    /// <summary>只显示填充区域</summary>
    Reg: 0,
    /// <summary>只显示弧段</summary>
    Arc: 1,
    /// <summary>两者都显示</summary>
    All: 2
};
exports.ISShowArc = ISShowArc;

_Base.Zondy.Enum.ISShowArc = ISShowArc;

/***************************网络分析枚举类型******************************************/

/// <summary>网络分析类型</summary>
var NetAnalyType = (_NetAnalyType = {
    /// <summary>用户模式</summary>
    UserMode: "UserMode",
    /// <summary>系统模式--普通公路优先</summary>
    SysModeCommwayPrefer: "SysModeCommwayPrefer",
    /// <summary>系统模式--高速公路优先</summary>
    SysModeHighWayPrefer: "SysModeHighWayPrefer",
    /// <summary>系统模式--最少花费</summary>
    SysModeMinCost: "SysModeMinCost",
    /// <summary>系统模式--最短路径</summary>
    SysModeMinDis: "SysModeMinDis"
}, (0, _defineProperty3.default)(_NetAnalyType, "SysModeMinDis", "SysModeMinDis"), (0, _defineProperty3.default)(_NetAnalyType, "SysModeSysRecommend", "SysModeSysRecommend"), _NetAnalyType);
exports.NetAnalyType = NetAnalyType;

_Base.Zondy.Enum.Net.NetAnalyType = NetAnalyType;

/// <summary>网络元素类型</summary>
var NetElemType = {
    /// <summary>节点元素</summary>
    Node: 1,
    /// <summary>边元素</summary>
    Edge: 2,
    /// <summary>复杂结点元素</summary>
    CNode: 3,
    /// <summary>链元素</summary>
    Chain: 4,
    /// <summary>中心元素</summary>
    Center: 5,
    /// <summary>源</summary>
    Source: 13,
    /// <summary>汇</summary>
    Sink: 13
};
exports.NetElemType = NetElemType;

_Base.Zondy.Enum.Net.NetElemType = NetElemType;

/// <summary>线型调整方法枚举</summary>
var CLinAdjustType = {
    /// <summary> 调整</summary>
    Adjust: 0,
    /// <summary>不调整</summary>
    NoAdjust: 1
};
exports.CLinAdjustType = CLinAdjustType;

_Base.Zondy.Enum.Theme.CLinAdjustType = CLinAdjustType;

/// <summary>线头类型枚举定义</summary>   
var CLinHeadType = {
    /// <summary>
    /// 圆头
    /// </summary>
    Round: 0,
    /// <summary>
    /// 平头
    /// </summary>
    Square: 1,
    /// <summary>
    /// 尖头
    /// </summary>
    Butt: 2
};
exports.CLinHeadType = CLinHeadType;

_Base.Zondy.Enum.Theme.CLinHeadType = CLinHeadType;

/// <summary>线拐角类型枚举</summary>
var CLinJointType = {
    /// <summary>
    /// 圆角
    /// </summary>
    Round: 0,
    /// <summary>
    /// 平角
    /// </summary>
    Square: 1,
    /// <summary>
    /// 尖角
    /// </summary>
    Butt: 2
};
exports.CLinJointType = CLinJointType;

_Base.Zondy.Enum.Theme.CLinJointType = CLinJointType;

/// <summary>线型生成方法</summary>
var CLinStyleMakeType = {
    /// <summary>
    /// 规律性生成线型
    /// </summary>
    Byrule: 0,
    /// <summary>
    /// 按控制点生成线型
    /// </summary> 
    Bypoint: 1
};
exports.CLinStyleMakeType = CLinStyleMakeType;

_Base.Zondy.Enum.Theme.CLinStyleMakeType = CLinStyleMakeType;

/// <summary>统计分段类型</summary>
var CItemType = {
    /// <summary>
    /// 未知类型
    /// </summary>
    Unknown: 0,
    /// <summary>
    /// 唯一值
    /// </summary>
    UniqueTheme: 1,
    /// <summary>
    /// 范围
    /// </summary>
    RangeTheme: 2
};
exports.CItemType = CItemType;

_Base.Zondy.Enum.Theme.CItemType = CItemType;
/***************************地图服务相关枚举类型******************************************/

/// <summary>地图类型</summary>
var MapType = {
    Doc: "mapType", //发布的地图文档
    Tile: "tileType" //发布的瓦片地图
};
exports.MapType = MapType;

_Base.Zondy.Enum.Map.MapType = MapType;

/// <summary>图层状态类型</summary>
var LayerStatusType = {
    Show: "show", //仅仅显示指定了图层序号的图层
    Hide: "hide", //显示除hide参数指定图层外所有的图层
    Include: "include", //除显示默认图层（地图文档内图层状态为可见的图层）外，另追加这些被指定的图层显示，追加的这些图层必须为地图中包含的图层。
    Exclude: "exclude" //从默认图层列表里删除这些被指定的图层后，进行显示
};
exports.LayerStatusType = LayerStatusType;

_Base.Zondy.Enum.Map.LayerStatusType = LayerStatusType;

/***/ }),

/***/ "./service/common/Feature.js":
/*!***********************************!*\
  !*** ./service/common/Feature.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Feature = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _Rectangle = __webpack_require__(/*! ./Rectangle */ "./service/common/Rectangle.js");

var _FeatureGeometry = __webpack_require__(/*! ./FeatureGeometry */ "./service/common/FeatureGeometry.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

var _WebGraphicsInfo = __webpack_require__(/*! ./WebGraphicsInfo */ "./service/common/WebGraphicsInfo.js");

/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.Feature--------------------------------------------------------------------------------------------------------
* 要素信息对象
*/
var Feature = function Feature(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary> 属性值 Array,String in an Array</summary>
    this.AttValue = options.AttValue !== undefined && options.AttValue != null ? options.AttValue : null;

    /// <summary> 要素id号 Interger</summary>
    this.FID = options.FID !== undefined && options.FID != null ? options.FID : 0;

    /// <summary>要素的外包矩形 Zondy.Object.Rectangle</summary>
    this.bound = options.bound !== undefined && options.bound != null ? options.bound : null;

    /// <summary>要素的几何图形描述 Zondy.Object.FeatureGeometry</summary>
    this.fGeom = options.fGeom !== undefined && options.fGeom != null ? options.fGeom : null;

    /// <summary> 要素几何类型 Zondy.Enum.FeatureType类型，只对简单要素类有效</summary>
    this.ftype = options.ftype !== undefined && options.ftype != null ? options.ftype : 0;

    /// <summary>几何图形参数 Zondy.Object.WebGraphicsInfo</summary>
    this.GraphicInfo = options.GraphicInfo !== undefined && options.GraphicInfo != null ? options.GraphicInfo : null;
};

/// <summary>获取当前要素的属性值</summary>
/// <param name="attKey" type="Interger">属性字段关键字或者属性序号</param>
/// <returns type="String" />
Feature.prototype.getAttValue = function (attKey) {
    if (this.AttValue === null) {
        return null;
    }
    var attLength = this.AttValue.length;

    if (typeof attKey == 'number') {
        if (attKey >= attLength) {
            return null;
        }
        return this.AttValue[attKey];
    }
};

/// <summary>获取当前要素的几何图形参数</summary>
/// <returns type="WebGraphicsInfo" />
Feature.prototype.getGraphicInfo = function () {
    if (this.GraphicInfo === null) {
        return null;
    } else {
        return new _WebGraphicsInfo.WebGraphicsInfo(this.GraphicInfo);
    }
};

/// <summary>获取当前要素的所有字段属性值</summary>
/// <returns type="Array contains String" />
Feature.prototype.getAttValueArray = function () {
    return this.AttValue;
};

/// <summary>获取当前要素的外包矩形</summary>
/// <returns type="Rectangle" />
Feature.prototype.getRectBound = function () {
    var bound = this.bound;
    if (bound != null) {
        return new _Rectangle.Rectangle(bound);
    } else {
        return bound;
    }
};

/// <summary>获取当前要素的几何描述</summary>
/// <returns type="String" />
Feature.prototype.getGeometry = function () {
    return this.fGeom;
};

/// <summary>获取当前要素的FID</summary>
/// <returns type="Interger" />
Feature.prototype.getFID = function () {
    return this.FID;
};

/// <summary>设置当前要素的所有属性值</summary>
/// <param name="values" type="Array / Object">属性值数组 /或者属性键值对</param>
Feature.prototype.setAttValues = function (values) {
    this.AttValue = values;
};

/// <summary>设置当前要素的外包矩形</summary>
/// <param name="bound" type="String:'xmin,ymin,xmax,ymax' | Rectangle
/// <returns {ol.extent}">外包矩形描述，可以是字符串，zondy矩形或者openlayers矩形</param>
Feature.prototype.setBound = function (bound) {
    var rect = null;
    if (typeof bound == "string") {
        rect = new _Rectangle.Rectangle(bound);
    }
    if (bound instanceof String) {
        rect = new _Rectangle.Rectangle(bound);
    }
    if (bound instanceof _Rectangle.Rectangle) {
        rect = bound;
    }
    if (bound instanceof ol.extent) {
        rect = new _Rectangle.Rectangle();
        rect.setByOL(bound);
    }
    this.bound = rect;
};

/// <summary>设置当前要素的FID</summary>
/// <param name="fid" type="Interger">要素id号</param>
Feature.prototype.setFID = function (fid) {
    this.FID = fid;
};

/// <summary>设置几何图形的类型</summary>
/// <param name="type" type="Zondy.Enum.FeatureType">几何类型</param>
Feature.prototype.setFType = function (type) {
    this.ftype = type;
};

Feature.prototype.destroy = function () {
    this.AttValue = null;
    this.FID = null;
    this.bound = null;
    this.fGeom = null;
    this.ftype = null;
    this.GraphicInfo = null;
};
exports.Feature = Feature;

_Base.Zondy.Object.Feature = Feature;

/***/ }),

/***/ "./service/common/FeatureGeometry.js":
/*!*******************************************!*\
  !*** ./service/common/FeatureGeometry.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FeatureGeometry = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _GPoint = __webpack_require__(/*! ./GPoint */ "./service/common/GPoint.js");

var _GLine = __webpack_require__(/*! ./GLine */ "./service/common/GLine.js");

var _GRegion = __webpack_require__(/*! ./GRegion */ "./service/common/GRegion.js");

/// <summary>要素几何信息对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var FeatureGeometry = function FeatureGeometry(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>点几何信息</summary>
    /// <param name="PntGeom" type="GPoint in an Array">几何类型</param>
    this.PntGeom = options.PntGeom !== undefined && options.PntGeom != null ? options.PntGeom : null;

    /// <summary>线几何信息</summary>
    /// <param name="LinGeom" type="Zondy.Object.GLine in an Array">几何类型</param>
    this.LinGeom = options.LinGeom !== undefined && options.LinGeom != null ? options.LinGeom : null;

    /// <summary>区几何信息</summary>
    /// <param name="RegGeom" type="Zondy.Object.GRegion in an Array">几何类型</param>
    this.RegGeom = options.RegGeom !== undefined && options.RegGeom != null ? options.RegGeom : null;
};

/// <summary>设置点几何</summary>
/// <param name="pnts" type="Zondy.Object.GPoint in Array">点几何数组</param>
FeatureGeometry.prototype.setPntGeom = function (pnts) {
    this.PntGeom = pnts !== undefined && pnts != null && Array.isArray(pnts) ? pnts : null;
};

/// <summary>设置线几何</summary>
/// <param name="lines" type="Zondy.Object.GLine in Array">线几何数组</param>
FeatureGeometry.prototype.setLine = function (lines) {
    this.LinGeom = lines !== undefined && lines != null && Array.isArray(lines) ? lines : null;
};

/// <summary>设置区几何</summary>
/// <param name="Regs" type="Zondy.Object.GRegion in Array">区几何数组</param>
FeatureGeometry.prototype.setRegGeom = function (Regs) {
    this.RegGeom = Regs !== undefined && Regs != null && Array.isArray(Regs) ? Regs : null;
};

exports.FeatureGeometry = FeatureGeometry;

_Base.Zondy.Object.FeatureGeometry = FeatureGeometry;

/***/ }),

/***/ "./service/common/FeatureGraphicBase.js":
/*!**********************************************!*\
  !*** ./service/common/FeatureGraphicBase.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FeatureGraphicBase = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary> 几何对象基类构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var FeatureGraphicBase = function () {
    function FeatureGraphicBase(opt_options) {
        (0, _classCallCheck3.default)(this, FeatureGraphicBase);

        var options = opt_options !== undefined ? opt_options : {};
        (0, _Util.extend)(this, options);
        this.GID = options.GID !== undefined && options.GID != null ? options.GID : 0;
    }
    /// <summary>设置要素几何图形ID</summary>
    /// <param name="id" type="Interger">要素几何图形ID号</param>


    (0, _createClass3.default)(FeatureGraphicBase, [{
        key: "setGID",
        value: function setGID(id) {
            if (id !== undefined && id != null) {
                this.GID = id;
            }
        }
    }]);
    return FeatureGraphicBase;
}();

;
exports.FeatureGraphicBase = FeatureGraphicBase;

_Base.Zondy.Object.FeatureGraphicBase = FeatureGraphicBase;

/***/ }),

/***/ "./service/common/FeatureSet.js":
/*!**************************************!*\
  !*** ./service/common/FeatureSet.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FeatureSet = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _CAttStruct = __webpack_require__(/*! ./CAttStruct */ "./service/common/CAttStruct.js");

var _Feature = __webpack_require__(/*! ./Feature */ "./service/common/Feature.js");

/// <summary> 要素集合信息对象构造函数 </summary>
/// <param name="opt_options" type="Object">属性键值对</param>
/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.FeatureSet-------------------------------------------------------------------------------------------------------
* 要素集合信息对象
*/
var FeatureSet = function FeatureSet(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>一次查询的总要素个数，仅在做要素查询时有意义 Int
    ///  ReadOnly
    /// </summary>
    this.TotalCount = 0;
    /// <summary>属性结构 Zondy.Object.CAttStruct in an Array</summary>
    this.AttStruct = options.AttStruct !== undefined && options.AttStruct != null ? options.AttStruct : null;

    /// <summary>要素数组 Zondy.Object.Feature in an Array</summary>
    this.SFEleArray = options.SFEleArray !== undefined && options.SFEleArray != null ? options.SFEleArray : new Array();
};

/// <summary>
/// 清空要素集合
/// </summary>
FeatureSet.prototype.clear = function () {
    this.AttStruct = null;
    this.SFEleArray = new Array();
};

/// <summary>添加一组或者一个要素</summary>
/// <param name="features" type="{Array} | {Zondy.Object.Feature} | {Object}（代表Feature的属性键值对）">
/// 一组要素，或者一个要素
/// </param>
FeatureSet.prototype.addFeature = function (features) {
    if (features instanceof Array) {
        this.SFEleArray.concat(features);
    } else {
        this.SFEleArray.push(features);
    }
};

/// <summary>获取要素集要素的记录条数</summary>
/// <returns type="Integer" />
FeatureSet.prototype.getFeaturesLength = function () {
    if (this.SFEleArray instanceof Array) {
        return this.SFEleArray.length;
    } else {
        return 0;
    }
};

/// <summary>获取指定要素对象</summary>
/// <returns type="{Zondy.Object.Feature}" />
FeatureSet.prototype.getFeatureByIndex = function (i) {
    if (i >= this.getFeaturesLength()) {
        return null;
    } else {
        var feature = this.SFEleArray[i];
        if (feature instanceof _Feature.Feature) {
            return feature;
        } else {
            return new _Feature.Feature(this.SFEleArray[i]);
        }
    }
};

/// <summary>获取某属性字段的类型</summary>
/// <param name="attkey" type="String">属性字段关键字，可以是{String}字段名，可以是序号{Interger}</param>
/// <returns type="String" />
FeatureSet.prototype.getAttType = function (attKey) {
    var index;
    if (this.AttStruct == null) {
        return null;
    }
    if (typeof attKey == 'number') {
        index = attKey;
    } else {
        index = this.getAttIndexByAttName(attKey);
    }
    if (index == null) {
        return null;
    } else {
        return this.AttStruct.FldType[index];
    }
};

/// <summary>通过属性的名称获取属性的序号</summary>
/// <param name="name" type="String">属性名</param>
/// <returns type="Interger" />
FeatureSet.prototype.getAttIndexByAttName = function (name) {
    if (this.AttStruct == null) {
        return null;
    }
    if (this.AttStruct.FldName == null) {
        return null;
    }
    var length = this.AttStruct.FldName.length;
    for (var i = 0; i < length; i++) {
        if (this.AttStruct.FldName[i] == name) {
            return i;
        }
    }
    return null;
};

/// <summary>通过属性的序号获取属性名称</summary>
/// <param name="index" type="Interger">属性序号</param>
/// <returns type="String" />
FeatureSet.prototype.getAttNameByIndex = function (index) {
    if (this.AttStruct == null) {
        return null;
    }
    if (this.AttStruct.FldName == null) {
        return null;
    }
    if (this.AttStruct.FldName.length <= index) {
        return null;
    }
    return this.AttStruct.FldName[index];
};
exports.FeatureSet = FeatureSet;

_Base.Zondy.Object.FeatureSet = FeatureSet;

/***/ }),

/***/ "./service/common/GLine.js":
/*!*********************************!*\
  !*** ./service/common/GLine.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GLine = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _FeatureGraphicBase2 = __webpack_require__(/*! ./FeatureGraphicBase */ "./service/common/FeatureGraphicBase.js");

var _AnyLine = __webpack_require__(/*! ./AnyLine */ "./service/common/AnyLine.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*Zondy.Object.GLine
* 线要素几何图形信息对象
*/
var GLine = function (_FeatureGraphicBase) {
    (0, _inherits3.default)(GLine, _FeatureGraphicBase);

    /// <summary>线要素几何图形信息对象构造函数</summary>
    /// <param name="line" type="Zondy.Object.AnyLine">构造线要素的线几何对象</param>
    function GLine(line, opt_options) {
        (0, _classCallCheck3.default)(this, GLine);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (GLine.__proto__ || (0, _getPrototypeOf2.default)(GLine)).call(this, options));

        _this.Line = line !== undefined && line != null ? line : null;
        return _this;
    }
    /// <summary>设置线要素几何信息</summary>
    /// <param name="line" type="Zondy.Object.AnyLine">线几何对象</param>


    (0, _createClass3.default)(GLine, [{
        key: "setLine",
        value: function setLine(line) {
            this.Line = line !== undefined && line != null ? line : null;
        }
    }]);
    return GLine;
}(_FeatureGraphicBase2.FeatureGraphicBase);

;
exports.GLine = GLine;

_Base.Zondy.Object.GLine = GLine;

/***/ }),

/***/ "./service/common/GPoint.js":
/*!**********************************!*\
  !*** ./service/common/GPoint.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GPoint = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _FeatureGraphicBase2 = __webpack_require__(/*! ./FeatureGraphicBase */ "./service/common/FeatureGraphicBase.js");

var _Point2D = __webpack_require__(/*! ./Point2D */ "./service/common/Point2D.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*Zondy.Object.GPoint
* 点要素几何图形对象
*/
var GPoint = function (_FeatureGraphicBase) {
    (0, _inherits3.default)(GPoint, _FeatureGraphicBase);

    /// <summary>点要素几何图形信息对象构造函数</summary>
    /// <param name="x" type="Float">x坐标</param>
    /// <param name="y" type="Float">y坐标</param>
    function GPoint(x, y, opt_options) {
        (0, _classCallCheck3.default)(this, GPoint);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (GPoint.__proto__ || (0, _getPrototypeOf2.default)(GPoint)).call(this, options));

        if (x !== undefined && x != null && y !== undefined && y != null) {
            /// <summary>点几何对象</summary>
            /// <param name="Dot" type="Zondy.Object.Point2D">几何类型</param>
            _this.Dot = new _Point2D.Point2D(x, y);
        }
        return _this;
    }
    /// <summary>设置点要素几何信息</summary>
    /// <param name="pnt" type="Zondy.Object.Point2D">点几何对象</param>


    (0, _createClass3.default)(GPoint, [{
        key: "setDot",
        value: function setDot(pnt) {
            this.Dot = pnt !== undefined && pnt != null ? pnt : null;
        }
    }]);
    return GPoint;
}(_FeatureGraphicBase2.FeatureGraphicBase);

;
exports.GPoint = GPoint;

_Base.Zondy.Object.GPoint = GPoint;

/***/ }),

/***/ "./service/common/GRegion.js":
/*!***********************************!*\
  !*** ./service/common/GRegion.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GRegion = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _FeatureGraphicBase2 = __webpack_require__(/*! ./FeatureGraphicBase */ "./service/common/FeatureGraphicBase.js");

var _AnyLine = __webpack_require__(/*! ./AnyLine */ "./service/common/AnyLine.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*Zondy.Object.GLine
* 线要素几何图形信息对象
*/
var GRegion = function (_FeatureGraphicBase) {
    (0, _inherits3.default)(GRegion, _FeatureGraphicBase);

    /// <summary>区要素几何图形信息对象构造函数</summary>
    /// <param name="rings" type="Array,Zondy.Object.AnyLine in an Array">一组线几何对象</param>
    function GRegion(rings, opt_options) {
        (0, _classCallCheck3.default)(this, GRegion);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (GRegion.__proto__ || (0, _getPrototypeOf2.default)(GRegion)).call(this, options));

        _this.Rings = rings !== undefined && rings != null && Array.isArray(rings) ? rings : null;
        return _this;
    }
    /// <summary>设置区要素几何信息</summary>
    /// <param name="rings" type="Zondy.Object.AnyLine in an Array">一组线几何对象</param>


    (0, _createClass3.default)(GRegion, [{
        key: "setRings",
        value: function setRings(rings) {
            this.Rings = rings !== undefined && rings != null ? rings : null;
        }
    }]);
    return GRegion;
}(_FeatureGraphicBase2.FeatureGraphicBase);

;
exports.GRegion = GRegion;

_Base.Zondy.Object.GRegion = GRegion;

/***/ }),

/***/ "./service/common/LabelLinInfo.js":
/*!****************************************!*\
  !*** ./service/common/LabelLinInfo.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LabelLinInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.LabelLinInfo------------------------------------------------------------------------------------------------
* 线要素动态注记方位属性对象
*/

/// <summary>线要素动态注记方位属性对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var LabelLinInfo = function LabelLinInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);

    /// <summary> 不完全注记</summary>
    this.ClientOutLabel = options.ClientOutLabel !== undefined && options.ClientOutLabel != null ? options.ClientOutLabel : false;

    /// <summary>偏离线约束 偏移线的距离</summary>
    this.DistFromLine = options.DistFromLine !== undefined && options.DistFromLine != null ? options.DistFromLine : 0.00;

    /// <summary>Zondy.Enum.LineConstrain,枚举类型,偏离线约束</summary>
    this.FromLineConstrain = options.FromLineConstrain !== undefined && options.FromLineConstrain != null ? options.FromLineConstrain : 0;

    /// <summary>线重复注记 每段的长度</summary>
    this.Interval = options.Interval !== undefined && options.Interval != null ? options.Interval : 0.00;

    /// <summary>Zondy.Enum.LabelLinType,枚举类型, 线方位</summary>
    this.LinType = options.LinType !== undefined && options.LinType != null ? options.LinType : 0;

    /// <summary>Zondy.Enum.RepeatType,枚举类型,线重复注记策略</summary>
    this.Repeat = options.Repeat !== undefined && options.Repeat != null ? options.Repeat : 0;

    /// <summary>Zondy.Enum.LabelSpreadType,枚举类型,注记分布的策略</summary>
    this.SpreadType = options.SpreadType !== undefined && options.SpreadType != null ? options.SpreadType : null;
};
exports.LabelLinInfo = LabelLinInfo;

_Base.Zondy.Object.LabelLinInfo = LabelLinInfo;

/***/ }),

/***/ "./service/common/LabelRegInfo.js":
/*!****************************************!*\
  !*** ./service/common/LabelRegInfo.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LabelRegInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

var LabelRegInfo = function LabelRegInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>不完全注记</summary>
    this.ClientOutLabel = options.ClientOutLabel !== undefined && options.ClientOutLabel != null ? options.ClientOutLabel : false;

    /// <summary>是否尝试水平注记微小区 short</summary>
    this.LabelMiniRegion = options.LabelMiniRegion !== undefined && options.LabelMiniRegion != null ? options.LabelMiniRegion : 0;

    /// <summary>自适应策略 区内不能注记时，是否可以注记在外部 short</summary>
    this.MayPlaceOutside = options.MayPlaceOutside !== undefined && options.MayPlaceOutside != null ? options.MayPlaceOutside : 0;

    /// <summary>微小区最大面积 short</summary>
    this.MiniRegionArea = options.MiniRegionArea !== undefined && options.MiniRegionArea != null ? options.MiniRegionArea : 0;

    /// <summary>区域外注记时，注记偏移的距离</summary>
    this.Offset = options.Offset !== undefined && options.Offset != null ? options.Offset : 0.00;

    /// <summary>区方位，Zondy.Enum.LabelRegType,枚举类型</summary>
    this.RegType = options.RegType !== undefined && options.RegType != null ? options.RegType : 0;
}; /*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.LabelRegInfo----------------------------------------------------------------------------------------------------
* 区要素动态注记方位属性对象
*/
/// <summary>区要素动态注记方位属性对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>

exports.LabelRegInfo = LabelRegInfo;

_Base.Zondy.Object.LabelRegInfo = LabelRegInfo;

/***/ }),

/***/ "./service/common/LablePntInfo.js":
/*!****************************************!*\
  !*** ./service/common/LablePntInfo.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LablePntInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.LablePntInfo----------------------------------------------------------------------------------------------------
* 点要素动态注记方位属性对象
*/

/// <summary>点要素动态注记方位属性对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var LablePntInfo = function LablePntInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);

    /// <summary>点任意方位的角度值，Array,Double in an Array</summary>
    this.Ang = options.Ang !== undefined && options.Ang != null ? options.Ang : null;

    /// <summary>不完全注记</summary>
    this.ClientOutLabel = options.ClientOutLabel !== undefined && options.ClientOutLabel != null ? options.ClientOutLabel : false;

    /// <summary>偏移距离，单位为像素</summary>
    this.Distance = options.Distance !== undefined && options.Distance != null ? options.Distance : 0.00;

    /// <summary>点八方位注记类型，Array,Zondy.Enum.EightDirType in an Array</summary>
    this.EightDirLableType = options.EightDirLableType !== undefined && options.EightDirLableType != null ? options.EightDirLableType : null;

    /// <summary>Zondy.Enum.LabelPntType 枚举类型, 点方位</summary>
    this.PntType = options.PntType !== undefined && options.PntType != null ? options.PntType : 0;
};
exports.LablePntInfo = LablePntInfo;

_Base.Zondy.Object.LablePntInfo = LablePntInfo;

/***/ }),

/***/ "./service/common/MultiPolygon.js":
/*!****************************************!*\
  !*** ./service/common/MultiPolygon.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MultiPolygon = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Tangram2 = __webpack_require__(/*! ./Tangram */ "./service/common/Tangram.js");

var _Point2D = __webpack_require__(/*! ./Point2D */ "./service/common/Point2D.js");

var _Polygon = __webpack_require__(/*! ./Polygon */ "./service/common/Polygon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
/*Zondy.Object.MultiPolygon
* 多多边形几何对象
*/
var MultiPolygon = function (_Tangram) {
    (0, _inherits3.default)(MultiPolygon, _Tangram);

    /// <summary>多多边形几何对象构造函数</summary>
    /// <param name="polygonArr" type="Zondy.Object.Polygon in an Array">
    /// 多边形数组
    /// </param>
    function MultiPolygon(polygonArr, opt_options) {
        (0, _classCallCheck3.default)(this, MultiPolygon);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (MultiPolygon.__proto__ || (0, _getPrototypeOf2.default)(MultiPolygon)).call(this, options));

        _this.polygonArr = polygonArr !== undefined && polygonArr != null && Array.isArray(polygonArr) ? polygonArr : new Array();
        return _this;
    }
    /// <summary> 
    /// 通过传入Openlayers的ol.geom.Polygon类型来设置参数
    /// </summary>
    /// <param name="openlayersPoly" type="ol.geom.Polygon">由Openlayers定义的多边形</param>


    (0, _createClass3.default)(MultiPolygon, [{
        key: "setByOL",
        value: function setByOL(openlayersPoly) {
            if (openlayersPoly !== undefined && openlayersPoly != null) {
                this.polygonArr = [];

                var polygonLen = openlayersPoly.getLinearRingCount();
                var lineRingArr = openlayersPoly.getLinearRings();
                for (var i = 0; i < polygonLen; i++) {
                    var pointArr = lineRingArr[i].getCoordinates();
                    var len = pointArr.length;
                    var polygonPoints = [];
                    for (var j = 0; j < len; j++) {
                        polygonPoints[j] = new _Point2D.Point2D(pointArr[j][0], pointArr[j][1]);
                    }
                    this.polygonArr[i] = new _Polygon.Polygon(polygonPoints);
                }
            }
        }

        /// <summary>
        /// 返回一个字符串来表示该多边形
        /// </summary>

    }, {
        key: "toString",
        value: function toString() {
            if (this.polygonArr === undefined || this.polygonArr == null || this.polygonArr.length == 0) return "";
            var str = "";
            for (var i = 0; i < this.polygonArr.length; i++) {
                str += this.polygonArr[i].toString() + ";";
            }
            return str.substring(0, str.length - 1);
        }

        /// <summary>
        /// 获取几何类型名称
        /// </summary>

    }, {
        key: "getGeometryType",
        value: function getGeometryType() {
            return "multiPolygon";
        }
    }]);
    return MultiPolygon;
}(_Tangram2.Tangram);

;

exports.MultiPolygon = MultiPolygon;

Zondy.Object.MultiPolygon = MultiPolygon;

/***/ }),

/***/ "./service/common/Point2D.js":
/*!***********************************!*\
  !*** ./service/common/Point2D.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Point2D = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Tangram2 = __webpack_require__(/*! ./Tangram */ "./service/common/Tangram.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Point2D = function (_Tangram) {
    (0, _inherits3.default)(Point2D, _Tangram);

    function Point2D(x, y, opt_options) {
        (0, _classCallCheck3.default)(this, Point2D);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (Point2D.__proto__ || (0, _getPrototypeOf2.default)(Point2D)).call(this, options));

        _this.x = x !== undefined ? x : null;
        _this.y = y !== undefined ? y : null;
        /// <summary>容差半径 double</summary>(**只在做点查询时需赋值**)
        _this.nearDis = options.nearDis !== undefined ? parseFloat(options.nearDis) : null;
        _this.CLASS_NAME = "Zondy.Object.Point2D";
        return _this;
    }
    /// <summary>
    /// 获取几何类型名称
    /// </summary>


    (0, _createClass3.default)(Point2D, [{
        key: "getGeometryType",
        value: function getGeometryType() {
            return "point";
        }

        /// <summary>
        ///通过传入Openlayers的ol.geom.Point类型来设置参数
        ///</summary>
        /// <param name="point" type="ol.geom.Point">Openlayers定义的点类型</param>

    }, {
        key: "setByOL",
        value: function setByOL(point) {
            if (point !== undefined) {
                var cordinate = point.getCoordinates();
                this.x = cordinate[0];
                this.y = cordinate[1];
            }
        }

        /// <summary>
        /// 对象转化为字符串
        /// </summary>

    }, {
        key: "toString",
        value: function toString() {
            /// <summary>返回一个以字符串形式表示的点</summary>
            if (this.x == null || this.y == null) return "";
            var str = this.x + ',' + this.y;
            if (this.nearDis !== undefined) {
                str += ";" + this.nearDis;
            }
            return str;
        }
    }]);
    return Point2D;
}(_Tangram2.Tangram);

;
exports.Point2D = Point2D;

Zondy.Object.Point2D = Point2D;

/***/ }),

/***/ "./service/common/PolyLine.js":
/*!************************************!*\
  !*** ./service/common/PolyLine.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.PolyLine = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Tangram2 = __webpack_require__(/*! ./Tangram */ "./service/common/Tangram.js");

var _Point2D = __webpack_require__(/*! ./Point2D */ "./service/common/Point2D.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*Zondy.Object.PolyLine
* 线几何对象
*/
var PolyLine = function (_Tangram) {
    (0, _inherits3.default)(PolyLine, _Tangram);

    /// <summary>线几何对象构造函数</summary>
    /// <param name="pointArr" type="Array,Zondy.Object.Point2D in an Array">
    /// 一组点几何对象
    /// </param>
    function PolyLine(pointArr, opt_options) {
        (0, _classCallCheck3.default)(this, PolyLine);

        var options = opt_options ? opt_options : {};

        /// <summary>线搜素半径 double</summary>(**只在做线查询时需赋值**)
        var _this = (0, _possibleConstructorReturn3.default)(this, (PolyLine.__proto__ || (0, _getPrototypeOf2.default)(PolyLine)).call(this, options));

        _this.nearDis = options.nearDis !== undefined && options.nearDis != null ? parseFloat(options.nearDis) : null;
        _this.pointArr = pointArr !== undefined && pointArr != null && Array.isArray(pointArr) ? pointArr : new Array();
        return _this;
    }
    /// <summary> 通过传入Openlayers的ol.geom.LineString类型来设置参数</summary>
    /// <param name="openlayersLine" type="ol.geom.LineString">由Openlayers定义的折线对象</param>


    (0, _createClass3.default)(PolyLine, [{
        key: "setByOL",
        value: function setByOL(openlayersLine) {
            if (openlayersLine !== undefined && openlayersLine != null) {
                var dotArr = openlayersLine.getCoordinates();
                var len = dotArr.length;
                for (var i = 0; i < len; i++) {
                    this.pointArr[i] = new _Point2D.Point2D(dotArr[i][0], dotArr[i][1]);
                }
            }
        }

        /// <summary>
        /// 返回一个字符串来表示该折线
        /// </summary>

    }, {
        key: "toString",
        value: function toString() {
            if (this.pointArr == null || this.pointArr.length == 0) return "";
            var str = this.pointArr[0].x + ',' + this.pointArr[0].y;
            for (var i = 1; i < this.pointArr.length; i++) {
                str += "," + this.pointArr[i].x + ',' + this.pointArr[i].y;
            }
            if (this.nearDis !== undefined && this.nearDis != null) {

                str += ";" + this.nearDis;
            } else {
                str = str.substring(0, str.length - 1);
            }
            return this.Trim(str, "g");
        }

        /// <summary>
        /// 获取几何类型名称
        /// </summary>

    }, {
        key: "getGeometryType",
        value: function getGeometryType() {
            return "line";
        }
    }]);
    return PolyLine;
}(_Tangram2.Tangram);

;
exports.PolyLine = PolyLine;

Zondy.Object.PolyLine = PolyLine;

/***/ }),

/***/ "./service/common/Polygon.js":
/*!***********************************!*\
  !*** ./service/common/Polygon.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Polygon = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Tangram2 = __webpack_require__(/*! ./Tangram */ "./service/common/Tangram.js");

var _Point2D = __webpack_require__(/*! ./Point2D */ "./service/common/Point2D.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*Zondy.Object.Polygon
* 多边形几何对象
*/
var Polygon = function (_Tangram) {
    (0, _inherits3.default)(Polygon, _Tangram);

    /// <summary>多边形几何对象构造函数</summary>
    /// <param name="pointArr" type="Array,Zondy.Object.Point2D in an Array">一组点类型</param>
    function Polygon(pointArr, opt_options) {
        (0, _classCallCheck3.default)(this, Polygon);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (Polygon.__proto__ || (0, _getPrototypeOf2.default)(Polygon)).call(this, options));

        _this.pointArr = pointArr !== undefined && pointArr != null && Array.isArray(pointArr) ? pointArr : new Array();
        return _this;
    }
    /// <summary> 通过传入Openlayers的ol.geom.Polygon类型来设置参数</summary>
    /// <param name="openlayersPoly" type="ol.geom.Polygon">由Openlayers定义的多边形</param>


    (0, _createClass3.default)(Polygon, [{
        key: "setByOL",
        value: function setByOL(openlayersPoly) {
            if (openlayersPoly !== undefined && openlayersPoly != null) {
                var linering = openlayersPoly.getLinearRing(0);
                var pointArr = linering.getCoordinates();
                var len = pointArr.length;
                for (var i = 0; i < len; i++) {
                    this.pointArr[i] = new _Point2D.Point2D(pointArr[i][0], pointArr[i][1]);
                }
            }
        }

        /// <summary>
        ///返回一个字符串来表示该多边形
        ///</summary>

    }, {
        key: "toString",
        value: function toString() {
            if (this.pointArr == null || this.pointArr.length == 0) {
                return "";
            }
            var str = "";
            for (var i = 0; i < this.pointArr.length; i++) {
                str += this.pointArr[i].x + ',' + this.pointArr[i].y + ',';
            }
            return str.substring(0, str.length - 1);
        }

        /// <summary>
        ///获取几何类型名称
        ///</summary>

    }, {
        key: "getGeometryType",
        value: function getGeometryType() {
            return "polygon";
        }
    }]);
    return Polygon;
}(_Tangram2.Tangram);

;
exports.Polygon = Polygon;

Zondy.Object.Polygon = Polygon;

/***/ }),

/***/ "./service/common/Rectangle.js":
/*!*************************************!*\
  !*** ./service/common/Rectangle.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Rectangle = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Tangram2 = __webpack_require__(/*! ./Tangram */ "./service/common/Tangram.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Rectangle = function (_Tangram) {
    (0, _inherits3.default)(Rectangle, _Tangram);

    /// <summary>矩形几何对象构造函数</summary>
    /// <param name="m_arguments" type="String">矩形坐标（"xmin,ymin,xmax,ymax"）</param>
    /// <param name="opt_options" type="Object">属性键值对</param>
    function Rectangle(xmin, ymin, xmax, ymax, opt_options) {
        (0, _classCallCheck3.default)(this, Rectangle);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (Rectangle.__proto__ || (0, _getPrototypeOf2.default)(Rectangle)).call(this, options));

        _this.xmin = xmin;
        _this.xmax = xmax;
        _this.ymin = ymin;
        _this.ymax = ymax;
        return _this;
    }
    /// <summary>
    /// 使用一个由Openlayers定义的矩形来构造本对象
    /// </summary>
    /// <param name="openlayersRect" type="ol.extent">
    /// 由OpenLayers定义的矩形对象
    /// </param>


    (0, _createClass3.default)(Rectangle, [{
        key: "setByOL",
        value: function setByOL(openlayersRect) {
            if (openlayersRect === undefined || openlayersRect == null) {
                return;
            }
            this.xmin = openlayersRect[0];
            this.ymin = openlayersRect[1];
            this.xmax = openlayersRect[2];
            this.ymax = openlayersRect[3];
        }

        /// <summary>
        /// 返回一个字符串来表示此矩形
        /// </summary>

    }, {
        key: "toString",
        value: function toString() {
            return "" + this.xmin + ',' + this.ymin + ',' + this.xmax + ',' + this.ymax;
        }

        /// <summary>
        /// 获取几何类型名称
        /// </summary>

    }, {
        key: "getGeometryType",
        value: function getGeometryType() {
            return "rect";
        }

        /// <summary>
        /// 将本对象转换为一个OpenLayers.Bound对象
        /// </summary>
        /// <returns type="ol.extent" />

    }, {
        key: "convertToBound",
        value: function convertToBound() {
            var bounds = [this.xmin, this.ymin, this.xmax, this.ymax];
            return bounds;
        }
    }, {
        key: "intersectsBounds",
        value: function intersectsBounds(bounds, options) {
            if (typeof options === "boolean") {
                options = { inclusive: options };
            }
            options = options || {};
            if (options.inclusive == null) {
                options.inclusive = true;
            }
            var self = this;
            var intersects = false;
            var mightTouch = self.xmin === bounds.xmax || self.xmax === bounds.xmin || self.ymax === bounds.ymin || self.ymin === bounds.ymax;

            // if the two bounds only touch at an edge, and inclusive is false,
            // then the bounds don't *really* intersect.
            if (options.inclusive || !mightTouch) {
                // otherwise, if one of the boundaries even partially contains another,
                // inclusive of the edges, then they do intersect.
                var inBottom = bounds.ymin >= self.ymin && bounds.ymin <= self.ymax || self.ymin >= bounds.ymin && self.ymin <= bounds.ymax;
                var inTop = bounds.ymax >= self.ymin && bounds.ymax <= self.ymax || self.ymax > bounds.ymin && self.ymax < bounds.ymax;
                var inLeft = bounds.xmin >= self.xmin && bounds.xmin <= self.xmax || self.xmin >= bounds.xmin && self.xmin <= bounds.xmax;
                var inRight = bounds.xmax >= self.xmin && bounds.xmax <= self.xmax || self.xmax >= bounds.xmin && self.xmax <= bounds.xmax;
                intersects = (inBottom || inTop) && (inLeft || inRight);
            }
            return intersects;
        }
    }]);
    return Rectangle;
}(_Tangram2.Tangram);

;
exports.Rectangle = Rectangle;

Zondy.Object.Rectangle = Rectangle;

/***/ }),

/***/ "./service/common/Tangram.js":
/*!***********************************!*\
  !*** ./service/common/Tangram.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Tangram = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary> 几何对象基类构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var Tangram = function () {
    function Tangram(opt_options) {
        (0, _classCallCheck3.default)(this, Tangram);

        var options = opt_options ? opt_options : {};
        (0, _Util.extend)(this, options);
    }
    /// <summary> 
    /// 实现将openlayers的geomerty转换为zondy的几何类型
    /// 此方法由子类实现
    /// </summary>


    (0, _createClass3.default)(Tangram, [{
        key: "setByOL",
        value: function setByOL(openlayersObj) {
            return null;
        }

        /// <summary>
        /// 对象转化为字符串
        /// </summary>

    }, {
        key: "toString",
        value: function toString() {
            return "";
        }

        /// <summary>
        /// 获取几何类型名称,由子类实现
        /// </summary>

    }, {
        key: "getGeometryType",
        value: function getGeometryType() {
            return;
        }

        /// <summary>
        /// 1.去除字符串前后所有空格
        /// 2.去除字符串中所有空格(包括中间空格,需要设置第2个参数为:g) 
        /// </summary>

    }, {
        key: "Trim",
        value: function Trim(str, is_global) {
            var result;
            result = str.replace(/(^\s+)|(\s+$)/g, "");
            if (is_global.toLowerCase() == "g") {
                result = result.replace(/\s/g, "");
            }
            return result;
        }
    }]);
    return Tangram;
}();

;

exports.Tangram = Tangram;

_Base.Zondy.Object.Tangram = Tangram;

/***/ }),

/***/ "./service/common/Util.js":
/*!********************************!*\
  !*** ./service/common/Util.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createCanvasContext2D = exports.mixin = exports.merge = exports.DeepMerge = exports.ChineseToUtf8 = exports.getTopAnalysisResult = exports.bindAsEventListener = exports.bind = exports.newGuid = exports.cloneObject = exports.copyAttributesWithClip = exports.copyAttributes = exports.transformResult = exports.toJSON = exports.isInTheSameDomain = exports.supportCanvas = exports.isSupportCanvas = exports.getBrowser = exports.Browser = exports.IS_GECKO = exports.getParameters = exports.urlAppend = exports.getWFParameterString = exports.getParameterString = exports.applyDefaults = exports.modifyDOMElement = exports.indexOf = exports.removeItem = exports.isElement = exports.getElement = exports.reset = exports.copyExcluce = exports.copy = exports.extendDeep = exports.isArray = exports.extend = undefined;

var _defineProperty = __webpack_require__(/*! babel-runtime/core-js/object/define-property */ "./node_modules/babel-runtime/core-js/object/define-property.js");

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _getOwnPropertyDescriptor = __webpack_require__(/*! babel-runtime/core-js/object/get-own-property-descriptor */ "./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js");

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getOwnPropertySymbols = __webpack_require__(/*! babel-runtime/core-js/object/get-own-property-symbols */ "./node_modules/babel-runtime/core-js/object/get-own-property-symbols.js");

var _getOwnPropertySymbols2 = _interopRequireDefault(_getOwnPropertySymbols);

var _getOwnPropertyNames = __webpack_require__(/*! babel-runtime/core-js/object/get-own-property-names */ "./node_modules/babel-runtime/core-js/object/get-own-property-names.js");

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var extend = function extend(destination, source) {
    destination = destination || {};
    if (source) {
        for (var property in source) {
            var value = source[property];
            if (value !== undefined) {
                destination[property] = value;
            }
        }

        /**
         * IE doesn't include the toString property when iterating over an object's
         * properties with the for(property in object) syntax.  Explicitly check if
         * the source has its own toString property.
         */

        /*
         * FF/Windows < 2.0.0.13 reports "Illegal operation on WrappedNative
         * prototype object" when calling hawOwnProperty if the source object
         * is an instance of window.Event.
         */

        var sourceIsEvt = typeof window.Event === "function" && source instanceof window.Event;

        if (!sourceIsEvt && source.hasOwnProperty && source.hasOwnProperty("toString")) {
            destination.toString = source.toString;
        }
    }
    return destination;
};
/**
 * @description 判断一个对象是否是数组。
 * @param a - {Object} 对象。
 * @return {boolean} 是否是数组。
 */
var isArray = function isArray(a) {
    return Object.prototype.toString.call(a) === '[object Array]';
};
var extendDeep = function extendDeep(destination, source) {
    var i,
        toStr = Object.prototype.toString,
        astr = "[object Array]";
    destination = destination || {};
    for (i in source) {
        if (source.hasOwnProperty(i)) {
            if ((0, _typeof3.default)(source[i]) === "object") {
                if (toStr.call(destination[i]) === '[object Null]' || toStr.call(destination[i]) === '[object Undefined]') {
                    destination[i] = toStr.call(source[i]) === astr ? [] : {};
                }
                extendDeep(destination[i], source[i]);
            } else {
                destination[i] = source[i];
            }
        }
    }
    return destination;
};
/**
 * @description 对象拷贝。
 * @param des - {Object} 目标对象。
 * @param soc - {Object} 源对象
 */
var copy = function copy(des, soc) {
    des = des || {};
    var v;
    if (soc) {
        for (var p in des) {
            v = soc[p];
            if (typeof v !== 'undefined') {
                des[p] = v;
            }
        }
    }
};

/**
* @description 对象拷贝。
* @param des - {Object} 目标对象。
* @param soc - {Object} 源对象
*/
var copyExcluce = function copyExcluce(des, soc, exclude) {
    des = des || {};
    var v;
    if (soc) {
        for (var p in soc) {
            v = soc[p];
            if (typeof v !== 'undefined' && typeof v !== 'function') {
                if (exclude.indexOf(p) < 0) {
                    des[p] = v;
                }
            }
        }
    }
};
/**
 * @description 销毁对象，将其属性置空
 * @param obj - {Object} 目标对象。
 */
var reset = function reset(obj) {
    obj = obj || {};
    for (var p in obj) {
        if (obj.hasOwnProperty(p)) {
            if ((0, _typeof3.default)(obj[p]) === "object" && obj[p] instanceof Array) {
                for (var i in obj[p]) {
                    if (obj[p][i].destroy) {
                        obj[p][i].destroy();
                    }
                }
                obj[p].length = 0;
            } else if ((0, _typeof3.default)(obj[p]) === "object" && obj[p] instanceof Object) {
                if (obj[p].destroy) {
                    obj[p].destroy();
                }
            }
            obj[p] = null;
        }
    }
};

/**
 * @description 获取HTML元素数组。
 * @param argument - {String | HTMLElement | Window}
 * @return {Array<HTMLElement>} HTML元素数组。
 */
var getElement = function getElement() {
    var elements = [];

    for (var i = 0, len = arguments.length; i < len; i++) {
        var element = arguments[i];
        if (typeof element === 'string') {
            element = document.getElementById(element);
        }
        if (arguments.length === 1) {
            return element;
        }
        elements.push(element);
    }
    return elements;
};

/**
 * @description instance of的跨浏览器实现。
 * @param o - {Object} 对象。
 * @return {boolean} 是否是页面元素
 */
var isElement = function isElement(o) {
    return !!(o && o.nodeType === 1);
};

/**
 * @description 从数组中删除某一项。
 * @param array - {Array} 数组。
 * @param item - {Object} 数组中要删除的一项。
 * @return {Array} 执行删除操作后的数组。
 */
var removeItem = function removeItem(array, item) {
    for (var i = array.length - 1; i >= 0; i--) {
        if (array[i] === item) {
            array.splice(i, 1);
            //break;more than once??
        }
    }
    return array;
};

/**
 * @description 获取某对象再数组中的索引值。
 * @param array - {Array} 数组。
 * @param obj - {Object} 对象。
 * @return {number} 某对象再数组中的索引值。
 */
var indexOf = function indexOf(array, obj) {
    if (array == null) {
        return -1;
    } else {
        // use the build-in function if available.
        if (typeof array.indexOf === "function") {
            return array.indexOf(obj);
        } else {
            for (var i = 0, len = array.length; i < len; i++) {
                if (array[i] === obj) {
                    return i;
                }
            }
            return -1;
        }
    }
};

/**
 * @description 修改某DOM元素的许多属性。
 * @param element - {HTMLElement} 待修改的DOM元素。
 * @param id - {string} DOM元素的id。
 * @param px - {Pixel} 包含DOM元素的style属性的left和top属性。
 * @param sz - {Size} 包含DOM元素的width和height属性。
 * @param position - {string} DOM元素的position属性。
 * @param border - {string} DOM元素的style属性的border属性。
 * @param overflow - {string} DOM元素的style属性的overflow属性。
 * @param opacity - {number} 不透明度值。取值范围为 (0.0 - 1.0)。
 */
var modifyDOMElement = function modifyDOMElement(element, id, px, sz, position, border, overflow, opacity) {

    if (id) {
        element.id = id;
    }
    if (px) {
        element.style.left = px.x + "px";
        element.style.top = px.y + "px";
    }
    if (sz) {
        element.style.width = sz.w + "px";
        element.style.height = sz.h + "px";
    }
    if (position) {
        element.style.position = position;
    }
    if (border) {
        element.style.border = border;
    }
    if (overflow) {
        element.style.overflow = overflow;
    }
    if (parseFloat(opacity) >= 0.0 && parseFloat(opacity) < 1.0) {
        element.style.filter = 'alpha(opacity=' + opacity * 100 + ')';
        element.style.opacity = opacity;
    } else if (parseFloat(opacity) === 1.0) {
        element.style.filter = '';
        element.style.opacity = '';
    }
};

/**
 * @description Takes an object and copies any properties that don't exist from
 *     another properties
 *
 * @param to -{Object} The destination object.
 * @param from -{Object} The source object.  Any properties of this object that
 *     are undefined in the to object will be set on the to object.
 *
 * @return {Object} A reference to the to object.  Note that the to argument is modified
 *     in place and returned by this function.
 */
var applyDefaults = function applyDefaults(to, from) {
    to = to || {};
    /*
     * FF/Windows < 2.0.0.13 reports "Illegal operation on WrappedNative
     * prototype object" when calling hawOwnProperty if the source object is an
     * instance of window.Event.
     */
    var fromIsEvt = typeof window.Event === "function" && from instanceof window.Event;

    for (var key in from) {
        if (to[key] === undefined || !fromIsEvt && from.hasOwnProperty && from.hasOwnProperty(key) && !to.hasOwnProperty(key)) {
            to[key] = from[key];
        }
    }
    /**
     * IE doesn't include the toString property when iterating over an object's
     * properties with the for(property in object) syntax.  Explicitly check if
     * the source has its own toString property.
     */
    if (!fromIsEvt && from && from.hasOwnProperty && from.hasOwnProperty('toString') && !to.hasOwnProperty('toString')) {
        to.toString = from.toString;
    }

    return to;
};

/**
 * @param params - {Object} 参数对象。
 * @return {string} HTTP的GEI请求中的参数字符串。
 * @description 将参数对象转换为HTTP的GEI请求中的参数字符串。例如："key1=value1&key2=value2&key3=value3"。
 */
var getParameterString = function getParameterString(params) {
    var paramsArray = [];

    for (var key in params) {
        var value = params[key];
        if (value != null && typeof value !== 'function') {
            var encodedValue;
            if ((typeof value === "undefined" ? "undefined" : (0, _typeof3.default)(value)) === 'object' && value.constructor === Array) {
                /* value is an array; encode items and separate with "," */
                var encodedItemArray = [];
                var item;
                for (var itemIndex = 0, len = value.length; itemIndex < len; itemIndex++) {
                    item = value[itemIndex];
                    encodedItemArray.push(encodeURIComponent(item === null || item === undefined ? "" : item));
                }
                encodedValue = encodedItemArray.join(",");
            } else {
                /* value is a string; simply encode */
                encodedValue = encodeURIComponent(value);
            }
            paramsArray.push(encodeURIComponent(key) + "=" + encodedValue);
        }
    }

    return paramsArray.join("&");
};

//获取工作流参数字符串
var getWFParameterString = function getWFParameterString(params) {
    var paramsArray = [];

    for (var key in params) {
        var value = params[key];
        if (value != null && typeof value !== 'function') {
            var encodedValue;
            if ((typeof value === "undefined" ? "undefined" : (0, _typeof3.default)(value)) === 'object' && value.constructor === Array) {
                /* value is an array; encode items and separate with "," */
                var encodedItemArray = [];
                var item;
                for (var itemIndex = 0, len = value.length; itemIndex < len; itemIndex++) {
                    item = value[itemIndex];
                    encodedItemArray.push(encodeURIComponent(item === null || item === undefined ? "" : item));
                }
                encodedValue = encodedItemArray.join(",");
            } else {
                /* value is a string; simply encode */
                encodedValue = encodeURIComponent(value);
            }
            paramsArray.push(encodeURIComponent(key) + ":" + encodedValue);
        }
    }

    return paramsArray.join(";");
};

/**
 * @description 给url追加参数。
 * @param url - {string} 待追加参数的url字符串。
 * @param paramStr - {string} 待追加的参数。
 * @return {string} The new url
 */
var urlAppend = function urlAppend(url, paramStr) {
    var newUrl = url;
    if (paramStr) {
        var parts = (url + " ").split(/[?&]/);
        newUrl += parts.pop() === " " ? paramStr : parts.length ? "&" + paramStr : "?" + paramStr;
    }
    return newUrl;
};

/**
 * @description 从URL字符串中解析出参数对象。
 * @param url - {string} url。
 * @return {Object} 解析出的参数对象。
 */
var getParameters = function getParameters(url) {
    // if no url specified, take it from the location bar
    url = url === null || url === undefined ? window.location.href : url;

    //parse out parameters portion of url string
    var paramsString = "";
    if (url.indexOf('?') > -1) {
        var start = url.indexOf('?') + 1;
        url.indexOf("#") > -1;
        var end = url.indexOf("#") > -1 ? url.indexOf('#') : url.length;
        paramsString = url.substring(start, end);
    }

    var parameters = {};
    var pairs = paramsString.split(/[&;]/);
    for (var i = 0, len = pairs.length; i < len; ++i) {
        var keyValue = pairs[i].split('=');
        if (keyValue[0]) {

            var key = keyValue[0];
            try {
                key = decodeURIComponent(key);
            } catch (err) {
                key = unescape(key);
            }

            // being liberal by replacing "+" with " "
            var value = (keyValue[1] || '').replace(/\+/g, " ");

            try {
                value = decodeURIComponent(value);
            } catch (err) {
                value = unescape(value);
            }

            // follow OGC convention of comma delimited values
            value = value.split(",");

            //if there's only one value, do not return as array                    
            if (value.length == 1) {
                value = value[0];
            }

            parameters[key] = value;
        }
    }
    return parameters;
};
/**
 * @description 如果userAgent捕获到浏览器使用的是Gecko引擎则返回true。
 * @constant
 */
var IS_GECKO = function () {
    var ua = navigator.userAgent.toLowerCase();
    return ua.indexOf("webkit") === -1 && ua.indexOf("gecko") !== -1;
}();

/**
 * @description 浏览器名称，依赖于userAgent属性，BROWSER_NAME可以是空，或者以下浏览器：
 *     * "opera" -- Opera
 *     * "msie"  -- Internet Explorer
 *     * "safari" -- Safari
 *     * "firefox" -- Firefox
 *     * "mozilla" -- Mozilla
 * @constant
 */
var Browser = function () {
    var name = '',
        version = '',
        device = 'pc',
        uaMatch;
    //以下进行测试
    var ua = navigator.userAgent.toLowerCase();
    if (ua.indexOf("msie") > -1 || ua.indexOf("trident") > -1 && ua.indexOf("rv") > -1) {
        name = 'msie';
        uaMatch = ua.match(/msie ([\d.]+)/) || ua.match(/rv:([\d.]+)/);
    } else if (ua.indexOf("chrome") > -1) {
        name = 'chrome';
        uaMatch = ua.match(/chrome\/([\d.]+)/);
    } else if (ua.indexOf("firefox") > -1) {
        name = 'firefox';
        uaMatch = ua.match(/firefox\/([\d.]+)/);
    } else if (ua.indexOf("opera") > -1) {
        name = 'opera';
        uaMatch = ua.match(/version\/([\d.]+)/);
    } else if (ua.indexOf("safari") > -1) {
        name = 'safari';
        uaMatch = ua.match(/version\/([\d.]+)/);
    }
    version = uaMatch ? uaMatch[1] : '';

    if (ua.indexOf("ipad") > -1 || ua.indexOf("ipod") > -1 || ua.indexOf("iphone") > -1) {
        device = 'apple';
    } else if (ua.indexOf("android") > -1) {
        uaMatch = ua.match(/version\/([\d.]+)/);
        version = uaMatch ? uaMatch[1] : '';
        device = 'android';
    }
    return { name: name, version: version, device: device };
}();

/**
 * @description 获取浏览器相关信息。支持的浏览器包括：Opera，Internet Explorer，Safari，Firefox。
 * @return {Object} 获取浏览器名称、版本、设备名称。对应的属性分别为 name, version, device。
 */
var getBrowser = function getBrowser() {
    return Browser;
};

/**
 * @description 浏览器是否支持Canvas。
 * @return {boolean} 获取当前浏览器是否支持 HTML5 Canvas 。
 */
var isSupportCanvas = function () {
    var checkRes = true,
        broz = getBrowser();
    if (document.createElement("canvas").getContext) {
        if (broz.name === 'firefox' && parseFloat(broz.version) < 5) {
            checkRes = false;
        }
        if (broz.name === 'safari' && parseFloat(broz.version) < 4) {
            checkRes = false;
        }
        if (broz.name === 'opera' && parseFloat(broz.version) < 10) {
            checkRes = false;
        }
        if (broz.name === 'msie' && parseFloat(broz.version) < 9) {
            checkRes = false;
        }
    } else {
        checkRes = false;
    }
    return checkRes;
}();

/**
 * @description 判断；浏览器是否支持Canvas。
 * @return {boolean} 获取当前浏览器是否支持 HTML5 Canvas 。
 */
var supportCanvas = function supportCanvas() {
    return isSupportCanvas;
};

/**
 * @description 判断一个 URL 请求是否在当前域中。
 * @param url - {string}  URL 请求字符串。
 * @return {boolean} URL请求是否在当前域中。
 */
var isInTheSameDomain = function isInTheSameDomain(url) {
    if (!url) {
        return true;
    }
    var index = url.indexOf("//");
    var documentUrl = document.location.toString();
    var documentIndex = documentUrl.indexOf("//");
    if (index === -1) {
        return true;
    } else {
        var protocol;
        var substring = protocol = url.substring(0, index);
        var documentSubString = documentUrl.substring(documentIndex + 2);
        documentIndex = documentSubString.indexOf("/");
        var documentPortIndex = documentSubString.indexOf(":");
        var documentDomainWithPort = documentSubString.substring(0, documentIndex);
        //var documentPort;

        var documentprotocol = document.location.protocol;
        if (documentPortIndex !== -1) {
            // documentPort = +documentSubString.substring(documentPortIndex, documentIndex);
        } else {
            documentDomainWithPort += ':' + (documentprotocol.toLowerCase() === 'http:' ? 80 : 443);
        }
        if (documentprotocol.toLowerCase() !== substring.toLowerCase()) {
            return false;
        }
        substring = url.substring(index + 2);
        var portIndex = substring.indexOf(":");
        index = substring.indexOf("/");
        var domainWithPort = substring.substring(0, index);
        var domain;
        if (portIndex !== -1) {
            domain = substring.substring(0, portIndex);
        } else {
            domain = substring.substring(0, index);
            domainWithPort += ':' + (protocol.toLowerCase() === 'http:' ? 80 : 443);
        }
        var documentDomain = document.domain;
        if (domain === documentDomain && domainWithPort === documentDomainWithPort) {
            return true;
        }
    }
    return false;
};

/**
 * @description 将对象转换成 JSON 字符串。
 * @param obj - {Object} 要转换成 JSON 的 Object 对象。
 * @return {string} 返回转换后的 JSON 对象。
 */
var toJSON = function toJSON(obj) {
    var objInn = obj;
    if (objInn == null) {
        return null;
    }
    switch (objInn.constructor) {
        case String:
            //s = "'" + str.replace(/(["\\])/g, "\\$1") + "'";   string含有单引号出错
            objInn = '"' + objInn.replace(/(["\\])/g, '\\$1') + '"';
            objInn = objInn.replace(/\n/g, "\\n");
            objInn = objInn.replace(/\r/g, "\\r");
            objInn = objInn.replace("<", "&lt;");
            objInn = objInn.replace(">", "&gt;");
            objInn = objInn.replace(/%/g, "%25");
            objInn = objInn.replace(/&/g, "%26");
            return objInn;
        case Array:
            var arr = [];
            for (var i = 0, len = objInn.length; i < len; i++) {
                arr.push(toJSON(objInn[i]));
            }
            return "[" + arr.join(",") + "]";
        case Number:
            return isFinite(objInn) ? String(objInn) : null;
        case Boolean:
            return String(objInn);
        case Date:
            var dateStr = "{" + "'__type':\"System.DateTime\"," + "'Year':" + objInn.getFullYear() + "," + "'Month':" + (objInn.getMonth() + 1) + "," + "'Day':" + objInn.getDate() + "," + "'Hour':" + objInn.getHours() + "," + "'Minute':" + objInn.getMinutes() + "," + "'Second':" + objInn.getSeconds() + "," + "'Millisecond':" + objInn.getMilliseconds() + "," + "'TimezoneOffset':" + objInn.getTimezoneOffset() + "}";
            return dateStr;
        default:
            //if (objInn["toJSON"] != null && typeof objInn["toJSON"] === "function") {
            //    return objInn.toJSON();
            //}
            if ((typeof objInn === "undefined" ? "undefined" : (0, _typeof3.default)(objInn)) === "object") {
                if (objInn.length) {
                    var arr = [];
                    for (var i = 0, len = objInn.length; i < len; i++) {
                        arr.push(toJSON(objInn[i]));
                    }
                    return "[" + arr.join(",") + "]";
                }
                var arr1 = [];
                for (var attr in objInn) {
                    if (typeof objInn[attr] !== "function" && attr !== "CLASS_NAME") {
                        arr1.push("'" + attr + "':" + toJSON(objInn[attr]));
                    }
                }

                if (arr1.length > 0) {
                    return "{" + arr1.join(",") + "}";
                } else {
                    return "{}";
                }
            }
            return objInn.toString();
    }
};

/**
 * @description 转换查询结果。
 * @param result - {Object} 查询结果。
 * @return {Object} 转换后的查询结果。
 */
var transformResult = function transformResult(result) {
    if (result.responseText && typeof result.responseText === "string") {
        result = JSON.parse(result.responseText);
    }
    return result;
};

/**
 * @description 属性拷贝，不拷贝方法类名(CLASS_NAME)等。
 * @param destination - {Object} 拷贝目标。
 * @param source - {Object} 源对象。
 *
 */
var copyAttributes = function copyAttributes(destination, source) {
    destination = destination || {};
    if (source) {
        for (var property in source) {
            var value = source[property];
            if (value !== undefined && property !== "CLASS_NAME" && typeof value !== "function") {
                destination[property] = value;
            }
        }
    }
    return destination;
};

/**
 * @description 将源对象上的属性拷贝到目标对象上。（不拷贝 CLASS_NAME 和方法）
 * @param destination - {Object} 目标对象。
 * @param source - {Object} 源对象。
 * @param clip - {Array<string>} 源对象中禁止拷贝到目标对象的属性，目的是防止目标对象上不可修改的属性被篡改。
 *
 */
var copyAttributesWithClip = function copyAttributesWithClip(destination, source, clip) {
    destination = destination || {};
    if (source) {
        for (var property in source) {
            //去掉禁止拷贝的属性
            var isInClip = false;
            if (clip && clip.length) {
                for (var i = 0, len = clip.length; i < len; i++) {
                    if (property === clip[i]) {
                        isInClip = true;
                        break;
                    }
                }
            }
            if (isInClip === true) {
                continue;
            }

            var value = source[property];
            if (value !== undefined && property !== "CLASS_NAME" && typeof value !== "function") {
                destination[property] = value;
            }
        }
    }
    return destination;
};

/**
 * @description 克隆一份Object对象
 * @param obj - {Object}  需要克隆的对象。
 * @return {Object} 返回对象的拷贝对象，注意是新的对象，不是指向。
 */
var cloneObject = function cloneObject(obj) {
    // Handle the 3 simple types, and null or undefined
    if (null === obj || "object" !== (typeof obj === "undefined" ? "undefined" : (0, _typeof3.default)(obj))) {
        return obj;
    }

    // Handle Date
    if (obj instanceof Date) {
        var copy = new Date();
        copy.setTime(obj.getTime());
        return copy;
    }

    // Handle Array
    if (obj instanceof Array) {
        var copy = obj.slice(0);
        return copy;
    }

    // Handle Object
    if (obj instanceof Object) {
        var copy = {};
        for (var attr in obj) {
            if (obj.hasOwnProperty(attr)) {
                copy[attr] = cloneObject(obj[attr]);
            }
        }
        return copy;
    }

    throw new Error("Unable to copy obj! Its type isn't supported.");
};

var newGuid = function newGuid() {
    /// <summary>生成一个guid</summary>
    var guid = "";
    for (var i = 1; i <= 32; i++) {
        var n = Math.floor(Math.random() * 16.0).toString(16);
        guid += n;
        if (i == 8 || i == 12 || i == 16 || i == 20) guid += "-";
    }
    return guid;
};

var bind = function bind(func, object) {
    // create a reference to all arguments past the second one
    var args = Array.prototype.slice.apply(arguments, [2]);
    return function () {
        // Push on any additional arguments from the actual function call.
        // These will come after those sent to the bind call.
        var newArgs = args.concat(Array.prototype.slice.apply(arguments, [0]));
        return func.apply(object, newArgs);
    };
};

/**
    * @description 绑定函数到对象,在调用该函数时配置并使用事件对象作为第一个参数.
    * @param func - {function} 用于监听事件的函数.
    * @param object - {Object} this 对象的引用.
    * @returns {function}
    */
var bindAsEventListener = function bindAsEventListener(func, object) {
    return function (event) {
        return func.call(object, event || window.event);
    };
};

var getTopAnalysisResult = function getTopAnalysisResult(data) {
    /// <summary>解析拓扑分析的服务器REST返回结果，以更友好的形式返回给客户端</summary>
    var enumNum = data.result.value;
    switch (enumNum) {
        case 0:
            return "Intersect";
        case 1:
            return "Disjoin";
        case 2:
            return "Include";
        case 3:
            return "Adjacent";
        default:
            return "Unknown";
    }
};

var ChineseToUtf8 = function ChineseToUtf8(s) {
    return s.replace(/([\u4E00-\u9FA5]|[\uFE30-\uFFA0])/g, function (newStr) {
        return EncodeUtf8(newStr);
    });
};
var EncodeUtf8 = function EncodeUtf8(s1) {
    var s = escape(s1);
    var sa = s.split("%");
    var retV = "";
    if (sa[0] != "") {
        retV = sa[0];
    }
    for (var i = 1; i < sa.length; i++) {
        if (sa[i].substring(0, 1) == "u") {
            retV += Hex2Utf8(Str2Hex(sa[i].substring(1, 5)));
        } else retV += "%" + sa[i];
    }

    return retV;
};
var Str2Hex = function Str2Hex(s) {
    var c = "";
    var n;
    var ss = "0123456789ABCDEF";
    var digS = "";
    for (var i = 0; i < s.length; i++) {
        c = s.charAt(i);
        n = ss.indexOf(c);
        digS += Dec2Dig(eval(n));
    }
    //return value;
    return digS;
};
var Hex2Utf8 = function Hex2Utf8(s) {
    var retS = "";
    var tempS = "";
    var ss = "";
    if (s.length == 16) {
        tempS = "1110" + s.substring(0, 4);
        tempS += "10" + s.substring(4, 10);
        tempS += "10" + s.substring(10, 16);
        var sss = "0123456789ABCDEF";
        for (var i = 0; i < 3; i++) {
            retS += "%";
            ss = tempS.substring(i * 8, (eval(i) + 1) * 8);

            retS += sss.charAt(Dig2Dec(ss.substring(0, 4)));
            retS += sss.charAt(Dig2Dec(ss.substring(4, 8)));
        }
        return retS;
    }
    return "";
};
var Dig2Dec = function Dig2Dec(s) {
    var retV = 0;
    if (s.length == 4) {
        for (var i = 0; i < 4; i++) {
            retV += eval(s.charAt(i)) * Math.pow(2, 3 - i);
        }
        return retV;
    }
    return -1;
};

var Dec2Dig = function Dec2Dig(n1) {
    var s = "";
    var n2 = 0;
    for (var i = 0; i < 4; i++) {
        n2 = Math.pow(2, 3 - i);
        if (n1 >= n2) {
            s += '1';
            n1 = n1 - n2;
        } else s += '0';
    }
    return s;
};
//深度合并
var DeepMerge = function DeepMerge(obj1, obj2) {
    if (Object.prototype.toString.call(obj1) === '[object Object]' && Object.prototype.toString.call(obj2) === '[object Object]') {
        for (var prop2 in obj2) {
            //obj1无值,都有取obj2
            if (!obj1[prop2]) {
                obj1[prop2] = obj2[prop2];
            } else {
                //递归赋值
                obj1[prop2] = DeepMerge(obj1[prop2], obj2[prop2]);
            }
        }
    } else if (Object.prototype.toString.call(obj1) === '[object Array]' && Object.prototype.toString.call(obj2) === '[object Array]') {
        // 两个都是数组，进行合并
        obj1 = obj1.concat(obj2);
    } else {
        //其他情况，取obj2的值
        obj1 = obj2;
    }
    return obj1;
};

/**
 * Method: mergeItem
 * 合并源对象的单个属性到目标对象。
 *
 * Parameters:
 * target - {Object} 目标对象。
 * source - {Object} 源对象。
 * key - {String} 键。
 * overwrite - {Boolean} 是否覆盖。
 *
 * Returns:
 * {Object} 目标对象。
 */
var mergeItem = function mergeItem(target, source, key, overwrite) {
    var BUILTIN_OBJECT = {
        '[object Function]': 1,
        '[object RegExp]': 1,
        '[object Date]': 1,
        '[object Error]': 1,
        '[object CanvasGradient]': 1
    };
    if (source.hasOwnProperty(key)) {
        if ((0, _typeof3.default)(target[key]) == 'object' && !BUILTIN_OBJECT[Object.prototype.toString.call(target[key])]) {
            // 如果需要递归覆盖，就递归调用merge
            merge(target[key], source[key], overwrite);
        } else if (overwrite || !(key in target)) {
            // 否则只处理overwrite为true，或者在目标对象中没有此属性的情况
            target[key] = source[key];
        }
    }
};

/**
 * APIMethod: merge
 * 合并源对象的属性到目标对象。
 *
 * Parameters:
 * target - {Object} 目标对象。
 * source - {Object} 源对象。
 * overwrite - {Boolean} 是否覆盖。
 *
 * Returns:
 * {Object} 目标对象。
 */
var merge = function merge(target, source, overwrite) {
    for (var i in source) {
        mergeItem(target, source, i, overwrite);
    }
    return target;
};

/**
 * @description 实现多重继承
 * @param ...mixins {Class|Object}继承的类
 */
var mixin = function mixin() {
    for (var _len = arguments.length, mixins = Array(_len), _key = 0; _key < _len; _key++) {
        mixins[_key] = arguments[_key];
    }

    var Mix = function Mix(options) {
        (0, _classCallCheck3.default)(this, Mix);

        for (var index = 0; index < mixins.length; index++) {
            copyProperties(this, new mixins[index](options));
        }
    };

    for (var index = 0; index < mixins.length; index++) {
        var mixin = mixins[index];
        copyProperties(Mix, mixin);
        copyProperties(Mix.prototype, mixin.prototype);
        copyProperties(Mix.prototype, new mixin());
    }
    return Mix;

    function copyProperties(target, source) {
        var ownKeys = (0, _getOwnPropertyNames2.default)(source);
        if (_getOwnPropertySymbols2.default) {
            ownKeys = ownKeys.concat((0, _getOwnPropertySymbols2.default)(source));
        }
        for (var index = 0; index < ownKeys.length; index++) {
            var key = ownKeys[index];
            if (key !== "constructor" && key !== "prototype" && key !== "name" && key !== "length") {
                var desc = (0, _getOwnPropertyDescriptor2.default)(source, key);
                if (window["ActiveXObject"]) {
                    (0, _defineProperty2.default)(target, key, desc || {});
                } else {
                    (0, _defineProperty2.default)(target, key, desc);
                }
            }
        }
    }
};
var createCanvasContext2D = function createCanvasContext2D(opt_width, opt_height) {
    var canvas = document.createElement('CANVAS');
    if (opt_width) {
        canvas.width = opt_width;
    }
    if (opt_height) {
        canvas.height = opt_height;
    }
    return canvas.getContext('2d');
};
exports.extend = extend;
exports.isArray = isArray;
exports.extendDeep = extendDeep;
exports.copy = copy;
exports.copyExcluce = copyExcluce;
exports.reset = reset;
exports.getElement = getElement;
exports.isElement = isElement;
exports.removeItem = removeItem;
exports.indexOf = indexOf;
exports.modifyDOMElement = modifyDOMElement;
exports.applyDefaults = applyDefaults;
exports.getParameterString = getParameterString;
exports.getWFParameterString = getWFParameterString;
exports.urlAppend = urlAppend;
exports.getParameters = getParameters;
exports.IS_GECKO = IS_GECKO;
exports.Browser = Browser;
exports.getBrowser = getBrowser;
exports.isSupportCanvas = isSupportCanvas;
exports.supportCanvas = supportCanvas;
exports.isInTheSameDomain = isInTheSameDomain;
exports.toJSON = toJSON;
exports.transformResult = transformResult;
exports.copyAttributes = copyAttributes;
exports.copyAttributesWithClip = copyAttributesWithClip;
exports.cloneObject = cloneObject;
exports.newGuid = newGuid;
exports.bind = bind;
exports.bindAsEventListener = bindAsEventListener;
exports.getTopAnalysisResult = getTopAnalysisResult;
exports.ChineseToUtf8 = ChineseToUtf8;
exports.DeepMerge = DeepMerge;
exports.merge = merge;
exports.mixin = mixin;
exports.createCanvasContext2D = createCanvasContext2D;

_Base.Zondy.Util.extend = extend;
_Base.Zondy.Util.isArray = isArray;
_Base.Zondy.Util.extendDeep = extendDeep;
_Base.Zondy.Util.copy = copy;
_Base.Zondy.Util.copyExcluce = copyExcluce;
_Base.Zondy.Util.reset = reset;
_Base.Zondy.Util.getElement = getElement;
_Base.Zondy.Util.isElement = isElement;
_Base.Zondy.Util.removeItem = removeItem;
_Base.Zondy.Util.indexOf = indexOf;
_Base.Zondy.Util.modifyDOMElement = modifyDOMElement;
_Base.Zondy.Util.applyDefaults = applyDefaults;
_Base.Zondy.Util.getParameterString = getParameterString;
_Base.Zondy.Util.getWFParameterString = getWFParameterString;
_Base.Zondy.Util.urlAppend = urlAppend;
_Base.Zondy.Util.getParameters = getParameters;
_Base.Zondy.IS_GECKO = IS_GECKO;
_Base.Zondy.Browser = Browser;
_Base.Zondy.Util.getBrowser = getBrowser;
_Base.Zondy.Util.isSupportCanvas = isSupportCanvas;
_Base.Zondy.Util.supportCanvas = supportCanvas;
_Base.Zondy.Util.isInTheSameDomain = isInTheSameDomain;
_Base.Zondy.Util.toJSON = toJSON;
_Base.Zondy.Util.transformResult = transformResult;
_Base.Zondy.Util.copyAttributes = copyAttributes;
_Base.Zondy.Util.copyAttributesWithClip = copyAttributesWithClip;
_Base.Zondy.Util.cloneObject = cloneObject;
_Base.Zondy.Util.newGuid = newGuid;
_Base.Zondy.Util.bind = bind;
_Base.Zondy.Util.bindAsEventListener = bindAsEventListener;
_Base.Zondy.Util.getTopAnalysisResult = getTopAnalysisResult;
_Base.Zondy.Util.ChineseToUtf8 = ChineseToUtf8;
_Base.Zondy.Util.DeepMerge = DeepMerge;
_Base.Zondy.Util.merge = merge;
_Base.Zondy.Util.mixin = mixin;
_Base.Zondy.Util.createCanvasContext2D = createCanvasContext2D;

/***/ }),

/***/ "./service/common/VectCls.js":
/*!***********************************!*\
  !*** ./service/common/VectCls.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.VectCls = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

var _CAttStruct = __webpack_require__(/*! ./CAttStruct */ "./service/common/CAttStruct.js");

/// <summary>矢量类对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var VectCls = function VectCls(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>图层类型 {Zondy.Enum.VectClsType}</summary>
    this.clsType = options.clsType !== undefined ? options.clsType : _EnumComm.VectClsType.SFCls;

    /// <summary>图层名称 {String}</summary>
    this.clsName = options.clsName !== undefined ? options.clsName : null;

    /// <summary> 要素几何类型 Zondy.Enum.FeatureType类型，只对简单要素类有效</summary>
    this.geoType = options.geoType !== undefined ? options.geoType : 1;

    /// <summary>空间参照系名称 String</summary>
    this.srefName = options.srefName !== undefined ? encodeURI(options.srefName) : "";

    /// <summary>要素数据集名称 String</summary>
    this.dsName = options.dsName !== undefined ? encodeURI(options.dsName) : "";

    /// <summary>图层属性结构对象  Zondy.Object.CAttStruct</summary>
    this.attStruct = options.attStruct !== undefined ? options.attStruct : null;
};
exports.VectCls = VectCls;

_Base.Zondy.Object.VectCls = VectCls;

/***/ }),

/***/ "./service/common/WebGraphicsInfo.js":
/*!*******************************************!*\
  !*** ./service/common/WebGraphicsInfo.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.WebGraphicsInfo = undefined;

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

var _CPointInfo = __webpack_require__(/*! ./CPointInfo */ "./service/common/CPointInfo.js");

var _CLineInfo = __webpack_require__(/*! ./CLineInfo */ "./service/common/CLineInfo.js");

var _CRegionInfo = __webpack_require__(/*! ./CRegionInfo */ "./service/common/CRegionInfo.js");

/*----------------------------------------------------------------------------------------------------------------------------*/
/*Zondy.Object.WebGraphicsInfo-------------------------------------------------------------------------------------------------
* 要素符号参数信息对象
*/
/// <summary>要素符号参数信息对象构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>
var WebGraphicsInfo = function WebGraphicsInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>要素几何类型：Zondy.Enum.FeatureType枚举类型，只对简单要素类有效/// </summary>
    this.InfoType = options.InfoType !== undefined && options.InfoType != null ? options.InfoType : 0;

    /// <summary>点信息对象,Zondy.Object.CPointInfo</summary>
    this.PntInfo = options.PntInfo !== undefined && options.PntInfo != null ? options.PntInfo : null;

    /// <summary>线信息对象,Zondy.Object.CLineInfo</summary>
    this.LinInfo = options.LinInfo !== undefined && options.LinInfo != null ? options.LinInfo : null;

    /// <summary>区信息对象,Zondy.Object.CRegionInfo</summary>
    this.RegInfo = options.RegInfo !== undefined && options.RegInfo != null ? options.RegInfo : null;
};
exports.WebGraphicsInfo = WebGraphicsInfo;

_Base.Zondy.Object.WebGraphicsInfo = WebGraphicsInfo;

/***/ }),

/***/ "./service/common/index.js":
/*!*********************************!*\
  !*** ./service/common/index.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createCanvasContext2D = exports.mixin = exports.merge = exports.DeepMerge = exports.ChineseToUtf8 = exports.getTopAnalysisResult = exports.bindAsEventListener = exports.bind = exports.newGuid = exports.cloneObject = exports.copyAttributesWithClip = exports.copyAttributes = exports.transformResult = exports.toJSON = exports.isInTheSameDomain = exports.supportCanvas = exports.isSupportCanvas = exports.getBrowser = exports.Browser = exports.IS_GECKO = exports.getParameters = exports.urlAppend = exports.getWFParameterString = exports.getParameterString = exports.applyDefaults = exports.modifyDOMElement = exports.indexOf = exports.removeItem = exports.isElement = exports.getElement = exports.reset = exports.copyExcluce = exports.copy = exports.extendDeep = exports.isArray = exports.extend = exports.WebGraphicsInfo = exports.VectCls = exports.Tangram = exports.Rectangle = exports.PolyLine = exports.Polygon = exports.Point2D = exports.MultiPolygon = exports.LablePntInfo = exports.LabelRegInfo = exports.LabelLinInfo = exports.GRegion = exports.GPoint = exports.GLine = exports.FeatureSet = exports.FeatureGraphicBase = exports.FeatureGeometry = exports.Feature = exports.LayerStatusType = exports.MapType = exports.CItemType = exports.CLinStyleMakeType = exports.CLinJointType = exports.CLinHeadType = exports.CLinAdjustType = exports.NetElemType = exports.NetAnalyType = exports.ISShowArc = exports.EightDirType = exports.LineConstrain = exports.LabelSpreadType = exports.RepeatType = exports.LabelPntType = exports.LabelRegType = exports.LabelLinType = exports.FontShape = exports.FeatureType = exports.VectClsType = exports.XClsType = exports.DynShowStyle = exports.DynNoteLableType = exports.CRegionInfo = exports.CPointInfo = exports.CLineInfo = exports.Circle = exports.CGDBInfo = exports.CDynNoteInfo = exports.CDisplayStyleExtend = exports.CDisplayStyle = exports.CAttDataRow = exports.CAttStruct = exports.Zondy = exports.Arc = exports.AnyLine = undefined;

var _AnyLine = __webpack_require__(/*! ./AnyLine */ "./service/common/AnyLine.js");

var _Arc = __webpack_require__(/*! ./Arc */ "./service/common/Arc.js");

var _Base = __webpack_require__(/*! ./Base */ "./service/common/Base.js");

var _CAttStruct = __webpack_require__(/*! ./CAttStruct */ "./service/common/CAttStruct.js");

var _CAttDataRow = __webpack_require__(/*! ./CAttDataRow */ "./service/common/CAttDataRow.js");

var _CDisplayStyle = __webpack_require__(/*! ./CDisplayStyle */ "./service/common/CDisplayStyle.js");

var _CDisplayStyleExtend = __webpack_require__(/*! ./CDisplayStyleExtend */ "./service/common/CDisplayStyleExtend.js");

var _CDynNoteInfo = __webpack_require__(/*! ./CDynNoteInfo */ "./service/common/CDynNoteInfo.js");

var _CGDBInfo = __webpack_require__(/*! ./CGDBInfo */ "./service/common/CGDBInfo.js");

var _Circle = __webpack_require__(/*! ./Circle */ "./service/common/Circle.js");

var _CLineInfo = __webpack_require__(/*! ./CLineInfo */ "./service/common/CLineInfo.js");

var _CPointInfo = __webpack_require__(/*! ./CPointInfo */ "./service/common/CPointInfo.js");

var _CRegionInfo = __webpack_require__(/*! ./CRegionInfo */ "./service/common/CRegionInfo.js");

var _DynNoteLableType = __webpack_require__(/*! ./DynNoteLableType */ "./service/common/DynNoteLableType.js");

var _DynShowStyle = __webpack_require__(/*! ./DynShowStyle */ "./service/common/DynShowStyle.js");

var _EnumComm = __webpack_require__(/*! ./EnumComm */ "./service/common/EnumComm.js");

var _Feature = __webpack_require__(/*! ./Feature */ "./service/common/Feature.js");

var _FeatureGeometry = __webpack_require__(/*! ./FeatureGeometry */ "./service/common/FeatureGeometry.js");

var _FeatureGraphicBase = __webpack_require__(/*! ./FeatureGraphicBase */ "./service/common/FeatureGraphicBase.js");

var _FeatureSet = __webpack_require__(/*! ./FeatureSet */ "./service/common/FeatureSet.js");

var _GLine = __webpack_require__(/*! ./GLine */ "./service/common/GLine.js");

var _GPoint = __webpack_require__(/*! ./GPoint */ "./service/common/GPoint.js");

var _GRegion = __webpack_require__(/*! ./GRegion */ "./service/common/GRegion.js");

var _LabelLinInfo = __webpack_require__(/*! ./LabelLinInfo */ "./service/common/LabelLinInfo.js");

var _LabelRegInfo = __webpack_require__(/*! ./LabelRegInfo */ "./service/common/LabelRegInfo.js");

var _LablePntInfo = __webpack_require__(/*! ./LablePntInfo */ "./service/common/LablePntInfo.js");

var _MultiPolygon = __webpack_require__(/*! ./MultiPolygon */ "./service/common/MultiPolygon.js");

var _Point2D = __webpack_require__(/*! ./Point2D */ "./service/common/Point2D.js");

var _Polygon = __webpack_require__(/*! ./Polygon */ "./service/common/Polygon.js");

var _PolyLine = __webpack_require__(/*! ./PolyLine */ "./service/common/PolyLine.js");

var _Rectangle = __webpack_require__(/*! ./Rectangle */ "./service/common/Rectangle.js");

var _Tangram = __webpack_require__(/*! ./Tangram */ "./service/common/Tangram.js");

var _VectCls = __webpack_require__(/*! ./VectCls */ "./service/common/VectCls.js");

var _WebGraphicsInfo = __webpack_require__(/*! ./WebGraphicsInfo */ "./service/common/WebGraphicsInfo.js");

var _Util = __webpack_require__(/*! ./Util */ "./service/common/Util.js");

exports.AnyLine = _AnyLine.AnyLine;
exports.Arc = _Arc.Arc;
exports.Zondy = _Base.Zondy;
exports.CAttStruct = _CAttStruct.CAttStruct;
exports.CAttDataRow = _CAttDataRow.CAttDataRow;
exports.CDisplayStyle = _CDisplayStyle.CDisplayStyle;
exports.CDisplayStyleExtend = _CDisplayStyleExtend.CDisplayStyleExtend;
exports.CDynNoteInfo = _CDynNoteInfo.CDynNoteInfo;
exports.CGDBInfo = _CGDBInfo.CGDBInfo;
exports.Circle = _Circle.Circle;
exports.CLineInfo = _CLineInfo.CLineInfo;
exports.CPointInfo = _CPointInfo.CPointInfo;
exports.CRegionInfo = _CRegionInfo.CRegionInfo;
exports.DynNoteLableType = _DynNoteLableType.DynNoteLableType;
exports.DynShowStyle = _DynShowStyle.DynShowStyle;
exports.XClsType = _EnumComm.XClsType;
exports.VectClsType = _EnumComm.VectClsType;
exports.FeatureType = _EnumComm.FeatureType;
exports.FontShape = _EnumComm.FontShape;
exports.LabelLinType = _EnumComm.LabelLinType;
exports.LabelRegType = _EnumComm.LabelRegType;
exports.LabelPntType = _EnumComm.LabelPntType;
exports.RepeatType = _EnumComm.RepeatType;
exports.LabelSpreadType = _EnumComm.LabelSpreadType;
exports.LineConstrain = _EnumComm.LineConstrain;
exports.EightDirType = _EnumComm.EightDirType;
exports.ISShowArc = _EnumComm.ISShowArc;
exports.NetAnalyType = _EnumComm.NetAnalyType;
exports.NetElemType = _EnumComm.NetElemType;
exports.CLinAdjustType = _EnumComm.CLinAdjustType;
exports.CLinHeadType = _EnumComm.CLinHeadType;
exports.CLinJointType = _EnumComm.CLinJointType;
exports.CLinStyleMakeType = _EnumComm.CLinStyleMakeType;
exports.CItemType = _EnumComm.CItemType;
exports.MapType = _EnumComm.MapType;
exports.LayerStatusType = _EnumComm.LayerStatusType;
exports.Feature = _Feature.Feature;
exports.FeatureGeometry = _FeatureGeometry.FeatureGeometry;
exports.FeatureGraphicBase = _FeatureGraphicBase.FeatureGraphicBase;
exports.FeatureSet = _FeatureSet.FeatureSet;
exports.GLine = _GLine.GLine;
exports.GPoint = _GPoint.GPoint;
exports.GRegion = _GRegion.GRegion;
exports.LabelLinInfo = _LabelLinInfo.LabelLinInfo;
exports.LabelRegInfo = _LabelRegInfo.LabelRegInfo;
exports.LablePntInfo = _LablePntInfo.LablePntInfo;
exports.MultiPolygon = _MultiPolygon.MultiPolygon;
exports.Point2D = _Point2D.Point2D;
exports.Polygon = _Polygon.Polygon;
exports.PolyLine = _PolyLine.PolyLine;
exports.Rectangle = _Rectangle.Rectangle;
exports.Tangram = _Tangram.Tangram;
exports.VectCls = _VectCls.VectCls;
exports.WebGraphicsInfo = _WebGraphicsInfo.WebGraphicsInfo;
exports.extend = _Util.extend;
exports.isArray = _Util.isArray;
exports.extendDeep = _Util.extendDeep;
exports.copy = _Util.copy;
exports.copyExcluce = _Util.copyExcluce;
exports.reset = _Util.reset;
exports.getElement = _Util.getElement;
exports.isElement = _Util.isElement;
exports.removeItem = _Util.removeItem;
exports.indexOf = _Util.indexOf;
exports.modifyDOMElement = _Util.modifyDOMElement;
exports.applyDefaults = _Util.applyDefaults;
exports.getParameterString = _Util.getParameterString;
exports.getWFParameterString = _Util.getWFParameterString;
exports.urlAppend = _Util.urlAppend;
exports.getParameters = _Util.getParameters;
exports.IS_GECKO = _Util.IS_GECKO;
exports.Browser = _Util.Browser;
exports.getBrowser = _Util.getBrowser;
exports.isSupportCanvas = _Util.isSupportCanvas;
exports.supportCanvas = _Util.supportCanvas;
exports.isInTheSameDomain = _Util.isInTheSameDomain;
exports.toJSON = _Util.toJSON;
exports.transformResult = _Util.transformResult;
exports.copyAttributes = _Util.copyAttributes;
exports.copyAttributesWithClip = _Util.copyAttributesWithClip;
exports.cloneObject = _Util.cloneObject;
exports.newGuid = _Util.newGuid;
exports.bind = _Util.bind;
exports.bindAsEventListener = _Util.bindAsEventListener;
exports.getTopAnalysisResult = _Util.getTopAnalysisResult;
exports.ChineseToUtf8 = _Util.ChineseToUtf8;
exports.DeepMerge = _Util.DeepMerge;
exports.merge = _Util.merge;
exports.mixin = _Util.mixin;
exports.createCanvasContext2D = _Util.createCanvasContext2D;

/***/ }),

/***/ "./service/extend/ContourNoteParam.js":
/*!********************************************!*\
  !*** ./service/extend/ContourNoteParam.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ContourNoteParam = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

/**
*	平面等值线追踪所用到的注记参数类
*param {bool} IsClipLine 注记是否剪断线(true/false 剪断/不剪断),默认值为true
*param {bool} isXYScaleOut 是否输出轴向标尺,默认值为false
*param {int} NoteDirection 注记方向(1/2/3:斜坡上方/斜坡下方/图幅上方),默认值为1
*param {double} LineWidth 注记等值线线宽,默认值为0.05
*param {float} MaxAngle 注记的最大倾角,默认值为90.0
*param {float} MinDist 注记间最小允许距离,默认值为10.0
*param {bool} IsAbs 数值是否取绝对值,默认值为false
*param {bool} IsComma 数值是否采用千位分隔符,默认值为false
*param {short} DigitNum 注记数值的小数位数,默认值为0
*param {int} FormatNo 数据格式 （0/1/2: 定点/科学/通常）,默认值为0
*param {int} LogFlag 取对数标志（0/1/2: 未取对数/10为底/自然对数）,默认值为0
*param {string} Prefix 注记前缀,默认值为""
*param {string} Suffix 注记后缀,默认值为""
*param {int} ColorNo 注记颜色号,默认值为0
*param {float} FixSize 注记尺寸,默认值为0.01
*param {short} FontNo 注记字体号,默认值为0
*/
var ContourNoteParam = function ContourNoteParam(opt_options) {
    var options = opt_options != undefined ? opt_options : {};
    this.IsClipLine = options.IsClipLine != undefined ? options.IsClipLine : true;
    this.isXYScaleOut = options.isXYScaleOut != undefined ? options.isXYScaleOut : false;
    this.NoteDirection = options.NoteDirection != undefined ? options.NoteDirection : 1;
    this.LineWidth = options.LineWidth != undefined ? options.LineWidth : 0.05;
    this.MaxAngle = options.MaxAngle != undefined ? options.MaxAngle : 90.0;
    this.MinDist = options.MinDist != undefined ? options.MinDist : 10.0;
    this.IsAbs = options.IsAbs != undefined ? options.IsAbs : false;
    this.IsComma = options.IsComma != undefined ? options.IsComma : false;
    this.DigitNum = options.DigitNum != undefined ? options.DigitNum : 0;
    this.FormatNo = options.FormatNo != undefined ? options.FormatNo : 0;
    this.LogFlag = options.LogFlag != undefined ? options.LogFlag : 0;
    this.Prefix = options.Prefix != undefined ? options.Prefix : "";
    this.Suffix = options.Suffix != undefined ? options.Suffix : "";
    this.ColorNo = options.ColorNo != undefined ? options.ColorNo : 0;
    this.FixSize = options.FixSize != undefined ? options.FixSize : 0.01;
    this.FontNo = options.FontNo != undefined ? options.FontNo : 0;
};
exports.ContourNoteParam = ContourNoteParam;

_Base.Zondy.Object.ContourAnalyse.ContourNoteParam = ContourNoteParam;

/***/ }),

/***/ "./service/extend/ContourParam.js":
/*!****************************************!*\
  !*** ./service/extend/ContourParam.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ContourParam = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ContourNoteParam = __webpack_require__(/*! ./ContourNoteParam */ "./service/extend/ContourNoteParam.js");

var _SlopLineParam = __webpack_require__(/*! ./SlopLineParam */ "./service/extend/SlopLineParam.js");

var _ContourZValue = __webpack_require__(/*! ./ContourZValue */ "./service/extend/ContourZValue.js");

/*
*	平面等值线追踪参数类
*param {bool} IsSmoothLine 是否进行光滑线处理；如果为true则配合SmoothGrade使用,默认值为false
*param {int} SmoothGrade 线光滑程度， 0/1/2分别代表“低/中/高”，仅在IsSmoothLine为true时生效,默认值为1
*param {bool} IsMakeReg 是否生成区,默认值为false
*param {bool} IsMakeNote 是否生成注记,默认值为false
*param {bool} IsMakeSLin 是否输出示坡线,默认值为false
*param {int} MapWay 生成的地图范围的设置方法。0/1/2/3分表表示“自动检测设置/原始数据范围/数据投影变换/用户自定义”,默认值为1
*param {double} FrameWidth 制图宽度，仅在MapWay=3的情况下有效,默认值为1.0
*param {double} FrameHeight 制图高度，仅在MapWay=3的情况下有效,默认值为1.0
*param {bool} IsDrawColorScl 是否绘制色阶。如果绘制，则必须同时指定生成线、区、注记层，任何一个图层都不能忽略生成，才可见色阶输出效果,默认值为false
*param {bool} IsSaveEdge 线图层是否保存边界,默认值为false
*param {Zondy.Object.ContourAnalyse.ContourNoteParam} NoteParam 注记生成参数，如果NULL则取默认值。只有在IsMakeNote为true时该参数才能发挥作用
*param {Zondy.Object.ContourAnalyse.SlopLineParam} SlopLineParam 示坡线参数，如果为NULL则取默认值。只有在IsMakeSLin为true时该参数参能发挥作用
*param {Zondy.Object.ContourAnalyse.ContourZValue[]} ZValues 等值线层参数，不能为NULL
*       如果ZValues的最大层值小于影像最大像元值，则生成的区值区间是ZValues的次大值到像元最大值；如果要绘制ZVlaues最大值到像元最大值区间，需要为ZValues增加一个大于最大像元值的成员
*@author fmm 2015-07-01
*/
var ContourParam = function ContourParam(opt_options) {
    var options = opt_options != undefined ? opt_options : {};
    this.IsSmoothLine = options.IsSmoothLine != undefined ? options.IsSmoothLine : false;
    this.SmoothGrade = options.SmoothGrade != undefined ? options.SmoothGrade : 1;
    this.IsMakeReg = options.IsMakeReg != undefined ? options.IsMakeReg : false;
    this.IsMakeNote = options.IsMakeNote != undefined ? options.IsMakeNote : false;
    this.IsMakeSLin = options.IsMakeSLin != undefined ? options.IsMakeSLin : false;
    this.MapWay = options.MapWay != undefined ? options.MapWay : 1;
    this.FrameWidth = options.FrameWidth != undefined ? options.FrameWidth : 1.0;
    this.FrameHeight = options.FrameHeight != undefined ? options.FrameHeight : 1.0;
    this.IsDrawColorScl = options.IsDrawColorScl != undefined ? options.IsDrawColorScl : false;
    this.IsSaveEdge = options.IsSaveEdge != undefined ? options.IsSaveEdge : false;
    this.NoteParam = options.NoteParam != undefined ? options.NoteParam : null;
    this.SlopLineParam = options.SlopLineParam != undefined ? options.SlopLineParam : null;
    this.ZValues = options.ZValues != undefined ? options.ZValues : null;
};
exports.ContourParam = ContourParam;

_Base.Zondy.Object.ContourAnalyse.ContourParam = ContourParam;

/***/ }),

/***/ "./service/extend/ContourRegionInfo.js":
/*!*********************************************!*\
  !*** ./service/extend/ContourRegionInfo.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ContourRegionInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var ContourRegionInfo = function ContourRegionInfo(opt_options) {
    var options = opt_options != undefined ? opt_options : {};
    this.PatID = options.PatID != undefined ? options.PatID : 0;
    this.FillMode = options.FillMode != undefined ? options.FillMode : 0;
    this.FillColor = options.FillColor != undefined ? options.FillColor : 1;
    this.PatHeight = options.PatHeight != undefined ? options.PatHeight : 1.0;
    this.PatWidth = options.PatWidth != undefined ? options.PatWidth : 1.0;
    this.PatAngle = options.PatAngle != undefined ? options.PatAngle : 1.0;
    this.PatColor = options.PatColor != undefined ? options.PatColor : 1.0;
    this.OutPenWidth = options.OutPenWidth != undefined ? options.OutPenWidth : 1.0;
    this.OverMethod = options.OverMethod != undefined ? options.OverMethod : 0;
};
exports.ContourRegionInfo = ContourRegionInfo;

_Base.Zondy.Object.ContourAnalyse.ContourRegionInfo = ContourRegionInfo;

/***/ }),

/***/ "./service/extend/ContourZValue.js":
/*!*****************************************!*\
  !*** ./service/extend/ContourZValue.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ContourZValue = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CLineInfo = __webpack_require__(/*! ../common/CLineInfo */ "./service/common/CLineInfo.js");

var _ContourRegionInfo = __webpack_require__(/*! ./ContourRegionInfo */ "./service/extend/ContourRegionInfo.js");

/*
*	等值线层参数类，用来描述每一层的信息
*param {double} ZValue 等值线层值，不能为NULL,默认值为1.0
*param {Zondy.Object.ContourAnalyse.CLineInfo} LineInfo 等值线参数，为空则取默认值
*param {Zondy.Object.ContourAnalyse.ContourRegionInfo} RegInfo 生成区参数，为空则取默认值
*param {bool} IsOutputNote 该层是否绘制注记,默认值为false
*@author fmm 2015-07-01
*/
var ContourZValue = function ContourZValue(opt_options) {
    var options = opt_options != undefined ? opt_options : {};
    this.ZValue = options.ZValue != undefined ? options.ZValue : 1;
    this.LineInfo = options.LineInfo != undefined ? options.LineInfo : null;
    this.RegInfo = options.RegInfo != undefined ? options.RegInfo : null;
    this.IsOutputNote = options.IsOutputNote != undefined ? options.IsOutputNote : false;
};
exports.ContourZValue = ContourZValue;

_Base.Zondy.Object.ContourAnalyse.ContourZValue = ContourZValue;

/***/ }),

/***/ "./service/extend/MeshingParam.js":
/*!****************************************!*\
  !*** ./service/extend/MeshingParam.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MeshingParam = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

/**
*  离散数据网格化参数类
*  *param {string} SfClsURL 点简单要素类URL
*  param {string} FieldName Z值所在的字段名称
*  param {int} XCellNum 生成的影像X方向网格数。只输出X方向网格数，计算时Y方向网格密度会自动与X方向保持一致,默认值为200
*  param {Rect} Bound 生成的栅格数据集逻辑范围，如果为NULL则使用点简单要素类的逻辑范围
*/

var MeshingParam = function MeshingParam(opt_options) {
    var options = opt_options != undefined ? opt_options : {};
    this.SfClsURL = options.SfClsURL != undefined ? options.SfClsURL : null;
    this.FieldName = options.FieldName != undefined ? options.FieldName : null;
    this.XCellNum = options.XCellNum != undefined ? options.XCellNum : 200;
    this.Bound = options.Bound != undefined ? options.Bound : null;
};
exports.MeshingParam = MeshingParam;

_Base.Zondy.Object.ContourAnalyse.MeshingParam = MeshingParam;

/***/ }),

/***/ "./service/extend/NetAnalyse.js":
/*!**************************************!*\
  !*** ./service/extend/NetAnalyse.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.NetAnalyse = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var NetAnalyse = function NetAnalyse(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    this.netCls = options.netCls !== undefined ? options.netCls : null; //网络类
    this.flagPosStr = options.flagPosStr !== undefined ? options.flagPosStr : null; //网标序列，包括点上网标、网线网标
    this.barrierPosStr = options.barrierPosStr !== undefined ? options.barrierPosStr : null; //障碍序列，包括点上障碍、线上障碍
    this.weight = options.weight !== undefined ? options.weight : null; //权值
    this.mode = options.mode !== undefined ? options.mode : null; //分析模式
    this.isTour = options.isTour !== undefined ? options.isTour : false; //是否迂回
    this.isTravel = options.isTravel !== undefined ? options.isTravel : false; //是否游历
    this.usedTWgt = options.usedTWgt !== undefined ? options.usedTWgt : false; //是否启用转角权值
    this.turnWgt = options.turnWgt !== undefined ? options.turnWgt : null; //转角权值
    this.roadName = options.roadName !== undefined ? options.roadName : "name"; //生成报告时道路名称字段
};
exports.NetAnalyse = NetAnalyse;

_Base.Zondy.Object.NetAnalyse = NetAnalyse;

/***/ }),

/***/ "./service/extend/NetAnalysisExtent.js":
/*!*********************************************!*\
  !*** ./service/extend/NetAnalysisExtent.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.NetAnalysisExtent = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _ServiceBase2 = __webpack_require__(/*! ../ServiceBase */ "./service/ServiceBase.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>空间分析服务基类构造函数</summary>
/// <param name="opt_options" type="Object">属性键值对</param>

var NetAnalysisExtent = function (_ServiceBase) {
    (0, _inherits3.default)(NetAnalysisExtent, _ServiceBase);

    function NetAnalysisExtent(opt_options) {
        (0, _classCallCheck3.default)(this, NetAnalysisExtent);

        var options = opt_options || {};

        /// <summary>工作流ID号,Interger</summary>
        //网络类url
        var _this = (0, _possibleConstructorReturn3.default)(this, (NetAnalysisExtent.__proto__ || (0, _getPrototypeOf2.default)(NetAnalysisExtent)).call(this, options));

        _this.netClsUrl = options.netClsUrl !== undefined ? options.netClsUrl : null;
        //网标序列，包括点上网标、网线网标
        _this.flagPosStr = options.flagPosStr !== undefined ? options.flagPosStr : null;
        //分析模式，包括用户模式、系统模式（系统模型下有六种分析方式）
        _this.analyTp = options.analyTp !== undefined ? options.analyTp : 'UserMode';
        //权值
        _this.weight = options.weight !== undefined ? options.weight : ',Weight1,Weight1';
        //返回格式
        _this.outFormat = options.outFormat !== undefined ? options.outFormat : 'JSON';
        //网络元素类型，包括结点元素、边线元素、以及其他分析中会用到的如源、汇等类型。
        _this.elementType = options.elementType !== undefined ? options.elementType : 2;
        //网标或障碍的捕捉精度
        _this.nearDis = options.nearDis !== undefined ? options.nearDis : 0.001;
        //障碍序列，包括点上障碍、线上障碍
        _this.barrierPosStr = options.barrierPosStr !== undefined ? options.barrierPosStr : null;
        //生成报告时道路名称字段
        _this.roadName = options.roadName !== undefined ? options.roadName : "name";

        _this.baseUrl = "igs/rest/netAnaly";
        return _this;
    }
    /** 
    * 获取网络类权值信息（只支持GET方式）
    * Parameters:
    * infoType-{string}获取网络类信息类型,取值"weight"
    * onSuccess - {function} 执行成功的回调函数 
    * onError - {function} 执行失败的回调函数 
    * resultFormat-{string}回调结果的包装形式，取值为'json','xml',默认为json格式
    * type-{string}请求类型,取值"Get","Post"，当前功能默认只取值GET，设置POST无效，只做兼容保留
    * contentType-{string}get方式默认为‘application/x-www-form-urlencoded’，post默认为text/plain,一般使用默认即可
    * options-{Object} 主要用来扩展ajax的参数，一般无需设置
    */


    (0, _createClass3.default)(NetAnalysisExtent, [{
        key: "getNetInfo",
        value: function getNetInfo(infoType, onSuccess, onError, options) {
            if (infoType == null || infoType == undefined) {
                infoType = "weight";
            }
            //当前服务默认只支持GET方式
            this.partUrl = "netClsInfo?netCls=" + this.netClsUrl + "&type=" + infoType;

            var me = this;
            var url = me.getFullUrl();

            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /** 
        * 添加网标(支持GET和POST两种方式)
        * Parameters:
        * dotVal-{string}添加网标点坐标,格式为"x1,y1,x2,y2,...",
        * onSuccess - {function} 执行成功的回调函数 
        * onError - {function} 执行失败的回调函数 
        * resultFormat-{string}回调结果的包装形式，取值为'json','xml',默认为json格式
        * type-{string}请求类型,取值"Get","Post"，当前功能默认GET方式，也可以设置POST的方式
        * contentType-{string}get方式默认为‘application/x-www-form-urlencoded’，post默认为text/plain,一般使用默认即可
        * options-{Object} 主要用来扩展ajax的参数，一般无需设置
        */

    }, {
        key: "addNetFlag",
        value: function addNetFlag(dotVal, onSuccess, onError, type, options) {
            var postString = null;
            var postObj = {};
            if (type != null && type.toUpperCase() == "POST") {
                postObj.dotVal = dotVal;
                this.partUrl = "netClsFlag?netCls=" + this.netClsUrl + "&type=" + this.elementType + "&nearDis=" + this.nearDis;
            } else {
                this.partUrl = "netClsFlag?netCls=" + this.netClsUrl + "&type=" + this.elementType + "&value=" + dotVal + "&nearDis=" + this.nearDis;
            }
            var me = this;
            var url = me.getFullUrl();

            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            if (type != null && type.toUpperCase() == "POST") {
                service.processAsync({ method: 'POST', data: (0, _stringify2.default)(postObj), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
            } else {
                service.processAsync();
            }
        }
        /** 
        * 执行网络分析（只支持POST方式）
        * Parameters:
        * dataObject-{Object}服务器发送的数据
        * onSuccess - {function} 执行成功的回调函数 
        * onError - {function} 执行失败的回调函数 
        * resultFormat-{string}回调结果的包装形式，取值为'json','xml',默认为json格式
        * type-{string}请求类型,取值"Get","Post"，当前功能默认只提供POST的方式，GET方式设置无效，只做兼容保留
        * contentType-{string}get方式默认为‘application/x-www-form-urlencoded’，post默认为text/plain,一般使用默认即可
        * options-{Object} 主要用来扩展ajax的参数，一般无需设置
        */

    }, {
        key: "netAnalyse",
        value: function netAnalyse(dataObject, onSuccess, onError, options) {
            this.partUrl = "netAnalyse";
            //当前服务只支持POST的方式
            var me = this;
            var url = me.getFullUrl();

            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(dataObject), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
        /** 
        * 执行多策略网络分析（只支持POST方式）
        * Parameters:
        * dataObject-{Object}服务器发送的数据
        * onSuccess - {function} 执行成功的回调函数 
        * onError - {function} 执行失败的回调函数 
        * resultFormat-{string}回调结果的包装形式，取值为'json','xml',默认为json格式
        * type-{string}请求类型,取值"Get","Post"，当前功能默认只提供POST的方式，GET方式设置无效，只做兼容保留
        * contentType-{string}get方式默认为‘application/x-www-form-urlencoded’，post默认为text/plain,一般使用默认即可
        * options-{Object} 主要用来扩展ajax的参数，一般无需设置
        */

    }, {
        key: "comNetAnalyse",
        value: function comNetAnalyse(dataObject, onSuccess, onError, options) {
            this.partUrl = "comNetAnalyse";
            var me = this;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(dataObject), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
        /** 
        * 执行多路网络分析（只支持POST方式）
        * Parameters:
        * dataObject-{Object}服务器发送的数据
        * onSuccess - {function} 执行成功的回调函数 
        * onError - {function} 执行失败的回调函数 
        * resultFormat-{string}回调结果的包装形式，取值为'json','xml',默认为json格式
        * type-{string}请求类型,取值"Get","Post"，当前功能默认只提供POST的方式，GET方式设置无效，只做兼容保留
        * contentType-{string}get方式默认为‘application/x-www-form-urlencoded’，post默认为text/plain,一般使用默认即可
        * options-{Object} 主要用来扩展ajax的参数，一般无需设置
        */

    }, {
        key: "pluNetAnalyse",
        value: function pluNetAnalyse(dataObject, onSuccess, onError, options) {
            this.partUrl = "pluNetAnalyse";
            //当前服务只支持post的方式
            var me = this;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(dataObject), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
    }]);
    return NetAnalysisExtent;
}(_ServiceBase2.ServiceBase);

;

exports.NetAnalysisExtent = NetAnalysisExtent;

_Base.Zondy.Service.NetAnalysisExtent = NetAnalysisExtent;

/***/ }),

/***/ "./service/extend/SlopLineParam.js":
/*!*****************************************!*\
  !*** ./service/extend/SlopLineParam.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SlopLineParam = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

/*
*	示坡线参数类
*param {float} XScale X系数,默认值为2.0
*param {float} YScale Y系数,默认值为10.0
*param {short} LineType 线型,默认值为0
*param {short} SubLineType 辅助线型,默认值为0
*/
var SlopLineParam = function SlopLineParam(opt_options) {
    var options = opt_options != undefined ? opt_options : {};
    this.XScale = options.XScale != undefined ? options.XScale : 2.0;
    this.YScale = options.YScale != undefined ? options.YScale : 10.0;
    this.LineType = options.LineType != undefined ? options.LineType : 0;
    this.SubLineType = options.SubLineType != undefined ? options.SubLineType : 0;
};
exports.SlopLineParam = SlopLineParam;

_Base.Zondy.Object.ContourAnalyse.SlopLineParam = SlopLineParam;

/***/ }),

/***/ "./service/extend/index.js":
/*!*********************************!*\
  !*** ./service/extend/index.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SlopLineParam = exports.NetAnalysisExtent = exports.NetAnalyse = exports.MeshingParam = exports.ContourRegionInfo = exports.ContourZValue = exports.ContourParam = exports.ContourNoteParam = undefined;

var _ContourNoteParam = __webpack_require__(/*! ./ContourNoteParam */ "./service/extend/ContourNoteParam.js");

var _ContourParam = __webpack_require__(/*! ./ContourParam */ "./service/extend/ContourParam.js");

var _ContourZValue = __webpack_require__(/*! ./ContourZValue */ "./service/extend/ContourZValue.js");

var _ContourRegionInfo = __webpack_require__(/*! ./ContourRegionInfo */ "./service/extend/ContourRegionInfo.js");

var _MeshingParam = __webpack_require__(/*! ./MeshingParam */ "./service/extend/MeshingParam.js");

var _NetAnalyse = __webpack_require__(/*! ./NetAnalyse */ "./service/extend/NetAnalyse.js");

var _NetAnalysisExtent = __webpack_require__(/*! ./NetAnalysisExtent */ "./service/extend/NetAnalysisExtent.js");

var _SlopLineParam = __webpack_require__(/*! ./SlopLineParam */ "./service/extend/SlopLineParam.js");

exports.ContourNoteParam = _ContourNoteParam.ContourNoteParam;
exports.ContourParam = _ContourParam.ContourParam;
exports.ContourZValue = _ContourZValue.ContourZValue;
exports.ContourRegionInfo = _ContourRegionInfo.ContourRegionInfo;
exports.MeshingParam = _MeshingParam.MeshingParam;
exports.NetAnalyse = _NetAnalyse.NetAnalyse;
exports.NetAnalysisExtent = _NetAnalysisExtent.NetAnalysisExtent;
exports.SlopLineParam = _SlopLineParam.SlopLineParam;

/***/ }),

/***/ "./service/iserver/CommonServiceBase.js":
/*!**********************************************!*\
  !*** ./service/iserver/CommonServiceBase.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CommonServiceBase = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _Events = __webpack_require__(/*! ./Events */ "./service/iserver/Events.js");

var _JSONFormat = __webpack_require__(/*! ./JSONFormat */ "./service/iserver/JSONFormat.js");

var _FetchRequest = __webpack_require__(/*! ./FetchRequest */ "./service/iserver/FetchRequest.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @class CommonServiceBase
* @classdesc 对接iServer各种服务的Service的基类。
* @param url - {string} 服务地址。
* @param options - {Object} 可选参数。如：<br>
*        eventListeners - {Object} 事件监听器对象。有processCompleted属性可传入处理完成后的回调函数。processFailed属性传入处理失败后的回调函数。<br>
*/

var CommonServiceBase = function () {
    function CommonServiceBase(url, options) {
        (0, _classCallCheck3.default)(this, CommonServiceBase);

        var me = this;
        this.EVENT_TYPES = ["processCompleted", "processFailed"];

        this.events = null;
        this.eventListeners = null;
        this.url = null;
        this.urls = null;
        this.index = null;
        this.length = null;
        this.options = null;
        this.totalTimes = null;
        this.POLLING_TIMES = 3;
        this._processSuccess = null;
        this._processFailed = null;

        this.isInTheSameDomain = null;

        if ((0, _Util.isArray)(url)) {
            me.urls = url;
            me.length = url.length;
            me.totalTimes = me.length;
            if (me.length === 1) {
                me.url = url[0];
            } else {
                me.index = parseInt(Math.random() * me.length);
                me.url = url[me.index];
            }
        } else {
            me.totalTimes = 1;
            me.url = url;
        }
        options = options || {};

        if (options) {
            (0, _Util.extend)(this, options);
        }

        me.isInTheSameDomain = (0, _Util.isInTheSameDomain)(me.url);

        me.events = new _Events.Events(me, null, me.EVENT_TYPES, true);
        if (me.eventListeners instanceof Object) {
            me.events.on(me.eventListeners);
        }
    }

    (0, _createClass3.default)(CommonServiceBase, [{
        key: "destroy",
        value: function destroy() {
            var me = this;
            if ((0, _Util.isArray)(me.urls)) {
                me.urls = null;
                me.index = null;
                me.length = null;
                me.totalTimes = null;
            }
            me.url = null;
            me.options = null;
            me._processSuccess = null;
            me._processFailed = null;
            me.isInTheSameDomain = null;

            me.EVENT_TYPES = null;
            if (me.events) {
                me.events.destroy();
                me.events = null;
            }
            if (me.eventListeners) {
                me.eventListeners = null;
            }
        }

        /**
        * @function  CommonServiceBase.prototype.request
        * @description: 该方法用于向服务发送请求。
        * @param options - {Object} 参数。
        *        method - {string} 请求方式，包括"GET"，"POST"，"PUT"，"DELETE"。<br>
        *        url - {string}  发送请求的地址。<br>
        *        params - {Object} 作为查询字符串添加到url中的一组键值对，此参数只适用于GET方式发送的请求。<br>
        *        data - {String } 发送到服务器的数据。<br>
        *        success - {function} 请求成功后的回调函数。<br>
        *        failure - {function} 请求失败后的回调函数。<br>
        *        scope - {Object} 如果回调函数是对象的一个公共方法，设定该对象的范围。<br>
        *        isInTheSameDomain - {boolean} 请求是否在当前域中。<br>
        */

    }, {
        key: "request",
        value: function request(options) {
            var me = this;
            options.url = options.url || me.url;
            options.isInTheSameDomain = me.isInTheSameDomain;
            //为url添加安全认证信息片段
            //        var credential = this.getCredential(options.url);
            //        if (credential) {
            //            //当url中含有?，并且?在url末尾的时候直接添加token *网络分析等服务请求url会出现末尾是?的情况*
            //            //当url中含有?，并且?不在url末尾的时候添加&token
            //            //当url中不含有?，在url末尾添加?token
            //            var endStr = options.url.substring(options.url.length - 1, options.url.length);
            //            if (options.url.indexOf("?") > -1 && endStr === "?") {
            //                options.url += credential.getUrlParameters();
            //            } else if (options.url.indexOf("?") > -1 && endStr !== "?") {
            //                options.url += "&" + credential.getUrlParameters();
            //            } else {
            //                options.url += "?" + credential.getUrlParameters();
            //            }
            //        }
            me.calculatePollingTimes();
            me._processSuccess = options.success;
            me._processFailed = options.failure;
            options.scope = me;
            options.success = me.getUrlCompleted;
            options.failure = me.getUrlFailed;
            me.options = options;
            me._commit(me.options);
        }

        /**
        * @function Zondy.CommonServiceBase.prototype.getUrlCompleted
        * @description 请求成功后执行此方法。
        * @param result - {Object} 服务器返回的结果对象。
        */

    }, {
        key: "getUrlCompleted",
        value: function getUrlCompleted(result) {
            var me = this;
            me._processSuccess(result);
        }

        /**
        * @function CommonServiceBase.prototype.getUrlFailed
        * @description 请求失败后执行此方法。
        * @param result - {Object} 服务器返回的结果对象。
        */

    }, {
        key: "getUrlFailed",
        value: function getUrlFailed(result) {
            var me = this;
            if (me.totalTimes > 0) {
                me.totalTimes--;
                me.ajaxPolling();
            } else {
                me._processFailed(result);
            }
        }

        /**
        *
        * @function CommonServiceBase.prototype.ajaxPolling
        * @description 请求失败后，如果剩余请求失败次数不为0，重新获取url发送请求
        */

    }, {
        key: "ajaxPolling",
        value: function ajaxPolling() {
            var me = this,
                url = me.options.url,
                re = /^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;
            me.index = parseInt(Math.random() * me.length);
            me.url = me.urls[me.index];
            url = url.replace(re, re.exec(me.url)[0]);
            me.options.url = url;
            me.options.isInTheSameDomain = (0, _Util.isInTheSameDomain)(url);
            me._commit(me.options);
        }

        /**
        * @function CommonServiceBase.prototype.calculatePollingTimes
        * @description 计算剩余请求失败执行次数。
        */

    }, {
        key: "calculatePollingTimes",
        value: function calculatePollingTimes() {
            var me = this;
            if (me.times) {
                if (me.totalTimes > me.POLLING_TIMES) {
                    if (me.times > me.POLLING_TIMES) {
                        me.totalTimes = me.POLLING_TIMES;
                    } else {
                        me.totalTimes = me.times;
                    }
                } else {
                    if (me.times < me.totalTimes) {
                        me.totalTimes = me.times;
                    }
                }
            } else {
                if (me.totalTimes > me.POLLING_TIMES) {
                    me.totalTimes = me.POLLING_TIMES;
                }
            }
            me.totalTimes--;
        }

        /**
        * @function CommonServiceBase.prototype.serviceProcessCompleted
        * @description 状态完成，执行此方法。
        * @param result - {Object} 服务器返回的结果对象。
        */

    }, {
        key: "serviceProcessCompleted",
        value: function serviceProcessCompleted(result) {
            result = (0, _Util.transformResult)(result);
            this.events.triggerEvent("processCompleted", { result: result });
        }

        /**
        * @function CommonServiceBase.prototype.serviceProcessFailed
        * @description 状态失败，执行此方法。
        * @param result - {Object} 服务器返回的结果对象。
        */

    }, {
        key: "serviceProcessFailed",
        value: function serviceProcessFailed(result) {
            result = (0, _Util.transformResult)(result);
            var error = result.error || result;
            this.events.triggerEvent("processFailed", { error: error });
        }
    }, {
        key: "_commit",
        value: function _commit(options) {
            if (options.method === "POST" || options.method === "PUT") {
                if (options.params) {
                    options.url = (0, _Util.urlAppend)(options.url, (0, _Util.getParameterString)(options.params || {}));
                }
                options.params = options.data;
            }
            _FetchRequest.FetchRequest.commit(options.method, options.url, options.params, {
                headers: options.headers,
                withCredentials: options.withCredentials,
                timeout: options.async ? 0 : null,
                proxy: options.proxy
            }).then(function (response) {
                if (response.text) {
                    return response.text();
                }
                return response.json();
            }).then(function (text) {
                var result = null;
                if (typeof text === "string" && (text.toLowerCase() == 'true' || text.toLowerCase() == 'false')) {
                    result = {};
                    if (text.toLowerCase() == 'true') {
                        result.succeed = true;
                    } else {
                        result.error = true;
                    }
                } else if (typeof text === "string") {
                    result = new _JSONFormat.JSONFormat().read(text);
                }

                if (!result && isNaN(result) || result.error) {
                    if (result && result.error) {
                        result = { error: result.error };
                    } else {
                        result = { error: true };
                    }
                }
                if (result.error) {
                    var failure = options.scope ? (0, _Util.bind)(options.failure, options.scope) : options.failure;
                    failure(result);
                } else {
                    if (!isNaN(result)) //为数字
                        {
                            result = { value: result };
                        }
                    if (typeof result === "string") {
                        result = { value: result };
                    }
                    if (Object.prototype.toString.call(result) != '[object Array]') {
                        result.succeed = result.succeed == undefined ? true : result.succeed;
                    } else {
                        result = { value: result, succeed: true };
                    }
                    var success = options.scope ? (0, _Util.bind)(options.success, options.scope) : options.success;
                    success(result);
                }
            });
        }
    }]);
    return CommonServiceBase;
}();

;
exports.CommonServiceBase = CommonServiceBase;

_Base.Zondy.Service.CommonServiceBase = CommonServiceBase;

/***/ }),

/***/ "./service/iserver/Events.js":
/*!***********************************!*\
  !*** ./service/iserver/Events.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Events = undefined;

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @classdesc 事件类。
* @param object - {Object} 当前事件对象被添加到的JS对象。
* @param eventTypes - {Array<string>} 自定义应用事件的数组。
* @param fallThrough - {boolean} 是否允许事件处理之后向上传递（冒泡），为false的时候阻止事件冒泡。
* @param options - {Object} 事件对象选项。
*/
var Events = function Events(object, element, eventTypes, options) {
    this.listeners = {};

    /**
        * @description  发布应用程序事件的对象。
        */
    this.object = object;

    /**
        * @description 支持的事件类型列表。
        */
    this.eventTypes = [];

    this.extensions = {};

    /**
        */
    this.extensionCount = {};

    (0, _Util.extend)(this, options);

    if (eventTypes != null) {
        for (var i = 0, len = eventTypes.length; i < len; i++) {
            this.addEventType(eventTypes[i]);
        }
    }
};

/**
* @description 移除当前要素element上的所有事件监听和处理。
*/
Events.prototype.destroy = function () {
    for (var e in this.extensions) {
        if (typeof this.extensions[e] !== "boolean") {
            this.extensions[e].destroy();
        }
    }
    this.extensions = null;
    this.listeners = null;
    this.object = null;
    this.eventTypes = null;
};

/**
* @description 在此事件对象中添加新的事件类型，如果这个事件类型已经添加过了，则不做任何事情。
* @param eventName - {string} 事件名。
*/
Events.prototype.addEventType = function (eventName) {
    if (!this.listeners[eventName]) {
        this.eventTypes.push(eventName);
        this.listeners[eventName] = [];
    }
};
/**
* @description 在一个相同的范围内注册监听器的方法，此方法调用register函数。
* @example
* // 注册一个"loadstart"监听事件
* events.on({"loadstart": loadStartListener});
*
* // 同样注册一个"loadstart"监听事件
* events.register("loadstart", undefined, loadStartListener);
*
* // 同时为对象注册多个监听事件
* events.on({
*     "loadstart": loadStartListener,
*     "loadend": loadEndListener,
*     scope: object
* });
*
* // 同时为对象注册多个监听事件，多次调用register方法
* events.register("loadstart", object, loadStartListener);
* events.register("loadend", object, loadEndListener);
*
*
* @param  object - {Object} 添加监听的对象。
*/
Events.prototype.on = function (object) {
    for (var type in object) {
        if (type !== "scope" && object.hasOwnProperty(type)) {
            this.register(type, object.scope, object[type]);
        }
    }
};

/**
* @description 在事件对象上注册一个事件。当事件被触发时，'func'函数被调用
* @param type - {string} 事件注册者的名字。
* @param obj - {Object} 对象绑定的回调。如果没有特定的对象，则默认是事件的object属性。
* @param func - {function} 回调函数，如果没有特定的回调，则这个函数不做任何事情。
* @param priority - {boolean|Object} 当为true时将新的监听加在事件队列的前面。
*/
Events.prototype.register = function (type, obj, func, priority) {
    if (type in Events && !this.extensions[type]) {
        this.extensions[type] = new Events[type](this);
    }
    if (func != null && (0, _Util.indexOf)(this.eventTypes, type) !== -1) {

        if (obj == null) {
            obj = this.object;
        }
        var listeners = this.listeners[type];
        if (!listeners) {
            listeners = [];
            this.listeners[type] = listeners;
            this.extensionCount[type] = 0;
        }
        var listener = { obj: obj, func: func };
        if (priority) {
            listeners.splice(this.extensionCount[type], 0, listener);
            if ((typeof priority === "undefined" ? "undefined" : (0, _typeof3.default)(priority)) === "object" && priority.extension) {
                this.extensionCount[type]++;
            }
        } else {
            listeners.push(listener);
        }
    }
};

/**
    * @description 相同的注册方法，但是在前面增加新的监听者事件查询而代替到方法的结束。
    * @param type - {string} 事件注册者的名字。
    * @param obj - {Object} 对象绑定方面的回调。如果没有特定的对象，则默认是事件的object属性。
    * @param func - {function} 回调函数，如果没有特定的回调，则这个函数不做任何事情。
    */
Events.prototype.registerPriority = function (type, obj, func) {
    this.register(type, obj, func, true);
};

/**
* @description 在一个相同的范围内取消注册监听器的方法，此方法调用unregister函数。
* @example
* // 移除"loadstart" 事件监听
* events.un({"loadstart": loadStartListener});
*
* // 使用unregister方法移除"loadstart" 事件监听
* events.unregister("loadstart", undefined, loadStartListener);
*
* // 取消对象多个事件监听
* events.un({
*     "loadstart": loadStartListener,
*     "loadend": loadEndListener,
*     scope: object
* });
*
* // 取消对象多个事件监听，多次调用unregister方法。
* events.unregister("loadstart", object, loadStartListener);
* events.unregister("loadend", object, loadEndListener);
*
* @param object - {Object} 移除监听的对象。
*/
Events.prototype.un = function (object) {
    for (var type in object) {
        if (type !== "scope" && object.hasOwnProperty(type)) {
            this.unregister(type, object.scope, object[type]);
        }
    }
};

/**
* @description 取消注册。
* @param type - {string} 事件类型。
* @param obj - {Object} 默认为 this.object。
* @param func - {function} 事件监听。
*/
Events.prototype.unregister = function (type, obj, func) {
    if (obj == null) {
        obj = this.object;
    }
    var listeners = this.listeners[type];
    if (listeners != null) {
        for (var i = 0, len = listeners.length; i < len; i++) {
            if (listeners[i].obj === obj && listeners[i].func === func) {
                listeners.splice(i, 1);
                break;
            }
        }
    }
};

/**
* @description 删除某个事件类型的所有监听，如果该事件类型没有注册，则不做任何操作。
* @param type - {string} 事件类型。
*/
Events.prototype.remove = function (type) {
    if (this.listeners[type] != null) {
        this.listeners[type] = [];
    }
};

/**
* @description 触发一个特定的注册事件。
* @param type - {string} 触发事件类型。
* @param evt - {Event} 事件对象。
* @returns {boolean} 返回监听对象，如果返回是falee，则停止监听。
*/
Events.prototype.triggerEvent = function (type, evt) {
    var listeners = this.listeners[type];

    // fast path
    if (!listeners || listeners.length == 0) {
        return undefined;
    }

    // prep evt object with object & div references
    if (evt == null) {
        evt = {};
    }
    evt.object = this.object;
    if (!evt.type) {
        evt.type = type;
    }

    // execute all callbacks registered for specified type
    // get a clone of the listeners array to
    // allow for splicing during callbacks
    listeners = listeners.slice();
    var continueChain;
    for (var i = 0, len = listeners.length; i < len; i++) {
        var callback = listeners[i];
        // bind the context to callback.obj
        continueChain = callback.func.apply(callback.obj, [evt]);

        if (continueChain != undefined && continueChain == false) {
            // if callback returns false, execute no more callbacks.
            break;
        }
    }
    // don't fall through to other DOM elements
    //    if (!this.fallThrough) {
    //        Event.stop(evt, true);
    //    }
    return continueChain;
};
exports.Events = Events;

/***/ }),

/***/ "./service/iserver/FetchRequest.js":
/*!*****************************************!*\
  !*** ./service/iserver/FetchRequest.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FetchRequest = exports.RequestTimeout = exports.CORS = undefined;

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

var _promise = __webpack_require__(/*! babel-runtime/core-js/promise */ "./node_modules/babel-runtime/core-js/promise.js");

var _promise2 = _interopRequireDefault(_promise);

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

__webpack_require__(/*! ./PromisePolyfill */ "./service/iserver/PromisePolyfill.js");

__webpack_require__(/*! ../../3rdLib/fetch */ "./3rdLib/fetch.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fetch = window.fetch;

/**
 * @member Zondy.CORS
 * @description 是否支持跨域
 * @type {boolean}
 */
var CORS = Zondy.CORS = Zondy.CORS || window.XMLHttpRequest && 'withCredentials' in new window.XMLHttpRequest();
/**
 * @member Zondy.RequestTimeout
 * @description 请求超时时间，默认45s
 * @type {number}
 */
var RequestTimeout = Zondy.RequestTimeout = Zondy.RequestTimeout || 45000;
var FetchRequest = Zondy.FetchRequest = {
    commit: function commit(method, url, params, options) {
        method = method ? method.toUpperCase() : method;
        switch (method) {
            case 'GET':
                return this._get(url, params, options);
            case 'POST':
                return this._post(url, params, options);
            case 'PUT':
                return this._put(url, params, options);
            case 'DELETE':
                return this._delete(url, params, options);
            default:
                return this._get(url, params, options);
        }
    },

    _get: function _get(url, params, options) {
        options = options || {};
        var type = 'GET';
        url = this._processUrl(url, options);
        url = Zondy.Util.urlAppend(url, this._getParameterString(params || {}));
        if (!this.urlIsLong(url)) {
            return this._fetch(url, params, options, type);
            //            if (MapGis.Util.isInTheSameDomain(url) || CORS || options.proxy) {
            //                return this._fetch(url, params, options, type);
            //            }
            //            if (!MapGis.Util.isInTheSameDomain(url)) {
            //                url = url.replace('.json', '.jsonp');
            //                return this._fetchJsonp(url, options);
            //            }
        }
        return this._postSimulatie(type, url.substring(0, url.indexOf('?') - 1), params, options);
    },

    _delete: function _delete(url, params, options) {
        options = options || {};
        var type = 'DELETE';
        url = this._processUrl(url, options);
        url = Zondy.Util.urlAppend(url, this._getParameterString(params || {}));
        if (!this.urlIsLong(url) && CORS) {
            return this._fetch(url, params, options, type);
        }
        return this._postSimulatie(type, url.substring(0, url.indexOf('?') - 1), params, options);
    },

    _post: function _post(url, params, options) {
        options = options || {};
        return this._fetch(this._processUrl(url, options), params, options, 'POST');
    },

    _put: function _put(url, params, options) {
        options = options || {};
        return this._fetch(this._processUrl(url, options), params, options, 'PUT');
    },
    urlIsLong: function urlIsLong(url) {
        //当前url的字节长度。
        var totalLength = 0,
            charCode = null;
        for (var i = 0, len = url.length; i < len; i++) {
            //转化为Unicode编码
            charCode = url.charCodeAt(i);
            if (charCode < 0x007f) {
                totalLength++;
            } else if (0x0080 <= charCode && charCode <= 0x07ff) {
                totalLength += 2;
            } else if (0x0800 <= charCode && charCode <= 0xffff) {
                totalLength += 3;
            }
        }
        return totalLength < 2000 ? false : true;
    },
    _postSimulatie: function _postSimulatie(type, url, params, options) {
        var separator = url.indexOf("?") > -1 ? "&" : "?";
        url += separator + '_method=' + type;
        if (typeof params !== 'string') {
            params = (0, _stringify2.default)(params);
        }
        return this._post(url, params, options);
    },

    _processUrl: function _processUrl(url, options) {
        if (this._isMVTRequest(url)) {
            return url;
        }

        //        if (url.indexOf('.json') === -1 && !options.withoutFormatSuffix) {
        //            if (url.indexOf("?") < 0) {
        //                url += '.json'
        //            } else {
        //                var urlArrays = url.split("?");
        //                if (urlArrays.length === 2) {
        //                    url = urlArrays[0] + ".json?" + urlArrays[1]
        //                }
        //            }
        //        }
        if (options && options.proxy) {
            if (typeof options.proxy === "function") {
                url = options.proxy(url);
            } else {
                url = decodeURIComponent(url);
                url = options.proxy + encodeURIComponent(url);
            }
        }
        return url;
    },

    _fetch: function _fetch(url, params, options, type) {
        options = options || {};
        options.headers = options.headers || {};
        if (!options.headers['Content-Type']) {
            options.headers['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';
        }
        //        options.headers['Access-Control-Allow-Origin'] = '*';
        //        options.headers['Access-Control-Allow-Headers'] = 'Origin,X-Requested-With,Content-Type,Accept';
        //        options.headers['Accept'] = 'application/json';
        // options.headers['Access-Control-Allow-Methods'] = 'POST, GET, OPTIONS, PUT, DELETE';
        if (options.timeout) {
            return this._timeout(options.timeout, fetch(url, {
                method: type,
                headers: options.headers,
                body: type === 'PUT' || type === 'POST' ? params : undefined,
                credentials: options.withCredentials ? 'include' : 'omit',
                mode: 'cors',
                timeout: RequestTimeout
            }).then(function (response) {
                return response;
            }));
        }
        return fetch(url, {
            method: type,
            body: type === 'PUT' || type === 'POST' ? params : undefined,
            headers: options.headers,
            credentials: options.withCredentials ? 'include' : 'omit',
            mode: 'cors',
            timeout: RequestTimeout
        }).then(function (response) {
            return response;
        });
    },

    //    _fetchJsonp: function (url, options) {
    //        options = options || {};
    //        return fetchJsonp(url, { method: 'GET', timeout: options.timeout })
    //            .then(function (response) {
    //                return response;
    //            });
    //    },

    _timeout: function _timeout(seconds, promise) {
        return new _promise2.default(function (resolve, reject) {
            setTimeout(function () {
                reject(new Error("timeout"));
            }, seconds);
            promise.then(resolve, reject);
        });
    },

    _getParameterString: function _getParameterString(params) {
        var paramsArray = [];
        for (var key in params) {
            var value = params[key];
            if (value != null && typeof value !== 'function') {
                var encodedValue;
                if ((typeof value === "undefined" ? "undefined" : (0, _typeof3.default)(value)) === 'object' && value.constructor === Array) {
                    var encodedItemArray = [];
                    var item;
                    for (var itemIndex = 0, len = value.length; itemIndex < len; itemIndex++) {
                        item = value[itemIndex];
                        encodedItemArray.push(encodeURIComponent(item === null || item === undefined ? "" : item));
                    }
                    encodedValue = '[' + encodedItemArray.join(",") + ']';
                } else {
                    encodedValue = encodeURIComponent(value);
                }
                paramsArray.push(encodeURIComponent(key) + "=" + encodedValue);
            }
        }
        return paramsArray.join("&");
    },

    _isMVTRequest: function _isMVTRequest(url) {
        return url.indexOf('.mvt') > -1 || url.indexOf('.pbf') > -1;
    }
};
exports.CORS = CORS;
exports.RequestTimeout = RequestTimeout;
exports.FetchRequest = FetchRequest;

Zondy.Service.FetchRequest = FetchRequest;
Zondy.Service.CORS = CORS;
Zondy.Service.RequestTimeout = RequestTimeout;

/***/ }),

/***/ "./service/iserver/IServiceBase.js":
/*!*****************************************!*\
  !*** ./service/iserver/IServiceBase.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.IgsServiceBase = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(/*! babel-runtime/helpers/get */ "./node_modules/babel-runtime/helpers/get.js");

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _CommonServiceBase2 = __webpack_require__(/*! ./CommonServiceBase */ "./service/iserver/CommonServiceBase.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @name IgsServiceBase
* @namespace
* @description 服务基类。
*/
var IgsServiceBase = function (_CommonServiceBase) {
    (0, _inherits3.default)(IgsServiceBase, _CommonServiceBase);

    function IgsServiceBase(url, options) {
        (0, _classCallCheck3.default)(this, IgsServiceBase);

        var options = options || {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (IgsServiceBase.__proto__ || (0, _getPrototypeOf2.default)(IgsServiceBase)).call(this, url, options));

        _this.CLASS_NAME = "Zondy.IgsServiceBase";

        return _this;
    }

    (0, _createClass3.default)(IgsServiceBase, [{
        key: "destroy",
        value: function destroy() {
            (0, _get3.default)(IgsServiceBase.prototype.__proto__ || (0, _getPrototypeOf2.default)(IgsServiceBase.prototype), "destroy", this).call(this);
            var me = this;
            if (me.events) {
                me.events.un(me.eventListeners);
                me.events.listeners = null;
                me.events.destroy();
                me.events = null;
                me.eventListeners = null;
            }
        }
        /**
        * @function  MapService.prototype.processAsync
        * @description 负责将客户端的设置的参数传递到服务端，与服务端完成异步通讯。
        */

    }, {
        key: "processAsync",
        value: function processAsync(options) {
            var me = this;
            me.request({
                method: options && options.method ? options.method : 'GET',
                scope: me,
                success: me.serviceProcessCompleted,
                failure: me.serviceProcessFailed,
                data: options && options.data ? options.data : null,
                headers: options && options.headers ? options.headers : null
            });
        }

        /*
        * Method: serviceProcessCompleted
        * 获取地图状态完成，执行此方法。
        *
        * Parameters:
        * result - {Object} 服务器返回的结果对象。
        */

    }, {
        key: "serviceProcessCompleted",
        value: function serviceProcessCompleted(result) {
            var me = this;
            result = (0, _Util.transformResult)(result);
            if (result.succeed) {
                me.events && me.events.triggerEvent("processCompleted", { result: result });
            } else {
                ////在没有token是返回的是200，但是其实是没有权限，所以这里也应该是触发失败事件
                me.events.triggerEvent("processFailed", { error: result });
            }
        }
    }]);
    return IgsServiceBase;
}(_CommonServiceBase2.CommonServiceBase);

;
exports.IgsServiceBase = IgsServiceBase;

Zondy.Service.IgsServiceBase = IgsServiceBase;

/***/ }),

/***/ "./service/iserver/JSONFormat.js":
/*!***************************************!*\
  !*** ./service/iserver/JSONFormat.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.JSONFormat = undefined;

var _typeof2 = __webpack_require__(/*! babel-runtime/helpers/typeof */ "./node_modules/babel-runtime/helpers/typeof.js");

var _typeof3 = _interopRequireDefault(_typeof2);

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var JSONFormat = function JSONFormat(options) {
    /**
    * @description 当 <keepData> 属性设置为true，这是传递给<read>操作的要被解析的字符串。
    */
    this.data = null;

    /**
     * APIProperty: keepData
     * @description 保持最近读到的数据的引用（通过 <data> 属性）。默认值是false。
     */
    this.keepData = false;
    this.indent = "    ";

    /**
     * @description 用于格式化输出，space字符串会在名值对的":"后边添加。
     */
    this.space = " ";

    /**
     * @description 用于格式化输出, newline字符串会用在每一个名值对或数组项末尾。
     */
    this.newline = "\n";

    /**
     * @description 用于格式化输出, 表示的是缩进级别。
     */
    this.level = 0;

    /**
     * @description 是否在序列化的时候使用额外的空格控制结构。在write方法中使用，默认值为false。
     */
    this.pretty = false;

    /**
     * @description 判断浏览器是否原生支持JSON格式数据。
     */
    this.nativeJSON = function () {
        return !!(window.JSON && typeof JSON.parse === "function" && typeof _stringify2.default === "function");
    }();
    (0, _Util.extend)(this, options);
    this.options = options;

    this.serialize = {
        /**
        * @description 把对象转换为JSON字符串。
        * @param object - {Object} 可序列化的对象。
        * @return {string} JSON字符串。
        */
        'object': function object(_object) {
            // three special objects that we want to treat differently
            if (_object == null) {
                return "null";
            }
            if (_object.constructor === Date) {
                return this.serialize.date.apply(this, [_object]);
            }
            if (_object.constructor === Array) {
                return this.serialize.array.apply(this, [_object]);
            }
            var pieces = ['{'];
            this.level += 1;
            var key, keyJSON, valueJSON;

            var addComma = false;
            for (key in _object) {
                if (_object.hasOwnProperty(key)) {
                    // recursive calls need to allow for sub-classing
                    keyJSON = this.write.apply(this, [key, this.pretty]);
                    valueJSON = this.write.apply(this, [_object[key], this.pretty]);
                    if (keyJSON != null && valueJSON != null) {
                        if (addComma) {
                            pieces.push(',');
                        }
                        pieces.push(this.writeNewline(), this.writeIndent(), keyJSON, ':', this.writeSpace(), valueJSON);
                        addComma = true;
                    }
                }
            }

            this.level -= 1;
            pieces.push(this.writeNewline(), this.writeIndent(), '}');
            return pieces.join('');
        },

        /**
            * @description 把数组转换成JSON字符串。
            * @param array - {Array} 可序列化的数组。
            * @return {string} JSON字符串。
            */
        'array': function array(_array) {
            var json;
            var pieces = ['['];
            this.level += 1;

            for (var i = 0, len = _array.length; i < len; ++i) {
                // recursive calls need to allow for sub-classing
                json = this.write.apply(this, [_array[i], this.pretty]);
                if (json != null) {
                    if (i > 0) {
                        pieces.push(',');
                    }
                    pieces.push(this.writeNewline(), this.writeIndent(), json);
                }
            }

            this.level -= 1;
            pieces.push(this.writeNewline(), this.writeIndent(), ']');
            return pieces.join('');
        },

        /**
            * @description 把字符串转换成JSON字符串。
            * @param string - {string} 可序列化的字符串。
            * @return {string} JSON字符串。
            */
        'string': function string(_string) {
            // If the string contains no control characters, no quote characters, and no
            // backslash characters, then we can simply slap some quotes around it.
            // Otherwise we must also replace the offending characters with safe
            // sequences.
            var m = {
                '\b': '\\b',
                '\t': '\\t',
                '\n': '\\n',
                '\f': '\\f',
                '\r': '\\r',
                '"': '\\"',
                '\\': '\\\\'
            };
            /*eslint-disable no-control-regex*/
            if (/["\\\x00-\x1f]/.test(_string)) {
                return '"' + _string.replace(/([\x00-\x1f\\"])/g, function (a, b) {
                    var c = m[b];
                    if (c) {
                        return c;
                    }
                    c = b.charCodeAt();
                    return "\\u00" + Math.floor(c / 16).toString(16) + (c % 16).toString(16);
                }) + '"';
            }
            return '"' + _string + '"';
        },

        /**
            * @description 把数字转换成JSON字符串。
            * @param number - {number} 可序列化的数字。
            * @return {string} JSON字符串。
            */
        'number': function number(_number) {
            return isFinite(_number) ? String(_number) : "null";
        },

        /**
            * @description Transform a boolean into a JSON string.
            * @param bool - {boolean} The boolean to be serialized.
            * @return {string} A JSON string representing the boolean.
            */
        'boolean': function boolean(bool) {
            return String(bool);
        },

        /**
            * @description 将日期对象转换成JSON字符串。
            * @param date - {Date} 可序列化的日期对象。
            * @return {string} JSON字符串。
            */
        'date': function date(_date) {
            function format(number) {
                // Format integers to have at least two digits.
                return number < 10 ? '0' + number : number;
            }

            return '"' + _date.getFullYear() + '-' + format(_date.getMonth() + 1) + '-' + format(_date.getDate()) + 'T' + format(_date.getHours()) + ':' + format(_date.getMinutes()) + ':' + format(_date.getSeconds()) + '"';
        }
    };
};
/**
* @description 将一个符合json结构的字符串进行解析。
* @param json - {string} 符合json结构的字符串。
* @param filter - {function} 过滤方法，最终结果的每一个键值对都会调用该过滤方法，并在对应的值的位置替换成该方法返回的值。
* @return {Object} 对象，数组，字符串或数字。
*/
JSONFormat.prototype.read = function (json, filter) {
    var object;
    if (this.nativeJSON) {
        try {
            object = JSON.parse(json, filter);
        } catch (e) {
            // Fall through if the regexp test fails.
        }
    }

    if (this.keepData) {
        this.data = object;
    }
    return object;
};

/**
* @description 序列化一个对象到一个符合JSON格式的字符串。
* @param value - {object}|{string}|<Array>|{number}|{boolean} 需要被序列化的对象，数组，字符串，数字，布尔值。
* @param pretty - {boolean}
* @return {string} 符合JSON格式的字符串。
*
*/
JSONFormat.prototype.write = function (value, pretty) {
    this.pretty = !!pretty;
    var json = null;
    var type = typeof value === "undefined" ? "undefined" : (0, _typeof3.default)(value);
    if (this.serialize[type]) {
        try {
            json = !this.pretty && this.nativeJSON ? (0, _stringify2.default)(value) : this.serialize[type].apply(this, [value]);
        } catch (err) {
            Console.error("Trouble serializing: " + err);
        }
    }
    return json;
};

/**
* @description 根据缩进级别输出一个缩进字符串。
* @return {string} 一个适当的缩进字符串。
*/
JSONFormat.prototype.writeIndent = function () {
    var pieces = [];
    if (this.pretty) {
        for (var i = 0; i < this.level; ++i) {
            pieces.push(this.indent);
        }
    }
    return pieces.join('');
};

/**
* @description 在格式化输出模式情况下输出代表新一行的字符串。
* @return {string} 代表新的一行的字符串。
*/
JSONFormat.prototype.writeNewline = function () {
    return this.pretty ? this.newline : '';
};

/**
* @description 在格式化输出模式情况下输出一个代表空格的字符串。
* @return {string} A space.
*/
JSONFormat.prototype.writeSpace = function () {
    return this.pretty ? this.space : '';
};

exports.JSONFormat = JSONFormat;

Zondy.Service.JSONFormat = JSONFormat;

/***/ }),

/***/ "./service/iserver/PromisePolyfill.js":
/*!********************************************!*\
  !*** ./service/iserver/PromisePolyfill.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promisePolyfill = __webpack_require__(/*! ../../3rdLib/promise-polyfill */ "./3rdLib/promise-polyfill.js");

var _promisePolyfill2 = _interopRequireDefault(_promisePolyfill);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.Promise = _promisePolyfill2.default;

/***/ }),

/***/ "./service/iserver/index.js":
/*!**********************************!*\
  !*** ./service/iserver/index.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.JSONFormat = exports.IgsServiceBase = exports.FetchRequest = exports.RequestTimeout = exports.CORS = exports.Events = exports.CommonServiceBase = undefined;

var _CommonServiceBase = __webpack_require__(/*! ./CommonServiceBase */ "./service/iserver/CommonServiceBase.js");

var _Events = __webpack_require__(/*! ./Events */ "./service/iserver/Events.js");

var _FetchRequest = __webpack_require__(/*! ./FetchRequest */ "./service/iserver/FetchRequest.js");

var _IServiceBase = __webpack_require__(/*! ./IServiceBase */ "./service/iserver/IServiceBase.js");

var _JSONFormat = __webpack_require__(/*! ./JSONFormat */ "./service/iserver/JSONFormat.js");

exports.CommonServiceBase = _CommonServiceBase.CommonServiceBase;
exports.Events = _Events.Events;
exports.CORS = _FetchRequest.CORS;
exports.RequestTimeout = _FetchRequest.RequestTimeout;
exports.FetchRequest = _FetchRequest.FetchRequest;
exports.IgsServiceBase = _IServiceBase.IgsServiceBase;
exports.JSONFormat = _JSONFormat.JSONFormat;

/***/ }),

/***/ "./service/theme/CAllOtherDataItemInfoSource.js":
/*!******************************************************!*\
  !*** ./service/theme/CAllOtherDataItemInfoSource.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CAllOtherDataItemInfoSource = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var CAllOtherDataItemInfoSource = {
    /// <summary>
    /// 缺省的专题图形信息
    /// </summary> 
    DefaultThemeInfo: 1,
    /// <summary>
    /// 数据项的固有图形信息
    /// </summary>
    DataItemIntrinsicInfo: 2
};
exports.CAllOtherDataItemInfoSource = CAllOtherDataItemInfoSource;

_Base.Zondy.Object.Theme.CAllOtherDataItemInfoSource = CAllOtherDataItemInfoSource;

/***/ }),

/***/ "./service/theme/CAnnInfo.js":
/*!***********************************!*\
  !*** ./service/theme/CAnnInfo.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CAnnInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

/// <summary>
/// 注记图形参数对象
/// </summary>
var CAnnInfo = function CAnnInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>
    /// 库ID{int}
    /// </summary>
    //[DataMember(Name = "libID")]
    this.LibID = options.LibID !== undefined ? options.LibID : 0;

    /// <summary>
    /// 覆盖方式,true/false 覆盖/透明{bool}
    /// </summary>
    //[DataMember(Name = "ovprnt")]
    this.Ovprnt = options.Ovprnt !== undefined ? options.Ovprnt : false;

    /// <summary>
    /// 角度值{float}
    /// </summary>
    this.Angle = options.Ovprnt !== undefined ? options.Ovprnt : 0;

    /// <summary>
    /// 背景颜色{int}
    /// </summary>
    this.BackClr = options.BackClr !== undefined ? options.BackClr : 0;

    /// <summary>
    /// 文本显示范围扩展,返回扩展值{int}
    /// </summary>     
    this.BackExp = options.BackExp !== undefined ? options.BackExp : 0;

    /// <summary>
    /// 西文字体{int}
    /// </summary>
    this.Chnt = options.Chnt !== undefined ? options.Chnt : 0;

    /// <summary>
    /// 颜色号{int}
    /// </summary>
    this.Color = options.Color !== undefined ? options.Color : 0;

    /// <summary>
    /// 字符角度值{float}
    /// </summary>
    this.FontAngle = options.FontAngle !== undefined ? options.FontAngle : 0;

    /// <summary>
    /// 高度{float}
    /// </summary>
    this.Height = options.Height !== undefined ? options.Height : 0;

    /// <summary>
    /// 中文字体{float}
    /// </summary>
    this.Ifnt = options.Ifnt !== undefined ? options.Ifnt : 0;

    /// <summary>
    /// 字形{int}
    /// </summary>
    this.Ifnx = options.Ifnx !== undefined ? options.Ifnx : 0;

    /// <summary>
    /// 自动压背景颜色返回true，否则返回false{bool}
    /// </summary>
    this.IsFilled = options.IsFilled !== undefined ? options.IsFilled : false;

    /// <summary>
    /// 排列方式,水平排列返回true，垂直排列返回false{bool}
    /// </summary>
    this.IsHzpl = options.IsHzpl !== undefined ? options.IsHzpl : true;

    /// <summary>
    /// X方向的偏移{float}
    /// </summary>
    this.OffsetX = options.OffsetX !== undefined ? options.OffsetX : 0;

    /// <summary>
    /// Y方向的偏移{float}
    /// </summary>
    this.OffsetY = options.OffsetY !== undefined ? options.OffsetY : 0;

    /// <summary>
    /// 间隔值{float}
    /// </summary>
    this.Space = options.Space !== undefined ? options.Space : 0;

    /// <summary>
    /// 宽度{float}
    /// </summary>
    this.Width = options.Width !== undefined ? options.Width : 0;
};
exports.CAnnInfo = CAnnInfo;

_Base.Zondy.Object.Theme.CAnnInfo = CAnnInfo;

/***/ }),

/***/ "./service/theme/CChartLabelFormat.js":
/*!********************************************!*\
  !*** ./service/theme/CChartLabelFormat.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CChartLabelFormat = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var CChartLabelFormat = {
    /// <summary>
    /// 未知类型
    /// </summary>
    Unknown: 0,
    /// <summary>
    /// 实际值
    /// </summary>
    Value: 1,
    /// <summary>
    /// 百分比
    /// </summary>
    Percent: 2
};
exports.CChartLabelFormat = CChartLabelFormat;

_Base.Zondy.Object.Theme.CChartLabelFormat = CChartLabelFormat;

/***/ }),

/***/ "./service/theme/CChartTheme.js":
/*!**************************************!*\
  !*** ./service/theme/CChartTheme.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.CChartTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

var _CChartType = __webpack_require__(/*! ./CChartType */ "./service/theme/CChartType.js");

var _CChartThemeInfo = __webpack_require__(/*! ./CChartThemeInfo */ "./service/theme/CChartThemeInfo.js");

var _CChartThemeRepresentInfo = __webpack_require__(/*! ./CChartThemeRepresentInfo */ "./service/theme/CChartThemeRepresentInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 统计专题图
/// </summary>
var CChartTheme = function (_CTheme) {
        (0, _inherits3.default)(CChartTheme, _CTheme);

        function CChartTheme(opt_options) {
                (0, _classCallCheck3.default)(this, CChartTheme);

                var options = opt_options ? opt_options : {};

                /// <summary>
                /// 统计图类型{Zondy.Object.Theme.CChartType}
                /// </summary>
                var _this = (0, _possibleConstructorReturn3.default)(this, (CChartTheme.__proto__ || (0, _getPrototypeOf2.default)(CChartTheme)).call(this, options));

                _this.ChartType = options.ChartType !== undefined ? options.ChartType : _CChartType.CChartType.Bar;

                /// <summary>
                /// 统计专题图信息{Zondy.Object.Theme.CChartThemeInfo[]}
                /// </summary>
                _this.ChartThemeInfoArr = options.ChartThemeInfoArr !== undefined ? options.ChartThemeInfoArr : null;

                /// <summary>
                /// 统计图符号参数信息{Zondy.Object.Theme.CChartThemeRepresentInfo}
                /// </summary>
                _this.RepresentInfo = options.RepresentInfo !== undefined ? options.RepresentInfo : null;

                /// <summary>
                /// 专题图类型{string} 只读属性
                /// </summary>
                _this.Type = "CChartTheme";
                return _this;
        }

        return CChartTheme;
}(_CTheme2.CTheme);

;
exports.CChartTheme = CChartTheme;

_Base.Zondy.Object.Theme.CChartTheme = CChartTheme;

/***/ }),

/***/ "./service/theme/CChartThemeInfo.js":
/*!******************************************!*\
  !*** ./service/theme/CChartThemeInfo.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CChartThemeInfo = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CThemeInfo2 = __webpack_require__(/*! ./CThemeInfo */ "./service/theme/CThemeInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 统计专题图信息
/// </summary>
var CChartThemeInfo = function (_CThemeInfo) {
    (0, _inherits3.default)(CChartThemeInfo, _CThemeInfo);

    /// <summary>统计专题图信息对象构造函数</summary>
    /// <param name="expression" type="String">字段表达式</param>
    /// <param name="opt_options" type="Object">属性键值对</param>
    function CChartThemeInfo(expression, opt_options) {
        (0, _classCallCheck3.default)(this, CChartThemeInfo);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (CChartThemeInfo.__proto__ || (0, _getPrototypeOf2.default)(CChartThemeInfo)).call(this, options));

        _this.Expression = expression !== undefined ? expression : "";
        return _this;
    }

    return CChartThemeInfo;
}(_CThemeInfo2.CThemeInfo);

;
exports.CChartThemeInfo = CChartThemeInfo;

_Base.Zondy.Object.Theme.CChartThemeInfo = CChartThemeInfo;

/***/ }),

/***/ "./service/theme/CChartThemeRepresentInfo.js":
/*!***************************************************!*\
  !*** ./service/theme/CChartThemeRepresentInfo.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CChartThemeRepresentInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _CAnnInfo = __webpack_require__(/*! ./CAnnInfo */ "./service/theme/CAnnInfo.js");

var _CChartLabelFormat = __webpack_require__(/*! ./CChartLabelFormat */ "./service/theme/CChartLabelFormat.js");

/// <summary>
/// 统计图符号参数信息
/// </summary>
var CChartThemeRepresentInfo = function CChartThemeRepresentInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>
    /// 统计值作为注记的表现信息{Zondy.Object.Theme.CAnnInfo}
    /// </summary>
    this.AnnInfoLabel = options.AnnInfoLabel !== undefined ? options.AnnInfoLabel : new _CAnnInfo.CAnnInfo();

    /// <summary>
    /// 统计值小数点位置{int}
    /// </summary>
    this.DigitLabel = options.DigitLabel !== undefined ? options.DigitLabel : 0;

    /// <summary>
    /// 统计值类型{Zondy.Object.Theme.CChartLabelFormat}
    /// </summary>
    this.FormatLabel = options.FormatLabel !== undefined ? options.FormatLabel : _CChartLabelFormat.CChartLabelFormat.Unknown;

    /// <summary>
    /// 是否显示统计值{bool}
    /// </summary>
    this.IsDrawLabel = options.IsDrawLabel !== undefined ? options.IsDrawLabel : true;

    /// <summary>
    /// 线颜色值{int}
    /// </summary>
    this.LineColor = options.LineColor !== undefined ? options.LineColor : -1;

    /// <summary>
    /// 统计图标最大长度{double}
    /// </summary>
    this.MaxLength = options.MaxLength !== undefined ? options.MaxLength : 30;

    /// <summary>
    /// 统计图标最小半径{double}
    /// </summary>
    this.MinRadius = options.MinRadius !== undefined ? options.MinRadius : 10;

    /// <summary>
    /// 统计图标大小是否固定{int}
    /// </summary>
    this.PieSizeFixFlag = options.PieSizeFixFlag !== undefined ? options.PieSizeFixFlag : 0;

    /// <summary>
    /// 统计图标倾斜角度{double}
    /// </summary>
    this.PieTiltedAngle = options.PieTiltedAngle !== undefined ? options.PieTiltedAngle : 30;

    /// <summary>
    /// 统计图标半径{double}
    /// </summary>
    this.PlotRadius = options.PlotRadius !== undefined ? options.PlotRadius : 1;

    /// <summary>
    /// 统计图标厚度{double}
    /// </summary>
    this.ThickPersent = options.ThickPersent !== undefined ? options.ThickPersent : 10;

    /// <summary>
    /// 统计图标宽度{double}
    /// </summary>
    this.Width = options.Width !== undefined ? options.Width : 3;
};
exports.CChartThemeRepresentInfo = CChartThemeRepresentInfo;

_Base.Zondy.Object.Theme.CChartThemeRepresentInfo = CChartThemeRepresentInfo;

/***/ }),

/***/ "./service/theme/CChartType.js":
/*!*************************************!*\
  !*** ./service/theme/CChartType.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CChartType = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var CChartType = {
    /// <summary>
    /// 未知类型
    /// </summary>
    Unknown: 0,
    /// <summary>
    /// 直方图
    /// </summary>
    Bar: 1,
    /// <summary>
    /// 3D直方图
    /// </summary>
    Bar3D: 2,
    /// <summary>
    /// 饼图
    /// </summary>
    Pie: 3,
    /// <summary>
    /// 3D饼图
    /// </summary>
    Pie3D: 4,
    /// <summary>
    /// 折线图
    /// </summary>
    Line: 5,
    /// <summary>
    /// 3D折线图
    /// </summary>
    Line3D: 6,
    /// <summary>
    /// 散点图
    /// </summary>
    Point: 7
};
exports.CChartType = CChartType;

_Base.Zondy.Object.Theme.CChartType = CChartType;

/***/ }),

/***/ "./service/theme/CDotDensityTheme.js":
/*!*******************************************!*\
  !*** ./service/theme/CDotDensityTheme.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.CDotDensityTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

var _CPntInfo = __webpack_require__(/*! ./CPntInfo */ "./service/theme/CPntInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 点密度专题图
/// </summary>
var CDotDensityTheme = function (_CTheme) {
        (0, _inherits3.default)(CDotDensityTheme, _CTheme);

        function CDotDensityTheme(opt_options) {
                (0, _classCallCheck3.default)(this, CDotDensityTheme);

                var options = opt_options ? opt_options : {};

                /// <summary>
                /// 字段表达式{string}
                /// </summary>
                var _this = (0, _possibleConstructorReturn3.default)(this, (CDotDensityTheme.__proto__ || (0, _getPrototypeOf2.default)(CDotDensityTheme)).call(this, options));

                _this.Expression = options.Expression !== undefined ? options.Expression : "";

                /// <summary>
                /// 点图形信息{Zondy.Object.Theme.CPntInfo}
                /// </summary>
                _this.Info = options.Info !== undefined ? options.Info : null;

                /// <summary>
                /// 专题图中每一个点所代表的数值{double}
                /// </summary>
                _this.Value = options.Value !== undefined ? options.Value : null;

                /// <summary>
                /// 专题图类型{string} 只读属性
                /// </summary>
                _this.Type = "CDotDensityTheme";
                return _this;
        }

        return CDotDensityTheme;
}(_CTheme2.CTheme);

;
exports.CDotDensityTheme = CDotDensityTheme;

_Base.Zondy.Object.Theme.CDotDensityTheme = CDotDensityTheme;

/***/ }),

/***/ "./service/theme/CFourColorTheme.js":
/*!******************************************!*\
  !*** ./service/theme/CFourColorTheme.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CFourColorTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 四色专题图
/// </summary>
var CFourColorTheme = function (_CTheme) {
    (0, _inherits3.default)(CFourColorTheme, _CTheme);

    function CFourColorTheme(opt_options) {
        (0, _classCallCheck3.default)(this, CFourColorTheme);

        var options = opt_options ? opt_options : {};

        /// <summary>
        /// 颜色信息,最长为16,优先选择前4种{int[]}
        /// </summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (CFourColorTheme.__proto__ || (0, _getPrototypeOf2.default)(CFourColorTheme)).call(this, options));

        _this.ClrInfo = options.ClrInfo !== undefined ? options.ClrInfo : [25, 57, 89, 121];

        /// <summary>
        /// 专题图类型{string} 只读属性
        /// </summary>
        _this.Type = "CFourColorTheme";
        return _this;
    }

    return CFourColorTheme;
}(_CTheme2.CTheme);

;
exports.CFourColorTheme = CFourColorTheme;

_Base.Zondy.Object.Theme.CFourColorTheme = CFourColorTheme;

/***/ }),

/***/ "./service/theme/CGraduatedSymbolTheme.js":
/*!************************************************!*\
  !*** ./service/theme/CGraduatedSymbolTheme.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.CGraduatedSymbolTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

var _CPntInfo = __webpack_require__(/*! ./CPntInfo */ "./service/theme/CPntInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 等级符号专题图
/// </summary>
var CGraduatedSymbolTheme = function (_CTheme) {
        (0, _inherits3.default)(CGraduatedSymbolTheme, _CTheme);

        function CGraduatedSymbolTheme(opt_options) {
                (0, _classCallCheck3.default)(this, CGraduatedSymbolTheme);

                var options = opt_options ? opt_options : {};

                /// <summary>
                /// 一定大小的符号代表的属性值{float}
                /// </summary>
                var _this = (0, _possibleConstructorReturn3.default)(this, (CGraduatedSymbolTheme.__proto__ || (0, _getPrototypeOf2.default)(CGraduatedSymbolTheme)).call(this, options));

                _this.BaseValue = options.BaseValue !== undefined ? options.BaseValue : 0.000141;

                /// <summary>
                /// 是否显示负值{bool}
                /// </summary>
                _this.DispMinus = options.DispMinus !== undefined ? options.DispMinus : false;

                /// <summary>
                /// 是否显示零值{bool}
                /// </summary>
                _this.DispZero = options.DispZero !== undefined ? options.DispZero : false;

                /// <summary>
                /// 字段表达式{string}
                /// </summary>
                _this.Expression = options.Expression !== undefined ? options.Expression : null;

                /// <summary>
                /// 负值点图形信息{CPntInfo}
                /// </summary> 
                _this.MinusPntInfo = options.MinusPntInfo !== undefined ? options.MinusPntInfo : null;

                /// <summary>
                /// 正值点图形信息{CPntInfo}
                /// </summary>
                _this.PlusPntInfo = options.PlusPntInfo !== undefined ? options.PlusPntInfo : null;

                /// <summary>
                /// 零值点图形信息{CPntInfo}
                /// </summary>
                _this.ZeroPntInfo = options.ZeroPntInfo !== undefined ? options.ZeroPntInfo : null;

                /// <summary>
                /// 专题图类型{string} 只读属性
                /// </summary>
                _this.Type = "CGraduatedSymbolTheme";
                return _this;
        }

        return CGraduatedSymbolTheme;
}(_CTheme2.CTheme);

;
exports.CGraduatedSymbolTheme = CGraduatedSymbolTheme;

_Base.Zondy.Object.Theme.CGraduatedSymbolTheme = CGraduatedSymbolTheme;

/***/ }),

/***/ "./service/theme/CLinInfo.js":
/*!***********************************!*\
  !*** ./service/theme/CLinInfo.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CLinInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _EnumComm = __webpack_require__(/*! ../common/EnumComm */ "./service/common/EnumComm.js");

/// <summary>
/// 线图形参数对象
/// </summary>
var CLinInfo = function CLinInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>
    /// 库ID{int}
    /// </summary>
    this.LibID = options.LibID !== undefined ? options.LibID : 0;

    /// <summary>
    /// 覆盖方式,true/false 覆盖/透明{bool}
    /// </summary>
    this.Ovprnt = options.Ovprnt !== undefined ? options.Ovprnt : false;

    /// <summary>
    /// 线型调整方法{Zondy.Enum.Theme.CLinAdjustType}
    /// </summary>
    this.AdjustFlg = options.AdjustFlg !== undefined ? options.AdjustFlg : _EnumComm.CLinAdjustType.Adjust;

    /// <summary>
    /// 线头类型{Zondy.Enum.Theme.CLinHeadType}
    /// </summary>
    this.HeadType = options.HeadType !== undefined ? options.HeadType : _EnumComm.CLinHeadType.Round;

    /// <summary>
    /// 拐角类型{Zondy.Enum.Theme.CLinJointType}
    /// </summary>
    this.JointType = options.JointType !== undefined ? options.JointType : _EnumComm.CLinJointType.Round;

    /// <summary>
    /// 线型号{int}
    /// </summary>
    this.LinStyID = options.LinStyID !== undefined ? options.LinStyID : 0;

    /// <summary>
    /// 线型生成方法{Zondy.Enum.Theme.CLinStyleMakeType}
    /// </summary>
    this.MakeMethod = options.MakeMethod !== undefined ? options.MakeMethod : _EnumComm.CLinStyleMakeType.Byrule;

    /// <summary>
    /// 可变颜色,数组长度为3{int[]}
    /// </summary>
    this.OutClr = options.OutClr !== undefined ? options.OutClr : [46, 4, 3];

    /// <summary>
    /// X系数{float}
    /// </summary>
    this.XScale = options.XScale !== undefined ? options.XScale : 10;

    /// <summary>
    /// Y系数{float}
    /// </summary>
    this.YScale = options.YScale !== undefined ? options.YScale : 10;

    /// <summary>
    /// 外部笔宽,数组长度为3{float[]}
    /// </summary>
    this.OutPenW = options.OutPenW !== undefined ? options.OutPenW : [0.05, 0.05, 0.05];
};
exports.CLinInfo = CLinInfo;

_Base.Zondy.Object.Theme.CLinInfo = CLinInfo;

/***/ }),

/***/ "./service/theme/CMultiClassTheme.js":
/*!*******************************************!*\
  !*** ./service/theme/CMultiClassTheme.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.CMultiClassTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

var _CThemeInfo = __webpack_require__(/*! ./CThemeInfo */ "./service/theme/CThemeInfo.js");

var _ExpInfo = __webpack_require__(/*! ./ExpInfo */ "./service/theme/ExpInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 分段专题图（多字段）
/// </summary>
var CMultiClassTheme = function (_CTheme) {
        (0, _inherits3.default)(CMultiClassTheme, _CTheme);

        function CMultiClassTheme(opt_options) {
                (0, _classCallCheck3.default)(this, CMultiClassTheme);

                var options = opt_options ? opt_options : {};

                /// <summary>
                /// 缺省专题绘制信息{Zondy.Object.Theme.CThemeInfo}
                /// </summary>
                var _this = (0, _possibleConstructorReturn3.default)(this, (CMultiClassTheme.__proto__ || (0, _getPrototypeOf2.default)(CMultiClassTheme)).call(this, options));

                _this.DefaultInfo = options.DefaultInfo !== undefined ? options.DefaultInfo : null;

                /// <summary>
                /// 分段信息{Zondy.Object.Theme.ExpInfo[]}
                /// </summary>
                _this.ExpInfoArr = options.ExpInfoArr !== undefined ? options.ExpInfoArr : null;

                /// <summary>
                /// （笛卡尔积之后）每段专题绘制信息（如果不设置则采用默认绘制信息）{Zondy.Object.Theme.CThemeInfo[]}
                /// </summary>
                _this.MultiClassThemeInfoArr = options.MultiClassThemeInfoArr !== undefined ? options.MultiClassThemeInfoArr : null;

                /// <summary>
                /// 专题绘制的图形类型，Reg/Lin/Pnt{string}
                /// </summary>
                _this.GeoInfoType = options.GeoInfoType !== undefined ? options.GeoInfoType : null;

                /// <summary>
                /// 专题图类型{string} 只读属性
                /// </summary>
                _this.Type = "CMultiClassTheme";
                return _this;
        }

        return CMultiClassTheme;
}(_CTheme2.CTheme);

;
exports.CMultiClassTheme = CMultiClassTheme;

_Base.Zondy.Object.Theme.CMultiClassTheme = CMultiClassTheme;

/***/ }),

/***/ "./service/theme/CPntInfo.js":
/*!***********************************!*\
  !*** ./service/theme/CPntInfo.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CPntInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

/// <summary>
/// 点图形参数对象
/// </summary>
var CPntInfo = function CPntInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>
    /// 库ID{int}
    /// </summary>
    this.LibID = options.LibID !== undefined ? options.LibID : 0;

    /// <summary>
    /// 覆盖方式,true/false 覆盖/透明{bool}
    /// </summary>
    this.Ovprnt = options.Ovprnt !== undefined ? options.Ovprnt : false;

    /// <summary>
    /// 角度{float}
    /// </summary>
    this.Angle = options.Angle !== undefined ? options.Angle : 0;

    /// <summary>
    /// 背景颜色{int}
    /// </summary>
    this.BackClr = options.BackClr !== undefined ? options.BackClr : 0;

    /// <summary>
    /// 范围扩展{float}
    /// </summary>
    this.BackExp = options.BackExp !== undefined ? options.BackExp : 0;

    /// <summary>
    /// 自动压背景颜色标志{int}
    /// </summary>
    this.FillFlg = options.FillFlg !== undefined ? options.FillFlg : 0;

    /// <summary>
    /// 高度{float}
    /// </summary>
    this.Height = options.Height !== undefined ? options.Height : 0;

    /// <summary>
    /// 宽度{float}
    /// </summary>
    this.Width = options.Width !== undefined ? options.Width : 0;

    /// <summary>
    /// 可变颜色,数组长度为3{int[]}
    /// </summary>
    this.OutClr = options.OutClr !== undefined ? options.OutClr : [0, 0, 0];

    /// <summary>
    /// 符号编号{int}
    /// </summary>
    this.SymID = options.SymID !== undefined ? options.SymID : 0;

    /// <summary>
    /// 外部笔宽,数组长度为3{float[]}
    /// </summary>
    this.OutPenW = options.OutPenW !== undefined ? options.OutPenW : [0.05, 0.05, 0.05];
};
exports.CPntInfo = CPntInfo;

_Base.Zondy.Object.Theme.CPntInfo = CPntInfo;

/***/ }),

/***/ "./service/theme/CRandomTheme.js":
/*!***************************************!*\
  !*** ./service/theme/CRandomTheme.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CRandomTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 随机专题图
/// </summary>
var CRandomTheme = function (_CTheme) {
    (0, _inherits3.default)(CRandomTheme, _CTheme);

    function CRandomTheme(opt_options) {
        (0, _classCallCheck3.default)(this, CRandomTheme);

        var options = opt_options ? opt_options : {};

        /// <summary>
        /// 专题图类型{string} 只读属性
        /// </summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (CRandomTheme.__proto__ || (0, _getPrototypeOf2.default)(CRandomTheme)).call(this, options));

        _this.Type = "CRandomTheme";
        return _this;
    }

    return CRandomTheme;
}(_CTheme2.CTheme);

;
exports.CRandomTheme = CRandomTheme;

_Base.Zondy.Object.Theme.CRandomTheme = CRandomTheme;

/***/ }),

/***/ "./service/theme/CRangeTheme.js":
/*!**************************************!*\
  !*** ./service/theme/CRangeTheme.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.CRangeTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

var _CAllOtherDataItemInfoSource = __webpack_require__(/*! ./CAllOtherDataItemInfoSource */ "./service/theme/CAllOtherDataItemInfoSource.js");

var _CThemeInfo = __webpack_require__(/*! ./CThemeInfo */ "./service/theme/CThemeInfo.js");

var _CRangeThemeInfo = __webpack_require__(/*! ./CRangeThemeInfo */ "./service/theme/CRangeThemeInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 分段专题图（单字段分段）
/// </summary>
var CRangeTheme = function (_CTheme) {
        (0, _inherits3.default)(CRangeTheme, _CTheme);

        function CRangeTheme(opt_options) {
                (0, _classCallCheck3.default)(this, CRangeTheme);

                var options = opt_options ? opt_options : {};

                /// <summary>
                /// 未参与分类数据图形参数{Zondy.Object.Theme.CAllOtherDataItemInfoSource}
                /// 默认值为缺省的专题图形信息
                /// </summary>
                var _this = (0, _possibleConstructorReturn3.default)(this, (CRangeTheme.__proto__ || (0, _getPrototypeOf2.default)(CRangeTheme)).call(this, options));

                _this.AllOtherDataItemInfoSource = options.AllOtherDataItemInfoSource !== undefined ? options.AllOtherDataItemInfoSource : _CAllOtherDataItemInfoSource.CAllOtherDataItemInfoSource.DefaultThemeInfo;

                /// <summary>
                /// 唯一字段表达式
                /// </summary>
                _this.Expression = options.Expression !== undefined ? options.Expression : "";

                /// <summary>
                /// 缺省专题绘制信息{Zondy.Object.Theme.CThemeInfo}
                /// </summary>
                _this.DefaultInfo = options.DefaultInfo !== undefined ? options.DefaultInfo : null;

                /// <summary>
                /// 范围专题图项信息数组{Zondy.Object.Theme.CRangeThemeInfo[]}
                /// </summary>
                _this.RangeThemeInfoArr = options.RangeThemeInfoArr !== undefined ? options.RangeThemeInfoArr : null;

                /// <summary>
                /// 专题绘制的图形类型，Reg/Lin/Pnt{string}
                /// </summary>
                _this.GeoInfoType = options.GeoInfoType !== undefined ? options.GeoInfoType : null;

                /// <summary>
                /// 专题图类型{string} 只读属性
                /// </summary>
                _this.Type = "CRangeTheme";
                return _this;
        }

        return CRangeTheme;
}(_CTheme2.CTheme);

;
exports.CRangeTheme = CRangeTheme;

_Base.Zondy.Object.Theme.CRangeTheme = CRangeTheme;

/***/ }),

/***/ "./service/theme/CRangeThemeInfo.js":
/*!******************************************!*\
  !*** ./service/theme/CRangeThemeInfo.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CRangeThemeInfo = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CThemeInfo2 = __webpack_require__(/*! ./CThemeInfo */ "./service/theme/CThemeInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 分段专题图（单字段）信息
/// </summary>
var CRangeThemeInfo = function (_CThemeInfo) {
    (0, _inherits3.default)(CRangeThemeInfo, _CThemeInfo);

    /// <summary>分段专题图信息对象构造函数</summary>
    /// <param name="startValue" type="String">开始值</param>
    /// <param name="endValue" type="String">结束值</param>
    /// <param name="opt_options" type="Object">属性键值对</param>
    function CRangeThemeInfo(startValue, endValue, opt_options) {
        (0, _classCallCheck3.default)(this, CRangeThemeInfo);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (CRangeThemeInfo.__proto__ || (0, _getPrototypeOf2.default)(CRangeThemeInfo)).call(this, options));

        _this.StartValue = startValue !== undefined ? startValue : "";
        _this.EndValue = endValue !== undefined ? endValue : "";
        return _this;
    }

    return CRangeThemeInfo;
}(_CThemeInfo2.CThemeInfo);

;
exports.CRangeThemeInfo = CRangeThemeInfo;

_Base.Zondy.Object.Theme.CRangeThemeInfo = CRangeThemeInfo;

/***/ }),

/***/ "./service/theme/CRegInfo.js":
/*!***********************************!*\
  !*** ./service/theme/CRegInfo.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CRegInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

/// <summary>
/// 区图形参数对象
/// </summary>
var CRegInfo = function CRegInfo(opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    /// <summary>
    /// 库ID{int}
    /// </summary>
    this.LibID = options.LibID !== undefined ? options.LibID : 0;

    /// <summary>
    /// 覆盖方式,true/false 覆盖/透明{bool}
    /// </summary>
    this.Ovprnt = options.Ovprnt !== undefined ? options.Ovprnt : false;

    /// <summary>
    /// 图案角度{float}
    /// </summary>
    this.Angle = options.Angle !== undefined ? options.Angle : 0.0;

    /// <summary>
    /// 结束填充色{int}
    /// </summary>
    this.EndClr = options.EndClr !== undefined ? options.EndClr : 0;

    /// <summary>
    /// 区域填充色{int}
    /// </summary>
    this.FillClr = options.FillClr !== undefined ? options.FillClr : 46;

    /// <summary>
    /// 填充模式{int}
    /// </summary>
    this.FillMode = options.FillMode !== undefined ? options.FillMode : 0;

    /// <summary>
    /// 是否需要完整图案填充{bool}
    /// </summary>
    this.FullPatFlg = options.FullPatFlg !== undefined ? options.FullPatFlg : true;

    /// <summary>
    /// 图案颜色{int}
    /// </summary>
    this.PatClr = options.PatClr !== undefined ? options.PatClr : 3;

    /// <summary>
    /// 图案高{int}
    /// </summary>
    this.PatHeight = options.PatHeight !== undefined ? options.PatHeight : 5;

    /// <summary>
    /// 图案编号{int}
    /// </summary>
    this.PatID = options.PatID !== undefined ? options.PatID : 0;

    /// <summary>
    /// 图案宽{float}
    /// </summary>
    this.PatWidth = options.PatWidth !== undefined ? options.PatWidth : 5;

    /// <summary>
    /// 图案笔宽{float}
    /// </summary>
    this.OutPenW = options.OutPenW !== undefined ? options.OutPenW : 1.0;
};
exports.CRegInfo = CRegInfo;

_Base.Zondy.Object.Theme.CRegInfo = CRegInfo;

/***/ }),

/***/ "./service/theme/CSimpleTheme.js":
/*!***************************************!*\
  !*** ./service/theme/CSimpleTheme.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CSimpleTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

var _CThemeInfo = __webpack_require__(/*! ./CThemeInfo */ "./service/theme/CThemeInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 统一配置专题图
/// </summary>
var CSimpleTheme = function (_CTheme) {
    (0, _inherits3.default)(CSimpleTheme, _CTheme);

    function CSimpleTheme(opt_options) {
        (0, _classCallCheck3.default)(this, CSimpleTheme);

        var options = opt_options ? opt_options : {};

        /// <summary>
        /// 缺省专题绘制信息{Zondy.Object.Theme.CThemeInfo}
        /// </summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (CSimpleTheme.__proto__ || (0, _getPrototypeOf2.default)(CSimpleTheme)).call(this, options));

        _this.ThemeInfo = options.ThemeInfo !== undefined ? options.ThemeInfo : new _CThemeInfo.CThemeInfo();

        /// <summary>
        /// 专题图类型{string} 只读属性
        /// </summary>
        _this.Type = "CSimpleTheme";
        return _this;
    }

    return CSimpleTheme;
}(_CTheme2.CTheme);

;
exports.CSimpleTheme = CSimpleTheme;

_Base.Zondy.Object.Theme.CSimpleTheme = CSimpleTheme;

/***/ }),

/***/ "./service/theme/CTheme.js":
/*!*********************************!*\
  !*** ./service/theme/CTheme.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.CTheme = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 专题图对象（基类）
/// </summary>
var CTheme = function CTheme(opt_options) {
        (0, _classCallCheck3.default)(this, CTheme);

        var options = opt_options !== undefined ? opt_options : {};
        (0, _Util.extend)(this, options);

        /// <summary>
        /// 专题图名称{string}
        /// </summary>
        this.Name = options && options.Name ? options.Name : null;

        /// <summary>
        /// 是否为单值专题图{bool}
        /// </summary>
        this.IsBaseTheme = options && options.IsBaseTheme ? options.IsBaseTheme : true;

        /// <summary>
        /// 专题图是否可见{bool}
        /// </summary>
        this.Visible = options && options.Visible ? options.Visible : true;
};

;
exports.CTheme = CTheme;

_Base.Zondy.Object.Theme.CTheme = CTheme;

/***/ }),

/***/ "./service/theme/CThemeInfo.js":
/*!*************************************!*\
  !*** ./service/theme/CThemeInfo.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.CThemeInfo = undefined;

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _CPntInfo = __webpack_require__(/*! ./CPntInfo */ "./service/theme/CPntInfo.js");

var _CLinInfo = __webpack_require__(/*! ./CLinInfo */ "./service/theme/CLinInfo.js");

var _CRegInfo = __webpack_require__(/*! ./CRegInfo */ "./service/theme/CRegInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 专题图信息(基类)
/// </summary>
var CThemeInfo = function CThemeInfo(opt_options) {
        (0, _classCallCheck3.default)(this, CThemeInfo);

        var options = opt_options !== undefined ? opt_options : {};
        (0, _Util.extend)(this, options);

        /// <summary>
        /// 名称{string}
        /// </summary>
        this.Caption = options.Caption !== undefined ? options.Caption : null;

        /// <summary>
        /// 可见标志{bool}
        /// </summary>
        this.IsVisible = options.IsVisible !== undefined ? options.IsVisible : true;

        /// <summary>
        /// 最大显示比{Float}
        /// </summary>
        this.MaxScale = options.MaxScale !== undefined ? parseFloat(options.MaxScale) : 0;

        /// <summary>
        /// 最小显示比{Float}
        /// </summary>
        this.MinScale = options.MinScale !== undefined ? parseFloat(options.MinScale) : 0;

        /// <summary>
        /// 区信息{Zondy.Object.Theme.CRegInfo}
        /// </summary>
        this.RegInfo = options.RegInfo !== undefined ? options.RegInfo : null;

        /// <summary>
        /// 线信息{Zondy.Object.Theme.CLinInfo}
        /// </summary>
        this.LinInfo = options.LinInfo !== undefined ? options.LinInfo : null;

        /// <summary>
        /// 点信息{Zondy.Object.Theme.CPntInfo}
        /// </summary>
        this.PntInfo = options.PntInfo !== undefined ? options.PntInfo : null;
};

;
exports.CThemeInfo = CThemeInfo;

_Base.Zondy.Object.Theme.CThemeInfo = CThemeInfo;

/***/ }),

/***/ "./service/theme/CUniqueTheme.js":
/*!***************************************!*\
  !*** ./service/theme/CUniqueTheme.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
        value: true
});
exports.CUniqueTheme = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme2 = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

var _CThemeInfo = __webpack_require__(/*! ./CThemeInfo */ "./service/theme/CThemeInfo.js");

var _CUniqueThemeInfo = __webpack_require__(/*! ./CUniqueThemeInfo */ "./service/theme/CUniqueThemeInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/// <summary>
/// 单值专题图
/// </summary>
var CUniqueTheme = function (_CTheme) {
        (0, _inherits3.default)(CUniqueTheme, _CTheme);

        function CUniqueTheme(opt_options) {
                (0, _classCallCheck3.default)(this, CUniqueTheme);

                var options = opt_options ? opt_options : {};

                /// <summary>
                /// 缺省专题绘制信息{Zondy.Object.Theme.CThemeInfo}
                /// </summary>
                var _this = (0, _possibleConstructorReturn3.default)(this, (CUniqueTheme.__proto__ || (0, _getPrototypeOf2.default)(CUniqueTheme)).call(this, options));

                _this.DefaultInfo = options.DefaultInfo !== undefined ? options.DefaultInfo : null;

                /// <summary>
                /// 唯一字段表达式 类型{string}
                /// </summary>
                _this.Expression = options.Expression !== undefined ? options.Expression : "";

                /// <summary>
                /// 专题绘制信息（如果不设置则采用默认绘制信息）{Zondy.Object.Theme.CUniqueThemeInfo[]} 
                /// </summary>
                _this.UniqueThemeInfoArr = options.UniqueThemeInfoArr !== undefined ? options.UniqueThemeInfoArr : null;

                /// <summary>
                /// 专题绘制的图形类型，Reg/Lin/Pnt{string}
                /// </summary>
                _this.GeoInfoType = options.GeoInfoType !== undefined ? options.GeoInfoType : null;

                /// <summary>
                /// 专题图类型{string} 只读属性
                /// </summary>
                _this.Type = "CUniqueTheme";
                return _this;
        }

        return CUniqueTheme;
}(_CTheme2.CTheme);

;
exports.CUniqueTheme = CUniqueTheme;

_Base.Zondy.Object.Theme.CUniqueTheme = CUniqueTheme;

/***/ }),

/***/ "./service/theme/CUniqueThemeInfo.js":
/*!*******************************************!*\
  !*** ./service/theme/CUniqueThemeInfo.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.CUniqueThemeInfo = undefined;

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CThemeInfo2 = __webpack_require__(/*! ./CThemeInfo */ "./service/theme/CThemeInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// <summary>
/// 单值专题图信息
/// </summary>
var CUniqueThemeInfo = function (_CThemeInfo) {
    (0, _inherits3.default)(CUniqueThemeInfo, _CThemeInfo);

    function CUniqueThemeInfo(value, opt_options) {
        (0, _classCallCheck3.default)(this, CUniqueThemeInfo);

        var options = opt_options ? opt_options : {};

        var _this = (0, _possibleConstructorReturn3.default)(this, (CUniqueThemeInfo.__proto__ || (0, _getPrototypeOf2.default)(CUniqueThemeInfo)).call(this, options));

        _this.Value = value !== undefined ? value : "";
        return _this;
    }

    return CUniqueThemeInfo;
}(_CThemeInfo2.CThemeInfo);

;
exports.CUniqueThemeInfo = CUniqueThemeInfo;

_Base.Zondy.Object.Theme.CUniqueThemeInfo = CUniqueThemeInfo;

/***/ }),

/***/ "./service/theme/ExpInfo.js":
/*!**********************************!*\
  !*** ./service/theme/ExpInfo.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ExpInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

/// <summary>分段专题图表达式信息对象构造函数</summary>
/// <param name="expression" type="String">分级字段表达式</param>
/// <param name="itemValueArr" type="Zondy.Object.Theme.ItemValue in an Arry">分段专题图分段值</param>
/// <param name="opt_options" type="Object">属性键值对</param>
var ExpInfo = function ExpInfo(expression, itemValueArr, opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);
    this.Expression = expression !== undefined ? expression : "";
    this.ItemValueArr = itemValueArr !== undefined ? itemValueArr : null;
};
exports.ExpInfo = ExpInfo;

_Base.Zondy.Object.Theme.ExpInfo = ExpInfo;

/***/ }),

/***/ "./service/theme/FolderInfo.js":
/*!*************************************!*\
  !*** ./service/theme/FolderInfo.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FolderInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _FolderInfoAttribute = __webpack_require__(/*! ./FolderInfoAttribute */ "./service/theme/FolderInfoAttribute.js");

//n:{string}
//att:{FolderInfoAttribute}
var FolderInfo = function FolderInfo(n, att) {
    this.name = n !== undefined ? n : null;
    this.attribute = att !== undefined ? att : null;
};
exports.FolderInfo = FolderInfo;

_Base.Zondy.Object.Theme.FolderInfo = FolderInfo;

/***/ }),

/***/ "./service/theme/FolderInfoAttribute.js":
/*!**********************************************!*\
  !*** ./service/theme/FolderInfoAttribute.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FolderInfoAttribute = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

//n:{string}
//v:{string}
var FolderInfoAttribute = function FolderInfoAttribute(n, v) {
    this.name = n !== undefined ? n : null;
    this.Value = v !== undefined ? v : null;
};
exports.FolderInfoAttribute = FolderInfoAttribute;

_Base.Zondy.Object.Theme.FolderInfoAttribute = FolderInfoAttribute;

/***/ }),

/***/ "./service/theme/ItemValue.js":
/*!************************************!*\
  !*** ./service/theme/ItemValue.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ItemValue = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _EnumComm = __webpack_require__(/*! ../common/EnumComm */ "./service/common/EnumComm.js");

/// <summary>分段专题图分段值对象构造函数</summary>
/// <param name="startValue" type="String">开始值</param>
/// <param name="endValue" type="String">结束值</param>
/// <param name="classItemType" type="Zondy.Enum.Theme.CItemType">统计分段类型</param>
/// <param name="opt_options" type="Object">属性键值对</param>
var ItemValue = function ItemValue(startValue, endValue, classItemType, opt_options) {
    var options = opt_options !== undefined ? opt_options : {};
    (0, _Util.extend)(this, options);

    this.StartValue = startValue !== undefined ? startValue : "";
    this.EndValue = endValue !== undefined ? endValue : "";
    this.ClassItemType = classItemType !== undefined ? classItemType : _EnumComm.CItemType.RangeTheme;
};
exports.ItemValue = ItemValue;

_Base.Zondy.Object.Theme.ItemValue = ItemValue;

/***/ }),

/***/ "./service/theme/ThemeOper.js":
/*!************************************!*\
  !*** ./service/theme/ThemeOper.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ThemeOper = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _ServiceBase2 = __webpack_require__(/*! ../ServiceBase */ "./service/ServiceBase.js");

var _Util = __webpack_require__(/*! ../common/Util */ "./service/common/Util.js");

var _IServiceBase = __webpack_require__(/*! ../iserver/IServiceBase */ "./service/iserver/IServiceBase.js");

var _CMultiClassTheme = __webpack_require__(/*! ./CMultiClassTheme */ "./service/theme/CMultiClassTheme.js");

var _CSimpleTheme = __webpack_require__(/*! ./CSimpleTheme */ "./service/theme/CSimpleTheme.js");

var _CChartTheme = __webpack_require__(/*! ./CChartTheme */ "./service/theme/CChartTheme.js");

var _CGraduatedSymbolTheme = __webpack_require__(/*! ./CGraduatedSymbolTheme */ "./service/theme/CGraduatedSymbolTheme.js");

var _CDotDensityTheme = __webpack_require__(/*! ./CDotDensityTheme */ "./service/theme/CDotDensityTheme.js");

var _CRandomTheme = __webpack_require__(/*! ./CRandomTheme */ "./service/theme/CRandomTheme.js");

var _CFourColorTheme = __webpack_require__(/*! ./CFourColorTheme */ "./service/theme/CFourColorTheme.js");

var _CUniqueTheme = __webpack_require__(/*! ./CUniqueTheme */ "./service/theme/CUniqueTheme.js");

var _CRangeTheme = __webpack_require__(/*! ./CRangeTheme */ "./service/theme/CRangeTheme.js");

var _FolderInfoAttribute = __webpack_require__(/*! ./FolderInfoAttribute */ "./service/theme/FolderInfoAttribute.js");

var _FolderInfo = __webpack_require__(/*! ./FolderInfo */ "./service/theme/FolderInfo.js");

var _ThemesInfo = __webpack_require__(/*! ./ThemesInfo */ "./service/theme/ThemesInfo.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ThemeOper = function (_ServiceBase) {
    (0, _inherits3.default)(ThemeOper, _ServiceBase);

    function ThemeOper(opt_guid, options) {
        (0, _classCallCheck3.default)(this, ThemeOper);

        var options = options || {};
        options.baseUrl = "igs/rest/theme";

        /// <summary>客户端标识，用以服务器缓存地图{String}</summary>
        var _this = (0, _possibleConstructorReturn3.default)(this, (ThemeOper.__proto__ || (0, _getPrototypeOf2.default)(ThemeOper)).call(this, options));

        if (opt_guid != null) {
            _this.guid = opt_guid;
        } else {
            _this.guid = (0, _Util.newGuid)();
        }
        _this.p_onSuccess = options.p_onSuccess !== undefined ? options.p_onSuccess : null;
        return _this;
    }
    //json还需解析（2018/01/31）


    (0, _createClass3.default)(ThemeOper, [{
        key: "onGetThemesInfoSuccess",
        value: function onGetThemesInfoSuccess(jsonObj) {
            var folderInfo = new _FolderInfo.FolderInfo();
            (0, _Util.extendDeep)(folderInfo, jsonObj.result);
            if (folderInfo != null && folderInfo.attribute != null && folderInfo.attribute.length > 0) {
                var themesInfoArr = []; //new ThemesInfo[folderInfo.attribute.Length];
                var attArr = null;
                for (var i = 0; i < folderInfo.attribute.length; i++) {
                    themesInfoArr[i] = new _ThemesInfo.ThemesInfo();
                    if (folderInfo.attribute[i] != null) {
                        themesInfoArr[i].LayerName = folderInfo.attribute[i].name;
                        attArr = JSON.parse(folderInfo.attribute[i].value); //[];
                        if (attArr != null && attArr.length > 0) {
                            themesInfoArr[i].ThemeArr = []; //new ThemeBase[attArr.Length];
                            for (var j = 0; j < attArr.length; j++) {
                                switch (attArr[j].name) {
                                    case "CMultiClassTheme":
                                        //多表达式（多分段）专题图
                                        themesInfoArr[i].ThemeArr[j] = new _CMultiClassTheme.CMultiClassTheme();
                                        break;
                                    case "CSimpleTheme":
                                        //简单专题图
                                        themesInfoArr[i].ThemeArr[j] = new _CSimpleTheme.CSimpleTheme();
                                        break;
                                    case "CChartTheme":
                                        //统计专题图
                                        themesInfoArr[i].ThemeArr[j] = new _CChartTheme.CChartTheme();
                                        break;
                                    case "CGraduatedSymbolTheme":
                                        //等级符号专题图
                                        themesInfoArr[i].ThemeArr[j] = new _CGraduatedSymbolTheme.CGraduatedSymbolTheme();
                                        break;
                                    case "CDotDensityTheme":
                                        ////点密度专题图
                                        themesInfoArr[i].ThemeArr[j] = new _CDotDensityTheme.CDotDensityTheme();
                                        break;
                                    case "CRandomTheme":
                                        //随机专题图
                                        themesInfoArr[i].ThemeArr[j] = new _CRandomTheme.CRandomTheme();
                                        break;
                                    case "CFourColorTheme":
                                        //四色专题图
                                        themesInfoArr[i].ThemeArr[j] = new _CFourColorTheme.CFourColorTheme();
                                        break;
                                    case "CUniqueTheme":
                                        //唯一值专题图
                                        themesInfoArr[i].ThemeArr[j] = new _CUniqueTheme.CUniqueTheme();
                                        break;
                                    case "CRangeTheme":
                                        //范围专题图（分段专题图）
                                        themesInfoArr[i].ThemeArr[j] = new _CRangeTheme.CRangeTheme();
                                        break;
                                }
                                (0, _Util.extendDeep)(themesInfoArr[i].ThemeArr[j], JSON.parse(attArr[j].value));
                            }
                        }
                    }
                }

                if (this.p_onSuccess != null && typeof this.p_onSuccess == 'function') {
                    this.p_onSuccess(themesInfoArr);
                }
            }
        }
        /*
        * 获取专题图信息
        * mapDocName ：地图文档名称
        * idxArr：专题图索引数组(索引从0开始,例如："0,1,2")
        * onSuccess(themesInfoArr) : 获取成功回调方法
        */

    }, {
        key: "getThemesInfo",
        value: function getThemesInfo(mapDocName, idxArr, onSuccess, onError) {
            var me = this;
            me.p_onSuccess = onSuccess;

            var rand = Math.random();
            me.partUrl = mapDocName + "/get?idxArr=" + idxArr + "&r=" + rand + "&guid=" + me.guid;
            var url = me.getFullUrl();

            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: me.onGetThemesInfoSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /*
        * 删除专题图信息
        * mapDocName ：地图文档名称
        * idxArr：专题图索引数组(索引从0开始,例如："0,1,2/0,0,0"):图层索引/专题图索引
        * onSuccess(themesInfoArr) : 获取成功回调方法
        */

    }, {
        key: "removeThemesInfo",
        value: function removeThemesInfo(mapDocName, idxArr, onSuccess, onError) {
            var me = this;
            var rand = Math.random();
            me.partUrl = mapDocName + "/remove?idxArr=" + idxArr + "&r=" + rand + "&guid=" + me.guid;
            var url = me.getFullUrl();
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync();
        }
        /*
        * 更新专题图信息
        * mapDocName ：地图文档名称
        * idxArr：专题图索引数组(索引从0开始,例如："0,1,2/0,0,0"):图层索引/专题图索引
        * themesInfoArr: 更新的数据(ThemesInfo[])
        * onSuccess(themesInfoArr) : 获取成功回调方法
        */

    }, {
        key: "updateThemesInfo",
        value: function updateThemesInfo(mapDocName, idxArr, themesInfoArr, onSuccess, onError) {
            var me = this;
            var rand = Math.random();
            me.partUrl = mapDocName + "/update?idxArr=" + idxArr + "&guid=" + this.guid;
            var url = me.getFullUrl();
            var folderInfo = new _FolderInfo.FolderInfo();
            if (themesInfoArr != null && themesInfoArr.length > 0) {
                folderInfo.name = "ThemeInfo";
                folderInfo.attribute = []; //new FolderInfoAttribute[themesInfoArr.Length];
                for (var i = 0; i < themesInfoArr.length; i++) {
                    folderInfo.attribute[i] = new _FolderInfoAttribute.FolderInfoAttribute();
                    folderInfo.attribute[i].name = themesInfoArr[i].LayerName;
                    if (themesInfoArr[i].ThemeArr != null && themesInfoArr[i].ThemeArr.length > 0) {
                        var res = []; //new FolderInfoAttribute[themesInfoArr[i].ThemeArr.Length];
                        for (var j = 0; j < themesInfoArr[i].ThemeArr.length; j++) {
                            if (themesInfoArr[i].ThemeArr[j] != null) res[j] = new _FolderInfoAttribute.FolderInfoAttribute(themesInfoArr[i].ThemeArr[j].Type, (0, _stringify2.default)(themesInfoArr[i].ThemeArr[j]));
                        }
                        folderInfo.attribute[i].value = (0, _stringify2.default)(res);
                    }
                }
            }
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(folderInfo), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
    }, {
        key: "addThemesInfo",
        value: function addThemesInfo(mapDocName, idxArr, themesInfoArr, onSuccess, onError) {
            var me = this;
            var rand = Math.random();
            me.partUrl = mapDocName + "/add?idxArr=" + idxArr + "&guid=" + this.guid;
            var url = me.getFullUrl();
            var folderInfo = new _FolderInfo.FolderInfo();
            if (themesInfoArr != null && themesInfoArr.length > 0) {
                folderInfo.name = "ThemeInfo";
                folderInfo.attribute = []; //new FolderInfoAttribute[themesInfoArr.Length];
                for (var i = 0; i < themesInfoArr.length; i++) {
                    folderInfo.attribute[i] = new _FolderInfoAttribute.FolderInfoAttribute();
                    folderInfo.attribute[i].name = themesInfoArr[i].LayerName;
                    if (themesInfoArr[i].ThemeArr != null && themesInfoArr[i].ThemeArr.length > 0) {
                        var res = []; //new FolderInfoAttribute[themesInfoArr[i].ThemeArr.Length];
                        for (var j = 0; j < themesInfoArr[i].ThemeArr.length; j++) {
                            if (themesInfoArr[i].ThemeArr[j] != null) res[j] = new _FolderInfoAttribute.FolderInfoAttribute(themesInfoArr[i].ThemeArr[j].Type, (0, _stringify2.default)(themesInfoArr[i].ThemeArr[j]));
                        }
                        folderInfo.attribute[i].value = (0, _stringify2.default)(res);
                    }
                }
            }
            var service = new _IServiceBase.IgsServiceBase(url, {
                eventListeners: {
                    scope: me,
                    processCompleted: onSuccess,
                    processFailed: onError
                }
            });
            service.processAsync({ method: 'POST', data: (0, _stringify2.default)(folderInfo), headers: { 'Content-Type': 'text/plain;charset=UTF-8' } });
        }
    }]);
    return ThemeOper;
}(_ServiceBase2.ServiceBase); /**
                              * 专题图服务
                              */


;

exports.ThemeOper = ThemeOper;

_Base.Zondy.Service.ThemeOper = ThemeOper;

/***/ }),

/***/ "./service/theme/ThemesInfo.js":
/*!*************************************!*\
  !*** ./service/theme/ThemesInfo.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ThemesInfo = undefined;

var _Base = __webpack_require__(/*! ../common/Base */ "./service/common/Base.js");

var _CTheme = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

/// <summary>专题图结构信息对象构造函数</summary>
/// <param name="layerIndexArr" type="Int in an Arry">图层索引数组</param>
/// <param name="themeArr" type="Zondy.Object.Theme.CTheme In an Arry">专题图数组</param>
var ThemesInfo = function ThemesInfo(LayerName, themeArr) {
    this.LayerName = LayerName !== undefined ? LayerName : null;
    this.ThemeArr = themeArr !== undefined ? themeArr : null;
};
exports.ThemesInfo = ThemesInfo;

_Base.Zondy.Object.Theme.ThemesInfo = ThemesInfo;

/***/ }),

/***/ "./service/theme/index.js":
/*!********************************!*\
  !*** ./service/theme/index.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ThemesInfo = exports.ThemeOper = exports.ItemValue = exports.FolderInfoAttribute = exports.FolderInfo = exports.ExpInfo = exports.CUniqueThemeInfo = exports.CUniqueTheme = exports.CThemeInfo = exports.CTheme = exports.CSimpleTheme = exports.CRegInfo = exports.CRangeThemeInfo = exports.CRangeTheme = exports.CRandomTheme = exports.CPntInfo = exports.CMultiClassTheme = exports.CLinInfo = exports.CGraduatedSymbolTheme = exports.CFourColorTheme = exports.CDotDensityTheme = exports.CChartType = exports.CChartThemeRepresentInfo = exports.CChartThemeInfo = exports.CChartTheme = exports.CChartLabelFormat = exports.CAnnInfo = exports.CAllOtherDataItemInfoSource = undefined;

var _CAllOtherDataItemInfoSource = __webpack_require__(/*! ./CAllOtherDataItemInfoSource */ "./service/theme/CAllOtherDataItemInfoSource.js");

var _CAnnInfo = __webpack_require__(/*! ./CAnnInfo */ "./service/theme/CAnnInfo.js");

var _CChartLabelFormat = __webpack_require__(/*! ./CChartLabelFormat */ "./service/theme/CChartLabelFormat.js");

var _CChartTheme = __webpack_require__(/*! ./CChartTheme */ "./service/theme/CChartTheme.js");

var _CChartThemeInfo = __webpack_require__(/*! ./CChartThemeInfo */ "./service/theme/CChartThemeInfo.js");

var _CChartThemeRepresentInfo = __webpack_require__(/*! ./CChartThemeRepresentInfo */ "./service/theme/CChartThemeRepresentInfo.js");

var _CChartType = __webpack_require__(/*! ./CChartType */ "./service/theme/CChartType.js");

var _CDotDensityTheme = __webpack_require__(/*! ./CDotDensityTheme */ "./service/theme/CDotDensityTheme.js");

var _CFourColorTheme = __webpack_require__(/*! ./CFourColorTheme */ "./service/theme/CFourColorTheme.js");

var _CGraduatedSymbolTheme = __webpack_require__(/*! ./CGraduatedSymbolTheme */ "./service/theme/CGraduatedSymbolTheme.js");

var _CLinInfo = __webpack_require__(/*! ./CLinInfo */ "./service/theme/CLinInfo.js");

var _CMultiClassTheme = __webpack_require__(/*! ./CMultiClassTheme */ "./service/theme/CMultiClassTheme.js");

var _CPntInfo = __webpack_require__(/*! ./CPntInfo */ "./service/theme/CPntInfo.js");

var _CRandomTheme = __webpack_require__(/*! ./CRandomTheme */ "./service/theme/CRandomTheme.js");

var _CRangeTheme = __webpack_require__(/*! ./CRangeTheme */ "./service/theme/CRangeTheme.js");

var _CRangeThemeInfo = __webpack_require__(/*! ./CRangeThemeInfo */ "./service/theme/CRangeThemeInfo.js");

var _CRegInfo = __webpack_require__(/*! ./CRegInfo */ "./service/theme/CRegInfo.js");

var _CSimpleTheme = __webpack_require__(/*! ./CSimpleTheme */ "./service/theme/CSimpleTheme.js");

var _CTheme = __webpack_require__(/*! ./CTheme */ "./service/theme/CTheme.js");

var _CThemeInfo = __webpack_require__(/*! ./CThemeInfo */ "./service/theme/CThemeInfo.js");

var _CUniqueTheme = __webpack_require__(/*! ./CUniqueTheme */ "./service/theme/CUniqueTheme.js");

var _CUniqueThemeInfo = __webpack_require__(/*! ./CUniqueThemeInfo */ "./service/theme/CUniqueThemeInfo.js");

var _ExpInfo = __webpack_require__(/*! ./ExpInfo */ "./service/theme/ExpInfo.js");

var _FolderInfo = __webpack_require__(/*! ./FolderInfo */ "./service/theme/FolderInfo.js");

var _FolderInfoAttribute = __webpack_require__(/*! ./FolderInfoAttribute */ "./service/theme/FolderInfoAttribute.js");

var _ItemValue = __webpack_require__(/*! ./ItemValue */ "./service/theme/ItemValue.js");

var _ThemeOper = __webpack_require__(/*! ./ThemeOper */ "./service/theme/ThemeOper.js");

var _ThemesInfo = __webpack_require__(/*! ./ThemesInfo */ "./service/theme/ThemesInfo.js");

exports.CAllOtherDataItemInfoSource = _CAllOtherDataItemInfoSource.CAllOtherDataItemInfoSource;
exports.CAnnInfo = _CAnnInfo.CAnnInfo;
exports.CChartLabelFormat = _CChartLabelFormat.CChartLabelFormat;
exports.CChartTheme = _CChartTheme.CChartTheme;
exports.CChartThemeInfo = _CChartThemeInfo.CChartThemeInfo;
exports.CChartThemeRepresentInfo = _CChartThemeRepresentInfo.CChartThemeRepresentInfo;
exports.CChartType = _CChartType.CChartType;
exports.CDotDensityTheme = _CDotDensityTheme.CDotDensityTheme;
exports.CFourColorTheme = _CFourColorTheme.CFourColorTheme;
exports.CGraduatedSymbolTheme = _CGraduatedSymbolTheme.CGraduatedSymbolTheme;
exports.CLinInfo = _CLinInfo.CLinInfo;
exports.CMultiClassTheme = _CMultiClassTheme.CMultiClassTheme;
exports.CPntInfo = _CPntInfo.CPntInfo;
exports.CRandomTheme = _CRandomTheme.CRandomTheme;
exports.CRangeTheme = _CRangeTheme.CRangeTheme;
exports.CRangeThemeInfo = _CRangeThemeInfo.CRangeThemeInfo;
exports.CRegInfo = _CRegInfo.CRegInfo;
exports.CSimpleTheme = _CSimpleTheme.CSimpleTheme;
exports.CTheme = _CTheme.CTheme;
exports.CThemeInfo = _CThemeInfo.CThemeInfo;
exports.CUniqueTheme = _CUniqueTheme.CUniqueTheme;
exports.CUniqueThemeInfo = _CUniqueThemeInfo.CUniqueThemeInfo;
exports.ExpInfo = _ExpInfo.ExpInfo;
exports.FolderInfo = _FolderInfo.FolderInfo;
exports.FolderInfoAttribute = _FolderInfoAttribute.FolderInfoAttribute;
exports.ItemValue = _ItemValue.ItemValue;
exports.ThemeOper = _ThemeOper.ThemeOper;
exports.ThemesInfo = _ThemesInfo.ThemesInfo;

/***/ })

/******/ });
//# sourceMappingURL=MapGis_Leaf_debug.js.map