<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>获取地图文档图片URL</title>
    <script src="../../libs/zondyclient/include-mapboxgl-local.js"></script>
    <!--引入当前页面样式表-->
    <link href="../../css/mapboxgl/style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript">
        //使用严格模式
        "use strict";
        /**获取地图文档图片URL
        */
        function GetDocImage() {
            //创建获取地图文档图片信息服务
            var DocImageService = new Zondy.Service.GetDocImageService({
                //发布的地图文档名称
                docName: 'WorldJWEdit',
                //图片宽
                picWidth: 500,
                //图片高
                picHeight: 600,
                //图片类型
                picType: 'png',
                //取图范围，依次是xmin、ymin、xmax、ymax
                bbox: '50,0,140,90',
                //IP地址
                ip: "develop.smaryun.com",
                //端口号
                port: "6163"
            });
            //获取地图文档图片url路径
            var docUrl = DocImageService.GetMapImage();
            //将JSON对象转换成JSON字符串
            var formatData = JSON.stringify(docUrl);
            //显示url结果，并设置链接供用户查看
            document.getElementById("show").innerHTML = docUrl;
            document.getElementById("show").href = docUrl;
        }
    </script>
</head>
<body>
  <div class="ToolLib" >
    <input type="button"  class="ButtonLib" value="获取地图文档图片URL" onclick='GetDocImage()' />
  </div>
  <div id="reslutShow" style=" padding: 5px; margin-top: 10px;" >
     <font style=" float: left; text-align: left">地图文档图片的URL为：</font><br />
     <a id="show" target="blank"></a>
  </div>
</body>
</html>
